var $t=Object.defineProperty;var yt=(T,k,$)=>k in T?$t(T,k,{enumerable:!0,configurable:!0,writable:!0,value:$}):T[k]=$;var ue=(T,k,$)=>(yt(T,typeof k!="symbol"?k+"":k,$),$);(function(){const k=document.createElement("link").relList;if(k&&k.supports&&k.supports("modulepreload"))return;for(const I of document.querySelectorAll('link[rel="modulepreload"]'))x(I);new MutationObserver(I=>{for(const L of I)if(L.type==="childList")for(const E of L.addedNodes)E.tagName==="LINK"&&E.rel==="modulepreload"&&x(E)}).observe(document,{childList:!0,subtree:!0});function $(I){const L={};return I.integrity&&(L.integrity=I.integrity),I.referrerPolicy&&(L.referrerPolicy=I.referrerPolicy),I.crossOrigin==="use-credentials"?L.credentials="include":I.crossOrigin==="anonymous"?L.credentials="omit":L.credentials="same-origin",L}function x(I){if(I.ep)return;I.ep=!0;const L=$(I);fetch(I.href,L)}})();function noop$1(){}function assign(T,k){for(const $ in k)T[$]=k[$];return T}function run(T){return T()}function blank_object(){return Object.create(null)}function run_all(T){T.forEach(run)}function is_function(T){return typeof T=="function"}function safe_not_equal(T,k){return T!=T?k==k:T!==k||T&&typeof T=="object"||typeof T=="function"}let src_url_equal_anchor;function src_url_equal(T,k){return T===k?!0:(src_url_equal_anchor||(src_url_equal_anchor=document.createElement("a")),src_url_equal_anchor.href=k,T===src_url_equal_anchor.href)}function is_empty(T){return Object.keys(T).length===0}function subscribe(T,...k){if(T==null){for(const x of k)x(void 0);return noop$1}const $=T.subscribe(...k);return $.unsubscribe?()=>$.unsubscribe():$}function get_store_value(T){let k;return subscribe(T,$=>k=$)(),k}function component_subscribe(T,k,$){T.$$.on_destroy.push(subscribe(k,$))}function create_slot(T,k,$,x){if(T){const I=get_slot_context(T,k,$,x);return T[0](I)}}function get_slot_context(T,k,$,x){return T[1]&&x?assign($.ctx.slice(),T[1](x(k))):$.ctx}function get_slot_changes(T,k,$,x){if(T[2]&&x){const I=T[2](x($));if(k.dirty===void 0)return I;if(typeof I=="object"){const L=[],E=Math.max(k.dirty.length,I.length);for(let D=0;D<E;D+=1)L[D]=k.dirty[D]|I[D];return L}return k.dirty|I}return k.dirty}function update_slot_base(T,k,$,x,I,L){if(I){const E=get_slot_context(k,$,x,L);T.p(E,I)}}function get_all_dirty_from_scope(T){if(T.ctx.length>32){const k=[],$=T.ctx.length/32;for(let x=0;x<$;x++)k[x]=-1;return k}return-1}function exclude_internal_props(T){const k={};for(const $ in T)$[0]!=="$"&&(k[$]=T[$]);return k}function compute_rest_props(T,k){const $={};k=new Set(k);for(const x in T)!k.has(x)&&x[0]!=="$"&&($[x]=T[x]);return $}function set_store_value(T,k,$){return T.set($),k}const is_client=typeof window<"u";let raf=is_client?T=>requestAnimationFrame(T):noop$1;const globals=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function append(T,k){T.appendChild(k)}function insert(T,k,$){T.insertBefore(k,$||null)}function detach(T){T.parentNode&&T.parentNode.removeChild(T)}function destroy_each(T,k){for(let $=0;$<T.length;$+=1)T[$]&&T[$].d(k)}function element(T){return document.createElement(T)}function svg_element(T){return document.createElementNS("http://www.w3.org/2000/svg",T)}function text(T){return document.createTextNode(T)}function space(){return text(" ")}function empty(){return text("")}function listen(T,k,$,x){return T.addEventListener(k,$,x),()=>T.removeEventListener(k,$,x)}function attr(T,k,$){$==null?T.removeAttribute(k):T.getAttribute(k)!==$&&T.setAttribute(k,$)}function children(T){return Array.from(T.childNodes)}function set_data(T,k){k=""+k,T.data!==k&&(T.data=k)}function set_input_value(T,k){T.value=k??""}function set_style(T,k,$,x){$==null?T.style.removeProperty(k):T.style.setProperty(k,$,x?"important":"")}function select_option(T,k,$){for(let x=0;x<T.options.length;x+=1){const I=T.options[x];if(I.__value===k){I.selected=!0;return}}(!$||k!==void 0)&&(T.selectedIndex=-1)}function select_value(T){const k=T.querySelector(":checked");return k&&k.__value}function toggle_class(T,k,$){T.classList.toggle(k,!!$)}function custom_event(T,k,{bubbles:$=!1,cancelable:x=!1}={}){return new CustomEvent(T,{detail:k,bubbles:$,cancelable:x})}class HtmlTag{constructor(k=!1){ue(this,"is_svg",!1);ue(this,"e");ue(this,"n");ue(this,"t");ue(this,"a");this.is_svg=k,this.e=this.n=null}c(k){this.h(k)}m(k,$,x=null){this.e||(this.is_svg?this.e=svg_element($.nodeName):this.e=element($.nodeType===11?"TEMPLATE":$.nodeName),this.t=$.tagName!=="TEMPLATE"?$:$.content,this.c(k)),this.i(x)}h(k){this.e.innerHTML=k,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(k){for(let $=0;$<this.n.length;$+=1)insert(this.t,this.n[$],k)}p(k){this.d(),this.h(k),this.i(this.a)}d(){this.n.forEach(detach)}}function construct_svelte_component(T,k){return new T(k)}let current_component;function set_current_component(T){current_component=T}function get_current_component(){if(!current_component)throw new Error("Function called outside component initialization");return current_component}function onMount(T){get_current_component().$$.on_mount.push(T)}function createEventDispatcher(){const T=get_current_component();return(k,$,{cancelable:x=!1}={})=>{const I=T.$$.callbacks[k];if(I){const L=custom_event(k,$,{cancelable:x});return I.slice().forEach(E=>{E.call(T,L)}),!L.defaultPrevented}return!0}}function setContext(T,k){return get_current_component().$$.context.set(T,k),k}function getContext(T){return get_current_component().$$.context.get(T)}const dirty_components=[],binding_callbacks=[];let render_callbacks=[];const flush_callbacks=[],resolved_promise=Promise.resolve();let update_scheduled=!1;function schedule_update(){update_scheduled||(update_scheduled=!0,resolved_promise.then(flush$1))}function add_render_callback(T){render_callbacks.push(T)}function add_flush_callback(T){flush_callbacks.push(T)}const seen_callbacks=new Set;let flushidx=0;function flush$1(){if(flushidx!==0)return;const T=current_component;do{try{for(;flushidx<dirty_components.length;){const k=dirty_components[flushidx];flushidx++,set_current_component(k),update(k.$$)}}catch(k){throw dirty_components.length=0,flushidx=0,k}for(set_current_component(null),dirty_components.length=0,flushidx=0;binding_callbacks.length;)binding_callbacks.pop()();for(let k=0;k<render_callbacks.length;k+=1){const $=render_callbacks[k];seen_callbacks.has($)||(seen_callbacks.add($),$())}render_callbacks.length=0}while(dirty_components.length);for(;flush_callbacks.length;)flush_callbacks.pop()();update_scheduled=!1,seen_callbacks.clear(),set_current_component(T)}function update(T){if(T.fragment!==null){T.update(),run_all(T.before_update);const k=T.dirty;T.dirty=[-1],T.fragment&&T.fragment.p(T.ctx,k),T.after_update.forEach(add_render_callback)}}function flush_render_callbacks(T){const k=[],$=[];render_callbacks.forEach(x=>T.indexOf(x)===-1?k.push(x):$.push(x)),$.forEach(x=>x()),render_callbacks=k}const outroing=new Set;let outros;function group_outros(){outros={r:0,c:[],p:outros}}function check_outros(){outros.r||run_all(outros.c),outros=outros.p}function transition_in(T,k){T&&T.i&&(outroing.delete(T),T.i(k))}function transition_out(T,k,$,x){if(T&&T.o){if(outroing.has(T))return;outroing.add(T),outros.c.push(()=>{outroing.delete(T),x&&($&&T.d(1),x())}),T.o(k)}else x&&x()}function ensure_array_like(T){return(T==null?void 0:T.length)!==void 0?T:Array.from(T)}function get_spread_update(T,k){const $={},x={},I={$$scope:1};let L=T.length;for(;L--;){const E=T[L],D=k[L];if(D){for(const F in E)F in D||(x[F]=1);for(const F in D)I[F]||($[F]=D[F],I[F]=1);T[L]=D}else for(const F in E)I[F]=1}for(const E in x)E in $||($[E]=void 0);return $}function get_spread_object(T){return typeof T=="object"&&T!==null?T:{}}function bind$1(T,k,$){const x=T.$$.props[k];x!==void 0&&(T.$$.bound[x]=$,$(T.$$.ctx[x]))}function create_component(T){T&&T.c()}function mount_component(T,k,$){const{fragment:x,after_update:I}=T.$$;x&&x.m(k,$),add_render_callback(()=>{const L=T.$$.on_mount.map(run).filter(is_function);T.$$.on_destroy?T.$$.on_destroy.push(...L):run_all(L),T.$$.on_mount=[]}),I.forEach(add_render_callback)}function destroy_component(T,k){const $=T.$$;$.fragment!==null&&(flush_render_callbacks($.after_update),run_all($.on_destroy),$.fragment&&$.fragment.d(k),$.on_destroy=$.fragment=null,$.ctx=[])}function make_dirty(T,k){T.$$.dirty[0]===-1&&(dirty_components.push(T),schedule_update(),T.$$.dirty.fill(0)),T.$$.dirty[k/31|0]|=1<<k%31}function init(T,k,$,x,I,L,E,D=[-1]){const F=current_component;set_current_component(T);const P=T.$$={fragment:null,ctx:[],props:L,update:noop$1,not_equal:I,bound:blank_object(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(k.context||(F?F.$$.context:[])),callbacks:blank_object(),dirty:D,skip_bound:!1,root:k.target||F.$$.root};E&&E(P.root);let U=!1;if(P.ctx=$?$(T,k.props||{},(M,z,...N)=>{const q=N.length?N[0]:z;return P.ctx&&I(P.ctx[M],P.ctx[M]=q)&&(!P.skip_bound&&P.bound[M]&&P.bound[M](q),U&&make_dirty(T,M)),z}):[],P.update(),U=!0,run_all(P.before_update),P.fragment=x?x(P.ctx):!1,k.target){if(k.hydrate){const M=children(k.target);P.fragment&&P.fragment.l(M),M.forEach(detach)}else P.fragment&&P.fragment.c();k.intro&&transition_in(T.$$.fragment),mount_component(T,k.target,k.anchor),flush$1()}set_current_component(F)}class SvelteComponent{constructor(){ue(this,"$$");ue(this,"$$set")}$destroy(){destroy_component(this,1),this.$destroy=noop$1}$on(k,$){if(!is_function($))return noop$1;const x=this.$$.callbacks[k]||(this.$$.callbacks[k]=[]);return x.push($),()=>{const I=x.indexOf($);I!==-1&&x.splice(I,1)}}$set(k){this.$$set&&!is_empty(k)&&(this.$$.skip_bound=!0,this.$$set(k),this.$$.skip_bound=!1)}}const PUBLIC_VERSION="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(PUBLIC_VERSION);const main$1="",bugrep="",subscriber_queue=[];function writable(T,k=noop$1){let $;const x=new Set;function I(D){if(safe_not_equal(T,D)&&(T=D,$)){const F=!subscriber_queue.length;for(const P of x)P[1](),subscriber_queue.push(P,T);if(F){for(let P=0;P<subscriber_queue.length;P+=2)subscriber_queue[P][0](subscriber_queue[P+1]);subscriber_queue.length=0}}}function L(D){I(D(T))}function E(D,F=noop$1){const P=[D,F];return x.add(P),x.size===1&&($=k(I,L)||noop$1),D(T),()=>{x.delete(P),x.size===0&&$&&($(),$=null)}}return{set:I,update:L,subscribe:E}}var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(T){return T&&T.__esModule&&Object.prototype.hasOwnProperty.call(T,"default")?T.default:T}function getAugmentedNamespace(T){if(T.__esModule)return T;var k=T.default;if(typeof k=="function"){var $=function x(){if(this instanceof x){var I=[null];I.push.apply(I,arguments);var L=Function.bind.apply(k,I);return new L}return k.apply(this,arguments)};$.prototype=k.prototype}else $={};return Object.defineProperty($,"__esModule",{value:!0}),Object.keys(T).forEach(function(x){var I=Object.getOwnPropertyDescriptor(T,x);Object.defineProperty($,x,I.get?I:{enumerable:!0,get:function(){return T[x]}})}),$}var dayjs_min={exports:{}};(function(T,k){(function($,x){T.exports=x()})(commonjsGlobal,function(){var $=1e3,x=6e4,I=36e5,L="millisecond",E="second",D="minute",F="hour",P="day",U="week",M="month",z="quarter",N="year",q="date",j="Invalid Date",W=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,H=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,Q={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(oe){var ae=["th","st","nd","rd"],se=oe%100;return"["+oe+(ae[(se-20)%10]||ae[se]||ae[0])+"]"}},K=function(oe,ae,se){var ne=String(oe);return!ne||ne.length>=ae?oe:""+Array(ae+1-ne.length).join(se)+oe},G={s:K,z:function(oe){var ae=-oe.utcOffset(),se=Math.abs(ae),ne=Math.floor(se/60),ie=se%60;return(ae<=0?"+":"-")+K(ne,2,"0")+":"+K(ie,2,"0")},m:function oe(ae,se){if(ae.date()<se.date())return-oe(se,ae);var ne=12*(se.year()-ae.year())+(se.month()-ae.month()),ie=ae.clone().add(ne,M),te=se-ie<0,le=ae.clone().add(ne+(te?-1:1),M);return+(-(ne+(se-ie)/(te?ie-le:le-ie))||0)},a:function(oe){return oe<0?Math.ceil(oe)||0:Math.floor(oe)},p:function(oe){return{M,y:N,w:U,d:P,D:q,h:F,m:D,s:E,ms:L,Q:z}[oe]||String(oe||"").toLowerCase().replace(/s$/,"")},u:function(oe){return oe===void 0}},V="en",Y={};Y[V]=Q;var J=function(oe){return oe instanceof re},X=function oe(ae,se,ne){var ie;if(!ae)return V;if(typeof ae=="string"){var te=ae.toLowerCase();Y[te]&&(ie=te),se&&(Y[te]=se,ie=te);var le=ae.split("-");if(!ie&&le.length>1)return oe(le[0])}else{var pe=ae.name;Y[pe]=ae,ie=pe}return!ne&&ie&&(V=ie),ie||!ne&&V},Z=function(oe,ae){if(J(oe))return oe.clone();var se=typeof ae=="object"?ae:{};return se.date=oe,se.args=arguments,new re(se)},ee=G;ee.l=X,ee.i=J,ee.w=function(oe,ae){return Z(oe,{locale:ae.$L,utc:ae.$u,x:ae.$x,$offset:ae.$offset})};var re=function(){function oe(se){this.$L=X(se.locale,null,!0),this.parse(se)}var ae=oe.prototype;return ae.parse=function(se){this.$d=function(ne){var ie=ne.date,te=ne.utc;if(ie===null)return new Date(NaN);if(ee.u(ie))return new Date;if(ie instanceof Date)return new Date(ie);if(typeof ie=="string"&&!/Z$/i.test(ie)){var le=ie.match(W);if(le){var pe=le[2]-1||0,me=(le[7]||"0").substring(0,3);return te?new Date(Date.UTC(le[1],pe,le[3]||1,le[4]||0,le[5]||0,le[6]||0,me)):new Date(le[1],pe,le[3]||1,le[4]||0,le[5]||0,le[6]||0,me)}}return new Date(ie)}(se),this.$x=se.x||{},this.init()},ae.init=function(){var se=this.$d;this.$y=se.getFullYear(),this.$M=se.getMonth(),this.$D=se.getDate(),this.$W=se.getDay(),this.$H=se.getHours(),this.$m=se.getMinutes(),this.$s=se.getSeconds(),this.$ms=se.getMilliseconds()},ae.$utils=function(){return ee},ae.isValid=function(){return this.$d.toString()!==j},ae.isSame=function(se,ne){var ie=Z(se);return this.startOf(ne)<=ie&&ie<=this.endOf(ne)},ae.isAfter=function(se,ne){return Z(se)<this.startOf(ne)},ae.isBefore=function(se,ne){return this.endOf(ne)<Z(se)},ae.$g=function(se,ne,ie){return ee.u(se)?this[ne]:this.set(ie,se)},ae.unix=function(){return Math.floor(this.valueOf()/1e3)},ae.valueOf=function(){return this.$d.getTime()},ae.startOf=function(se,ne){var ie=this,te=!!ee.u(ne)||ne,le=ee.p(se),pe=function(Ae,be){var $e=ee.w(ie.$u?Date.UTC(ie.$y,be,Ae):new Date(ie.$y,be,Ae),ie);return te?$e:$e.endOf(P)},me=function(Ae,be){return ee.w(ie.toDate()[Ae].apply(ie.toDate("s"),(te?[0,0,0,0]:[23,59,59,999]).slice(be)),ie)},fe=this.$W,de=this.$M,ve=this.$D,we="set"+(this.$u?"UTC":"");switch(le){case N:return te?pe(1,0):pe(31,11);case M:return te?pe(1,de):pe(0,de+1);case U:var _e=this.$locale().weekStart||0,he=(fe<_e?fe+7:fe)-_e;return pe(te?ve-he:ve+(6-he),de);case P:case q:return me(we+"Hours",0);case F:return me(we+"Minutes",1);case D:return me(we+"Seconds",2);case E:return me(we+"Milliseconds",3);default:return this.clone()}},ae.endOf=function(se){return this.startOf(se,!1)},ae.$set=function(se,ne){var ie,te=ee.p(se),le="set"+(this.$u?"UTC":""),pe=(ie={},ie[P]=le+"Date",ie[q]=le+"Date",ie[M]=le+"Month",ie[N]=le+"FullYear",ie[F]=le+"Hours",ie[D]=le+"Minutes",ie[E]=le+"Seconds",ie[L]=le+"Milliseconds",ie)[te],me=te===P?this.$D+(ne-this.$W):ne;if(te===M||te===N){var fe=this.clone().set(q,1);fe.$d[pe](me),fe.init(),this.$d=fe.set(q,Math.min(this.$D,fe.daysInMonth())).$d}else pe&&this.$d[pe](me);return this.init(),this},ae.set=function(se,ne){return this.clone().$set(se,ne)},ae.get=function(se){return this[ee.p(se)]()},ae.add=function(se,ne){var ie,te=this;se=Number(se);var le=ee.p(ne),pe=function(de){var ve=Z(te);return ee.w(ve.date(ve.date()+Math.round(de*se)),te)};if(le===M)return this.set(M,this.$M+se);if(le===N)return this.set(N,this.$y+se);if(le===P)return pe(1);if(le===U)return pe(7);var me=(ie={},ie[D]=x,ie[F]=I,ie[E]=$,ie)[le]||1,fe=this.$d.getTime()+se*me;return ee.w(fe,this)},ae.subtract=function(se,ne){return this.add(-1*se,ne)},ae.format=function(se){var ne=this,ie=this.$locale();if(!this.isValid())return ie.invalidDate||j;var te=se||"YYYY-MM-DDTHH:mm:ssZ",le=ee.z(this),pe=this.$H,me=this.$m,fe=this.$M,de=ie.weekdays,ve=ie.months,we=ie.meridiem,_e=function(be,$e,Se,Ce){return be&&(be[$e]||be(ne,te))||Se[$e].slice(0,Ce)},he=function(be){return ee.s(pe%12||12,be,"0")},Ae=we||function(be,$e,Se){var Ce=be<12?"AM":"PM";return Se?Ce.toLowerCase():Ce};return te.replace(H,function(be,$e){return $e||function(Se){switch(Se){case"YY":return String(ne.$y).slice(-2);case"YYYY":return ee.s(ne.$y,4,"0");case"M":return fe+1;case"MM":return ee.s(fe+1,2,"0");case"MMM":return _e(ie.monthsShort,fe,ve,3);case"MMMM":return _e(ve,fe);case"D":return ne.$D;case"DD":return ee.s(ne.$D,2,"0");case"d":return String(ne.$W);case"dd":return _e(ie.weekdaysMin,ne.$W,de,2);case"ddd":return _e(ie.weekdaysShort,ne.$W,de,3);case"dddd":return de[ne.$W];case"H":return String(pe);case"HH":return ee.s(pe,2,"0");case"h":return he(1);case"hh":return he(2);case"a":return Ae(pe,me,!0);case"A":return Ae(pe,me,!1);case"m":return String(me);case"mm":return ee.s(me,2,"0");case"s":return String(ne.$s);case"ss":return ee.s(ne.$s,2,"0");case"SSS":return ee.s(ne.$ms,3,"0");case"Z":return le}return null}(be)||le.replace(":","")})},ae.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},ae.diff=function(se,ne,ie){var te,le=this,pe=ee.p(ne),me=Z(se),fe=(me.utcOffset()-this.utcOffset())*x,de=this-me,ve=function(){return ee.m(le,me)};switch(pe){case N:te=ve()/12;break;case M:te=ve();break;case z:te=ve()/3;break;case U:te=(de-fe)/6048e5;break;case P:te=(de-fe)/864e5;break;case F:te=de/I;break;case D:te=de/x;break;case E:te=de/$;break;default:te=de}return ie?te:ee.a(te)},ae.daysInMonth=function(){return this.endOf(M).$D},ae.$locale=function(){return Y[this.$L]},ae.locale=function(se,ne){if(!se)return this.$L;var ie=this.clone(),te=X(se,ne,!0);return te&&(ie.$L=te),ie},ae.clone=function(){return ee.w(this.$d,this)},ae.toDate=function(){return new Date(this.valueOf())},ae.toJSON=function(){return this.isValid()?this.toISOString():null},ae.toISOString=function(){return this.$d.toISOString()},ae.toString=function(){return this.$d.toUTCString()},oe}(),ce=re.prototype;return Z.prototype=ce,[["$ms",L],["$s",E],["$m",D],["$H",F],["$W",P],["$M",M],["$y",N],["$D",q]].forEach(function(oe){ce[oe[1]]=function(ae){return this.$g(ae,oe[0],oe[1])}}),Z.extend=function(oe,ae){return oe.$i||(oe(ae,re,Z),oe.$i=!0),Z},Z.locale=X,Z.isDayjs=J,Z.unix=function(oe){return Z(1e3*oe)},Z.en=Y[V],Z.Ls=Y,Z.p={},Z})})(dayjs_min);var dayjs_minExports=dayjs_min.exports;const dayjs=getDefaultExportFromCjs(dayjs_minExports);var LogLevel=(T=>(T[T.info=0]="info",T[T.warn=1]="warn",T[T.error=2]="error",T[T.critical=3]="critical",T))(LogLevel||{});const LogLevelData={info:{capt:"INFO"},warn:{capt:"WARN"},error:{capt:"ERRR"},critical:{capt:"CRIT"}};var extendStatics=function(T,k){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function($,x){$.__proto__=x}||function($,x){for(var I in x)Object.prototype.hasOwnProperty.call(x,I)&&($[I]=x[I])},extendStatics(T,k)};function __extends(T,k){if(typeof k!="function"&&k!==null)throw new TypeError("Class extends value "+String(k)+" is not a constructor or null");function $(){this.constructor=T}extendStatics(T,k),T.prototype=k===null?Object.create(k):($.prototype=k.prototype,new $)}var __assign=function(){return __assign=Object.assign||function(k){for(var $,x=1,I=arguments.length;x<I;x++)for(var L in $=arguments[x])Object.prototype.hasOwnProperty.call($,L)&&(k[L]=$[L]);return k},__assign.apply(this,arguments)};function __awaiter(T,k,$,x){return new($||($=Promise))(function(I,L){function E(P){try{F(x.next(P))}catch(U){L(U)}}function D(P){try{F(x.throw(P))}catch(U){L(U)}}function F(P){P.done?I(P.value):function(M){return M instanceof $?M:new $(function(z){z(M)})}(P.value).then(E,D)}F((x=x.apply(T,k||[])).next())})}function __generator(T,k){var $,x,I,L,E={label:0,sent:function(){if(1&I[0])throw I[1];return I[1]},trys:[],ops:[]};return L={next:D(0),throw:D(1),return:D(2)},typeof Symbol=="function"&&(L[Symbol.iterator]=function(){return this}),L;function D(F){return function(P){return function(M){if($)throw new TypeError("Generator is already executing.");for(;L&&(L=0,M[0]&&(E=0)),E;)try{if($=1,x&&(I=2&M[0]?x.return:M[0]?x.throw||((I=x.return)&&I.call(x),0):x.next)&&!(I=I.call(x,M[1])).done)return I;switch(x=0,I&&(M=[2&M[0],I.value]),M[0]){case 0:case 1:I=M;break;case 4:return E.label++,{value:M[1],done:!1};case 5:E.label++,x=M[1],M=[0];continue;case 7:M=E.ops.pop(),E.trys.pop();continue;default:if(I=E.trys,!((I=I.length>0&&I[I.length-1])||M[0]!==6&&M[0]!==2)){E=0;continue}if(M[0]===3&&(!I||M[1]>I[0]&&M[1]<I[3])){E.label=M[1];break}if(M[0]===6&&E.label<I[1]){E.label=I[1],I=M;break}if(I&&E.label<I[2]){E.label=I[2],E.ops.push(M);break}I[2]&&E.ops.pop(),E.trys.pop();continue}M=k.call(T,E)}catch(z){M=[6,z],x=0}finally{$=I=0}if(5&M[0])throw M[1];return{value:M[0]?M[1]:void 0,done:!0}}([F,P])}}}var e,t=function(T){function k($){var x,I,L,E,D=this;return(D=T.call(this,"ClientResponseError")||this).url="",D.status=0,D.response={},D.isAbort=!1,D.originalError=null,Object.setPrototypeOf(D,k.prototype),$!==null&&typeof $=="object"&&(D.url=typeof $.url=="string"?$.url:"",D.status=typeof $.status=="number"?$.status:0,D.isAbort=!!$.isAbort,D.originalError=$.originalError,$.response!==null&&typeof $.response=="object"?D.response=$.response:$.data!==null&&typeof $.data=="object"?D.response=$.data:D.response={}),D.originalError||$ instanceof k||(D.originalError=$),typeof DOMException<"u"&&$ instanceof DOMException&&(D.isAbort=!0),D.name="ClientResponseError "+D.status,D.message=(x=D.response)===null||x===void 0?void 0:x.message,D.message||(D.isAbort?D.message="The request was autocancelled. You can find more info in https://github.com/pocketbase/js-sdk#auto-cancellation.":!((E=(L=(I=D.originalError)===null||I===void 0?void 0:I.cause)===null||L===void 0?void 0:L.message)===null||E===void 0)&&E.includes("ECONNREFUSED ::1")?D.message="Failed to connect to the PocketBase server. Try changing the SDK URL from localhost to 127.0.0.1 (https://github.com/pocketbase/js-sdk/issues/21).":D.message="Something went wrong while processing your request."),D}return __extends(k,T),Object.defineProperty(k.prototype,"data",{get:function(){return this.response},enumerable:!1,configurable:!0}),k.prototype.toJSON=function(){return __assign({},this)},k}(Error),n=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function cookieSerialize(T,k,$){var x=Object.assign({},$||{}),I=x.encode||defaultEncode;if(!n.test(T))throw new TypeError("argument name is invalid");var L=I(k);if(L&&!n.test(L))throw new TypeError("argument val is invalid");var E=T+"="+L;if(x.maxAge!=null){var D=x.maxAge-0;if(isNaN(D)||!isFinite(D))throw new TypeError("option maxAge is invalid");E+="; Max-Age="+Math.floor(D)}if(x.domain){if(!n.test(x.domain))throw new TypeError("option domain is invalid");E+="; Domain="+x.domain}if(x.path){if(!n.test(x.path))throw new TypeError("option path is invalid");E+="; Path="+x.path}if(x.expires){if(!function(P){return Object.prototype.toString.call(P)==="[object Date]"||P instanceof Date}(x.expires)||isNaN(x.expires.valueOf()))throw new TypeError("option expires is invalid");E+="; Expires="+x.expires.toUTCString()}if(x.httpOnly&&(E+="; HttpOnly"),x.secure&&(E+="; Secure"),x.priority)switch(typeof x.priority=="string"?x.priority.toLowerCase():x.priority){case"low":E+="; Priority=Low";break;case"medium":E+="; Priority=Medium";break;case"high":E+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}if(x.sameSite)switch(typeof x.sameSite=="string"?x.sameSite.toLowerCase():x.sameSite){case!0:E+="; SameSite=Strict";break;case"lax":E+="; SameSite=Lax";break;case"strict":E+="; SameSite=Strict";break;case"none":E+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return E}function defaultDecode(T){return T.indexOf("%")!==-1?decodeURIComponent(T):T}function defaultEncode(T){return encodeURIComponent(T)}function getTokenPayload(T){if(T)try{var k=decodeURIComponent(e(T.split(".")[1]).split("").map(function($){return"%"+("00"+$.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(k)||{}}catch{}return{}}function isTokenExpired(T,k){k===void 0&&(k=0);var $=getTokenPayload(T);return!(Object.keys($).length>0&&(!$.exp||$.exp-k>Date.now()/1e3))}e=typeof atob=="function"?atob:function(T){var k=String(T).replace(/=+$/,"");if(k.length%4==1)throw new Error("'atob' failed: The string to be decoded is not correctly encoded.");for(var $,x,I=0,L=0,E="";x=k.charAt(L++);~x&&($=I%4?64*$+x:x,I++%4)?E+=String.fromCharCode(255&$>>(-2*I&6)):0)x="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(x);return E};var i=function(){function T(k){k===void 0&&(k={}),this.$load(k||{})}return T.prototype.load=function(k){return this.$load(k)},T.prototype.$load=function(k){for(var $=0,x=Object.entries(k);$<x.length;$++){var I=x[$],L=I[0],E=I[1];this[L]=E}this.id=k.id!==void 0?k.id:"",this.created=k.created!==void 0?k.created:"",this.updated=k.updated!==void 0?k.updated:""},Object.defineProperty(T.prototype,"$isNew",{get:function(){return!this.id},enumerable:!1,configurable:!0}),T.prototype.clone=function(){return this.$clone()},T.prototype.$clone=function(){var k=typeof structuredClone=="function"?structuredClone(this):JSON.parse(JSON.stringify(this));return new this.constructor(k)},T.prototype.export=function(){return this.$export()},T.prototype.$export=function(){return typeof structuredClone=="function"?structuredClone(this):Object.assign({},this)},T}(),o$1=function(T){function k(){return T!==null&&T.apply(this,arguments)||this}return __extends(k,T),k.prototype.$load=function($){T.prototype.$load.call(this,$),this.collectionId=typeof $.collectionId=="string"?$.collectionId:"",this.collectionName=typeof $.collectionName=="string"?$.collectionName:"",this._loadExpand($.expand)},k.prototype._loadExpand=function($){for(var x in $=$||{},this.expand={},$)Array.isArray($[x])?this.expand[x]=$[x].map(function(I){return new k(I||{})}):this.expand[x]=new k($[x]||{})},k}(i),r=function(T){function k(){return T!==null&&T.apply(this,arguments)||this}return __extends(k,T),k.prototype.$load=function($){T.prototype.$load.call(this,$),this.avatar=typeof $.avatar=="number"?$.avatar:0,this.email=typeof $.email=="string"?$.email:""},k}(i),s="pb_auth",a=function(){function T(){this.baseToken="",this.baseModel=null,this._onChangeCallbacks=[]}return Object.defineProperty(T.prototype,"token",{get:function(){return this.baseToken},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"model",{get:function(){return this.baseModel},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"isValid",{get:function(){return!isTokenExpired(this.token)},enumerable:!1,configurable:!0}),T.prototype.save=function(k,$){this.baseToken=k||"",this.baseModel=$!==null&&typeof $=="object"?$.collectionId!==void 0?new o$1($):new r($):null,this.triggerChange()},T.prototype.clear=function(){this.baseToken="",this.baseModel=null,this.triggerChange()},T.prototype.loadFromCookie=function(k,$){$===void 0&&($=s);var x=function(E,D){var F={};if(typeof E!="string")return F;for(var P=Object.assign({},D||{}).decode||defaultDecode,U=0;U<E.length;){var M=E.indexOf("=",U);if(M===-1)break;var z=E.indexOf(";",U);if(z===-1)z=E.length;else if(z<M){U=E.lastIndexOf(";",M-1)+1;continue}var N=E.slice(U,M).trim();if(F[N]===void 0){var q=E.slice(M+1,z).trim();q.charCodeAt(0)===34&&(q=q.slice(1,-1));try{F[N]=P(q)}catch{F[N]=q}}U=z+1}return F}(k||"")[$]||"",I={};try{(typeof(I=JSON.parse(x))===null||typeof I!="object"||Array.isArray(I))&&(I={})}catch{}this.save(I.token||"",I.model||null)},T.prototype.exportToCookie=function(k,$){var x,I,L;$===void 0&&($=s);var E={secure:!0,sameSite:!0,httpOnly:!0,path:"/"},D=getTokenPayload(this.token);D!=null&&D.exp?E.expires=new Date(1e3*D.exp):E.expires=new Date("1970-01-01"),k=Object.assign({},E,k);var F={token:this.token,model:((x=this.model)===null||x===void 0?void 0:x.export())||null},P=cookieSerialize($,JSON.stringify(F),k),U=typeof Blob<"u"?new Blob([P]).size:P.length;return F.model&&U>4096&&(F.model={id:(I=F==null?void 0:F.model)===null||I===void 0?void 0:I.id,email:(L=F==null?void 0:F.model)===null||L===void 0?void 0:L.email},this.model instanceof o$1&&(F.model.username=this.model.username,F.model.verified=this.model.verified,F.model.collectionId=this.model.collectionId),P=cookieSerialize($,JSON.stringify(F),k)),P},T.prototype.onChange=function(k,$){var x=this;return $===void 0&&($=!1),this._onChangeCallbacks.push(k),$&&k(this.token,this.model),function(){for(var I=x._onChangeCallbacks.length-1;I>=0;I--)if(x._onChangeCallbacks[I]==k)return delete x._onChangeCallbacks[I],void x._onChangeCallbacks.splice(I,1)}},T.prototype.triggerChange=function(){for(var k=0,$=this._onChangeCallbacks;k<$.length;k++){var x=$[k];x&&x(this.token,this.model)}},T}(),c=function(T){function k($){$===void 0&&($="pocketbase_auth");var x=T.call(this)||this;return x.storageFallback={},x.storageKey=$,x}return __extends(k,T),Object.defineProperty(k.prototype,"token",{get:function(){return(this._storageGet(this.storageKey)||{}).token||""},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"model",{get:function(){var $,x=this._storageGet(this.storageKey)||{};return x===null||typeof x!="object"||x.model===null||typeof x.model!="object"?null:(($=x.model)===null||$===void 0?void 0:$.collectionId)===void 0?new r(x.model):new o$1(x.model)},enumerable:!1,configurable:!0}),k.prototype.save=function($,x){this._storageSet(this.storageKey,{token:$,model:x}),T.prototype.save.call(this,$,x)},k.prototype.clear=function(){this._storageRemove(this.storageKey),T.prototype.clear.call(this)},k.prototype._storageGet=function($){if(typeof window<"u"&&(window!=null&&window.localStorage)){var x=window.localStorage.getItem($)||"";try{return JSON.parse(x)}catch{return x}}return this.storageFallback[$]},k.prototype._storageSet=function($,x){if(typeof window<"u"&&(window!=null&&window.localStorage)){var I=x;typeof x!="string"&&(I=JSON.stringify(x)),window.localStorage.setItem($,I)}else this.storageFallback[$]=x},k.prototype._storageRemove=function($){var x;typeof window<"u"&&(window!=null&&window.localStorage)&&((x=window.localStorage)===null||x===void 0||x.removeItem($)),delete this.storageFallback[$]},k}(a),u=function(k){this.client=k},l=function(T){function k(){return T!==null&&T.apply(this,arguments)||this}return __extends(k,T),k.prototype.getAll=function($){return $===void 0&&($={}),this.client.send("/api/settings",{method:"GET",params:$}).then(function(x){return x||{}})},k.prototype.update=function($,x){return $===void 0&&($={}),x===void 0&&(x={}),this.client.send("/api/settings",{method:"PATCH",params:x,body:$}).then(function(I){return I||{}})},k.prototype.testS3=function($,x){$===void 0&&($="storage"),x===void 0&&(x={});var I={filesystem:$};return this.client.send("/api/settings/test/s3",{method:"POST",params:x,body:I}).then(function(){return!0})},k.prototype.testEmail=function($,x,I){I===void 0&&(I={});var L={email:$,template:x};return this.client.send("/api/settings/test/email",{method:"POST",params:I,body:L}).then(function(){return!0})},k.prototype.generateAppleClientSecret=function($,x,I,L,E,D,F){return D===void 0&&(D={}),F===void 0&&(F={}),D=Object.assign({clientId:$,teamId:x,keyId:I,privateKey:L,duration:E},D),this.client.send("/api/settings/apple/generate-client-secret",{method:"POST",params:F,body:D})},k}(u),d$1=function(k,$,x,I,L){this.page=k>0?k:1,this.perPage=$>=0?$:0,this.totalItems=x>=0?x:0,this.totalPages=I>=0?I:0,this.items=L||[]},h=function(T){function k(){return T!==null&&T.apply(this,arguments)||this}return __extends(k,T),k.prototype.getFullList=function($,x){if(typeof $=="number")return this._getFullList(this.baseCrudPath,$,x);var I=Object.assign({},$,x);return this._getFullList(this.baseCrudPath,I.batch||200,I)},k.prototype.getList=function($,x,I){return $===void 0&&($=1),x===void 0&&(x=30),I===void 0&&(I={}),this._getList(this.baseCrudPath,$,x,I)},k.prototype.getFirstListItem=function($,x){return x===void 0&&(x={}),this._getFirstListItem(this.baseCrudPath,$,x)},k.prototype.getOne=function($,x){return x===void 0&&(x={}),this._getOne(this.baseCrudPath,$,x)},k.prototype.create=function($,x){return $===void 0&&($={}),x===void 0&&(x={}),this._create(this.baseCrudPath,$,x)},k.prototype.update=function($,x,I){return x===void 0&&(x={}),I===void 0&&(I={}),this._update(this.baseCrudPath,$,x,I)},k.prototype.delete=function($,x){return x===void 0&&(x={}),this._delete(this.baseCrudPath,$,x)},k}(function(T){function k(){return T!==null&&T.apply(this,arguments)||this}return __extends(k,T),k.prototype._getFullList=function($,x,I){var L=this;x===void 0&&(x=200),I===void 0&&(I={});var E=[],D=function(F){return __awaiter(L,void 0,void 0,function(){return __generator(this,function(P){return[2,this._getList($,F,x||200,I).then(function(U){var M=U,z=M.items,N=M.totalItems;return E=E.concat(z),z.length&&N>E.length?D(F+1):E})]})})};return D(1)},k.prototype._getList=function($,x,I,L){var E=this;return x===void 0&&(x=1),I===void 0&&(I=30),L===void 0&&(L={}),L=Object.assign({page:x,perPage:I},L),this.client.send($,{method:"GET",params:L}).then(function(D){var F=[];if(D!=null&&D.items){D.items=D.items||[];for(var P=0,U=D.items;P<U.length;P++){var M=U[P];F.push(E.decode(M))}}return new d$1((D==null?void 0:D.page)||1,(D==null?void 0:D.perPage)||0,(D==null?void 0:D.totalItems)||0,(D==null?void 0:D.totalPages)||0,F)})},k.prototype._getOne=function($,x,I){var L=this;return I===void 0&&(I={}),this.client.send($+"/"+encodeURIComponent(x),{method:"GET",params:I}).then(function(E){return L.decode(E)})},k.prototype._getFirstListItem=function($,x,I){return I===void 0&&(I={}),I=Object.assign({filter:x,$cancelKey:"one_by_filter_"+$+"_"+x},I),this._getList($,1,1,I).then(function(L){var E;if(!(!((E=L==null?void 0:L.items)===null||E===void 0)&&E.length))throw new t({status:404,data:{code:404,message:"The requested resource wasn't found.",data:{}}});return L.items[0]})},k.prototype._create=function($,x,I){var L=this;return x===void 0&&(x={}),I===void 0&&(I={}),this.client.send($,{method:"POST",params:I,body:x}).then(function(E){return L.decode(E)})},k.prototype._update=function($,x,I,L){var E=this;return I===void 0&&(I={}),L===void 0&&(L={}),this.client.send($+"/"+encodeURIComponent(x),{method:"PATCH",params:L,body:I}).then(function(D){return E.decode(D)})},k.prototype._delete=function($,x,I){return I===void 0&&(I={}),this.client.send($+"/"+encodeURIComponent(x),{method:"DELETE",params:I}).then(function(){return!0})},k}(u)),p=function(T){function k(){return T!==null&&T.apply(this,arguments)||this}return __extends(k,T),k.prototype.decode=function($){return new r($)},Object.defineProperty(k.prototype,"baseCrudPath",{get:function(){return"/api/admins"},enumerable:!1,configurable:!0}),k.prototype.update=function($,x,I){var L=this;return x===void 0&&(x={}),I===void 0&&(I={}),T.prototype.update.call(this,$,x,I).then(function(E){var D,F;return L.client.authStore.model&&((D=L.client.authStore.model)===null||D===void 0?void 0:D.collectionId)===void 0&&((F=L.client.authStore.model)===null||F===void 0?void 0:F.id)===(E==null?void 0:E.id)&&L.client.authStore.save(L.client.authStore.token,E),E})},k.prototype.delete=function($,x){var I=this;return x===void 0&&(x={}),T.prototype.delete.call(this,$,x).then(function(L){var E,D;return L&&I.client.authStore.model&&((E=I.client.authStore.model)===null||E===void 0?void 0:E.collectionId)===void 0&&((D=I.client.authStore.model)===null||D===void 0?void 0:D.id)===$&&I.client.authStore.clear(),L})},k.prototype.authResponse=function($){var x=this.decode(($==null?void 0:$.admin)||{});return $!=null&&$.token&&($!=null&&$.admin)&&this.client.authStore.save($.token,x),Object.assign({},$,{token:($==null?void 0:$.token)||"",admin:x})},k.prototype.authWithPassword=function($,x,I,L){return I===void 0&&(I={}),L===void 0&&(L={}),I=Object.assign({identity:$,password:x},I),this.client.send(this.baseCrudPath+"/auth-with-password",{method:"POST",params:L,body:I}).then(this.authResponse.bind(this))},k.prototype.authRefresh=function($,x){return $===void 0&&($={}),x===void 0&&(x={}),this.client.send(this.baseCrudPath+"/auth-refresh",{method:"POST",params:x,body:$}).then(this.authResponse.bind(this))},k.prototype.requestPasswordReset=function($,x,I){return x===void 0&&(x={}),I===void 0&&(I={}),x=Object.assign({email:$},x),this.client.send(this.baseCrudPath+"/request-password-reset",{method:"POST",params:I,body:x}).then(function(){return!0})},k.prototype.confirmPasswordReset=function($,x,I,L,E){return L===void 0&&(L={}),E===void 0&&(E={}),L=Object.assign({token:$,password:x,passwordConfirm:I},L),this.client.send(this.baseCrudPath+"/confirm-password-reset",{method:"POST",params:E,body:L}).then(function(){return!0})},k}(h),v=function(T){function k(){return T!==null&&T.apply(this,arguments)||this}return __extends(k,T),k.prototype.$load=function($){T.prototype.$load.call(this,$),this.recordId=typeof $.recordId=="string"?$.recordId:"",this.collectionId=typeof $.collectionId=="string"?$.collectionId:"",this.provider=typeof $.provider=="string"?$.provider:"",this.providerId=typeof $.providerId=="string"?$.providerId:""},k}(i),f=function(T){function k($,x){var I=T.call(this,$)||this;return I.collectionIdOrName=x,I}return __extends(k,T),k.prototype.decode=function($){return new o$1($)},Object.defineProperty(k.prototype,"baseCrudPath",{get:function(){return this.baseCollectionPath+"/records"},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"baseCollectionPath",{get:function(){return"/api/collections/"+encodeURIComponent(this.collectionIdOrName)},enumerable:!1,configurable:!0}),k.prototype.subscribeOne=function($,x){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(I){return console.warn("PocketBase: subscribeOne(recordId, callback) is deprecated. Please replace it with subscribe(recordId, callback)."),[2,this.client.realtime.subscribe(this.collectionIdOrName+"/"+$,x)]})})},k.prototype.subscribe=function($,x){return __awaiter(this,void 0,void 0,function(){var I;return __generator(this,function(L){if(typeof $=="function")return console.warn("PocketBase: subscribe(callback) is deprecated. Please replace it with subscribe('*', callback)."),[2,this.client.realtime.subscribe(this.collectionIdOrName,$)];if(!x)throw new Error("Missing subscription callback.");if($==="")throw new Error("Missing topic.");return I=this.collectionIdOrName,$!=="*"&&(I+="/"+$),[2,this.client.realtime.subscribe(I,x)]})})},k.prototype.unsubscribe=function($){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(x){return $==="*"?[2,this.client.realtime.unsubscribe(this.collectionIdOrName)]:$?[2,this.client.realtime.unsubscribe(this.collectionIdOrName+"/"+$)]:[2,this.client.realtime.unsubscribeByPrefix(this.collectionIdOrName)]})})},k.prototype.getFullList=function($,x){if(typeof $=="number")return T.prototype.getFullList.call(this,$,x);var I=Object.assign({},$,x);return T.prototype.getFullList.call(this,I)},k.prototype.getList=function($,x,I){return $===void 0&&($=1),x===void 0&&(x=30),I===void 0&&(I={}),T.prototype.getList.call(this,$,x,I)},k.prototype.getFirstListItem=function($,x){return x===void 0&&(x={}),T.prototype.getFirstListItem.call(this,$,x)},k.prototype.getOne=function($,x){return x===void 0&&(x={}),T.prototype.getOne.call(this,$,x)},k.prototype.create=function($,x){return $===void 0&&($={}),x===void 0&&(x={}),T.prototype.create.call(this,$,x)},k.prototype.update=function($,x,I){var L=this;return x===void 0&&(x={}),I===void 0&&(I={}),T.prototype.update.call(this,$,x,I).then(function(E){var D,F,P;return((D=L.client.authStore.model)===null||D===void 0?void 0:D.id)!==(E==null?void 0:E.id)||((F=L.client.authStore.model)===null||F===void 0?void 0:F.collectionId)!==L.collectionIdOrName&&((P=L.client.authStore.model)===null||P===void 0?void 0:P.collectionName)!==L.collectionIdOrName||L.client.authStore.save(L.client.authStore.token,E),E})},k.prototype.delete=function($,x){var I=this;return x===void 0&&(x={}),T.prototype.delete.call(this,$,x).then(function(L){var E,D,F;return!L||((E=I.client.authStore.model)===null||E===void 0?void 0:E.id)!==$||((D=I.client.authStore.model)===null||D===void 0?void 0:D.collectionId)!==I.collectionIdOrName&&((F=I.client.authStore.model)===null||F===void 0?void 0:F.collectionName)!==I.collectionIdOrName||I.client.authStore.clear(),L})},k.prototype.authResponse=function($){var x=this.decode(($==null?void 0:$.record)||{});return this.client.authStore.save($==null?void 0:$.token,x),Object.assign({},$,{token:($==null?void 0:$.token)||"",record:x})},k.prototype.listAuthMethods=function($){return $===void 0&&($={}),this.client.send(this.baseCollectionPath+"/auth-methods",{method:"GET",params:$}).then(function(x){return Object.assign({},x,{usernamePassword:!!(x!=null&&x.usernamePassword),emailPassword:!!(x!=null&&x.emailPassword),authProviders:Array.isArray(x==null?void 0:x.authProviders)?x==null?void 0:x.authProviders:[]})})},k.prototype.authWithPassword=function($,x,I,L){var E=this;return I===void 0&&(I={}),L===void 0&&(L={}),I=Object.assign({identity:$,password:x},I),this.client.send(this.baseCollectionPath+"/auth-with-password",{method:"POST",params:L,body:I}).then(function(D){return E.authResponse(D)})},k.prototype.authWithOAuth2Code=function($,x,I,L,E,D,F){var P=this;return E===void 0&&(E={}),D===void 0&&(D={}),F===void 0&&(F={}),D=Object.assign({provider:$,code:x,codeVerifier:I,redirectUrl:L,createData:E},D),this.client.send(this.baseCollectionPath+"/auth-with-oauth2",{method:"POST",params:F,body:D}).then(function(U){return P.authResponse(U)})},k.prototype.authWithOAuth2=function(){for(var $=[],x=0;x<arguments.length;x++)$[x]=arguments[x];return __awaiter(this,void 0,void 0,function(){var I,L,E,D,F=this;return __generator(this,function(P){switch(P.label){case 0:return $.length>1||typeof($==null?void 0:$[0])=="string"?(console.warn("PocketBase: This form of authWithOAuth2() is deprecated and may get removed in the future. Please replace with authWithOAuth2Code() OR use the authWithOAuth2() realtime form as shown in https://pocketbase.io/docs/authentication/#oauth2-integration."),[2,this.authWithOAuth2Code(($==null?void 0:$[0])||"",($==null?void 0:$[1])||"",($==null?void 0:$[2])||"",($==null?void 0:$[3])||"",($==null?void 0:$[4])||{},($==null?void 0:$[5])||{},($==null?void 0:$[6])||{})]):(I=($==null?void 0:$[0])||{},[4,this.listAuthMethods()]);case 1:if(L=P.sent(),!(E=L.authProviders.find(function(U){return U.name===I.provider})))throw new t(new Error('Missing or invalid provider "'.concat(I.provider,'".')));return D=this.client.buildUrl("/api/oauth2-redirect"),[2,new Promise(function(U,M){return __awaiter(F,void 0,void 0,function(){var z,N,q,j,W,H=this;return __generator(this,function(Q){switch(Q.label){case 0:return Q.trys.push([0,3,,4]),[4,this.client.realtime.subscribe("@oauth2",function(K){return __awaiter(H,void 0,void 0,function(){var G,V,Y;return __generator(this,function(J){switch(J.label){case 0:G=this.client.realtime.clientId,J.label=1;case 1:if(J.trys.push([1,3,,4]),z(),!K.state||G!==K.state)throw new Error("State parameters don't match.");return[4,this.authWithOAuth2Code(E.name,K.code,E.codeVerifier,D,I.createData,I.body,I.query)];case 2:return V=J.sent(),U(V),[3,4];case 3:return Y=J.sent(),M(new t(Y)),[3,4];case 4:return[2]}})})})];case 1:return z=Q.sent(),N={state:this.client.realtime.clientId},!((W=I.scopes)===null||W===void 0)&&W.length&&(N.scope=I.scopes.join(" ")),q=this._replaceQueryParams(E.authUrl+D,N),[4,I.urlCallback?I.urlCallback(q):this._defaultUrlCallback(q)];case 2:return Q.sent(),[3,4];case 3:return j=Q.sent(),M(new t(j)),[3,4];case 4:return[2]}})})})]}})})},k.prototype.authRefresh=function($,x){var I=this;return $===void 0&&($={}),x===void 0&&(x={}),this.client.send(this.baseCollectionPath+"/auth-refresh",{method:"POST",params:x,body:$}).then(function(L){return I.authResponse(L)})},k.prototype.requestPasswordReset=function($,x,I){return x===void 0&&(x={}),I===void 0&&(I={}),x=Object.assign({email:$},x),this.client.send(this.baseCollectionPath+"/request-password-reset",{method:"POST",params:I,body:x}).then(function(){return!0})},k.prototype.confirmPasswordReset=function($,x,I,L,E){return L===void 0&&(L={}),E===void 0&&(E={}),L=Object.assign({token:$,password:x,passwordConfirm:I},L),this.client.send(this.baseCollectionPath+"/confirm-password-reset",{method:"POST",params:E,body:L}).then(function(){return!0})},k.prototype.requestVerification=function($,x,I){return x===void 0&&(x={}),I===void 0&&(I={}),x=Object.assign({email:$},x),this.client.send(this.baseCollectionPath+"/request-verification",{method:"POST",params:I,body:x}).then(function(){return!0})},k.prototype.confirmVerification=function($,x,I){return x===void 0&&(x={}),I===void 0&&(I={}),x=Object.assign({token:$},x),this.client.send(this.baseCollectionPath+"/confirm-verification",{method:"POST",params:I,body:x}).then(function(){return!0})},k.prototype.requestEmailChange=function($,x,I){return x===void 0&&(x={}),I===void 0&&(I={}),x=Object.assign({newEmail:$},x),this.client.send(this.baseCollectionPath+"/request-email-change",{method:"POST",params:I,body:x}).then(function(){return!0})},k.prototype.confirmEmailChange=function($,x,I,L){return I===void 0&&(I={}),L===void 0&&(L={}),I=Object.assign({token:$,password:x},I),this.client.send(this.baseCollectionPath+"/confirm-email-change",{method:"POST",params:L,body:I}).then(function(){return!0})},k.prototype.listExternalAuths=function($,x){return x===void 0&&(x={}),this.client.send(this.baseCrudPath+"/"+encodeURIComponent($)+"/external-auths",{method:"GET",params:x}).then(function(I){var L=[];if(Array.isArray(I))for(var E=0,D=I;E<D.length;E++){var F=D[E];L.push(new v(F))}return L})},k.prototype.unlinkExternalAuth=function($,x,I){return I===void 0&&(I={}),this.client.send(this.baseCrudPath+"/"+encodeURIComponent($)+"/external-auths/"+encodeURIComponent(x),{method:"DELETE",params:I}).then(function(){return!0})},k.prototype._replaceQueryParams=function($,x){x===void 0&&(x={});var I=$,L="";$.indexOf("?")>=0&&(I=$.substring(0,$.indexOf("?")),L=$.substring($.indexOf("?")+1));for(var E={},D=0,F=L.split("&");D<F.length;D++){var P=F[D];if(P!=""){var U=P.split("=");E[decodeURIComponent(U[0].replace(/\+/g," "))]=decodeURIComponent((U[1]||"").replace(/\+/g," "))}}for(var M in x)x.hasOwnProperty(M)&&(x[M]==null?delete E[M]:E[M]=x[M]);for(var M in L="",E)E.hasOwnProperty(M)&&(L!=""&&(L+="&"),L+=encodeURIComponent(M.replace(/%20/g,"+"))+"="+encodeURIComponent(E[M].replace(/%20/g,"+")));return L!=""?I+"?"+L:I},k.prototype._defaultUrlCallback=function($){if(typeof window>"u"||!(window!=null&&window.open))throw new t(new Error("Not in a browser context - please pass a custom urlCallback function."));var x=1024,I=768,L=window.innerWidth,E=window.innerHeight,D=L/2-(x=x>L?L:x)/2,F=E/2-(I=I>E?E:I)/2;window.open($,"oauth2-popup","width="+x+",height="+I+",top="+F+",left="+D+",resizable,menubar=no")},k}(h),m=function(k){k===void 0&&(k={}),this.id=k.id!==void 0?k.id:"",this.name=k.name!==void 0?k.name:"",this.type=k.type!==void 0?k.type:"text",this.system=!!k.system,this.required=!!k.required,this.options=typeof k.options=="object"&&k.options!==null?k.options:{}},b=function(T){function k(){return T!==null&&T.apply(this,arguments)||this}return __extends(k,T),k.prototype.$load=function($){T.prototype.$load.call(this,$),this.system=!!$.system,this.name=typeof $.name=="string"?$.name:"",this.type=typeof $.type=="string"?$.type:"base",this.options=$.options!==void 0&&$.options!==null?$.options:{},this.indexes=Array.isArray($.indexes)?$.indexes:[],this.listRule=typeof $.listRule=="string"?$.listRule:null,this.viewRule=typeof $.viewRule=="string"?$.viewRule:null,this.createRule=typeof $.createRule=="string"?$.createRule:null,this.updateRule=typeof $.updateRule=="string"?$.updateRule:null,this.deleteRule=typeof $.deleteRule=="string"?$.deleteRule:null,$.schema=Array.isArray($.schema)?$.schema:[],this.schema=[];for(var x=0,I=$.schema;x<I.length;x++){var L=I[x];this.schema.push(new m(L))}},Object.defineProperty(k.prototype,"isBase",{get:function(){return this.$isBase},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"$isBase",{get:function(){return this.type==="base"},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"isAuth",{get:function(){return this.$isAuth},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"$isAuth",{get:function(){return this.type==="auth"},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"isView",{get:function(){return this.$isView},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"$isView",{get:function(){return this.type==="view"},enumerable:!1,configurable:!0}),k}(i),y=function(T){function k(){return T!==null&&T.apply(this,arguments)||this}return __extends(k,T),k.prototype.decode=function($){return new b($)},Object.defineProperty(k.prototype,"baseCrudPath",{get:function(){return"/api/collections"},enumerable:!1,configurable:!0}),k.prototype.import=function($,x,I){return x===void 0&&(x=!1),I===void 0&&(I={}),__awaiter(this,void 0,void 0,function(){return __generator(this,function(L){return[2,this.client.send(this.baseCrudPath+"/import",{method:"PUT",params:I,body:{collections:$,deleteMissing:x}}).then(function(){return!0})]})})},k}(h),g=function(T){function k(){return T!==null&&T.apply(this,arguments)||this}return __extends(k,T),k.prototype.$load=function($){T.prototype.$load.call(this,$),$.remoteIp=$.remoteIp||$.ip,this.url=typeof $.url=="string"?$.url:"",this.method=typeof $.method=="string"?$.method:"GET",this.status=typeof $.status=="number"?$.status:200,this.auth=typeof $.auth=="string"?$.auth:"guest",this.remoteIp=typeof $.remoteIp=="string"?$.remoteIp:"",this.userIp=typeof $.userIp=="string"?$.userIp:"",this.referer=typeof $.referer=="string"?$.referer:"",this.userAgent=typeof $.userAgent=="string"?$.userAgent:"",this.meta=typeof $.meta=="object"&&$.meta!==null?$.meta:{}},k}(i),S=function(T){function k(){return T!==null&&T.apply(this,arguments)||this}return __extends(k,T),k.prototype.getRequestsList=function($,x,I){return $===void 0&&($=1),x===void 0&&(x=30),I===void 0&&(I={}),I=Object.assign({page:$,perPage:x},I),this.client.send("/api/logs/requests",{method:"GET",params:I}).then(function(L){var E=[];if(L!=null&&L.items){L.items=(L==null?void 0:L.items)||[];for(var D=0,F=L.items;D<F.length;D++){var P=F[D];E.push(new g(P))}}return new d$1((L==null?void 0:L.page)||1,(L==null?void 0:L.perPage)||0,(L==null?void 0:L.totalItems)||0,(L==null?void 0:L.totalPages)||0,E)})},k.prototype.getRequest=function($,x){return x===void 0&&(x={}),this.client.send("/api/logs/requests/"+encodeURIComponent($),{method:"GET",params:x}).then(function(I){return new g(I)})},k.prototype.getRequestsStats=function($){return $===void 0&&($={}),this.client.send("/api/logs/requests/stats",{method:"GET",params:$}).then(function(x){return x})},k}(u),w=function(T){function k(){var $=T!==null&&T.apply(this,arguments)||this;return $.clientId="",$.eventSource=null,$.subscriptions={},$.lastSentTopics=[],$.maxConnectTimeout=15e3,$.reconnectAttempts=0,$.maxReconnectAttempts=1/0,$.predefinedReconnectIntervals=[200,300,500,1e3,1200,1500,2e3],$.pendingConnects=[],$}return __extends(k,T),Object.defineProperty(k.prototype,"isConnected",{get:function(){return!!this.eventSource&&!!this.clientId&&!this.pendingConnects.length},enumerable:!1,configurable:!0}),k.prototype.subscribe=function($,x){var I;return __awaiter(this,void 0,void 0,function(){var L,E=this;return __generator(this,function(D){switch(D.label){case 0:if(!$)throw new Error("topic must be set.");return L=function(F){var P,U=F;try{P=JSON.parse(U==null?void 0:U.data)}catch{}x(P||{})},this.subscriptions[$]||(this.subscriptions[$]=[]),this.subscriptions[$].push(L),this.isConnected?[3,2]:[4,this.connect()];case 1:return D.sent(),[3,5];case 2:return this.subscriptions[$].length!==1?[3,4]:[4,this.submitSubscriptions()];case 3:return D.sent(),[3,5];case 4:(I=this.eventSource)===null||I===void 0||I.addEventListener($,L),D.label=5;case 5:return[2,function(){return __awaiter(E,void 0,void 0,function(){return __generator(this,function(F){return[2,this.unsubscribeByTopicAndListener($,L)]})})}]}})})},k.prototype.unsubscribe=function($){var x;return __awaiter(this,void 0,void 0,function(){var I,L,E;return __generator(this,function(D){switch(D.label){case 0:if(!this.hasSubscriptionListeners($))return[2];if($){for(I=0,L=this.subscriptions[$];I<L.length;I++)E=L[I],(x=this.eventSource)===null||x===void 0||x.removeEventListener($,E);delete this.subscriptions[$]}else this.subscriptions={};return this.hasSubscriptionListeners()?[3,1]:(this.disconnect(),[3,3]);case 1:return this.hasSubscriptionListeners($)?[3,3]:[4,this.submitSubscriptions()];case 2:D.sent(),D.label=3;case 3:return[2]}})})},k.prototype.unsubscribeByPrefix=function($){var x;return __awaiter(this,void 0,void 0,function(){var I,L,E,D,F;return __generator(this,function(P){switch(P.label){case 0:for(L in I=!1,this.subscriptions)if(L.startsWith($)){for(I=!0,E=0,D=this.subscriptions[L];E<D.length;E++)F=D[E],(x=this.eventSource)===null||x===void 0||x.removeEventListener(L,F);delete this.subscriptions[L]}return I?this.hasSubscriptionListeners()?[4,this.submitSubscriptions()]:[3,2]:[2];case 1:return P.sent(),[3,3];case 2:this.disconnect(),P.label=3;case 3:return[2]}})})},k.prototype.unsubscribeByTopicAndListener=function($,x){var I;return __awaiter(this,void 0,void 0,function(){var L,E;return __generator(this,function(D){switch(D.label){case 0:if(!Array.isArray(this.subscriptions[$])||!this.subscriptions[$].length)return[2];for(L=!1,E=this.subscriptions[$].length-1;E>=0;E--)this.subscriptions[$][E]===x&&(L=!0,delete this.subscriptions[$][E],this.subscriptions[$].splice(E,1),(I=this.eventSource)===null||I===void 0||I.removeEventListener($,x));return L?(this.subscriptions[$].length||delete this.subscriptions[$],this.hasSubscriptionListeners()?[3,1]:(this.disconnect(),[3,3])):[2];case 1:return this.hasSubscriptionListeners($)?[3,3]:[4,this.submitSubscriptions()];case 2:D.sent(),D.label=3;case 3:return[2]}})})},k.prototype.hasSubscriptionListeners=function($){var x,I;if(this.subscriptions=this.subscriptions||{},$)return!!(!((x=this.subscriptions[$])===null||x===void 0)&&x.length);for(var L in this.subscriptions)if(!((I=this.subscriptions[L])===null||I===void 0)&&I.length)return!0;return!1},k.prototype.submitSubscriptions=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function($){return this.clientId?(this.addAllSubscriptionListeners(),this.lastSentTopics=this.getNonEmptySubscriptionTopics(),[2,this.client.send("/api/realtime",{method:"POST",body:{clientId:this.clientId,subscriptions:this.lastSentTopics},params:{$cancelKey:this.getSubscriptionsCancelKey()}}).catch(function(x){if(!(x!=null&&x.isAbort))throw x})]):[2]})})},k.prototype.getSubscriptionsCancelKey=function(){return"realtime_"+this.clientId},k.prototype.getNonEmptySubscriptionTopics=function(){var $=[];for(var x in this.subscriptions)this.subscriptions[x].length&&$.push(x);return $},k.prototype.addAllSubscriptionListeners=function(){if(this.eventSource)for(var $ in this.removeAllSubscriptionListeners(),this.subscriptions)for(var x=0,I=this.subscriptions[$];x<I.length;x++){var L=I[x];this.eventSource.addEventListener($,L)}},k.prototype.removeAllSubscriptionListeners=function(){if(this.eventSource)for(var $ in this.subscriptions)for(var x=0,I=this.subscriptions[$];x<I.length;x++){var L=I[x];this.eventSource.removeEventListener($,L)}},k.prototype.connect=function(){return __awaiter(this,void 0,void 0,function(){var $=this;return __generator(this,function(x){return this.reconnectAttempts>0?[2]:[2,new Promise(function(I,L){$.pendingConnects.push({resolve:I,reject:L}),$.pendingConnects.length>1||$.initConnect()})]})})},k.prototype.initConnect=function(){var $=this;this.disconnect(!0),clearTimeout(this.connectTimeoutId),this.connectTimeoutId=setTimeout(function(){$.connectErrorHandler(new Error("EventSource connect took too long."))},this.maxConnectTimeout),this.eventSource=new EventSource(this.client.buildUrl("/api/realtime")),this.eventSource.onerror=function(x){$.connectErrorHandler(new Error("Failed to establish realtime connection."))},this.eventSource.addEventListener("PB_CONNECT",function(x){var I=x;$.clientId=I==null?void 0:I.lastEventId,$.submitSubscriptions().then(function(){return __awaiter($,void 0,void 0,function(){var L;return __generator(this,function(E){switch(E.label){case 0:L=3,E.label=1;case 1:return this.hasUnsentSubscriptions()&&L>0?(L--,[4,this.submitSubscriptions()]):[3,3];case 2:return E.sent(),[3,1];case 3:return[2]}})})}).then(function(){for(var L=0,E=$.pendingConnects;L<E.length;L++)E[L].resolve();$.pendingConnects=[],$.reconnectAttempts=0,clearTimeout($.reconnectTimeoutId),clearTimeout($.connectTimeoutId)}).catch(function(L){$.clientId="",$.connectErrorHandler(L)})})},k.prototype.hasUnsentSubscriptions=function(){var $=this.getNonEmptySubscriptionTopics();if($.length!=this.lastSentTopics.length)return!0;for(var x=0,I=$;x<I.length;x++){var L=I[x];if(!this.lastSentTopics.includes(L))return!0}return!1},k.prototype.connectErrorHandler=function($){var x=this;if(clearTimeout(this.connectTimeoutId),clearTimeout(this.reconnectTimeoutId),!this.clientId&&!this.reconnectAttempts||this.reconnectAttempts>this.maxReconnectAttempts){for(var I=0,L=this.pendingConnects;I<L.length;I++)L[I].reject(new t($));return this.pendingConnects=[],void this.disconnect()}this.disconnect(!0);var E=this.predefinedReconnectIntervals[this.reconnectAttempts]||this.predefinedReconnectIntervals[this.predefinedReconnectIntervals.length-1];this.reconnectAttempts++,this.reconnectTimeoutId=setTimeout(function(){x.initConnect()},E)},k.prototype.disconnect=function($){var x;if($===void 0&&($=!1),clearTimeout(this.connectTimeoutId),clearTimeout(this.reconnectTimeoutId),this.removeAllSubscriptionListeners(),this.client.cancelRequest(this.getSubscriptionsCancelKey()),(x=this.eventSource)===null||x===void 0||x.close(),this.eventSource=null,this.clientId="",!$){this.reconnectAttempts=0;for(var I=0,L=this.pendingConnects;I<L.length;I++)L[I].resolve();this.pendingConnects=[]}},k}(u),C=function(T){function k(){return T!==null&&T.apply(this,arguments)||this}return __extends(k,T),k.prototype.check=function($){return $===void 0&&($={}),this.client.send("/api/health",{method:"GET",params:$})},k}(u),_=function(T){function k(){return T!==null&&T.apply(this,arguments)||this}return __extends(k,T),k.prototype.getUrl=function($,x,I){I===void 0&&(I={});var L=[];L.push("api"),L.push("files"),L.push(encodeURIComponent($.collectionId||$.collectionName)),L.push(encodeURIComponent($.id)),L.push(encodeURIComponent(x));var E=this.client.buildUrl(L.join("/"));if(Object.keys(I).length){var D=new URLSearchParams(I);E+=(E.includes("?")?"&":"?")+D}return E},k.prototype.getToken=function($){return $===void 0&&($={}),this.client.send("/api/files/token",{method:"POST",params:$}).then(function(x){return(x==null?void 0:x.token)||""})},k}(u),R=function(T){function k(){return T!==null&&T.apply(this,arguments)||this}return __extends(k,T),k.prototype.getFullList=function($){return $===void 0&&($={}),this.client.send("/api/backups",{method:"GET",params:$})},k.prototype.create=function($,x){x===void 0&&(x={});var I={name:$};return this.client.send("/api/backups",{method:"POST",params:x,body:I}).then(function(){return!0})},k.prototype.delete=function($,x){return x===void 0&&(x={}),this.client.send("/api/backups/".concat(encodeURIComponent($)),{method:"DELETE",params:x}).then(function(){return!0})},k.prototype.restore=function($,x){return x===void 0&&(x={}),this.client.send("/api/backups/".concat(encodeURIComponent($),"/restore"),{method:"POST",params:x}).then(function(){return!0})},k.prototype.getDownloadUrl=function($,x){return this.client.buildUrl("/api/backups/".concat(encodeURIComponent(x),"?token=").concat(encodeURIComponent($)))},k}(u),O=function(){function T(k,$,x){k===void 0&&(k="/"),x===void 0&&(x="en-US"),this.cancelControllers={},this.recordServices={},this.enableAutoCancellation=!0,this.baseUrl=k,this.lang=x,this.authStore=$||new c,this.admins=new p(this),this.collections=new y(this),this.files=new _(this),this.logs=new S(this),this.settings=new l(this),this.realtime=new w(this),this.health=new C(this),this.backups=new R(this)}return T.prototype.collection=function(k){return this.recordServices[k]||(this.recordServices[k]=new f(this,k)),this.recordServices[k]},T.prototype.autoCancellation=function(k){return this.enableAutoCancellation=!!k,this},T.prototype.cancelRequest=function(k){return this.cancelControllers[k]&&(this.cancelControllers[k].abort(),delete this.cancelControllers[k]),this},T.prototype.cancelAllRequests=function(){for(var k in this.cancelControllers)this.cancelControllers[k].abort();return this.cancelControllers={},this},T.prototype.send=function(k,$){var x,I,L,E,D,F,P,U;return __awaiter(this,void 0,void 0,function(){var M,z,N,q,j,W,H,Q,K,G=this;return __generator(this,function(V){switch(V.label){case 0:return M=Object.assign({method:"GET"},$),this.isFormData(M.body)||(M.body&&typeof M.body!="string"&&(M.body=JSON.stringify(M.body)),((x=M==null?void 0:M.headers)===null||x===void 0?void 0:x["Content-Type"])===void 0&&(M.headers=Object.assign({},M.headers,{"Content-Type":"application/json"}))),((I=M==null?void 0:M.headers)===null||I===void 0?void 0:I["Accept-Language"])===void 0&&(M.headers=Object.assign({},M.headers,{"Accept-Language":this.lang})),!((L=this.authStore)===null||L===void 0)&&L.token&&((E=M==null?void 0:M.headers)===null||E===void 0?void 0:E.Authorization)===void 0&&(M.headers=Object.assign({},M.headers,{Authorization:this.authStore.token})),this.enableAutoCancellation&&((D=M.params)===null||D===void 0?void 0:D.$autoCancel)!==!1&&(z=((F=M.params)===null||F===void 0?void 0:F.$cancelKey)||(M.method||"GET")+k,this.cancelRequest(z),N=new AbortController,this.cancelControllers[z]=N,M.signal=N.signal),(P=M.params)===null||P===void 0||delete P.$autoCancel,(U=M.params)===null||U===void 0||delete U.$cancelKey,q=this.buildUrl(k),M.params!==void 0&&((j=this.serializeQueryParams(M.params))&&(q+=(q.includes("?")?"&":"?")+j),delete M.params),this.beforeSend?(Q=(H=Object).assign,K=[{}],[4,this.beforeSend(q,M)]):[3,2];case 1:(W=Q.apply(H,K.concat([V.sent()]))).url!==void 0||W.options!==void 0?(q=W.url||q,M=W.options||M):Object.keys(W).length&&(M=W,console!=null&&console.warn&&console.warn("Deprecated format of beforeSend return: please use `return { url, options }`, instead of `return options`.")),V.label=2;case 2:return[2,fetch(q,M).then(function(Y){return __awaiter(G,void 0,void 0,function(){var J;return __generator(this,function(X){switch(X.label){case 0:J={},X.label=1;case 1:return X.trys.push([1,3,,4]),[4,Y.json()];case 2:return J=X.sent(),[3,4];case 3:return X.sent(),[3,4];case 4:return this.afterSend?[4,this.afterSend(Y,J)]:[3,6];case 5:J=X.sent(),X.label=6;case 6:if(Y.status>=400)throw new t({url:Y.url,status:Y.status,data:J});return[2,J]}})})}).catch(function(Y){throw new t(Y)})]}})})},T.prototype.getFileUrl=function(k,$,x){return x===void 0&&(x={}),this.files.getUrl(k,$,x)},T.prototype.buildUrl=function(k){var $,x=this.baseUrl;return typeof window>"u"||!window.location||x.startsWith("https://")||x.startsWith("http://")||(x=!(($=window.location.origin)===null||$===void 0)&&$.endsWith("/")?window.location.origin.substring(0,window.location.origin.length-1):window.location.origin||"",this.baseUrl.startsWith("/")||(x+=window.location.pathname||"/",x+=x.endsWith("/")?"":"/"),x+=this.baseUrl),k&&(x+=x.endsWith("/")?"":"/",x+=k.startsWith("/")?k.substring(1):k),x},T.prototype.isFormData=function(k){return k&&(k.constructor.name==="FormData"||typeof FormData<"u"&&k instanceof FormData)},T.prototype.serializeQueryParams=function(k){var $=[];for(var x in k)if(k[x]!==null){var I=k[x],L=encodeURIComponent(x);if(Array.isArray(I))for(var E=0,D=I;E<D.length;E++){var F=D[E];$.push(L+"="+encodeURIComponent(F))}else I instanceof Date?$.push(L+"="+encodeURIComponent(I.toISOString())):typeof I!==null&&typeof I=="object"?$.push(L+"="+encodeURIComponent(JSON.stringify(I))):$.push(L+"="+encodeURIComponent(I))}return $.join("&")},T}();function getServer(){if(Log("api/server.ts: getServer","Getting current server (arcos-current-server)",LogLevel.info),!localStorage.getItem("arcos-current-server")){Log("api/server.ts: getServer","arcos-current-server does not exist, falling back to remembered servers",LogLevel.warn);const k=getAllServers();return k.length?(localStorage.setItem("arcos-current-server",k[k.length-1]),k[k.length-1]):(Log("api/server.ts: getServer","Fallback failed: no servers to select from",LogLevel.error),null)}return localStorage.getItem("arcos-current-server")}function getAllServers(){return Log("api/server.ts: getAllServers","Retrieving all servers from arcos-servers",LogLevel.info),localStorage.getItem("arcos-servers")?JSON.parse(localStorage.getItem("arcos-servers")):[]}function addServer(T,k=!0){Log("api/server.ts: addServer",`Adding server ${T} to arcos-servers`,LogLevel.info);const $=getAllServers();$.includes(T)||$.push(T),localStorage.setItem("arcos-servers",JSON.stringify($)),k&&localStorage.setItem("arcos-current-server",T)}function migrateToMulti(){Log("api/server.ts: migrateToMulti","Migrating single-API localStorage state to multi-API",LogLevel.info);const T=localStorage.getItem("arcos-server");T&&(addServer(T),localStorage.removeItem("arcos-server"))}function collectLogsBySource(){const T=get_store_value(LogStore);let k=[],$={};for(let x=0;x<T.length;x++){const I=T[x];k.includes(I.source)||k.push(I.source),$[I.source]=Array.prototype.concat($[I.source]||[],[I])}return $}function compileStringLog(){const T=[],k=get_store_value(LogStore);for(let $=0;$<k.length;$++){const x=k[$],I=LogLevelData[LogLevel[x.level]].capt,L=dayjs(x.timestamp||0).format("HH:mm:ss.mmm");T.push(`${L} [${I}] ${x.source}: ${x.msg}`)}return T}const sleep=T=>new Promise(k=>setTimeout(k,T)),ArcOSVersion="5.0.7",minArcAPI=0,Busy=writable(!1);Busy.subscribe(async T=>{T&&(await sleep(1e4),Busy.set(!1))});const UserData$2=writable(),UserName=writable(),UserToken=writable(),defaultReportOptions={includeApi:!0,includeUserData:!1,title:"Auto-generated report",body:"No user-input was provided when generating this report."};function getAppPreference(T,k){Log("applogic/pref.ts: getAppPreference",`Getting ${k} from ${T}...`);const $=get_store_value(UserData$2);if(!(!$.appdata||!$.appdata[T]))return $.appdata[T][k]}function setAppPreference(T,k,$){Log("applogic/pref.ts: setAppPreference",`Setting ${k} in ${T}...`);const x=get_store_value(UserData$2);return x.appdata?(x.appdata[T]||(x.appdata[T]={}),x.appdata[T][k]=$,UserData$2.set(x),!0):!1}function isLoaded(T){return!!get_store_value(WindowStore).filter($=>$&&$.id==T).length}function isOpened(T){const k=getWindow(T);return k?k.opened:!1}function isMinimized(T){return!!get_store_value(WindowStore).filter($=>$&&$.id==T&&$.state.windowState.min).length}function isDisabled(T){return!!get_store_value(WindowStore).filter($=>$&&$.id==T&&$.disabled).length}function isPopulatable(T){return get_store_value(UserData$2).sh.showHiddenApps&&!T.disabled&&!T.core?!0:!T.disabled&&!T.info.hidden&&!T.info.custom}const icon$6=""+new URL("bugreports-974b1a82.svg",import.meta.url).href,ErrorMessages=writable([]),ErrorWindowStore=writable([]);function errorMessage(T,k,$,x,...I){Log("errorlogic/main.ts: errorMessage",`Generating "${T}"`,LogLevel.info);const L={title:T,message:k,opened:!1,buttons:I,id:Math.floor(Math.random()*1e10),image:$,parentId:x},E=get_store_value(ErrorMessages);E.push(L),ErrorMessages.set(E),createErrorAppData(L)}function closeError(T){Log("errorlogic/main.ts: closeError",`Closing error ${T}`);const k=get_store_value(ErrorWindowStore);for(let $=0;$<k.length;$++)k[$].id==`error_${T}`&&(k[$].opened=!1,setTimeout(()=>{k.splice($,1),ErrorWindowStore.set(k)},500));ErrorWindowStore.set(k)}function openError(T){Log("errorlogic/main.ts: openError",`Opening error ${T}`);const k=get_store_value(ErrorWindowStore);for(let $=0;$<k.length;$++)k[$].id==`error_${T}`&&(k[$].opened=!0);ErrorWindowStore.set(k)}function createErrorAppData(T){Log("errorlogic/main.ts: createErrorAppData",`Generating error appData for ${T.title}`,LogLevel.info);const k={info:{name:T.title,description:"ArcOS.Desktop.ErrorLogicwindow",builtin:!0,version:ArcOSVersion,author:"Generated by ArcOS",icon:T.image||icon$6},size:{w:NaN,h:NaN},pos:{x:60,y:60},minSize:{w:200,h:NaN},maxSize:{w:600,h:NaN},controls:{min:!1,max:!1,cls:!0},state:{headless:!1,resizable:!1,windowState:{min:!1,max:!1,fll:!1}},content:null,glass:!1,id:`error_${T.id}`,opened:!1,parentId:T.parentId},$=get_store_value(ErrorWindowStore);$.push(k),ErrorWindowStore.set($),setTimeout(()=>{openError(T.id);const x=document.querySelector(`window#${k.id}`);if(!x)return Log("ErrorLogic: createErrorAppData",`Can't bring window ${k.id} to front, no associated element could be found.`,LogLevel.error);maxZIndex.set(get_store_value(maxZIndex)+1),x.style.zIndex=`${get_store_value(maxZIndex)}`},5)}const CurrentNotification=writable(null),NotificationStore=writable({});let globalNotifTimeout;function makeNotification(T){if(isDisabled("ArcShell")){errorMessage(T.title,T.message,T.image,null,{caption:"OK",action(){}},...T.buttons);return}clearTimeout(globalNotifTimeout);const k=`${Math.floor(Math.random()*1e9)}`,$=get_store_value(NotificationStore);return $[k]=T,NotificationStore.set($),setTimeout(()=>{CurrentNotification.set(k)},100),T.timeout&&(globalNotifTimeout=setTimeout(()=>{CurrentNotification.set(null)},T.timeout)),k}function closeNotification(){CurrentNotification.set(null)}function deleteNotification(T){const k=get_store_value(NotificationStore);delete k[T],NotificationStore.set(k)}const bugRepIcon=""+new URL("error-4e92fffe.svg",import.meta.url).href;function setAuthcode(T,k){Log("api/authcode.ts: setAuthcode",`Adding authcode to ${T}`,LogLevel.info);let $=localStorage.getItem("arcos-authcodes");$||($="{}"),$=JSON.parse($),$[T]=k,localStorage.setItem("arcos-authcodes",JSON.stringify($))}function getAuthcode(T){Log("api/authcode.ts: getAuthcode",`Getting authcode for ${T}`,LogLevel.info);let k=localStorage.getItem("arcos-authcodes");return k||(k="{}"),k=JSON.parse(k),k[T]}function removeApiSensitive(T){const k=getServer(),$=getAuthcode(k);return T=T.replaceAll(k,"<api>"),$&&$.length&&(T=T.replaceAll($,"<ac>")),T}let DESKTOP_MODE;async function getDesktopMode(){try{DESKTOP_MODE=await(await fetch("/desktop")).text()=="desktop"?"desktop":"browser"}catch{DESKTOP_MODE="browser"}}const isDesktop=()=>DESKTOP_MODE=="desktop",release=""+new URL("systemIcon-393c5507.svg",import.meta.url).href,development=""+new URL("devIcon-567f5f60.svg",import.meta.url).href,unstable=""+new URL("unstIcon-118758aa.png",import.meta.url).href,admin=""+new URL("adminIcon-11dc6ee1.png",import.meta.url).href,siege=""+new URL("siegeIcon-bce24d4a.png",import.meta.url).href,MODES={release,development,unstable,admin,siege};let ARCOS_MODE="release";async function getMode(){Log("ts/branding.ts: getMode","Attempting to retrieve mode from /mode",LogLevel.info);try{ARCOS_MODE=(await(await fetch("./mode")).text()).trim()}catch{ARCOS_MODE="release"}}const Logo$1=T=>MODES[T||ARCOS_MODE]||release,ActionCenterOpened=writable(!1);function toggleActionCenter(){const T=!get_store_value(ActionCenterOpened);ActionCenterOpened.set(T)}function setDesktopClassNameListener(){UserData$2.subscribe(T=>{if(T){const k=T;let $="";k.sh.taskbar.docked&&($+="tbdocked "),k.sh.anim||($+="noani "),k.sh.noGlass&&($+="noglass "),k.sh.window.bigtb&&($+="bigtitlebars "),k.sh.desktop.sharp&&($+="sharp "),k.sh.taskbar.isLauncher&&($+="is-launcher "),k.sh.taskbar.docked&&($+="tb-docked "),desktopClassNames.set($)}})}function generateParamStr(T){let k="?";const $=Object.entries(T);for(let x=0;x<$.length;x++)k+=`${$[x][0]}=${$[x][1]}&`;return k}const ConnectedServer=writable(null),ServerAuthCode=writable(null);async function apiCall(T,k,$,x,I,L,E){const D=generateCredToken(I),F={headers:{Authorization:x?`Bearer ${x}`:`Basic ${D}`},body:L,method:L?"post":"get"},P=!I&&!x,U=generateParamStr({...$,ac:get_store_value(ServerAuthCode)});let M;try{M=await fetch(`${T}/${k}${U}`,P?{body:L}:F)}catch{return{}}const z=M.status,N=await M.text();if(!M.ok&&x&&!"200|304".includes(`${M.status}`)&&get_store_value(CurrentState).name=="Desktop")return{statusCode:z};if(!E)try{return{...JSON.parse(N),statusCode:z}}catch{return{statusCode:z}}return{statusCode:z}}function generateCredToken(T){return T?btoa(`${T.username}:${T.password}`):""}async function changePassword(T,k,$,x){if(Log("ts/api/cred.ts: changePassword",`Attempting to change password for user ${T}`,LogLevel.info),$!=x)return!1;const L=(await apiCall(get_store_value(ConnectedServer),"user/changepswd",{new:btoa($)},null,{username:T,password:k})).statusCode==200,E=localStorage.getItem("arcos-remembered-token");return!E||!L?(Log("ts/api/cred.ts: changePassword","Password change failed: not valid or no remembered token",LogLevel.error),L):atob(E).split(":")[0]!=T?(Log("ts/api/cred.ts: changePassword","Password change failed: the username does not match the current user",LogLevel.error),L):(localStorage.setItem("arcos-remembered-token",btoa(`${T}:${$}`)),L)}async function changeUsername(T,k){if(Log("ts/api/cred.ts: changeUsername",`Attempting to change the username for user ${T}`,LogLevel.info),get_store_value(UserName)!=T)return Log("ts/api/cred.ts: changeUsername","Username change failed: the old username does not match the current user",LogLevel.error),!1;const x=(await apiCall(get_store_value(ConnectedServer),"user/rename",{newname:btoa(k)},get_store_value(UserToken))).statusCode==200;if(UserName.set(k),!x)return Log("ts/api/cred.ts: changeUsername","Username change failed: the API did not permit the username change",LogLevel.error),!1;const I=localStorage.getItem("arcos-remembered-token");return I?atob(I).split(":")[0]!=T?(Log("ts/api/cred.ts: changeUsername","Could not update remembered token: the token's ",LogLevel.warn),!1):(localStorage.setItem("arcos-remembered-token",btoa(`${k}:${atob(I).split(":")[1]}`)),x):(Log("ts/api/cred.ts: changeUsername","Could not update remembered token: it doesn't exist",LogLevel.warn),!1)}async function logoffToken(){Log("ts/api/cred.ts: logoffToken","Discontinuing token if present",LogLevel.info);const T=get_store_value(UserToken),k=get_store_value(ConnectedServer);if(!(!T||!k))return await apiCall(k,"logoff",{},T)}const BugReportData=writable();function InvalidStateBugrep(T,k){Log("ts/bugrep.ts: InvalidStateBugrep",`${T}: ${k}`,LogLevel.info),BugReportData.set([!0,{icon:"broken_image",title:"Broken page",message:"ArcOS tried to open a page or location that doesn't exist.<br>This session can't continue. You can choose to restart.",button:{action:()=>applyState("boot"),caption:"Restart"},source:T,details:`applyState for ${T}: Can't apply a non-existent state '${k}'.`}])}const arctermonly="",main="",defaultDirectory={files:[],directories:[],name:"",scopedPath:""};async function getDirectory(T="./"){Log("fs/directory.ts: getDirectory",`Requesting directory contents of "${T}" from ArcAPI`,LogLevel.info);const k=get_store_value(ConnectedServer);if(!k)return!1;const $=await apiCall(k,"fs/dir/get",{path:T?btoa(T):null},get_store_value(UserToken));return!$||!$.valid?!1:$.data}async function createDirectory(T){Log("fs/directory.ts: createDirectory",`Creating ${T}`);const k=get_store_value(ConnectedServer);return k?(await apiCall(k,"fs/dir/create",{path:btoa(T)},get_store_value(UserToken))).valid:!1}const dialogError=""+new URL("Error-35b4aff9.wav",import.meta.url).href,dialogWarning=""+new URL("Warning-ab00a839.wav",import.meta.url).href,dialogInfo=""+new URL("Info-ccd624fe.wav",import.meta.url).href,notification=""+new URL("Notification-2d6e0e95.wav",import.meta.url).href,systemLogon=""+new URL("logon-aa2b9d46.wav",import.meta.url).href,systemLogoff=""+new URL("logoff-62e8a4e4.wav",import.meta.url).href,click=""+new URL("click-loud-74bfb009.wav",import.meta.url).href,mwomp=""+new URL("mwomp-71d2eb2a.mp3",import.meta.url).href,ArcSounds={"arcos.dialog.error":dialogError,"arcos.dialog.warning":dialogWarning,"arcos.dialog.info":dialogInfo,"arcos.notification":notification,"arcos.system.logon":systemLogon,"arcos.system.logoff":systemLogoff,"arcos.click":click,"arcos.mwomp":mwomp};class SoundBus{constructor(k){ue(this,"store",{});ue(this,"_bus",{});if(!k){Log("SoundBus","Can't create SoundBus without valid store.",LogLevel.error);return}this.store=k}playSound(k){if(!this.store[k])return!1;Log("SoundBus.playSound",`Playing sound ${k} from store`);const $=document.createElement("audio");$.muted=!0,$.src=this.store[k],$.volume=1;try{$.play(),setTimeout(()=>{$.muted=!1},10)}catch{return Log("SoundBus.playSound",`Can't play ${k}: User didn't interact with the page first`,LogLevel.error),!1}return this._bus[k]||(this._bus[k]=[]),this._bus[k].push($),$.onended=()=>delete this._bus[k],!0}stopSound(k){if(Log("SoundBus.stopSound",`Stopping ${k}`),!this._bus[k])return!1;const $=this._bus[k];for(let x=0;x<$.length;x++)$[x].src=null,$[x].currentTime=-1,$[x].pause();return!0}getStore(){return Object.entries(this.store)}loadExternal(k,$=!1){const x=`${Math.floor(Math.random()*1e9)}`;this.store[x]=k,$&&this.playSound(x)}}const ArcSoundBus=new SoundBus(ArcSounds);function createOverlayableError(T,k){Log("errorlogic/overlay.ts",`Creating error "${T.title}" for parent ${k}`,LogLevel.info);const $=get_store_value(WindowStore);for(let x=0;x<$.length;x++){const I=$[x];if(I.id==k)return I.errorOverlays||(I.errorOverlays=[]),I.errorOverlays.push({...T,id:`${Math.floor(Math.random()*1e9)}`}),WindowStore.set($),ArcSoundBus.playSound("arcos.dialog.info"),!0}return!1}function destroyOverlayableError(T,k){const $=get_store_value(WindowStore);for(let x=0;x<$.length;x++){const I=$[x];if(I.id!=k||!I.errorOverlays)continue;const L=I.errorOverlays;for(let E=0;E<L.length;E++)if(L[E].id==T)return L.splice(E,1),WindowStore.set($),!0}return!1}function showOverlay(T,k){const $=get_store_value(WindowStore);for(let x=0;x<$.length;x++)if($[x].id==k){if(!$[x].overlays||!$[x].overlays[T])return!1;$[x].overlays[T].show=!0}WindowStore.set($)}function hideOverlay(T,k){const $=get_store_value(WindowStore);for(let x=0;x<$.length;x++)if($[x].id==k){if(!$[x].overlays||!$[x].overlays[T])return!1;$[x].overlays[T].show=!1}WindowStore.set($)}const clear$1=""+new URL("clear-6d207fdf.svg",import.meta.url).href;async function deleteItem(T){Log("fs/file.ts: deleteItem",`Deleting item "${T}" from ArcFS`,LogLevel.info);const k=get_store_value(ConnectedServer);return k?(await apiCall(k,"fs/rm",{path:btoa(T)},get_store_value(UserToken),null,null,!0)).valid!=!1:!1}let FileBrowserCurrentDir=writable("./"),FileBrowserDirContents=writable(defaultDirectory),FileBrowserSelectedFilename=writable(null),FileBrowserOpeningFile=writable(null),FileBrowserDeletingFilename=writable(null),FileBrowserUploadFile=writable(null),FileBrowserOpenCancelled=writable(!1),FileBrowserRefreshing=writable(!1),FileBrowserUploadProgress=writable(0),FileBrowserCuttingFilename=writable(null),FileBrowserCopyingFilename=writable(null);FileBrowserOpenCancelled.subscribe(T=>{T&&(createOverlayableError({title:"Open cancelled",message:"The opening procedure was cancelled by the user.",buttons:[{caption:"OK",action(){}}],image:bugRepIcon},"FileManager"),FileBrowserOpenCancelled.set(!1))});class FileBrowserClass{async refresh(k=!0){Log("FileBrowser: refresh","Refreshing current directory contents",LogLevel.info),FileBrowserRefreshing.set(!0),k&&(FileBrowserDirContents.set(defaultDirectory),FileBrowserSelectedFilename.set(null));const $=get_store_value(FileBrowserCurrentDir),x=await getDirectory($);FileBrowserDirContents.set(x||{...defaultDirectory,scopedPath:$}),FileBrowserRefreshing.set(!1)}async goToDirectory(k){Log("FileBrowser: goToDirectory",`Navigating to "${k}"`),FileBrowserSelectedFilename.set(null),FileBrowserCurrentDir.set(k),ArcSoundBus.playSound("arcos.click"),await this.refresh()}async deleteItem(k,$){FileBrowserDeletingFilename.set(k),showOverlay("deletingItem","FileManager"),await deleteItem($)||createOverlayableError({title:"Unable to delete item",message:"ArcAPI was not able to delete the item from the file system. A permission error may have occured. Please try again later.",buttons:[{caption:"OK",action(){}}],image:clear$1},"FileManager"),FileBrowserSelectedFilename.set(null),fbClass.refresh(),setTimeout(()=>{hideOverlay("deletingItem","FileManager")},100)}}const fbClass=new FileBrowserClass,selectedMessageId=writable(null),replyMessageId=writable(null),threadMessageId=writable(null),creatingMessage=writable(!1);async function getMessages(){const T=get_store_value(ConnectedServer);if(!T)return[];const k=await apiCall(T,"messages/list",{},get_store_value(UserToken));return k.valid?k.data:[]}async function getMessage(T){const k=get_store_value(ConnectedServer);if(!k)return!1;const $=await apiCall(k,"messages/get",{id:btoa(T)},get_store_value(UserToken));return $.valid?$.data:!1}async function closeAllProgressively(){Log("applogic/close.ts: closeAllProgressively","Closing entire WindowStore");const T=get_store_value(WindowStore);for(let k=0;k<T.length;k++)closeWindow(T[k].id),await sleep(50)}function shutdown(){closeAllProgressively(),logoffToken(),shuttingDown.set(!0)}function restart$1(T=!1){closeAllProgressively(),T&&(localStorage.removeItem("arcos-remembered-token"),logoffToken()),restarting.set(!0)}const source="UserLogic: UserData watch";let commitTimeout;function commitUserdata(T){if(T){if(clearTimeout(commitTimeout),committingUserData.set(!0),get_store_value(UserName)){const k=setUserdata(T);unsetStatus(),k||(Log(source,"Commit failed, setter returned false",LogLevel.error),get_store_value(BugReportData)||commitFailed());return}unsetStatus(),Log(source,"Not committing, no username",LogLevel.warn)}}function unsetStatus(){commitTimeout=setTimeout(()=>{committingUserData.set(!1)},1500)}function commitFailed(){BugReportData.set([!0,{icon:"person_off",title:"User data commit failed",message:"The user data could not be saved. This happens if the<br>user data is altered while ArcOS is running.",details:"UserLogic: UserData watch: setter returned false",button:{action:()=>{applyState("fts")},caption:"Reset"}}])}const committingUserData=writable(!1);async function getUsers(){Log("userlogic/main.ts: getUsers","Getting users");const T=get_store_value(ConnectedServer);if(!T)return[];const k=await apiCall(T,"users/get",{},null,null);let $={};const x=k.data;for(let I=0;I<x.length;I++)$[x[I].username]=x[I];return $}async function deleteUser(){Log("userlogic/main.ts: deleteUsers","Delete users");const T=get_store_value(ConnectedServer),k=get_store_value(UserToken);T&&(apiCall(T,"user/delete",{},k),get_store_value(CurrentState).name=="Desktop"&&restart$1())}async function setUserdata(T){const k=get_store_value(ConnectedServer);if(!k)return!1;(await apiCall(k,"user/properties/update",{},get_store_value(UserToken),null,JSON.stringify(T))).valid&&Log("userlogic/main.ts: setUserdata","Userdata committed to API",LogLevel.info)}UserData$2.subscribe(commitUserdata);const def$1="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAgMAAACJFjxpAAAADFBMVEXFxcX////p6enW1tbAmiBwAAAFiElEQVR4AezAgQAAAACAoP2pF6kAAAAAAAAAAAAAAIDbu2MkvY0jiuMWWQoUmI50BB+BgRTpCAz4G6C8CJDrC3AEXGKPoMTlYA/gAJfwETawI8cuBs5Nk2KtvfiLW+gLfK9m+r3X82G653+JP/zjF8afP1S//y+An4/i51//AsB4aH+/QPD6EQAY/zwZwN8BAP50bh786KP4+VT+3fs4/noigEc+jnHeJrzxX+NWMDDh4g8+EXcnLcC9T8U5S/CdT8bcUeBEIrwBOiI8ki7Ba5+NrePgWUy89/nYyxQ8Iw3f+pWY4h1gb3eAW7sDTPEOsLc7wK1TIeDuDB+I/OA1QOUHv/dFsZQkhKkh4QlEfOULYz2nGj2/Nn1LmwR/86VxlCoAW6kCsHRGANx1RgCMo5Qh2EsZgrXNQZZShp5Liv7Il8eIc5C91EHY2hxk6bwYmNscZIReDBwtCdhbErC1JGBpScBcOgFMLQsZMQs5Whayd+UQsLYsZGlZyNyykKllISNmIUfAwifw8NXvTojAjGFrdYi11SGWVoeYWx1i6lmQCiEjFkKOVgjZ+xxIhZCtFULWHkCqxCw9gNQKmP9vNHzipdEPrRcxtVbAeDkAvve0iM2QozVD9hfjhp4YP/UrkJYDbD2AtBxgfSkAvvHEeNcDSAsilgtAWxIy91J8AXgZAJ5e33+4tuACcAG4AFwALgBXRXQB6AFcB5MXAuA6nl9/0Vx/011/1V5/1/dfTPJvRtdnu/zL6beeFO/7r+fXBYbrEkt/j+i6ytXfpuvvE/ZXOnsA/a3a/l5xf7O6v1t+Xe/vOyz6HpO8yyboM8o7rfJes77bru83THk48p7TvOs27zvOO6/73vO++z7l4cgnMPQzKPopHC0N9noSSz6LJp/Gk88jyicy5TOp6qlc+VyyfDJbPpuuns6XzyfMJzTmMyrrKZ35nNJ8Ums+q7af1tvPK+4nNodEnPKp3fnc8npyez67/qVP7+/fL8hfcMjfsOhf8cjfMclfcnn9+BkOnLECP8Q58OYeyJ40eoyF6Ee/En/JHlP6mIlRVXprF4BxtAvArV0AxtEuALd2ARhHuwDc2gVgHPX/hFv9fMBddjIGeKg/WCxlCsI46u+Ga5mCcJd+sIG9UkGAW32ZbApFAHhod4Bb3eo04h3god0BbiUHYApVCNjbHeBW+QDAXT4a7qg7r7e214057vg0QhkEHkoSwq0kIdydXw4/Q3H8hjYJ3vL0WConBJhCHQaOToeBrU0BljYFmEoVgHGUKgAPnREAt84IgLuqFgAYSUEOAHszDwuAtSkHAZhLGYIpdCLgKGUIHtocZG1zkLmUIRhxDnJU1RDA1uYga5uDzKUOwhTnIEfnxcDe5iBrcyQAYGlzkKkUYhhxDrKXQgxbSwLWUohhbknA1JKAEZOAvSUBW0sC1pYEzC0JmFoSMMJyCDhaFrK3JGDtyiFgaVnI3LKQqWUhI2YhR8tC9paFrC0LWVoWMrcsZGpZyIhZyNGykL2rSIGtlQHWVgZYWhlgbmWAqZUBRiwDHK0MsLcywNbKAGsOoNUhllaHmFsdYmp1iBHrEEerQ+w5gFYI2VodYm11iKXVIeYcQCuETK0QMmIh5MgBtELI3gohWyuErDmAVolZWiFkzgG0SszUKjGjfj6gVmKOVonZcwCtFbB9HQC+ozWDbz1bvGu9iKW1AuYcQOtFTLEX1GbIaFegN0OOHEBrhuw5gNYM2XIArRuz5gDacoB3bTnAEktxXQ4wfw0AvveM8b4tiJjSJOwLIsbXsAKeNeKCiOO3D+AVbUl0AfjGs8ZPbUnIdgFoa1LWC0BblfMuB9AeC1j6gqQE0J9LmC8AOYD2ZMb7i4bt2ZTpWoHfPoB7Tj2fXzT8N1X41vkq/QHOAAAAAElFTkSuQmCC",pfp1=""+new URL("1-ce0ed19a.png",import.meta.url).href,pfp10=""+new URL("10-a17f4986.png",import.meta.url).href,pfp11=""+new URL("11-0772df5b.png",import.meta.url).href,pfp12=""+new URL("12-e9d77a32.png",import.meta.url).href,pfp13=""+new URL("13-0dcda114.png",import.meta.url).href,pfp14="data:image/png;base64,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",pfp15="data:image/png;base64,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",pfp16="data:image/png;base64,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",pfp17=""+new URL("17-662a7167.png",import.meta.url).href,pfp18=""+new URL("18-240e69f8.png",import.meta.url).href,pfp19=""+new URL("19-42714701.png",import.meta.url).href,pfp2=""+new URL("2-73afb162.png",import.meta.url).href,pfp20="data:image/png;base64,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",pfp21=""+new URL("21-6ad724fd.png",import.meta.url).href,pfp22="data:image/png;base64,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",pfp23="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAMAAADVRocKAAAC31BMVEXu7u7v7+/w8PDy8vL09PT19fX39/f4+Pjx8fH7+/v9/f3+/v7////29vb8/Pz6+vr5+fnz8/P//v7/+Pb/7+r/4Nf/0cP/xrT/vqv/u6b//Pv/7un/0sT/spv/mHj/glv/eE7/c0j/b0P/bUD/bD//9vP/1sn/qpD/hmD/bD7/az3/9fL/y7v/lnb/dUv/az7/+vn/08b/lnX/ckf/6uP/d03/bT///fz/1Mf/i2f/+ff/wKz/elH/9/T/s5z/r5b/cUX/+fj//f3/+/n/ckb/imb/pIj/kG3/noH/iGT/xbT/x7X/fVX/8u7/+vj/7Ob/wK3/hWD/bkH/m3z/5t//v6z/cET/uaT/49r/l3j/bUH/nH3/knD/jmr/mHn/jGn/6OH/wa3/b0L/vKf/5t7/59//gFn/flb/5Nz/zr//dkz/0sP/pYr/ooX/n4H/oob/eVD/3NH/5d7/2Mz/ybj/3tT/2c7/eE//8e3/sJj/f1j/dkv/glz/t6H/9PD/7+n/iGP/7ej/van/h2L/g13/tqD/+PX/mXr/cEP/xLH/p4z/qI3/uaP/rZP/rJL/9/X/wa7/fFP/xLL/r5f/6uT/6eL/dEj/yLf/4dj/elL/jmv/8Oz/vqr/xbP/w7H/dEn/j2z/8+//oYX/+/r/yrr///7/qo//zb7/oIL//v3/rZT/0MH/o4f/sJf/rpX/9PH/tJ3/e1L/zLz/f1f/tZ//3NL/qY//hV//qI7//Pz/eU//u6f/k3L/z8D/8Ov/3tP/0ML/3dP/lHT/kW//uKL/sZn/p4v/dEr/fFT/dUr/iWX/pYn/lXX/lHP/q5H/6+X/gVv/xrX/08X/jWr/noD/oIP/jGj/c0n/nX//nH7/0sX/l3f/2s7/4Nb/4df/2c3/5+D/6OL/v6v/rJP/flf/49v/t6D/5Nv/uqX/fVT/jmz/0cL/z8H/8u//m33/tp//8ez/yrn/18v/39b/iWSUsVjxAAAG0UlEQVR42uzR1QECQQwEUNYtl3Oj/z5x+MHWcF4BkZnFx/gjlHEhpdqQUnBGSc7hWihjnYMT56xRQpMs05k0Di5yRrLUHVocp1/bUeiU8RLhLpQ6erwFLzZqBREI3lAEd8FKCFKysPMLC4FsEfAErRwEcxX1jsdAFOMZU40QCWuf+dxCNMvj5zdt1w/jNM/TOPRd28RuqC/OX64pqwol12EYOMfMzJezwmldZmbuY2Zm/v95EzhwIhd2OBVU2tX66Pjk9OxcuCAA5EI4Pzs9OT46RDtsDOEX278oyYqgaioAsQCgaqqgyJKI8TCQ6UlEP7rh81MViAugUr/P0BEtDVDrxLonPBAMhSkQFEDDoWDAk7LOv7gVz31F5CiNES5iNCpHPBe3wiXATXA8kSRABgJIMhF3E82hYcLtb6l0hpKhoJl0yu18+JJmXGHZnKCSEaAKuawrdQZ9X1Zd9fMFICMBCnlXh1XsBZplY4o5vD7eIVdks2eRAViGS2kByMgAIV1ieZ4fNkAio5IxoGYS/BEwBiJJSsYCTUZwFnAJlWUyNuTyICFNsCYUjAIZExANspY0wR4xYxJ6iDpWoFJKYZBVaJpKbNCQzhjG1ACKjXDMpq5SrckhP/DFU681lIJqNwsbKM3IhkSfM0CztX1Y0tsdnptm0t3DXv/W7Zg9gk/k7mie2ZBk/+c7d+/ZJ3G/ghvqg4eH1mP66PETq59fYnY0z9NQXLYHeHrkfOg+o6j2n287Af0X9ghynKejuZs/HCmqmf7y1dWX1xcEwZu3VwHvqlaKcnSzzhyPgmMBTNXtXn95/wFhAT5+uo74/MXMEb5ySJhkfOhENdO/9W7c3XdkR/THjYjUTzBHOGH8aBK/gq3HGiHw67dV+c/fVyaRhpfmWOGfydd/RqwBSLIkiJ7CL9Rab+PnIn/HTJ369/mGwR2tbdu2bdu2bdvG2bcO66pX09c11VMdGBReV2Vl5nsvr8fnryLdsxdZll3HXXQmfBQP4PGzZYl6sS7Vu0/ffv0HDAQGZStH4MFDgApDhwWGj5ATMHKUnMF+TzzAR0U/Im9AfpfRYyCXj23KxDXHDYRrfNVEgKojXAhPyBJywsRJACbLh0ABr/KM1Dz2yRjTlNoApmZRLBo1p7kxfVjCEbjyDOS+7kk0cxaA2XNIRtmn5LIKUEJ+FTF3IDCvkXhTEOZHseD//Yc+W4iMyYvodbgX5wBLYrNDJRQANQ1KyiX20mVAmzcVSUZ8+Qr3yqpxCE7VcZOwag69GV/kAz5ebctfS6qJoACUIgnQB1izlt/dR6t16L0+9A6BmnaYh7J9343TBhewUQJQKUMAqgVMkjW7EGF56U2btzCT4xDzlu8GRrdu48KUKO8GBpACoL8iayjQezDH3Xlge050x86CyGefRXbt7rInZ8DeuFHOzgH2OcoV6YNMpYAhfo6Pamj/gXD04KHD644cjFZYd7RmfMx5eBmgFumDrDxT8V0CgPzwomPHKzb2eBpXHF9/kRxKBDgh9M9USTT7ZDR2RYls3Tp12u8/fcZK7KJ8Ngelz9n6RFNKhTg/Cd8eVSscETORWvdS5PQLQl8qlGLH/fMQ3WlMjcTFDFy6zPpip5RrWvQFsCBkClDzCnB1EanlWt9wqJwLrauYsutWXeE6QWrDSdIyxbUcpF83vCNxIxe9bwqlZSZr+hRcB7S5ZXQEWiTnHgiSpulraAvfdiOcYnQEUT6MkXdYQ1t0xIvafiIDZ0JRKfAFcLctaYiXljryvSXI3Fi1eICq3y/DkhTWUEc9+XXS5rtQZn+xMoQveOAamqYlv3r6Tq3uAw8SW6Xa+x8Cj1qRnr7rBQgvniHX7kp6Bq58H2i8mJMLEK2EqncQ6HKTHK08oEZdAE81J7mE0ovAqjc8QIvraZpDcFrHHwDP6qrFi0CNjHWq1vsR2DTfT0VxU6f/T2GgcbWqZjJWI8TnPsrAmtY/t7IEJfSGXya0XoNot7mORogbWglcpVQOUPrX3+ZGLFswyQ8L24rMHfB7aSDnjz9ZYyUYmyFU86hvEuBa0rNUp7/8Uzp3nuJf3KnZ/SUuYNLfF2qS1gwxt3M4td4/sf2wbNOQ5l5v8yGblgFw/XvgcSob2DkGhhRxcO6T+0+XFQ4se9rzydwgk4EhZWapyZhGznY6/uz5g4cPXzx/drzDy4iMuomlZm4KEtuUlhro1SuQmkY201tTMNfAFDS3Nem/gQHhYU36D8wSHlrORh9azsY1tEzXwXH6D+9TPkFB/ykW+k8SUT7NRf+JOvpPNVI+WTrw070IK3gJT1jTdcqd/osG6L/sgf5gFAAAwljXMphbLwMAAAAASUVORK5CYII=",pfp24="data:image/png;base64,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",pfp25="data:image/png;base64,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",pfp26="data:image/png;base64,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",pfp27="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAIAAABt+uBvAAAFHUlEQVR42u3cA5zrShvH8a7x8tq2bdu2bdu2bdu2bSOdam3v1sr8bp9r34NumvTM//McrIpvMMlgffhN/V0ZAgNkgAyQATJABsgAGSBTBsgAGSADZIAMkAEyQKbcClRJcCpUPf4KVA0GSCD8VahGeg6g50DaNyfxDv2n0bUzIzfRvDSB/0hNoUCWj9Y1Gb6G3qPJ9WDHyIQB8kPkegGijxN7htF7CE495QFF5qN1dUbvBtBJsPljdP5Hr4FzGDiXyLxTBpDlI/B/Ys/JO88P8s+x0Vl0jt5Dfzw9lTlQ06J070vaz0RF50l+KAddywplDRT4D9En0Bl0lkmIzsm53CpXIFVF0yLEnmWSo9Py4z2HoOrLEah1DTJKWqvJTCZMaLZyBOrYAnuUyU/qEzo2J/Cv8gLq2JrYC8UB0hnyA3Rsg1U+QNUMX08Rkx+hcwdUTVkAqWraNmDsQXSOYkWnyQTpPQp/lfeBQrOQ9jMeGbkNVedxIFUt95zJDyh+8iRelyY/0OhZIMtH2/pkQthxxinZFrlH8+4eJKdSO8b4JfWltI+B/3gRqEJ04i9hRxm/SJM/ROcuWJ4DUrWM3IEDsWN07Y6q8RSQqqF9Y6KPQZ7xjs5Ik993IqraO0DhueXc7GTG7kc1eARI1UivTepTnItN4i16DyfwHy8AtW9GJiJNu8PJdUhvnOV+oK490SmcT9qic3sC/3UzUCVduxJ/WXYf56OzchPbvQ+Wa4FUg9yUljA6SfcBqFpXAqlaOfvEnga7dEBZafL7T0eM3AYUWUjujNyQ6OME/u0yIFVD66qkv6b00STfldHawP9cA2T56NhWdh87gUuS66V5GSzX7EFyatRZ3JNMkM6dCfzfBUCqiu69iL+CTuKe6Cx2lJ6DsUoP9G9puVwYnZGbD1VbUiBVT8eWxJ4HjdsiTX6YgfNQ9aUDal6SbAdoXJv4i3LzUSKgSlqWJ23h5iTfRzr2/1MKoLZ1RcdO8k954dOPjrvjxhPuvKmIVXjAwsNOeJPvNNCP1z72GBOQ4++40bfByr6NVytiFR6w8LBMSJLvEpnPcSBVJz3BE3ZvUdjg8pY2W7OIVXjAwsMyIbGjjD1McBpngZoWk9MzeAAIZOQyNJOzQMHpiD4KtgeAdJbBiwj821mg8BxEn/AEkCQ/QPtGWI4BWT7aN8GOeuQQs0m8S9PiDh9iUzN4CTrlkUPsUlSDw61YAyO3gvbGIZb2E57VWaDAv2WsTidBux0o/a3MzFZ1jgJJhWdn9F4vAFkluFCUCvxfxjPB1UB2XMZ4I/OXAkjVSFdZ7Dl00rVAch6ILIC/snQdZt17ozOuBLIRoAd+bL9KBtS6mqyCy4TAdheQDJCdIh0ype60r5QBlv4zXLQH6Qzk5f4rOC2WS4Z9Wlcn+pQsENTJ0gMl3pTu+rZ1ijKLungzEgONMi0oEybbTLYdSR70eALd/MsyKTQ6TfwFGbzsO0FoLDdOXqihZUWZGD1wDrk+WW6abUUnTrjlBN/GqxcbaPUTbj5OOsNA+hWiT8r/m5eUw0o1uH4KXnAqYQpOLXN0ew844YolfZsUU0dqk7VOuGJRmhen9whpyIP/JzQj/kpPLmY5/tK5fRutXXhLRazCAxYeFuXD8vxiFt8td860xhFLrn3UEkWswgPefOdMqLJYDpX6unL08+qiV+Fhy2hBnSp6uW5JpvnlJqYMkAEyQAbIABkgA2SATBkgA2SADJABMkAGyACZ+g5eG3xTXD3mYQAAAABJRU5ErkJggg==",pfp28="data:image/png;base64,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",pfp29="data:image/png;base64,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",pfp3=""+new URL("3-f0871c58.png",import.meta.url).href,pfp4=""+new URL("4-61f6a6d6.png",import.meta.url).href,pfp5=""+new URL("5-17c42ca6.png",import.meta.url).href,pfp6=""+new URL("6-ae5f3eff.png",import.meta.url).href,pfp7=""+new URL("7-8a53975d.png",import.meta.url).href,pfp8=""+new URL("8-0ff7188c.png",import.meta.url).href,pfp9=""+new URL("9-fdbbb4a2.png",import.meta.url).href,ProfilePictures={pfp1,pfp2,pfp3,pfp4,pfp5,pfp6,pfp7,pfp8,pfp9,pfp10,pfp11,pfp12,pfp13,pfp14,pfp15,pfp16,pfp17,pfp18,pfp19,pfp20,pfp21,pfp22,pfp23,pfp24,pfp25,pfp26,pfp27,pfp28,pfp29,def:def$1};function getProfilePicture(T){return typeof T=="number"?ProfilePictures[`pfp${T}`]||def$1:T.toString()}async function applyCustomPfp(T){const k=get_store_value(UserData$2);k.acc.profilePicture=T,UserData$2.set(k)}const pfpCache={};async function getUserPfp(T){if(!get_store_value(ConnectedServer))return def$1;if(pfpCache[T])return getProfilePicture(pfpCache[T]);const $=await getUsers();return $[T]?(pfpCache[T]=getProfilePicture($[T].acc.profilePicture),pfpCache[T]):def$1}const ProfilePicture_svelte_svelte_type_style_lang$1="";function create_fragment$4l(T){let k,$;return{c(){k=element("div"),attr(k,"class",$="pfprenderer "+T[2]+" pfp svelte-11jeot8"),set_style(k,"background-image","url('"+T[0]+"')"),set_style(k,"height",T[1]+"px")},m(x,I){insert(x,k,I)},p(x,[I]){I&4&&$!==($="pfprenderer "+x[2]+" pfp svelte-11jeot8")&&attr(k,"class",$),I&1&&set_style(k,"background-image","url('"+x[0]+"')"),I&2&&set_style(k,"height",x[1]+"px")},i:noop$1,o:noop$1,d(x){x&&detach(k)}}}function instance$3Z(T,k,$){let{src:x}=k,{height:I}=k,{className:L=""}=k;return T.$$set=E=>{"src"in E&&$(0,x=E.src),"height"in E&&$(1,I=E.height),"className"in E&&$(2,L=E.className)},[x,I,L]}let ProfilePicture$1=class extends SvelteComponent{constructor(k){super(),init(this,k,instance$3Z,create_fragment$4l,safe_not_equal,{src:0,height:1,className:2})}};const spinner$1="",spinner=""+new URL("spinner-0a23b3e0.svg",import.meta.url).href;function create_fragment$4k(T){let k,$;return{c(){k=element("img"),src_url_equal(k.src,$=spinner)||attr(k,"src",$),attr(k,"alt","spinner"),set_style(k,"height",T[0]+"px"),attr(k,"class","spinner-svg")},m(x,I){insert(x,k,I)},p(x,[I]){I&1&&set_style(k,"height",x[0]+"px")},i:noop$1,o:noop$1,d(x){x&&detach(k)}}}function instance$3Y(T,k,$){let{height:x}=k;return T.$$set=I=>{"height"in I&&$(0,x=I.height)},[x]}class Spinner extends SvelteComponent{constructor(k){super(),init(this,k,instance$3Y,create_fragment$4k,safe_not_equal,{height:0})}}function create_if_block$1D(T){let k,$,x,I,L,E,D,F,P,U,M,z;return $=new ProfilePicture$1({props:{src:T[2],height:151}}),F=new Spinner({props:{height:23}}),{c(){k=element("div"),create_component($.$$.fragment),x=space(),I=element("h1"),L=text(T[1]),E=space(),D=element("h3"),create_component(F.$$.fragment),P=text(" "),U=element("span"),M=text(T[0]),attr(k,"class","userlogin show")},m(N,q){insert(N,k,q),mount_component($,k,null),append(k,x),append(k,I),append(I,L),append(k,E),append(k,D),mount_component(F,D,null),append(D,P),append(D,U),append(U,M),z=!0},p(N,q){const j={};q&4&&(j.src=N[2]),$.$set(j),(!z||q&2)&&set_data(L,N[1]),(!z||q&1)&&set_data(M,N[0])},i(N){z||(transition_in($.$$.fragment,N),transition_in(F.$$.fragment,N),z=!0)},o(N){transition_out($.$$.fragment,N),transition_out(F.$$.fragment,N),z=!1},d(N){N&&detach(k),destroy_component($),destroy_component(F)}}}function create_fragment$4j(T){let k,$,x=T[2]&&create_if_block$1D(T);return{c(){x&&x.c(),k=empty()},m(I,L){x&&x.m(I,L),insert(I,k,L),$=!0},p(I,[L]){I[2]?x?(x.p(I,L),L&4&&transition_in(x,1)):(x=create_if_block$1D(I),x.c(),transition_in(x,1),x.m(k.parentNode,k)):x&&(group_outros(),transition_out(x,1,1,()=>{x=null}),check_outros())},i(I){$||(transition_in(x),$=!0)},o(I){transition_out(x),$=!1},d(I){I&&detach(k),x&&x.d(I)}}}function instance$3X(T,k,$){let x,I;component_subscribe(T,UserName,P=>$(4,x=P)),component_subscribe(T,loginUsername,P=>$(5,I=P));let{caption:L}=k,{username:E=""}=k,D="",F="";return onMount(async()=>{$(1,D=I||x||E),$(2,F=await getUserPfp(D)),F==def$1&&$(2,F=Logo$1())}),T.$$set=P=>{"caption"in P&&$(0,L=P.caption),"username"in P&&$(3,E=P.username)},[L,D,F,E]}let Loading$1=class extends SvelteComponent{constructor(k){super(),init(this,k,instance$3X,create_fragment$4j,safe_not_equal,{caption:0,username:3})}};function create_fragment$4i(T){let k,$;return k=new Loading$1({props:{caption:"Welcome"}}),{c(){create_component(k.$$.fragment)},m(x,I){mount_component(k,x,I),$=!0},p:noop$1,i(x){$||(transition_in(k.$$.fragment,x),$=!0)},o(x){transition_out(k.$$.fragment,x),$=!1},d(x){destroy_component(k,x)}}}class AutoLogin extends SvelteComponent{constructor(k){super(),init(this,k,null,create_fragment$4i,safe_not_equal,{})}}const userlogin="";function flush(){UserName.set(void 0),loginUsername.set(void 0),NotificationStore.set({}),ErrorMessages.set([])}function create_fragment$4h(T){let k,$;return k=new Loading$1({props:{caption:"Goodbye",username:T[0]}}),{c(){create_component(k.$$.fragment)},m(x,I){mount_component(k,x,I),$=!0},p(x,[I]){const L={};I&1&&(L.username=x[0]),k.$set(L)},i(x){$||(transition_in(k.$$.fragment,x),$=!0)},o(x){transition_out(k.$$.fragment,x),$=!1},d(x){destroy_component(k,x)}}}function instance$3W(T,k,$){let x;return component_subscribe(T,UserName,I=>$(0,x=I)),onMount(()=>{setTimeout(()=>{flush(),applyLoginState("selector")},2e3)}),[x]}class Logoff extends SvelteComponent{constructor(k){super(),init(this,k,instance$3W,create_fragment$4h,safe_not_equal,{})}}function create_fragment$4g(T){let k,$;return k=new Loading$1({props:{caption:"Restarting"}}),{c(){create_component(k.$$.fragment)},m(x,I){mount_component(k,x,I),$=!0},p:noop$1,i(x){$||(transition_in(k.$$.fragment,x),$=!0)},o(x){transition_out(k.$$.fragment,x),$=!1},d(x){destroy_component(k,x)}}}function instance$3V(T){return setTimeout(()=>{location.reload()},2e3),[]}let Restart$1=class extends SvelteComponent{constructor(k){super(),init(this,k,instance$3V,create_fragment$4g,safe_not_equal,{})}};function create_if_block$1C(T){let k,$,x,I,L,E,D,F;return $=new ProfilePicture$1({props:{src:T[2],height:76}}),{c(){k=element("button"),create_component($.$$.fragment),x=space(),I=element("p"),L=text(T[1]),attr(I,"class","username"),attr(k,"class","user"),toggle_class(k,"drop",T[1]=="space")},m(P,U){insert(P,k,U),mount_component($,k,null),append(k,x),append(k,I),append(I,L),E=!0,D||(F=listen(k,"click",T[3]),D=!0)},p(P,U){const M={};U&4&&(M.src=P[2]),$.$set(M),(!E||U&2)&&set_data(L,P[1]),(!E||U&2)&&toggle_class(k,"drop",P[1]=="space")},i(P){E||(transition_in($.$$.fragment,P),E=!0)},o(P){transition_out($.$$.fragment,P),E=!1},d(P){P&&detach(k),destroy_component($),D=!1,F()}}}function create_fragment$4f(T){let k,$,x=T[0].acc.enabled&&create_if_block$1C(T);return{c(){x&&x.c(),k=empty()},m(I,L){x&&x.m(I,L),insert(I,k,L),$=!0},p(I,[L]){I[0].acc.enabled?x?(x.p(I,L),L&1&&transition_in(x,1)):(x=create_if_block$1C(I),x.c(),transition_in(x,1),x.m(k.parentNode,k)):x&&(group_outros(),transition_out(x,1,1,()=>{x=null}),check_outros())},i(I){$||(transition_in(x),$=!0)},o(I){transition_out(x),$=!1},d(I){I&&detach(k),x&&x.d(I)}}}function instance$3U(T,k,$){let x="",{data:I}=k,{name:L}=k;function E(){loginUsername.set(L),applyLoginState("todesktop")}return onMount(()=>{$(2,x=getProfilePicture(I.acc.profilePicture))}),T.$$set=D=>{"data"in D&&$(0,I=D.data),"name"in D&&$(1,L=D.name)},[I,L,x,E]}let User$1=class extends SvelteComponent{constructor(k){super(),init(this,k,instance$3U,create_fragment$4f,safe_not_equal,{data:0,name:1})}};function get_each_context$V(T,k,$){const x=T.slice();return x[1]=k[$],x}function create_if_block$1B(T){let k,$,x=ensure_array_like(Object.keys(T[0])),I=[];for(let E=0;E<x.length;E+=1)I[E]=create_each_block$V(get_each_context$V(T,x,E));const L=E=>transition_out(I[E],1,1,()=>{I[E]=null});return{c(){for(let E=0;E<I.length;E+=1)I[E].c();k=empty()},m(E,D){for(let F=0;F<I.length;F+=1)I[F]&&I[F].m(E,D);insert(E,k,D),$=!0},p(E,D){if(D&1){x=ensure_array_like(Object.keys(E[0]));let F;for(F=0;F<x.length;F+=1){const P=get_each_context$V(E,x,F);I[F]?(I[F].p(P,D),transition_in(I[F],1)):(I[F]=create_each_block$V(P),I[F].c(),transition_in(I[F],1),I[F].m(k.parentNode,k))}for(group_outros(),F=x.length;F<I.length;F+=1)L(F);check_outros()}},i(E){if(!$){for(let D=0;D<x.length;D+=1)transition_in(I[D]);$=!0}},o(E){I=I.filter(Boolean);for(let D=0;D<I.length;D+=1)transition_out(I[D]);$=!1},d(E){E&&detach(k),destroy_each(I,E)}}}function create_each_block$V(T){let k,$;return k=new User$1({props:{data:T[0][T[1]],name:T[1]}}),{c(){create_component(k.$$.fragment)},m(x,I){mount_component(k,x,I),$=!0},p(x,I){const L={};I&1&&(L.data=x[0][x[1]]),I&1&&(L.name=x[1]),k.$set(L)},i(x){$||(transition_in(k.$$.fragment,x),$=!0)},o(x){transition_out(k.$$.fragment,x),$=!1},d(x){destroy_component(k,x)}}}function create_fragment$4e(T){let k,$,x=T[0]&&create_if_block$1B(T);return{c(){x&&x.c(),k=empty()},m(I,L){x&&x.m(I,L),insert(I,k,L),$=!0},p(I,[L]){I[0]?x?(x.p(I,L),L&1&&transition_in(x,1)):(x=create_if_block$1B(I),x.c(),transition_in(x,1),x.m(k.parentNode,k)):x&&(group_outros(),transition_out(x,1,1,()=>{x=null}),check_outros())},i(I){$||(transition_in(x),$=!0)},o(I){transition_out(x),$=!1},d(I){I&&detach(k),x&&x.d(I)}}}function instance$3T(T,k,$){let x;return onMount(async()=>{$(0,x=await getUsers())}),[x]}class Populator extends SvelteComponent{constructor(k){super(),init(this,k,instance$3T,create_fragment$4e,safe_not_equal,{})}}function create_fragment$4d(T){let k,$,x;return{c(){k=element("button"),k.textContent="Create Account",attr(k,"class","createacc")},m(I,L){insert(I,k,L),$||(x=listen(k,"click",T[0]),$=!0)},p:noop$1,i:noop$1,o:noop$1,d(I){I&&detach(k),$=!1,x()}}}function instance$3S(T){return[()=>applyLoginState("newapiuser")]}let CreateButton$1=class extends SvelteComponent{constructor(k){super(),init(this,k,instance$3S,create_fragment$4d,safe_not_equal,{})}};function create_fragment$4c(T){let k,$,x,I,L;return $=new Populator({}),I=new CreateButton$1({}),{c(){k=element("div"),create_component($.$$.fragment),x=space(),create_component(I.$$.fragment),attr(k,"class","user-selector")},m(E,D){insert(E,k,D),mount_component($,k,null),append(k,x),mount_component(I,k,null),L=!0},p:noop$1,i(E){L||(transition_in($.$$.fragment,E),transition_in(I.$$.fragment,E),L=!0)},o(E){transition_out($.$$.fragment,E),transition_out(I.$$.fragment,E),L=!1},d(E){E&&detach(k),destroy_component($),destroy_component(I)}}}let Selector$1=class extends SvelteComponent{constructor(k){super(),init(this,k,null,create_fragment$4c,safe_not_equal,{})}};function create_fragment$4b(T){let k,$;return k=new Loading$1({props:{caption:"Shutting down"}}),{c(){create_component(k.$$.fragment)},m(x,I){mount_component(k,x,I),$=!0},p:noop$1,i(x){$||(transition_in(k.$$.fragment,x),$=!0)},o(x){transition_out(k.$$.fragment,x),$=!1},d(x){destroy_component(k,x)}}}function instance$3R(T){return onMount(()=>{setTimeout(()=>{flush(),applyState("turnedoff")},2e3)}),[]}let Shutdown$1=class extends SvelteComponent{constructor(k){super(),init(this,k,instance$3R,create_fragment$4b,safe_not_equal,{})}};function create_fragment$4a(T){let k,$,x,I,L,E,D,F;return{c(){k=element("form"),$=element("input"),x=space(),I=element("button"),L=text("arrow_forward_ios"),$.autofocus=!0,attr($,"type","password"),attr($,"placeholder","Password"),toggle_class($,"wrongpswd",T[1]),attr(I,"class","material-icons-round"),I.disabled=E=!T[0]},m(P,U){insert(P,k,U),append(k,$),set_input_value($,T[0]),insert(P,x,U),insert(P,I,U),append(I,L),$.focus(),D||(F=[listen($,"input",T[6]),listen($,"input",T[7]),listen(k,"submit",T[2]),listen(I,"click",T[3])],D=!0)},p(P,[U]){U&1&&$.value!==P[0]&&set_input_value($,P[0]),U&2&&toggle_class($,"wrongpswd",P[1]),U&1&&E!==(E=!P[0])&&(I.disabled=E)},i:noop$1,o:noop$1,d(P){P&&(detach(k),detach(x),detach(I)),D=!1,run_all(F)}}}function instance$3Q(T,k,$){let x;component_subscribe(T,loginUsername,z=>$(8,x=z));let{authenticating:I}=k,L,E=!1,{pfp:D=""}=k;onMount(async()=>{x||applyLoginState("selector"),$(5,D=await getUserPfp(x))});function F(z){return z.preventDefault(),P(),!1}async function P(){$(4,I=!0);const z=await loginUsingCreds(generateCredToken({username:x,password:L}));if(!z){$(4,I=!1),$(1,E=!0);return}localStorage.setItem("arcos-remembered-token",btoa(`${x}:${L}`)),UserData$2.set(z),UserName.set(x),applyState("desktop")}function U(){L=this.value,$(0,L)}const M=()=>$(1,E=!1);return T.$$set=z=>{"authenticating"in z&&$(4,I=z.authenticating),"pfp"in z&&$(5,D=z.pfp)},[L,E,F,P,I,D,U,M]}class Input extends SvelteComponent{constructor(k){super(),init(this,k,instance$3Q,create_fragment$4a,safe_not_equal,{authenticating:4,pfp:5})}}function create_if_block_1$x(T){let k,$,x,I,L;return k=new ProfilePicture$1({props:{src:T[1],height:151}}),{c(){create_component(k.$$.fragment),$=space(),x=element("h1"),I=text(T[2])},m(E,D){mount_component(k,E,D),insert(E,$,D),insert(E,x,D),append(x,I),L=!0},p(E,D){const F={};D&2&&(F.src=E[1]),k.$set(F),(!L||D&4)&&set_data(I,E[2])},i(E){L||(transition_in(k.$$.fragment,E),L=!0)},o(E){transition_out(k.$$.fragment,E),L=!1},d(E){E&&(detach($),detach(x)),destroy_component(k,E)}}}function create_else_block$w(T){let k,$;return k=new Loading$1({props:{caption:"Welcome"}}),{c(){create_component(k.$$.fragment)},m(x,I){mount_component(k,x,I),$=!0},p:noop$1,i(x){$||(transition_in(k.$$.fragment,x),$=!0)},o(x){transition_out(k.$$.fragment,x),$=!1},d(x){destroy_component(k,x)}}}function create_if_block$1A(T){let k,$,x;return{c(){k=element("button"),k.textContent="Cancel",attr(k,"class","switchuser")},m(I,L){insert(I,k,L),$||(x=listen(k,"click",T[3]),$=!0)},p:noop$1,i:noop$1,o:noop$1,d(I){I&&detach(k),$=!1,x()}}}function create_fragment$49(T){let k,$,x,I,L,E,D,F,P,U,M=!T[0]&&create_if_block_1$x(T);function z(Q){T[4](Q)}function N(Q){T[5](Q)}let q={};T[0]!==void 0&&(q.authenticating=T[0]),T[1]!==void 0&&(q.pfp=T[1]),I=new Input({props:q}),binding_callbacks.push(()=>bind$1(I,"authenticating",z)),binding_callbacks.push(()=>bind$1(I,"pfp",N));const j=[create_if_block$1A,create_else_block$w],W=[];function H(Q,K){return Q[0]?1:0}return F=H(T),P=W[F]=j[F](T),{c(){M&&M.c(),k=space(),$=element("div"),x=element("div"),create_component(I.$$.fragment),D=space(),P.c(),attr(x,"class","field"),toggle_class(x,"hidden",T[0]),attr($,"class","cloudlogin")},m(Q,K){M&&M.m(Q,K),insert(Q,k,K),insert(Q,$,K),append($,x),mount_component(I,x,null),append($,D),W[F].m($,null),U=!0},p(Q,[K]){Q[0]?M&&(group_outros(),transition_out(M,1,1,()=>{M=null}),check_outros()):M?(M.p(Q,K),K&1&&transition_in(M,1)):(M=create_if_block_1$x(Q),M.c(),transition_in(M,1),M.m(k.parentNode,k));const G={};!L&&K&1&&(L=!0,G.authenticating=Q[0],add_flush_callback(()=>L=!1)),!E&&K&2&&(E=!0,G.pfp=Q[1],add_flush_callback(()=>E=!1)),I.$set(G),(!U||K&1)&&toggle_class(x,"hidden",Q[0]);let V=F;F=H(Q),F===V?W[F].p(Q,K):(group_outros(),transition_out(W[V],1,1,()=>{W[V]=null}),check_outros(),P=W[F],P?P.p(Q,K):(P=W[F]=j[F](Q),P.c()),transition_in(P,1),P.m($,null))},i(Q){U||(transition_in(M),transition_in(I.$$.fragment,Q),transition_in(P),U=!0)},o(Q){transition_out(M),transition_out(I.$$.fragment,Q),transition_out(P),U=!1},d(Q){Q&&(detach(k),detach($)),M&&M.d(Q),destroy_component(I),W[F].d()}}}function instance$3P(T,k,$){let x;component_subscribe(T,loginUsername,P=>$(2,x=P));let{authenticating:I=!1}=k,L;async function E(){loginUsername.set(void 0),applyLoginState("selector")}function D(P){I=P,$(0,I)}function F(P){L=P,$(1,L)}return T.$$set=P=>{"authenticating"in P&&$(0,I=P.authenticating)},[I,L,x,E,D,F]}class AuthForm extends SvelteComponent{constructor(k){super(),init(this,k,instance$3P,create_fragment$49,safe_not_equal,{authenticating:0})}}function create_fragment$48(T){let k,$,x,I;function L(D){T[2](D)}let E={};return T[0]!==void 0&&(E.authenticating=T[0]),$=new AuthForm({props:E}),binding_callbacks.push(()=>bind$1($,"authenticating",L)),{c(){k=element("div"),create_component($.$$.fragment),attr(k,"class","userlogin"),toggle_class(k,"show",T[1])},m(D,F){insert(D,k,F),mount_component($,k,null),I=!0},p(D,[F]){const P={};!x&&F&1&&(x=!0,P.authenticating=D[0],add_flush_callback(()=>x=!1)),$.$set(P),(!I||F&2)&&toggle_class(k,"show",D[1])},i(D){I||(transition_in($.$$.fragment,D),I=!0)},o(D){transition_out($.$$.fragment,D),I=!1},d(D){D&&detach(k),destroy_component($)}}}function instance$3O(T,k,$){let x=!1,I=!1;onMount(async()=>{setTimeout(()=>{$(1,I=!0)},10)});function L(E){x=E,$(0,x)}return[x,I,L]}class UserLogin extends SvelteComponent{constructor(k){super(),init(this,k,instance$3O,create_fragment$48,safe_not_equal,{})}}function create_fragment$47(T){let k,$,x;return{c(){k=element("button"),k.textContent="Cancel",attr(k,"class","switchuser"),toggle_class(k,"show",T[0])},m(I,L){insert(I,k,L),$||(x=listen(k,"click",T[1]),$=!0)},p(I,[L]){L&1&&toggle_class(k,"show",I[0])},i:noop$1,o:noop$1,d(I){I&&detach(k),$=!1,x()}}}function instance$3N(T,k,$){let{show:x}=k;const I=()=>applyLoginState("selector");return T.$$set=L=>{"show"in L&&$(0,x=L.show)},[x,I]}let Cancel$1=class extends SvelteComponent{constructor(k){super(),init(this,k,instance$3N,create_fragment$47,safe_not_equal,{show:0})}};function create_fragment$46(T){let k,$,x,I,L,E,D,F,P,U,M,z,N,q,j,W,H,Q;return k=new ProfilePicture$1({props:{src:def$1,height:151}}),{c(){create_component(k.$$.fragment),$=space(),x=element("h1"),x.textContent="New user",I=space(),L=element("form"),E=element("input"),D=space(),F=element("div"),P=element("form"),U=element("input"),z=space(),N=element("button"),q=text("arrow_forward_ios"),attr(E,"type","text"),attr(E,"placeholder","Username"),attr(E,"class","block"),E.disabled=T[0],attr(U,"type","password"),attr(U,"placeholder","Password"),attr(U,"class","block"),U.disabled=M=T[0]||!T[1],N.disabled=j=T[0]||!T[1]||!T[2],attr(N,"class","createbutton material-icons-round"),attr(F,"class","input-wrapper")},m(K,G){mount_component(k,K,G),insert(K,$,G),insert(K,x,G),insert(K,I,G),insert(K,L,G),append(L,E),set_input_value(E,T[1]),insert(K,D,G),insert(K,F,G),append(F,P),append(P,U),set_input_value(U,T[2]),append(F,z),append(F,N),append(N,q),W=!0,H||(Q=[listen(E,"input",T[4]),listen(L,"submit",T[3]),listen(U,"input",T[5]),listen(P,"submit",T[3]),listen(N,"click",T[3])],H=!0)},p(K,[G]){(!W||G&1)&&(E.disabled=K[0]),G&2&&E.value!==K[1]&&set_input_value(E,K[1]),(!W||G&3&&M!==(M=K[0]||!K[1]))&&(U.disabled=M),G&4&&U.value!==K[2]&&set_input_value(U,K[2]),(!W||G&7&&j!==(j=K[0]||!K[1]||!K[2]))&&(N.disabled=j)},i(K){W||(transition_in(k.$$.fragment,K),W=!0)},o(K){transition_out(k.$$.fragment,K),W=!1},d(K){K&&(detach($),detach(x),detach(I),detach(L),detach(D),detach(F)),destroy_component(k,K),H=!1,run_all(Q)}}}function instance$3M(T,k,$){let x;component_subscribe(T,ConnectedServer,U=>$(6,x=U));let{loading:I}=k,{username:L}=k,{password:E}=k;async function D(U){if(U&&U.preventDefault(),!L||!E||I)return!1;loginUsername.set(L),Busy.set(!1),$(0,I=!0),await apiCall(x,"user/create",{},null,{username:L,password:E});const M=await loginUsingCreds(generateCredToken({username:L,password:E}));return M?(UserData$2.set(M),UserName.set(L),applyState("desktop"),!1):(Busy.set(!1),$(0,I=!1))}function F(){L=this.value,$(1,L)}function P(){E=this.value,$(2,E)}return T.$$set=U=>{"loading"in U&&$(0,I=U.loading),"username"in U&&$(1,L=U.username),"password"in U&&$(2,E=U.password)},[I,L,E,D,F,P]}class Form extends SvelteComponent{constructor(k){super(),init(this,k,instance$3M,create_fragment$46,safe_not_equal,{loading:0,username:1,password:2})}}function create_else_block$v(T){let k,$;return k=new Loading$1({props:{caption:"Welcome"}}),{c(){create_component(k.$$.fragment)},m(x,I){mount_component(k,x,I),$=!0},p:noop$1,i(x){$||(transition_in(k.$$.fragment,x),$=!0)},o(x){transition_out(k.$$.fragment,x),$=!1},d(x){destroy_component(k,x)}}}function create_if_block_1$w(T){let k,$,x,I,L;function E(U){T[4](U)}function D(U){T[5](U)}function F(U){T[6](U)}let P={};return T[2]!==void 0&&(P.loading=T[2]),T[0]!==void 0&&(P.username=T[0]),T[1]!==void 0&&(P.password=T[1]),k=new Form({props:P}),binding_callbacks.push(()=>bind$1(k,"loading",E)),binding_callbacks.push(()=>bind$1(k,"username",D)),binding_callbacks.push(()=>bind$1(k,"password",F)),{c(){create_component(k.$$.fragment)},m(U,M){mount_component(k,U,M),L=!0},p(U,M){const z={};!$&&M&4&&($=!0,z.loading=U[2],add_flush_callback(()=>$=!1)),!x&&M&1&&(x=!0,z.username=U[0],add_flush_callback(()=>x=!1)),!I&&M&2&&(I=!0,z.password=U[1],add_flush_callback(()=>I=!1)),k.$set(z)},i(U){L||(transition_in(k.$$.fragment,U),L=!0)},o(U){transition_out(k.$$.fragment,U),L=!1},d(U){destroy_component(k,U)}}}function create_if_block$1z(T){let k,$;return k=new Cancel$1({props:{show:T[3]}}),{c(){create_component(k.$$.fragment)},m(x,I){mount_component(k,x,I),$=!0},p(x,I){const L={};I&8&&(L.show=x[3]),k.$set(L)},i(x){$||(transition_in(k.$$.fragment,x),$=!0)},o(x){transition_out(k.$$.fragment,x),$=!1},d(x){destroy_component(k,x)}}}function create_fragment$45(T){let k,$,x,I,L;const E=[create_if_block_1$w,create_else_block$v],D=[];function F(U,M){return U[2]?1:0}$=F(T),x=D[$]=E[$](T);let P=!T[2]&&create_if_block$1z(T);return{c(){k=element("div"),x.c(),I=space(),P&&P.c(),attr(k,"class","userlogin newuser"),toggle_class(k,"show",T[3])},m(U,M){insert(U,k,M),D[$].m(k,null),append(k,I),P&&P.m(k,null),L=!0},p(U,[M]){let z=$;$=F(U),$===z?D[$].p(U,M):(group_outros(),transition_out(D[z],1,1,()=>{D[z]=null}),check_outros(),x=D[$],x?x.p(U,M):(x=D[$]=E[$](U),x.c()),transition_in(x,1),x.m(k,I)),U[2]?P&&(group_outros(),transition_out(P,1,1,()=>{P=null}),check_outros()):P?(P.p(U,M),M&4&&transition_in(P,1)):(P=create_if_block$1z(U),P.c(),transition_in(P,1),P.m(k,null)),(!L||M&8)&&toggle_class(k,"show",U[3])},i(U){L||(transition_in(x),transition_in(P),L=!0)},o(U){transition_out(x),transition_out(P),L=!1},d(U){U&&detach(k),D[$].d(),P&&P.d()}}}function instance$3L(T,k,$){let x="",I="",L=!1,E=!1;onMount(()=>{setTimeout(()=>{$(3,E=!0)})});function D(U){L=U,$(2,L)}function F(U){x=U,$(0,x)}function P(U){I=U,$(1,I)}return[x,I,L,E,D,F,P]}class NewApiUser extends SvelteComponent{constructor(k){super(),init(this,k,instance$3L,create_fragment$45,safe_not_equal,{})}}const LoginStates=new Map([["selector",{name:"User Selector",content:Selector$1,attribs:{topbar:!0,darken:!1},key:"selector"}],["todesktop",{name:"Login Redirector -> Desktop",content:UserLogin,attribs:{topbar:!1,darken:!0},key:"todesktop"}],["logoff",{name:"Desktop -> Logoff -> User Selector",content:Logoff,attribs:{topbar:!1,darken:!0},key:"logoff"}],["shutdown",{name:"Desktop -> Logoff -> End",content:Shutdown$1,attribs:{topbar:!1,darken:!0},key:"shutdown"}],["restart",{name:"Desktop -> Logoff -> Boot",content:Restart$1,attribs:{topbar:!1,darken:!0},key:"restart"}],["newapiuser",{name:"New User",content:NewApiUser,attribs:{topbar:!1,darken:!0},key:"newapiuser"}],["autologin",{name:"Auto Login",content:AutoLogin,attribs:{topbar:!1,darken:!0},key:"autologin"}]]),CurrentLoginState=writable(),loginUsername=writable();function applyLoginState(T){if(LoginStates.has(T)){Log("login/main.ts: applyLoginState",`Applying state ${T}`,LogLevel.info);const k=LoginStates.get(T);CurrentLoginState.set(k);return}InvalidStateBugrep("Login",T)}async function loginOnMount(){const T=await getUsers(),k=localStorage.getItem("arcos-remembered-token"),$=get_store_value(CurrentLoginState),x=get_store_value(ConnectedServer);if(setTimeout(()=>{if($||applyLoginState(k?"autologin":"selector"),!Object.keys(T).length&&!k){x?applyLoginState("newapiuser"):applyState("fts");return}},100),k&&(!$||$.key!="shutdown"&&$.key!="restart")){const I=await loginUsingCreds(k),L=atob(k).split(":")[0];if(!I){applyLoginState("selector"),localStorage.removeItem("arcos-remembered-token");return}loginUsername.set(L),UserData$2.set(I),UserName.set(L),setTimeout(()=>{applyState("desktop")},2e3)}}async function loginUsingCreds(T){Log("ts/api/getter.ts: loginUsingCreds","Authenticating using <token>",LogLevel.info);let[k,$]=atob(T).split(":");const x=get_store_value(ConnectedServer);loginUsername.set(k);let I=await apiCall(get_store_value(ConnectedServer),"auth",{},null,{username:k,password:$});return!I.valid||(UserToken.set(I.data.token),UserName.set(k),I=await apiCall(x,"user/properties",{},get_store_value(UserToken),null),!I.valid)?!1:I}async function rememberedLogin(){Log("ts/api/getter.ts: rememberedLogin","Attempting login using arcos-remembered-token",LogLevel.warn);const T=localStorage.getItem("arcos-remembered-token");if(!T)return!1;const[k,$]=atob(T).split(":"),x=await loginUsingCreds(generateCredToken({username:k,password:$}));return x?(UserData$2.set(x),UserName.set(k),!0):!1}function getSwitches(T){Log("ArcTerm",`getSwitches: parsing argv with ${T.length} items...`,LogLevel.info);let k={},$="";const x="--";for(let I=0;I<T.length;I++)if(T[I].startsWith(x)){const L=T[I].replace(x,"");$=L==$?$:L,k[$]||(k[$]="")}else $&&(k[$]+=`${T[I]} `);for(const I in k)k[I]=k[I].trim();return k}function switchExists(T,k){Log("ArcTerm",`switchExists: ${k}`);const $=getSwitches(T);for(const x in $)if(x==k)return!0;return!1}const AppList$1={keyword:"applist",exec(T,k,$){const x=switchExists(k,"open")?getOpenedStore():get_store_value(WindowStore);header($);for(let I=0;I<x.length;I++)output($,x[I])},description:"List all- or opened ArcOS apps.",syntax:"([opened?])"};function output(T,k){const $=k.id.padEnd(30," "),x=k.info.name.padEnd(30," "),I=k.info.version;T.std.writeColor(`${x}[${$}]${I}`,"gray")}function header(T){const k="Name".padEnd(30," "),$="ID".padEnd(30," "),I=`${k}${$}Version`;T.std.writeColor(`[${I}]`,"yellow"),T.std.writeSeperator(I.length)}const sizeUnits=["bytes","KB","MB","GB","TB","PB","EB","ZB","YB"];function formatBytes(T){let k=0,$=T;for(;$>=1024&&++k;)$=$/1024;return $.toFixed($<10&&k>0?1:0)+" "+sizeUnits[k]}function getCPU(){return{cores:navigator.hardwareConcurrency||4}}const GPU_VENDOR_REGEX=/(intel|nvidia|sis|amd|apple|powervr)\W? (.+)/i,GPU_RENDERER_REGEX=/(((?:radeon|adreno|geforce|mali).+))/i,GPU_CLEANUP_REGEX=/ ?(\(.+?\)| direct3d.+| opengl.+|\/.+$| gpu$)/gi;function getGPU(){const T={supported:"WebGLRenderingContext"in globalThis,active:!1,vendor:void 0,model:void 0},k=document.createElement("canvas"),$=k.getContext("webgl2")||k.getContext("webgl")||k.getContext("experimental-webgl");if(!$)return T;T.active=!0;const x=$.getExtension("WEBGL_debug_renderer_info");T.vendor=$.getParameter(x.UNMASKED_VENDOR_WEBGL);const I=$.getParameter(x.UNMASKED_RENDERER_WEBGL)??"",L=I.match(GPU_VENDOR_REGEX),E=I.match(GPU_RENDERER_REGEX);return L&&(T.vendor=L[1]),T.model=E?E[1]:I,T.model=T.model.replace(GPU_CLEANUP_REGEX,""),T}function getMEM(){return{kb:(navigator.deviceMemory||1)*1024**3}}const defaultNetwork={downlink:0,effectiveType:"0G",rtt:0,saveData:!1,online:!1};function getNET(){const T=navigator.connection;return T||defaultNetwork}function getDeviceInfo(){return{gpu:getGPU(),cpu:getCPU(),mem:getMEM(),net:getNET()}}const colors="red,orange,yellow,green,aqua,blue,purple".split(","),ArcFetch={keyword:"arcfetch",async exec(T,k,$){$.std.writeLine(`
`),await graphic($),$.std.writeLine(""),colorBar($)},description:"Show system information"};async function getItems(T){const k=getDeviceInfo(),$=isDesktop();return Object.entries({Server:`${getServer()} @ rev ${minArcAPI}`,Username:get_store_value(UserName),Processor:`${k.cpu.cores} cores`,GPU:`${k.gpu.vendor} ${k.gpu.model}`,Memory:`~ ${formatBytes(k.mem.kb)}`,Mode:($?"Desktop":"Browser")+` (state ${get_store_value(CurrentState).key})`,Reference:T.referenceId})}function colorBar(T){T.std.write(`
                            `);for(let k=0;k<colors.length;k++)T.std.writeColor("[██ ]",colors[k],"white",!0)}async function graphic(T){const k=await getItems(T),$=["        ","    _   ","   /_\\  ","  / _ \\ "," /_/ \\_\\","        ","        "];for(let x=0;x<$.length;x++)T.std.writeColor(`  [${$[x]}]    `,"blue","white",!0),k[x]&&T.std.writeColor(`[${k[x][0].padEnd(12," ")}]: ${k[x][1]}`,"purple","white",!0),T.std.writeLine("")}function bind(T,k){return function(){return T.apply(k,arguments)}}const{toString:toString$1}=Object.prototype,{getPrototypeOf}=Object,kindOf=(T=>k=>{const $=toString$1.call(k);return T[$]||(T[$]=$.slice(8,-1).toLowerCase())})(Object.create(null)),kindOfTest=T=>(T=T.toLowerCase(),k=>kindOf(k)===T),typeOfTest=T=>k=>typeof k===T,{isArray:isArray$1}=Array,isUndefined=typeOfTest("undefined");function isBuffer(T){return T!==null&&!isUndefined(T)&&T.constructor!==null&&!isUndefined(T.constructor)&&isFunction(T.constructor.isBuffer)&&T.constructor.isBuffer(T)}const isArrayBuffer=kindOfTest("ArrayBuffer");function isArrayBufferView(T){let k;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?k=ArrayBuffer.isView(T):k=T&&T.buffer&&isArrayBuffer(T.buffer),k}const isString$1=typeOfTest("string"),isFunction=typeOfTest("function"),isNumber$1=typeOfTest("number"),isObject$1=T=>T!==null&&typeof T=="object",isBoolean$1=T=>T===!0||T===!1,isPlainObject=T=>{if(kindOf(T)!=="object")return!1;const k=getPrototypeOf(T);return(k===null||k===Object.prototype||Object.getPrototypeOf(k)===null)&&!(Symbol.toStringTag in T)&&!(Symbol.iterator in T)},isDate=kindOfTest("Date"),isFile=kindOfTest("File"),isBlob=kindOfTest("Blob"),isFileList=kindOfTest("FileList"),isStream=T=>isObject$1(T)&&isFunction(T.pipe),isFormData=T=>{let k;return T&&(typeof FormData=="function"&&T instanceof FormData||isFunction(T.append)&&((k=kindOf(T))==="formdata"||k==="object"&&isFunction(T.toString)&&T.toString()==="[object FormData]"))},isURLSearchParams=kindOfTest("URLSearchParams"),trim=T=>T.trim?T.trim():T.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function forEach(T,k,{allOwnKeys:$=!1}={}){if(T===null||typeof T>"u")return;let x,I;if(typeof T!="object"&&(T=[T]),isArray$1(T))for(x=0,I=T.length;x<I;x++)k.call(null,T[x],x,T);else{const L=$?Object.getOwnPropertyNames(T):Object.keys(T),E=L.length;let D;for(x=0;x<E;x++)D=L[x],k.call(null,T[D],D,T)}}function findKey(T,k){k=k.toLowerCase();const $=Object.keys(T);let x=$.length,I;for(;x-- >0;)if(I=$[x],k===I.toLowerCase())return I;return null}const _global=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),isContextDefined=T=>!isUndefined(T)&&T!==_global;function merge(){const{caseless:T}=isContextDefined(this)&&this||{},k={},$=(x,I)=>{const L=T&&findKey(k,I)||I;isPlainObject(k[L])&&isPlainObject(x)?k[L]=merge(k[L],x):isPlainObject(x)?k[L]=merge({},x):isArray$1(x)?k[L]=x.slice():k[L]=x};for(let x=0,I=arguments.length;x<I;x++)arguments[x]&&forEach(arguments[x],$);return k}const extend=(T,k,$,{allOwnKeys:x}={})=>(forEach(k,(I,L)=>{$&&isFunction(I)?T[L]=bind(I,$):T[L]=I},{allOwnKeys:x}),T),stripBOM=T=>(T.charCodeAt(0)===65279&&(T=T.slice(1)),T),inherits=(T,k,$,x)=>{T.prototype=Object.create(k.prototype,x),T.prototype.constructor=T,Object.defineProperty(T,"super",{value:k.prototype}),$&&Object.assign(T.prototype,$)},toFlatObject=(T,k,$,x)=>{let I,L,E;const D={};if(k=k||{},T==null)return k;do{for(I=Object.getOwnPropertyNames(T),L=I.length;L-- >0;)E=I[L],(!x||x(E,T,k))&&!D[E]&&(k[E]=T[E],D[E]=!0);T=$!==!1&&getPrototypeOf(T)}while(T&&(!$||$(T,k))&&T!==Object.prototype);return k},endsWith=(T,k,$)=>{T=String(T),($===void 0||$>T.length)&&($=T.length),$-=k.length;const x=T.indexOf(k,$);return x!==-1&&x===$},toArray=T=>{if(!T)return null;if(isArray$1(T))return T;let k=T.length;if(!isNumber$1(k))return null;const $=new Array(k);for(;k-- >0;)$[k]=T[k];return $},isTypedArray=(T=>k=>T&&k instanceof T)(typeof Uint8Array<"u"&&getPrototypeOf(Uint8Array)),forEachEntry=(T,k)=>{const x=(T&&T[Symbol.iterator]).call(T);let I;for(;(I=x.next())&&!I.done;){const L=I.value;k.call(T,L[0],L[1])}},matchAll=(T,k)=>{let $;const x=[];for(;($=T.exec(k))!==null;)x.push($);return x},isHTMLForm=kindOfTest("HTMLFormElement"),toCamelCase=T=>T.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function($,x,I){return x.toUpperCase()+I}),hasOwnProperty=(({hasOwnProperty:T})=>(k,$)=>T.call(k,$))(Object.prototype),isRegExp=kindOfTest("RegExp"),reduceDescriptors=(T,k)=>{const $=Object.getOwnPropertyDescriptors(T),x={};forEach($,(I,L)=>{k(I,L,T)!==!1&&(x[L]=I)}),Object.defineProperties(T,x)},freezeMethods=T=>{reduceDescriptors(T,(k,$)=>{if(isFunction(T)&&["arguments","caller","callee"].indexOf($)!==-1)return!1;const x=T[$];if(isFunction(x)){if(k.enumerable=!1,"writable"in k){k.writable=!1;return}k.set||(k.set=()=>{throw Error("Can not rewrite read-only method '"+$+"'")})}})},toObjectSet=(T,k)=>{const $={},x=I=>{I.forEach(L=>{$[L]=!0})};return isArray$1(T)?x(T):x(String(T).split(k)),$},noop=()=>{},toFiniteNumber=(T,k)=>(T=+T,Number.isFinite(T)?T:k),ALPHA="abcdefghijklmnopqrstuvwxyz",DIGIT="0123456789",ALPHABET={DIGIT,ALPHA,ALPHA_DIGIT:ALPHA+ALPHA.toUpperCase()+DIGIT},generateString=(T=16,k=ALPHABET.ALPHA_DIGIT)=>{let $="";const{length:x}=k;for(;T--;)$+=k[Math.random()*x|0];return $};function isSpecCompliantForm(T){return!!(T&&isFunction(T.append)&&T[Symbol.toStringTag]==="FormData"&&T[Symbol.iterator])}const toJSONObject=T=>{const k=new Array(10),$=(x,I)=>{if(isObject$1(x)){if(k.indexOf(x)>=0)return;if(!("toJSON"in x)){k[I]=x;const L=isArray$1(x)?[]:{};return forEach(x,(E,D)=>{const F=$(E,I+1);!isUndefined(F)&&(L[D]=F)}),k[I]=void 0,L}}return x};return $(T,0)},isAsyncFn=kindOfTest("AsyncFunction"),isThenable=T=>T&&(isObject$1(T)||isFunction(T))&&isFunction(T.then)&&isFunction(T.catch),utils={isArray:isArray$1,isArrayBuffer,isBuffer,isFormData,isArrayBufferView,isString:isString$1,isNumber:isNumber$1,isBoolean:isBoolean$1,isObject:isObject$1,isPlainObject,isUndefined,isDate,isFile,isBlob,isRegExp,isFunction,isStream,isURLSearchParams,isTypedArray,isFileList,forEach,merge,extend,trim,stripBOM,inherits,toFlatObject,kindOf,kindOfTest,endsWith,toArray,forEachEntry,matchAll,isHTMLForm,hasOwnProperty,hasOwnProp:hasOwnProperty,reduceDescriptors,freezeMethods,toObjectSet,toCamelCase,noop,toFiniteNumber,findKey,global:_global,isContextDefined,ALPHABET,generateString,isSpecCompliantForm,toJSONObject,isAsyncFn,isThenable};function AxiosError(T,k,$,x,I){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=T,this.name="AxiosError",k&&(this.code=k),$&&(this.config=$),x&&(this.request=x),I&&(this.response=I)}utils.inherits(AxiosError,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:utils.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const prototype$1=AxiosError.prototype,descriptors={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(T=>{descriptors[T]={value:T}});Object.defineProperties(AxiosError,descriptors);Object.defineProperty(prototype$1,"isAxiosError",{value:!0});AxiosError.from=(T,k,$,x,I,L)=>{const E=Object.create(prototype$1);return utils.toFlatObject(T,E,function(F){return F!==Error.prototype},D=>D!=="isAxiosError"),AxiosError.call(E,T.message,k,$,x,I),E.cause=T,E.name=T.name,L&&Object.assign(E,L),E};const httpAdapter=null;function isVisitable(T){return utils.isPlainObject(T)||utils.isArray(T)}function removeBrackets(T){return utils.endsWith(T,"[]")?T.slice(0,-2):T}function renderKey(T,k,$){return T?T.concat(k).map(function(I,L){return I=removeBrackets(I),!$&&L?"["+I+"]":I}).join($?".":""):k}function isFlatArray(T){return utils.isArray(T)&&!T.some(isVisitable)}const predicates=utils.toFlatObject(utils,{},null,function(k){return/^is[A-Z]/.test(k)});function toFormData(T,k,$){if(!utils.isObject(T))throw new TypeError("target must be an object");k=k||new FormData,$=utils.toFlatObject($,{metaTokens:!0,dots:!1,indexes:!1},!1,function(j,W){return!utils.isUndefined(W[j])});const x=$.metaTokens,I=$.visitor||U,L=$.dots,E=$.indexes,F=($.Blob||typeof Blob<"u"&&Blob)&&utils.isSpecCompliantForm(k);if(!utils.isFunction(I))throw new TypeError("visitor must be a function");function P(q){if(q===null)return"";if(utils.isDate(q))return q.toISOString();if(!F&&utils.isBlob(q))throw new AxiosError("Blob is not supported. Use a Buffer instead.");return utils.isArrayBuffer(q)||utils.isTypedArray(q)?F&&typeof Blob=="function"?new Blob([q]):Buffer.from(q):q}function U(q,j,W){let H=q;if(q&&!W&&typeof q=="object"){if(utils.endsWith(j,"{}"))j=x?j:j.slice(0,-2),q=JSON.stringify(q);else if(utils.isArray(q)&&isFlatArray(q)||(utils.isFileList(q)||utils.endsWith(j,"[]"))&&(H=utils.toArray(q)))return j=removeBrackets(j),H.forEach(function(K,G){!(utils.isUndefined(K)||K===null)&&k.append(E===!0?renderKey([j],G,L):E===null?j:j+"[]",P(K))}),!1}return isVisitable(q)?!0:(k.append(renderKey(W,j,L),P(q)),!1)}const M=[],z=Object.assign(predicates,{defaultVisitor:U,convertValue:P,isVisitable});function N(q,j){if(!utils.isUndefined(q)){if(M.indexOf(q)!==-1)throw Error("Circular reference detected in "+j.join("."));M.push(q),utils.forEach(q,function(H,Q){(!(utils.isUndefined(H)||H===null)&&I.call(k,H,utils.isString(Q)?Q.trim():Q,j,z))===!0&&N(H,j?j.concat(Q):[Q])}),M.pop()}}if(!utils.isObject(T))throw new TypeError("data must be an object");return N(T),k}function encode$1(T){const k={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(T).replace(/[!'()~]|%20|%00/g,function(x){return k[x]})}function AxiosURLSearchParams(T,k){this._pairs=[],T&&toFormData(T,this,k)}const prototype=AxiosURLSearchParams.prototype;prototype.append=function(k,$){this._pairs.push([k,$])};prototype.toString=function(k){const $=k?function(x){return k.call(this,x,encode$1)}:encode$1;return this._pairs.map(function(I){return $(I[0])+"="+$(I[1])},"").join("&")};function encode(T){return encodeURIComponent(T).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function buildURL(T,k,$){if(!k)return T;const x=$&&$.encode||encode,I=$&&$.serialize;let L;if(I?L=I(k,$):L=utils.isURLSearchParams(k)?k.toString():new AxiosURLSearchParams(k,$).toString(x),L){const E=T.indexOf("#");E!==-1&&(T=T.slice(0,E)),T+=(T.indexOf("?")===-1?"?":"&")+L}return T}class InterceptorManager{constructor(){this.handlers=[]}use(k,$,x){return this.handlers.push({fulfilled:k,rejected:$,synchronous:x?x.synchronous:!1,runWhen:x?x.runWhen:null}),this.handlers.length-1}eject(k){this.handlers[k]&&(this.handlers[k]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(k){utils.forEach(this.handlers,function(x){x!==null&&k(x)})}}const InterceptorManager$1=InterceptorManager,transitionalDefaults={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},URLSearchParams$1=typeof URLSearchParams<"u"?URLSearchParams:AxiosURLSearchParams,FormData$1=typeof FormData<"u"?FormData:null,Blob$1=typeof Blob<"u"?Blob:null,isStandardBrowserEnv=(()=>{let T;return typeof navigator<"u"&&((T=navigator.product)==="ReactNative"||T==="NativeScript"||T==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),isStandardBrowserWebWorkerEnv=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),platform={isBrowser:!0,classes:{URLSearchParams:URLSearchParams$1,FormData:FormData$1,Blob:Blob$1},isStandardBrowserEnv,isStandardBrowserWebWorkerEnv,protocols:["http","https","file","blob","url","data"]};function toURLEncodedForm(T,k){return toFormData(T,new platform.classes.URLSearchParams,Object.assign({visitor:function($,x,I,L){return platform.isNode&&utils.isBuffer($)?(this.append(x,$.toString("base64")),!1):L.defaultVisitor.apply(this,arguments)}},k))}function parsePropPath(T){return utils.matchAll(/\w+|\[(\w*)]/g,T).map(k=>k[0]==="[]"?"":k[1]||k[0])}function arrayToObject(T){const k={},$=Object.keys(T);let x;const I=$.length;let L;for(x=0;x<I;x++)L=$[x],k[L]=T[L];return k}function formDataToJSON(T){function k($,x,I,L){let E=$[L++];const D=Number.isFinite(+E),F=L>=$.length;return E=!E&&utils.isArray(I)?I.length:E,F?(utils.hasOwnProp(I,E)?I[E]=[I[E],x]:I[E]=x,!D):((!I[E]||!utils.isObject(I[E]))&&(I[E]=[]),k($,x,I[E],L)&&utils.isArray(I[E])&&(I[E]=arrayToObject(I[E])),!D)}if(utils.isFormData(T)&&utils.isFunction(T.entries)){const $={};return utils.forEachEntry(T,(x,I)=>{k(parsePropPath(x),I,$,0)}),$}return null}const DEFAULT_CONTENT_TYPE={"Content-Type":void 0};function stringifySafely(T,k,$){if(utils.isString(T))try{return(k||JSON.parse)(T),utils.trim(T)}catch(x){if(x.name!=="SyntaxError")throw x}return($||JSON.stringify)(T)}const defaults$1={transitional:transitionalDefaults,adapter:["xhr","http"],transformRequest:[function(k,$){const x=$.getContentType()||"",I=x.indexOf("application/json")>-1,L=utils.isObject(k);if(L&&utils.isHTMLForm(k)&&(k=new FormData(k)),utils.isFormData(k))return I&&I?JSON.stringify(formDataToJSON(k)):k;if(utils.isArrayBuffer(k)||utils.isBuffer(k)||utils.isStream(k)||utils.isFile(k)||utils.isBlob(k))return k;if(utils.isArrayBufferView(k))return k.buffer;if(utils.isURLSearchParams(k))return $.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),k.toString();let D;if(L){if(x.indexOf("application/x-www-form-urlencoded")>-1)return toURLEncodedForm(k,this.formSerializer).toString();if((D=utils.isFileList(k))||x.indexOf("multipart/form-data")>-1){const F=this.env&&this.env.FormData;return toFormData(D?{"files[]":k}:k,F&&new F,this.formSerializer)}}return L||I?($.setContentType("application/json",!1),stringifySafely(k)):k}],transformResponse:[function(k){const $=this.transitional||defaults$1.transitional,x=$&&$.forcedJSONParsing,I=this.responseType==="json";if(k&&utils.isString(k)&&(x&&!this.responseType||I)){const E=!($&&$.silentJSONParsing)&&I;try{return JSON.parse(k)}catch(D){if(E)throw D.name==="SyntaxError"?AxiosError.from(D,AxiosError.ERR_BAD_RESPONSE,this,null,this.response):D}}return k}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:platform.classes.FormData,Blob:platform.classes.Blob},validateStatus:function(k){return k>=200&&k<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};utils.forEach(["delete","get","head"],function(k){defaults$1.headers[k]={}});utils.forEach(["post","put","patch"],function(k){defaults$1.headers[k]=utils.merge(DEFAULT_CONTENT_TYPE)});const defaults$2=defaults$1,ignoreDuplicateOf=utils.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),parseHeaders=T=>{const k={};let $,x,I;return T&&T.split(`
`).forEach(function(E){I=E.indexOf(":"),$=E.substring(0,I).trim().toLowerCase(),x=E.substring(I+1).trim(),!(!$||k[$]&&ignoreDuplicateOf[$])&&($==="set-cookie"?k[$]?k[$].push(x):k[$]=[x]:k[$]=k[$]?k[$]+", "+x:x)}),k},$internals=Symbol("internals");function normalizeHeader(T){return T&&String(T).trim().toLowerCase()}function normalizeValue(T){return T===!1||T==null?T:utils.isArray(T)?T.map(normalizeValue):String(T)}function parseTokens(T){const k=Object.create(null),$=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let x;for(;x=$.exec(T);)k[x[1]]=x[2];return k}const isValidHeaderName=T=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(T.trim());function matchHeaderValue(T,k,$,x,I){if(utils.isFunction(x))return x.call(this,k,$);if(I&&(k=$),!!utils.isString(k)){if(utils.isString(x))return k.indexOf(x)!==-1;if(utils.isRegExp(x))return x.test(k)}}function formatHeader(T){return T.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(k,$,x)=>$.toUpperCase()+x)}function buildAccessors(T,k){const $=utils.toCamelCase(" "+k);["get","set","has"].forEach(x=>{Object.defineProperty(T,x+$,{value:function(I,L,E){return this[x].call(this,k,I,L,E)},configurable:!0})})}class AxiosHeaders{constructor(k){k&&this.set(k)}set(k,$,x){const I=this;function L(D,F,P){const U=normalizeHeader(F);if(!U)throw new Error("header name must be a non-empty string");const M=utils.findKey(I,U);(!M||I[M]===void 0||P===!0||P===void 0&&I[M]!==!1)&&(I[M||F]=normalizeValue(D))}const E=(D,F)=>utils.forEach(D,(P,U)=>L(P,U,F));return utils.isPlainObject(k)||k instanceof this.constructor?E(k,$):utils.isString(k)&&(k=k.trim())&&!isValidHeaderName(k)?E(parseHeaders(k),$):k!=null&&L($,k,x),this}get(k,$){if(k=normalizeHeader(k),k){const x=utils.findKey(this,k);if(x){const I=this[x];if(!$)return I;if($===!0)return parseTokens(I);if(utils.isFunction($))return $.call(this,I,x);if(utils.isRegExp($))return $.exec(I);throw new TypeError("parser must be boolean|regexp|function")}}}has(k,$){if(k=normalizeHeader(k),k){const x=utils.findKey(this,k);return!!(x&&this[x]!==void 0&&(!$||matchHeaderValue(this,this[x],x,$)))}return!1}delete(k,$){const x=this;let I=!1;function L(E){if(E=normalizeHeader(E),E){const D=utils.findKey(x,E);D&&(!$||matchHeaderValue(x,x[D],D,$))&&(delete x[D],I=!0)}}return utils.isArray(k)?k.forEach(L):L(k),I}clear(k){const $=Object.keys(this);let x=$.length,I=!1;for(;x--;){const L=$[x];(!k||matchHeaderValue(this,this[L],L,k,!0))&&(delete this[L],I=!0)}return I}normalize(k){const $=this,x={};return utils.forEach(this,(I,L)=>{const E=utils.findKey(x,L);if(E){$[E]=normalizeValue(I),delete $[L];return}const D=k?formatHeader(L):String(L).trim();D!==L&&delete $[L],$[D]=normalizeValue(I),x[D]=!0}),this}concat(...k){return this.constructor.concat(this,...k)}toJSON(k){const $=Object.create(null);return utils.forEach(this,(x,I)=>{x!=null&&x!==!1&&($[I]=k&&utils.isArray(x)?x.join(", "):x)}),$}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([k,$])=>k+": "+$).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(k){return k instanceof this?k:new this(k)}static concat(k,...$){const x=new this(k);return $.forEach(I=>x.set(I)),x}static accessor(k){const x=(this[$internals]=this[$internals]={accessors:{}}).accessors,I=this.prototype;function L(E){const D=normalizeHeader(E);x[D]||(buildAccessors(I,E),x[D]=!0)}return utils.isArray(k)?k.forEach(L):L(k),this}}AxiosHeaders.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);utils.freezeMethods(AxiosHeaders.prototype);utils.freezeMethods(AxiosHeaders);const AxiosHeaders$1=AxiosHeaders;function transformData(T,k){const $=this||defaults$2,x=k||$,I=AxiosHeaders$1.from(x.headers);let L=x.data;return utils.forEach(T,function(D){L=D.call($,L,I.normalize(),k?k.status:void 0)}),I.normalize(),L}function isCancel(T){return!!(T&&T.__CANCEL__)}function CanceledError(T,k,$){AxiosError.call(this,T??"canceled",AxiosError.ERR_CANCELED,k,$),this.name="CanceledError"}utils.inherits(CanceledError,AxiosError,{__CANCEL__:!0});function settle(T,k,$){const x=$.config.validateStatus;!$.status||!x||x($.status)?T($):k(new AxiosError("Request failed with status code "+$.status,[AxiosError.ERR_BAD_REQUEST,AxiosError.ERR_BAD_RESPONSE][Math.floor($.status/100)-4],$.config,$.request,$))}const cookies=platform.isStandardBrowserEnv?function(){return{write:function($,x,I,L,E,D){const F=[];F.push($+"="+encodeURIComponent(x)),utils.isNumber(I)&&F.push("expires="+new Date(I).toGMTString()),utils.isString(L)&&F.push("path="+L),utils.isString(E)&&F.push("domain="+E),D===!0&&F.push("secure"),document.cookie=F.join("; ")},read:function($){const x=document.cookie.match(new RegExp("(^|;\\s*)("+$+")=([^;]*)"));return x?decodeURIComponent(x[3]):null},remove:function($){this.write($,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function isAbsoluteURL(T){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(T)}function combineURLs(T,k){return k?T.replace(/\/+$/,"")+"/"+k.replace(/^\/+/,""):T}function buildFullPath(T,k){return T&&!isAbsoluteURL(k)?combineURLs(T,k):k}const isURLSameOrigin=platform.isStandardBrowserEnv?function(){const k=/(msie|trident)/i.test(navigator.userAgent),$=document.createElement("a");let x;function I(L){let E=L;return k&&($.setAttribute("href",E),E=$.href),$.setAttribute("href",E),{href:$.href,protocol:$.protocol?$.protocol.replace(/:$/,""):"",host:$.host,search:$.search?$.search.replace(/^\?/,""):"",hash:$.hash?$.hash.replace(/^#/,""):"",hostname:$.hostname,port:$.port,pathname:$.pathname.charAt(0)==="/"?$.pathname:"/"+$.pathname}}return x=I(window.location.href),function(E){const D=utils.isString(E)?I(E):E;return D.protocol===x.protocol&&D.host===x.host}}():function(){return function(){return!0}}();function parseProtocol(T){const k=/^([-+\w]{1,25})(:?\/\/|:)/.exec(T);return k&&k[1]||""}function speedometer(T,k){T=T||10;const $=new Array(T),x=new Array(T);let I=0,L=0,E;return k=k!==void 0?k:1e3,function(F){const P=Date.now(),U=x[L];E||(E=P),$[I]=F,x[I]=P;let M=L,z=0;for(;M!==I;)z+=$[M++],M=M%T;if(I=(I+1)%T,I===L&&(L=(L+1)%T),P-E<k)return;const N=U&&P-U;return N?Math.round(z*1e3/N):void 0}}function progressEventReducer(T,k){let $=0;const x=speedometer(50,250);return I=>{const L=I.loaded,E=I.lengthComputable?I.total:void 0,D=L-$,F=x(D),P=L<=E;$=L;const U={loaded:L,total:E,progress:E?L/E:void 0,bytes:D,rate:F||void 0,estimated:F&&E&&P?(E-L)/F:void 0,event:I};U[k?"download":"upload"]=!0,T(U)}}const isXHRAdapterSupported=typeof XMLHttpRequest<"u",xhrAdapter=isXHRAdapterSupported&&function(T){return new Promise(function($,x){let I=T.data;const L=AxiosHeaders$1.from(T.headers).normalize(),E=T.responseType;let D;function F(){T.cancelToken&&T.cancelToken.unsubscribe(D),T.signal&&T.signal.removeEventListener("abort",D)}utils.isFormData(I)&&(platform.isStandardBrowserEnv||platform.isStandardBrowserWebWorkerEnv?L.setContentType(!1):L.setContentType("multipart/form-data;",!1));let P=new XMLHttpRequest;if(T.auth){const N=T.auth.username||"",q=T.auth.password?unescape(encodeURIComponent(T.auth.password)):"";L.set("Authorization","Basic "+btoa(N+":"+q))}const U=buildFullPath(T.baseURL,T.url);P.open(T.method.toUpperCase(),buildURL(U,T.params,T.paramsSerializer),!0),P.timeout=T.timeout;function M(){if(!P)return;const N=AxiosHeaders$1.from("getAllResponseHeaders"in P&&P.getAllResponseHeaders()),j={data:!E||E==="text"||E==="json"?P.responseText:P.response,status:P.status,statusText:P.statusText,headers:N,config:T,request:P};settle(function(H){$(H),F()},function(H){x(H),F()},j),P=null}if("onloadend"in P?P.onloadend=M:P.onreadystatechange=function(){!P||P.readyState!==4||P.status===0&&!(P.responseURL&&P.responseURL.indexOf("file:")===0)||setTimeout(M)},P.onabort=function(){P&&(x(new AxiosError("Request aborted",AxiosError.ECONNABORTED,T,P)),P=null)},P.onerror=function(){x(new AxiosError("Network Error",AxiosError.ERR_NETWORK,T,P)),P=null},P.ontimeout=function(){let q=T.timeout?"timeout of "+T.timeout+"ms exceeded":"timeout exceeded";const j=T.transitional||transitionalDefaults;T.timeoutErrorMessage&&(q=T.timeoutErrorMessage),x(new AxiosError(q,j.clarifyTimeoutError?AxiosError.ETIMEDOUT:AxiosError.ECONNABORTED,T,P)),P=null},platform.isStandardBrowserEnv){const N=(T.withCredentials||isURLSameOrigin(U))&&T.xsrfCookieName&&cookies.read(T.xsrfCookieName);N&&L.set(T.xsrfHeaderName,N)}I===void 0&&L.setContentType(null),"setRequestHeader"in P&&utils.forEach(L.toJSON(),function(q,j){P.setRequestHeader(j,q)}),utils.isUndefined(T.withCredentials)||(P.withCredentials=!!T.withCredentials),E&&E!=="json"&&(P.responseType=T.responseType),typeof T.onDownloadProgress=="function"&&P.addEventListener("progress",progressEventReducer(T.onDownloadProgress,!0)),typeof T.onUploadProgress=="function"&&P.upload&&P.upload.addEventListener("progress",progressEventReducer(T.onUploadProgress)),(T.cancelToken||T.signal)&&(D=N=>{P&&(x(!N||N.type?new CanceledError(null,T,P):N),P.abort(),P=null)},T.cancelToken&&T.cancelToken.subscribe(D),T.signal&&(T.signal.aborted?D():T.signal.addEventListener("abort",D)));const z=parseProtocol(U);if(z&&platform.protocols.indexOf(z)===-1){x(new AxiosError("Unsupported protocol "+z+":",AxiosError.ERR_BAD_REQUEST,T));return}P.send(I||null)})},knownAdapters={http:httpAdapter,xhr:xhrAdapter};utils.forEach(knownAdapters,(T,k)=>{if(T){try{Object.defineProperty(T,"name",{value:k})}catch{}Object.defineProperty(T,"adapterName",{value:k})}});const adapters={getAdapter:T=>{T=utils.isArray(T)?T:[T];const{length:k}=T;let $,x;for(let I=0;I<k&&($=T[I],!(x=utils.isString($)?knownAdapters[$.toLowerCase()]:$));I++);if(!x)throw x===!1?new AxiosError(`Adapter ${$} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(utils.hasOwnProp(knownAdapters,$)?`Adapter '${$}' is not available in the build`:`Unknown adapter '${$}'`);if(!utils.isFunction(x))throw new TypeError("adapter is not a function");return x},adapters:knownAdapters};function throwIfCancellationRequested(T){if(T.cancelToken&&T.cancelToken.throwIfRequested(),T.signal&&T.signal.aborted)throw new CanceledError(null,T)}function dispatchRequest(T){return throwIfCancellationRequested(T),T.headers=AxiosHeaders$1.from(T.headers),T.data=transformData.call(T,T.transformRequest),["post","put","patch"].indexOf(T.method)!==-1&&T.headers.setContentType("application/x-www-form-urlencoded",!1),adapters.getAdapter(T.adapter||defaults$2.adapter)(T).then(function(x){return throwIfCancellationRequested(T),x.data=transformData.call(T,T.transformResponse,x),x.headers=AxiosHeaders$1.from(x.headers),x},function(x){return isCancel(x)||(throwIfCancellationRequested(T),x&&x.response&&(x.response.data=transformData.call(T,T.transformResponse,x.response),x.response.headers=AxiosHeaders$1.from(x.response.headers))),Promise.reject(x)})}const headersToObject=T=>T instanceof AxiosHeaders$1?T.toJSON():T;function mergeConfig(T,k){k=k||{};const $={};function x(P,U,M){return utils.isPlainObject(P)&&utils.isPlainObject(U)?utils.merge.call({caseless:M},P,U):utils.isPlainObject(U)?utils.merge({},U):utils.isArray(U)?U.slice():U}function I(P,U,M){if(utils.isUndefined(U)){if(!utils.isUndefined(P))return x(void 0,P,M)}else return x(P,U,M)}function L(P,U){if(!utils.isUndefined(U))return x(void 0,U)}function E(P,U){if(utils.isUndefined(U)){if(!utils.isUndefined(P))return x(void 0,P)}else return x(void 0,U)}function D(P,U,M){if(M in k)return x(P,U);if(M in T)return x(void 0,P)}const F={url:L,method:L,data:L,baseURL:E,transformRequest:E,transformResponse:E,paramsSerializer:E,timeout:E,timeoutMessage:E,withCredentials:E,adapter:E,responseType:E,xsrfCookieName:E,xsrfHeaderName:E,onUploadProgress:E,onDownloadProgress:E,decompress:E,maxContentLength:E,maxBodyLength:E,beforeRedirect:E,transport:E,httpAgent:E,httpsAgent:E,cancelToken:E,socketPath:E,responseEncoding:E,validateStatus:D,headers:(P,U)=>I(headersToObject(P),headersToObject(U),!0)};return utils.forEach(Object.keys(Object.assign({},T,k)),function(U){const M=F[U]||I,z=M(T[U],k[U],U);utils.isUndefined(z)&&M!==D||($[U]=z)}),$}const VERSION="1.4.0",validators$1={};["object","boolean","number","function","string","symbol"].forEach((T,k)=>{validators$1[T]=function(x){return typeof x===T||"a"+(k<1?"n ":" ")+T}});const deprecatedWarnings={};validators$1.transitional=function(k,$,x){function I(L,E){return"[Axios v"+VERSION+"] Transitional option '"+L+"'"+E+(x?". "+x:"")}return(L,E,D)=>{if(k===!1)throw new AxiosError(I(E," has been removed"+($?" in "+$:"")),AxiosError.ERR_DEPRECATED);return $&&!deprecatedWarnings[E]&&(deprecatedWarnings[E]=!0,console.warn(I(E," has been deprecated since v"+$+" and will be removed in the near future"))),k?k(L,E,D):!0}};function assertOptions(T,k,$){if(typeof T!="object")throw new AxiosError("options must be an object",AxiosError.ERR_BAD_OPTION_VALUE);const x=Object.keys(T);let I=x.length;for(;I-- >0;){const L=x[I],E=k[L];if(E){const D=T[L],F=D===void 0||E(D,L,T);if(F!==!0)throw new AxiosError("option "+L+" must be "+F,AxiosError.ERR_BAD_OPTION_VALUE);continue}if($!==!0)throw new AxiosError("Unknown option "+L,AxiosError.ERR_BAD_OPTION)}}const validator={assertOptions,validators:validators$1},validators=validator.validators;class Axios{constructor(k){this.defaults=k,this.interceptors={request:new InterceptorManager$1,response:new InterceptorManager$1}}request(k,$){typeof k=="string"?($=$||{},$.url=k):$=k||{},$=mergeConfig(this.defaults,$);const{transitional:x,paramsSerializer:I,headers:L}=$;x!==void 0&&validator.assertOptions(x,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1),I!=null&&(utils.isFunction(I)?$.paramsSerializer={serialize:I}:validator.assertOptions(I,{encode:validators.function,serialize:validators.function},!0)),$.method=($.method||this.defaults.method||"get").toLowerCase();let E;E=L&&utils.merge(L.common,L[$.method]),E&&utils.forEach(["delete","get","head","post","put","patch","common"],q=>{delete L[q]}),$.headers=AxiosHeaders$1.concat(E,L);const D=[];let F=!0;this.interceptors.request.forEach(function(j){typeof j.runWhen=="function"&&j.runWhen($)===!1||(F=F&&j.synchronous,D.unshift(j.fulfilled,j.rejected))});const P=[];this.interceptors.response.forEach(function(j){P.push(j.fulfilled,j.rejected)});let U,M=0,z;if(!F){const q=[dispatchRequest.bind(this),void 0];for(q.unshift.apply(q,D),q.push.apply(q,P),z=q.length,U=Promise.resolve($);M<z;)U=U.then(q[M++],q[M++]);return U}z=D.length;let N=$;for(M=0;M<z;){const q=D[M++],j=D[M++];try{N=q(N)}catch(W){j.call(this,W);break}}try{U=dispatchRequest.call(this,N)}catch(q){return Promise.reject(q)}for(M=0,z=P.length;M<z;)U=U.then(P[M++],P[M++]);return U}getUri(k){k=mergeConfig(this.defaults,k);const $=buildFullPath(k.baseURL,k.url);return buildURL($,k.params,k.paramsSerializer)}}utils.forEach(["delete","get","head","options"],function(k){Axios.prototype[k]=function($,x){return this.request(mergeConfig(x||{},{method:k,url:$,data:(x||{}).data}))}});utils.forEach(["post","put","patch"],function(k){function $(x){return function(L,E,D){return this.request(mergeConfig(D||{},{method:k,headers:x?{"Content-Type":"multipart/form-data"}:{},url:L,data:E}))}}Axios.prototype[k]=$(),Axios.prototype[k+"Form"]=$(!0)});const Axios$1=Axios;class CancelToken{constructor(k){if(typeof k!="function")throw new TypeError("executor must be a function.");let $;this.promise=new Promise(function(L){$=L});const x=this;this.promise.then(I=>{if(!x._listeners)return;let L=x._listeners.length;for(;L-- >0;)x._listeners[L](I);x._listeners=null}),this.promise.then=I=>{let L;const E=new Promise(D=>{x.subscribe(D),L=D}).then(I);return E.cancel=function(){x.unsubscribe(L)},E},k(function(L,E,D){x.reason||(x.reason=new CanceledError(L,E,D),$(x.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(k){if(this.reason){k(this.reason);return}this._listeners?this._listeners.push(k):this._listeners=[k]}unsubscribe(k){if(!this._listeners)return;const $=this._listeners.indexOf(k);$!==-1&&this._listeners.splice($,1)}static source(){let k;return{token:new CancelToken(function(I){k=I}),cancel:k}}}const CancelToken$1=CancelToken;function spread(T){return function($){return T.apply(null,$)}}function isAxiosError(T){return utils.isObject(T)&&T.isAxiosError===!0}const HttpStatusCode={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(HttpStatusCode).forEach(([T,k])=>{HttpStatusCode[k]=T});const HttpStatusCode$1=HttpStatusCode;function createInstance(T){const k=new Axios$1(T),$=bind(Axios$1.prototype.request,k);return utils.extend($,Axios$1.prototype,k,{allOwnKeys:!0}),utils.extend($,k,null,{allOwnKeys:!0}),$.create=function(I){return createInstance(mergeConfig(T,I))},$}const axios=createInstance(defaults$2);axios.Axios=Axios$1;axios.CanceledError=CanceledError;axios.CancelToken=CancelToken$1;axios.isCancel=isCancel;axios.VERSION=VERSION;axios.toFormData=toFormData;axios.AxiosError=AxiosError;axios.Cancel=axios.CanceledError;axios.all=function(k){return Promise.all(k)};axios.spread=spread;axios.isAxiosError=isAxiosError;axios.mergeConfig=mergeConfig;axios.AxiosHeaders=AxiosHeaders$1;axios.formToJSON=T=>formDataToJSON(utils.isHTMLForm(T)?new FormData(T):T);axios.HttpStatusCode=HttpStatusCode$1;axios.default=axios;const axios$1=axios,abortFileReader=writable(!1);async function readFile(T){Log("fs/file.ts: readFile",`Requesting file contents of "${T}" from ArcAPI`,LogLevel.info);const k=get_store_value(ConnectedServer),$=getAuthcode(getServer());if(!k)return!1;const x={headers:{Authorization:`Bearer ${get_store_value(UserToken)}`}},I=new AbortController,L=generateParamStr({ac:$,path:btoa(T)});let E=await fetch(`${k}/fs/file/get${L}`,{...x,signal:I.signal});if(abortFileReader.set(!1),abortFileReader.subscribe(F=>{F&&(Log("fs/file.ts: readFile",`Aborting readFile for "${T}" as requested by the user...`,LogLevel.error),I.abort(),FileBrowserOpenCancelled.set(!0),abortFileReader.set(!1))}),E.status!=200)return!1;const D=await E.blob();return E=null,await D.arrayBuffer()}async function writeFile(T,k){Log("fs/directory.ts: writeFile",`Creating ${T}`);const $=get_store_value(ConnectedServer),x=getAuthcode(getServer());if(!$)return!1;const I=generateParamStr({path:btoa(T),ac:x});return(await axios$1.post(`${$}/fs/file/write${I}`,k,{headers:{Authorization:`Bearer ${get_store_value(UserToken)}`},onUploadProgress(E){const D=E.loaded/E.total*100;FileBrowserUploadProgress.set(D)}})).status==200}const textEditorIcon=""+new URL("apppoker-d9bfde80.svg",import.meta.url).href,loadThemeIcon=""+new URL("loadtheme-9be7f2ef.svg",import.meta.url).href,openInNewIcon=""+new URL("openinnew-99c1dc37.svg",import.meta.url).href,pdfOpenerIcon=""+new URL("pdfopener-13167168.svg",import.meta.url).href,values=["anim","noGlass","sharp","theme","wallpaper","accent","docked","taskbarCentered","taskbarLabels","taskbarPosition","taskbarColored","smallStart","titleButtons","titlebarLarge","titlebarLeft"];function loadTheme(T){const k=get_store_value(UserData$2);k.sh.anim=T.anim,k.sh.noGlass=T.noGlass,k.sh.desktop.sharp=T.sharp,k.sh.desktop.theme=T.theme,k.sh.desktop.wallpaper=T.wallpaper,k.sh.desktop.accent=T.accent,k.sh.taskbar.docked=T.docked,k.sh.taskbar.centered=T.taskbarCentered,k.sh.taskbar.labels=T.taskbarLabels,k.sh.taskbar.pos=T.taskbarPosition,k.sh.start.small=T.smallStart,k.sh.window.buttons=T.titleButtons,k.sh.window.bigtb=T.titlebarLarge,k.sh.window.lefttb=T.titlebarLeft,k.sh.taskbar.colored=T.taskbarColored,k.sh.window.centertb=!!T.titlebarCentered,k.sh.taskbar.isLauncher=!!T.isLauncher,UserData$2.set(k)}function saveCurrentTheme(T){const k=`${Math.floor(Math.random()*1e6)}`,$=get_store_value(UserData$2),x={version:"1.0.0",name:T,author:get_store_value(UserName),anim:$.sh.anim,noGlass:$.sh.noGlass,sharp:$.sh.desktop.sharp,theme:$.sh.desktop.theme,wallpaper:$.sh.desktop.wallpaper,accent:$.sh.desktop.accent,docked:$.sh.taskbar.docked,taskbarCentered:$.sh.taskbar.centered,taskbarLabels:$.sh.taskbar.labels,taskbarPosition:$.sh.taskbar.pos,smallStart:$.sh.start.small,titleButtons:$.sh.window.buttons,titlebarLarge:$.sh.window.bigtb,titlebarLeft:$.sh.window.lefttb,taskbarColored:$.sh.taskbar.colored,titlebarCentered:$.sh.taskbar.centered,isLauncher:$.sh.taskbar.isLauncher};$.sh.userThemes||($.sh.userThemes={}),$.sh.userThemes[k]=x,UserData$2.set($)}function deleteCustomTheme(T){const k=get_store_value(UserData$2);return!k.sh.userThemes||!k.sh.userThemes[T]?!1:(delete k.sh.userThemes[T],UserData$2.set(k),!0)}function verifyTheme(T){const k=Object.keys(T);for(let $=0;$<values.length;$++)if(!k.includes(values[$]))return!1;return!0}const appSettings=""+new URL("apps-7d739039.svg",import.meta.url).href,openwith="";function create_fragment$44(T){let k,$,x,I,L,E,D,F,P=T[1].name+"",U,M,z,N=T[1].description+"",q,j,W;return{c(){k=element("button"),$=element("div"),x=element("img"),E=space(),D=element("div"),F=element("div"),U=text(P),M=space(),z=element("div"),q=text(N),src_url_equal(x.src,I=T[1].icon)||attr(x,"src",I),attr(x,"alt",L=T[1].name),attr($,"class","icon"),attr(F,"class","name"),attr(z,"class","description"),attr(k,"class","option loader"),toggle_class(k,"selected",T[0]==T[1].name)},m(H,Q){insert(H,k,Q),append(k,$),append($,x),append(k,E),append(k,D),append(D,F),append(F,U),append(D,M),append(D,z),append(z,q),j||(W=[listen(k,"click",T[2]),listen(k,"dblclick",T[3])],j=!0)},p(H,[Q]){Q&2&&!src_url_equal(x.src,I=H[1].icon)&&attr(x,"src",I),Q&2&&L!==(L=H[1].name)&&attr(x,"alt",L),Q&2&&P!==(P=H[1].name+"")&&set_data(U,P),Q&2&&N!==(N=H[1].description+"")&&set_data(q,N),Q&3&&toggle_class(k,"selected",H[0]==H[1].name)},i:noop$1,o:noop$1,d(H){H&&detach(k),j=!1,run_all(W)}}}function instance$3K(T,k,$){let{loader:x}=k,{file:I}=k,{selected:L=""}=k,{loaderOptions:E}=k,{options:D}=k;function F(){$(0,L=x.name)}function P(){x.loader(I),closeWindow("OpenWithApp"),$(4,E=[]),$(5,D=[])}return T.$$set=U=>{"loader"in U&&$(1,x=U.loader),"file"in U&&$(6,I=U.file),"selected"in U&&$(0,L=U.selected),"loaderOptions"in U&&$(4,E=U.loaderOptions),"options"in U&&$(5,D=U.options)},[L,x,F,P,E,D,I]}class LoaderOption extends SvelteComponent{constructor(k){super(),init(this,k,instance$3K,create_fragment$44,safe_not_equal,{loader:1,file:6,selected:0,loaderOptions:4,options:5})}}function create_fragment$43(T){let k,$,x,I,L,E,D,F,P=T[1].info.name+"",U,M,z,N=T[1].info.description+"",q,j,W,H=T[1].id+"",Q,K,G;return{c(){k=element("button"),$=element("div"),x=element("img"),E=space(),D=element("div"),F=element("div"),U=text(P),M=space(),z=element("div"),q=text(N),j=space(),W=element("div"),Q=text(H),src_url_equal(x.src,I=T[1].info.icon)||attr(x,"src",I),attr(x,"alt",L=T[1].info.name),attr($,"class","icon"),attr(F,"class","name"),attr(z,"class","description"),attr(W,"class","id"),attr(k,"class","option"),toggle_class(k,"selected",T[0]==T[1].id)},m(V,Y){insert(V,k,Y),append(k,$),append($,x),append(k,E),append(k,D),append(D,F),append(F,U),append(D,M),append(D,z),append(z,q),append(k,j),append(k,W),append(W,Q),K||(G=[listen(k,"click",T[2]),listen(k,"dblclick",T[3])],K=!0)},p(V,[Y]){Y&2&&!src_url_equal(x.src,I=V[1].info.icon)&&attr(x,"src",I),Y&2&&L!==(L=V[1].info.name)&&attr(x,"alt",L),Y&2&&P!==(P=V[1].info.name+"")&&set_data(U,P),Y&2&&N!==(N=V[1].info.description+"")&&set_data(q,N),Y&2&&H!==(H=V[1].id+"")&&set_data(Q,H),Y&3&&toggle_class(k,"selected",V[0]==V[1].id)},i:noop$1,o:noop$1,d(V){V&&detach(k),K=!1,run_all(G)}}}function instance$3J(T,k,$){let{app:x}=k,{file:I}=k,{selected:L=""}=k,{loaderOptions:E}=k,{options:D}=k;function F(){$(0,L=x.id)}function P(){openWith(x.id,I,I.anymime),setTimeout(()=>{OpenWithFile.set(null)},1e3),closeWindow("OpenWithApp"),$(4,E=[]),$(5,D=[])}return T.$$set=U=>{"app"in U&&$(1,x=U.app),"file"in U&&$(6,I=U.file),"selected"in U&&$(0,L=U.selected),"loaderOptions"in U&&$(4,E=U.loaderOptions),"options"in U&&$(5,D=U.options)},[L,x,F,P,E,D,I]}let Option$1=class extends SvelteComponent{constructor(k){super(),init(this,k,instance$3J,create_fragment$43,safe_not_equal,{app:1,file:6,selected:0,loaderOptions:4,options:5})}};function get_each_context$U(T,k,$){const x=T.slice();return x[13]=k[$],x}function get_each_context_1$e(T,k,$){const x=T.slice();return x[16]=k[$],x}function create_if_block$1y(T){let k,$,x,I,L,E,D,F,P,U,M,z,N,q,j,W,H,Q,K,G,V,Y,J,X=ensure_array_like(T[0]),Z=[];for(let ne=0;ne<X.length;ne+=1)Z[ne]=create_each_block_1$e(get_each_context_1$e(T,X,ne));const ee=ne=>transition_out(Z[ne],1,1,()=>{Z[ne]=null});let re=!T[0].length&&create_if_block_2$a(),ce=ensure_array_like(T[1]),oe=[];for(let ne=0;ne<ce.length;ne+=1)oe[ne]=create_each_block$U(get_each_context$U(T,ce,ne));const ae=ne=>transition_out(oe[ne],1,1,()=>{oe[ne]=null});let se=!T[1].length&&create_if_block_1$v();return{c(){k=element("div"),$=element("p"),x=text("Select an item to open "),I=text(T[3]),L=space(),E=element("div"),D=element("p"),D.textContent="Apps",F=space();for(let ne=0;ne<Z.length;ne+=1)Z[ne].c();P=space(),re&&re.c(),U=space(),M=element("p"),M.textContent="Handlers",z=space();for(let ne=0;ne<oe.length;ne+=1)oe[ne].c();N=space(),se&&se.c(),q=space(),j=element("div"),W=element("button"),H=text("Open"),K=space(),G=element("button"),G.textContent="Cancel",attr($,"class","title"),attr(D,"class","category"),attr(M,"class","category"),attr(E,"class","options"),W.disabled=Q=!T[2],attr(j,"class","actions"),attr(k,"class","content")},m(ne,ie){insert(ne,k,ie),append(k,$),append($,x),append($,I),append(k,L),append(k,E),append(E,D),append(E,F);for(let te=0;te<Z.length;te+=1)Z[te]&&Z[te].m(E,null);append(E,P),re&&re.m(E,null),append(E,U),append(E,M),append(E,z);for(let te=0;te<oe.length;te+=1)oe[te]&&oe[te].m(E,null);append(E,N),se&&se.m(E,null),append(k,q),append(k,j),append(j,W),append(W,H),append(j,K),append(j,G),V=!0,Y||(J=[listen(W,"click",T[5]),listen(G,"click",T[6])],Y=!0)},p(ne,ie){if((!V||ie&8)&&set_data(I,ne[3]),ie&23){X=ensure_array_like(ne[0]);let te;for(te=0;te<X.length;te+=1){const le=get_each_context_1$e(ne,X,te);Z[te]?(Z[te].p(le,ie),transition_in(Z[te],1)):(Z[te]=create_each_block_1$e(le),Z[te].c(),transition_in(Z[te],1),Z[te].m(E,P))}for(group_outros(),te=X.length;te<Z.length;te+=1)ee(te);check_outros()}if(ne[0].length?re&&(re.d(1),re=null):re||(re=create_if_block_2$a(),re.c(),re.m(E,U)),ie&23){ce=ensure_array_like(ne[1]);let te;for(te=0;te<ce.length;te+=1){const le=get_each_context$U(ne,ce,te);oe[te]?(oe[te].p(le,ie),transition_in(oe[te],1)):(oe[te]=create_each_block$U(le),oe[te].c(),transition_in(oe[te],1),oe[te].m(E,N))}for(group_outros(),te=ce.length;te<oe.length;te+=1)ae(te);check_outros()}ne[1].length?se&&(se.d(1),se=null):se||(se=create_if_block_1$v(),se.c(),se.m(E,null)),(!V||ie&4&&Q!==(Q=!ne[2]))&&(W.disabled=Q)},i(ne){if(!V){for(let ie=0;ie<X.length;ie+=1)transition_in(Z[ie]);for(let ie=0;ie<ce.length;ie+=1)transition_in(oe[ie]);V=!0}},o(ne){Z=Z.filter(Boolean);for(let ie=0;ie<Z.length;ie+=1)transition_out(Z[ie]);oe=oe.filter(Boolean);for(let ie=0;ie<oe.length;ie+=1)transition_out(oe[ie]);V=!1},d(ne){ne&&detach(k),destroy_each(Z,ne),re&&re.d(),destroy_each(oe,ne),se&&se.d(),Y=!1,run_all(J)}}}function create_each_block_1$e(T){let k,$,x,I,L;function E(U){T[7](U)}function D(U){T[8](U)}function F(U){T[9](U)}let P={file:T[4],app:T[16]};return T[1]!==void 0&&(P.loaderOptions=T[1]),T[0]!==void 0&&(P.options=T[0]),T[2]!==void 0&&(P.selected=T[2]),k=new Option$1({props:P}),binding_callbacks.push(()=>bind$1(k,"loaderOptions",E)),binding_callbacks.push(()=>bind$1(k,"options",D)),binding_callbacks.push(()=>bind$1(k,"selected",F)),{c(){create_component(k.$$.fragment)},m(U,M){mount_component(k,U,M),L=!0},p(U,M){const z={};M&16&&(z.file=U[4]),M&1&&(z.app=U[16]),!$&&M&2&&($=!0,z.loaderOptions=U[1],add_flush_callback(()=>$=!1)),!x&&M&1&&(x=!0,z.options=U[0],add_flush_callback(()=>x=!1)),!I&&M&4&&(I=!0,z.selected=U[2],add_flush_callback(()=>I=!1)),k.$set(z)},i(U){L||(transition_in(k.$$.fragment,U),L=!0)},o(U){transition_out(k.$$.fragment,U),L=!1},d(U){destroy_component(k,U)}}}function create_if_block_2$a(T){let k;return{c(){k=element("p"),k.textContent="No apps found",attr(k,"class","noitems")},m($,x){insert($,k,x)},d($){$&&detach(k)}}}function create_each_block$U(T){let k,$,x,I,L;function E(U){T[10](U)}function D(U){T[11](U)}function F(U){T[12](U)}let P={loader:T[13],file:T[4]};return T[1]!==void 0&&(P.loaderOptions=T[1]),T[0]!==void 0&&(P.options=T[0]),T[2]!==void 0&&(P.selected=T[2]),k=new LoaderOption({props:P}),binding_callbacks.push(()=>bind$1(k,"loaderOptions",E)),binding_callbacks.push(()=>bind$1(k,"options",D)),binding_callbacks.push(()=>bind$1(k,"selected",F)),{c(){create_component(k.$$.fragment)},m(U,M){mount_component(k,U,M),L=!0},p(U,M){const z={};M&2&&(z.loader=U[13]),M&16&&(z.file=U[4]),!$&&M&2&&($=!0,z.loaderOptions=U[1],add_flush_callback(()=>$=!1)),!x&&M&1&&(x=!0,z.options=U[0],add_flush_callback(()=>x=!1)),!I&&M&4&&(I=!0,z.selected=U[2],add_flush_callback(()=>I=!1)),k.$set(z)},i(U){L||(transition_in(k.$$.fragment,U),L=!0)},o(U){transition_out(k.$$.fragment,U),L=!1},d(U){destroy_component(k,U)}}}function create_if_block_1$v(T){let k;return{c(){k=element("p"),k.textContent="No handlers found",attr(k,"class","noitems")},m($,x){insert($,k,x)},d($){$&&detach(k)}}}function create_fragment$42(T){let k,$,x=T[4]&&create_if_block$1y(T);return{c(){x&&x.c(),k=empty()},m(I,L){x&&x.m(I,L),insert(I,k,L),$=!0},p(I,[L]){I[4]?x?(x.p(I,L),L&16&&transition_in(x,1)):(x=create_if_block$1y(I),x.c(),transition_in(x,1),x.m(k.parentNode,k)):x&&(group_outros(),transition_out(x,1,1,()=>{x=null}),check_outros())},i(I){$||(transition_in(x),$=!0)},o(I){transition_out(x),$=!1},d(I){I&&detach(k),x&&x.d(I)}}}function instance$3I(T,k,$){let x;component_subscribe(T,OpenWithFile,W=>$(4,x=W));let I=[],L=[],E="",D="";OpenWithFile.subscribe(W=>{if(!W)return $(3,D="file");$(3,D=W.name),$(0,I=[]),$(1,L=[]);let H=[];W.anymime?H=getAllFileHandlers():H=findAppToOpen(W.mime);for(let K=0;K<H.length;K++)I.push(getWindow(H[K]));$(2,E="");const Q=Object.entries(FileLoaders);for(let K=0;K<Q.length;K++){const V=Q[K][1];for(let Y=0;Y<V.extensions.length;Y++)D.endsWith(V.extensions[Y])&&L.push(V);V.extensions.length||L.push(V)}});function F(){const W=getWindow(E);if(W)openWith(W.id,x,x.anymime);else for(let H=0;H<L.length;H++)L[H].name==E&&L[H].loader(x),set_store_value(OpenWithFile,x=null,x);setTimeout(()=>{OpenWithFile.set(null)},1e3),P()}function P(){isFullscreenWindow.set(!1),closeWindow("OpenWithApp")}function U(W){L=W,$(1,L)}function M(W){I=W,$(0,I)}function z(W){E=W,$(2,E)}function N(W){L=W,$(1,L)}function q(W){I=W,$(0,I)}function j(W){E=W,$(2,E)}return[I,L,E,D,x,F,P,U,M,z,N,q,j]}class OpenWith extends SvelteComponent{constructor(k){super(),init(this,k,instance$3I,create_fragment$42,safe_not_equal,{})}}const OpenWithApp={info:{name:"Open With",description:"Open a file with an app",builtin:!0,version:"1.0.0",author:"Izaak Kuipers",hidden:!0,icon:appSettings},size:{w:450,h:550},pos:{x:30,y:40},minSize:{w:450,h:550},maxSize:{w:450,h:550},controls:{min:!1,max:!1,cls:!1},state:{headless:!0,resizable:!1,windowState:{min:!1,max:!1,fll:!0}},content:OpenWith,glass:!0,events:{close(){OpenWithFile.set(null)}}},OpenWithFile=writable(null),logo$a=""+new URL("testapp-e6d0e520.svg",import.meta.url).href,AppInfo$3="",def=""+new URL("unknown-aaa1fa15.svg",import.meta.url).href;function hotSwapAppIcon(T,k){Log("icon.ts: hotSwapAppIcon",`Changing app icon for ${k} to ${T}`,LogLevel.info);const $=get_store_value(WindowStore);for(let x=0;x<$.length;x++)$[x].id==k&&(Originals$1[k]||(Originals$1[k]=`${getAppIcon($[x])}`),$[x].info.icon=T);WindowStore.set($)}function getOriginalIcon(T){return Originals$1[T]}function getAppIcon(T){return T.info.builtin?T.info.icon:def}const Originals$1={};function create_if_block$1x(T){let k,$,x,I,L,E,D,F,P=T[0].info.name+"",U,M,z,N=T[0].info.description+"",q,j,W,H,Q,K,G,V,Y,J,X,Z,ee=(T[0].size.w||d)+"",re,ce,oe=(T[0].size.h||d)+"",ae,se,ne,ie,te,le,pe=(T[0].minSize.w||d)+"",me,fe,de=(T[0].minSize.h||d)+"",ve,we,_e,he,Ae,be,$e=(T[0].maxSize.w||d)+"",Se,Ce,Ue=(T[0].maxSize.h||d)+"",Ve,ot,at,st,Ie,Ye,rt,Te,Re=(T[0].pos.x||d)+"",Je,lt,Me=(T[0].pos.y||d)+"",Ze,ct,Le,Xe,ut,ze,Ne=T[0].core+"",et,pt,Ee,tt,ft,je,xe,Oe,dt,qe,mt,De,_t,We,gt,Be,ht,He,bt,Fe,nt,vt,Qe,Pe,At,Ke,it,kt;function wt(ge,ke){return ge[0].parentId?create_if_block_1$u:create_else_block$u}let Ge=wt(T),ye=Ge(T);return{c(){k=element("div"),$=element("div"),x=element("img"),E=space(),D=element("div"),F=element("p"),U=text(P),M=space(),z=element("p"),q=text(N),j=space(),ye.c(),W=space(),H=element("div"),Q=element("input"),G=space(),V=element("div"),Y=element("div"),J=element("div"),J.textContent="Size:",X=space(),Z=element("div"),re=text(ee),ce=text("x"),ae=text(oe),se=space(),ne=element("div"),ie=element("div"),ie.textContent="Minimal size:",te=space(),le=element("div"),me=text(pe),fe=text("x"),ve=text(de),we=space(),_e=element("div"),he=element("div"),he.textContent="Maximal size:",Ae=space(),be=element("div"),Se=text($e),Ce=text("x"),Ve=text(Ue),ot=space(),at=element("hr"),st=space(),Ie=element("div"),Ye=element("div"),Ye.textContent="Start position:",rt=space(),Te=element("div"),Je=text(Re),lt=text("x"),Ze=text(Me),ct=space(),Le=element("div"),Xe=element("div"),Xe.textContent="Core Application:",ut=space(),ze=element("div"),et=text(Ne),pt=space(),Ee=element("div"),tt=element("div"),tt.textContent="Window controls:",ft=space(),je=element("div"),xe=element("div"),Oe=element("button"),dt=text("minimize"),mt=space(),De=element("button"),_t=text("crop_square"),gt=space(),Be=element("button"),ht=text("close"),bt=space(),Fe=element("div"),nt=element("div"),nt.textContent="Actions",vt=space(),Qe=element("div"),Pe=element("button"),At=text("Open"),src_url_equal(x.src,I=getAppIcon(T[0]))||attr(x,"src",I),attr(x,"alt",L=T[0].info.name),attr(F,"class","appname"),attr(z,"class","description"),attr(Q,"type","checkbox"),attr(Q,"class","switch"),Q.disabled=K=SystemApps.includes(T[2]),attr(H,"class","actions"),attr(k,"class","name"),attr(Z,"class","value"),attr(Y,"class","property"),attr(le,"class","value"),attr(ne,"class","property"),attr(be,"class","value"),attr(_e,"class","property"),attr(Te,"class","value"),attr(Ie,"class","property"),attr(ze,"class","value"),attr(Le,"class","property"),attr(Oe,"class","material-icons-round"),Oe.disabled=qe=!T[0].controls.min,attr(De,"class","material-icons-round"),De.disabled=We=!T[0].controls.max,attr(Be,"class","material-icons-round"),Be.disabled=He=!T[0].controls.cls,attr(xe,"class","controls"),attr(je,"class","value"),attr(Ee,"class","property"),Pe.disabled=Ke=T[0].opened||T[0].disabled||T[0].core,attr(Qe,"class","value"),attr(Fe,"class","property"),attr(V,"class","properties")},m(ge,ke){insert(ge,k,ke),append(k,$),append($,x),append(k,E),append(k,D),append(D,F),append(F,U),append(D,M),append(D,z),append(z,q),append(z,j),ye.m(z,null),append(k,W),append(k,H),append(H,Q),Q.checked=T[1],insert(ge,G,ke),insert(ge,V,ke),append(V,Y),append(Y,J),append(Y,X),append(Y,Z),append(Z,re),append(Z,ce),append(Z,ae),append(V,se),append(V,ne),append(ne,ie),append(ne,te),append(ne,le),append(le,me),append(le,fe),append(le,ve),append(V,we),append(V,_e),append(_e,he),append(_e,Ae),append(_e,be),append(be,Se),append(be,Ce),append(be,Ve),append(V,ot),append(V,at),append(V,st),append(V,Ie),append(Ie,Ye),append(Ie,rt),append(Ie,Te),append(Te,Je),append(Te,lt),append(Te,Ze),append(V,ct),append(V,Le),append(Le,Xe),append(Le,ut),append(Le,ze),append(ze,et),append(V,pt),append(V,Ee),append(Ee,tt),append(Ee,ft),append(Ee,je),append(je,xe),append(xe,Oe),append(Oe,dt),append(xe,mt),append(xe,De),append(De,_t),append(xe,gt),append(xe,Be),append(Be,ht),append(V,bt),append(V,Fe),append(Fe,nt),append(Fe,vt),append(Fe,Qe),append(Qe,Pe),append(Pe,At),it||(kt=[listen(Q,"change",T[4]),listen(Q,"change",T[3]),listen(Pe,"click",T[5])],it=!0)},p(ge,ke){ke&1&&!src_url_equal(x.src,I=getAppIcon(ge[0]))&&attr(x,"src",I),ke&1&&L!==(L=ge[0].info.name)&&attr(x,"alt",L),ke&1&&P!==(P=ge[0].info.name+"")&&set_data(U,P),ke&1&&N!==(N=ge[0].info.description+"")&&set_data(q,N),Ge===(Ge=wt(ge))&&ye?ye.p(ge,ke):(ye.d(1),ye=Ge(ge),ye&&(ye.c(),ye.m(z,null))),ke&4&&K!==(K=SystemApps.includes(ge[2]))&&(Q.disabled=K),ke&2&&(Q.checked=ge[1]),ke&1&&ee!==(ee=(ge[0].size.w||d)+"")&&set_data(re,ee),ke&1&&oe!==(oe=(ge[0].size.h||d)+"")&&set_data(ae,oe),ke&1&&pe!==(pe=(ge[0].minSize.w||d)+"")&&set_data(me,pe),ke&1&&de!==(de=(ge[0].minSize.h||d)+"")&&set_data(ve,de),ke&1&&$e!==($e=(ge[0].maxSize.w||d)+"")&&set_data(Se,$e),ke&1&&Ue!==(Ue=(ge[0].maxSize.h||d)+"")&&set_data(Ve,Ue),ke&1&&Re!==(Re=(ge[0].pos.x||d)+"")&&set_data(Je,Re),ke&1&&Me!==(Me=(ge[0].pos.y||d)+"")&&set_data(Ze,Me),ke&1&&Ne!==(Ne=ge[0].core+"")&&set_data(et,Ne),ke&1&&qe!==(qe=!ge[0].controls.min)&&(Oe.disabled=qe),ke&1&&We!==(We=!ge[0].controls.max)&&(De.disabled=We),ke&1&&He!==(He=!ge[0].controls.cls)&&(Be.disabled=He),ke&1&&Ke!==(Ke=ge[0].opened||ge[0].disabled||ge[0].core)&&(Pe.disabled=Ke)},d(ge){ge&&(detach(k),detach(G),detach(V)),ye.d(),it=!1,run_all(kt)}}}function create_else_block$u(T){let k,$=T[0].id+"",x,I;return{c(){k=text("("),x=text($),I=text(")")},m(L,E){insert(L,k,E),insert(L,x,E),insert(L,I,E)},p(L,E){E&1&&$!==($=L[0].id+"")&&set_data(x,$)},d(L){L&&(detach(k),detach(x),detach(I))}}}function create_if_block_1$u(T){let k,$=T[0].parentId+"",x,I,L=T[0].id+"",E,D;return{c(){k=text("("),x=text($),I=text("."),E=text(L),D=text(")")},m(F,P){insert(F,k,P),insert(F,x,P),insert(F,I,P),insert(F,E,P),insert(F,D,P)},p(F,P){P&1&&$!==($=F[0].parentId+"")&&set_data(x,$),P&1&&L!==(L=F[0].id+"")&&set_data(E,L)},d(F){F&&(detach(k),detach(x),detach(I),detach(E),detach(D))}}}function create_fragment$41(T){let k,$=T[0]&&create_if_block$1x(T);return{c(){$&&$.c(),k=empty()},m(x,I){$&&$.m(x,I),insert(x,k,I)},p(x,[I]){x[0]?$?$.p(x,I):($=create_if_block$1x(x),$.c(),$.m(k.parentNode,k)):$&&($.d(1),$=null)},i:noop$1,o:noop$1,d(x){x&&detach(k),$&&$.d(x)}}}let d="(unset)";function instance$3H(T,k,$){let x;component_subscribe(T,AppInfoId,U=>$(2,x=U));let I,L=!0;function E(){L?enableApp(x):disableApp(x),$(0,I=getWindow(x)),I&&$(1,L=!getWindow(x).disabled)}AppInfoId.subscribe(D),WindowStore.subscribe(D);function D(){x&&($(0,I=getWindow(x)),I&&$(1,L=!getWindow(x).disabled))}function F(){L=this.checked,$(1,L)}return[I,L,x,E,F,()=>openWindow(x)]}let AppInfo$2=class extends SvelteComponent{constructor(k){super(),init(this,k,instance$3H,create_fragment$41,safe_not_equal,{})}};const AppInfo$1={info:{name:"Application Info",description:"View information about an application",builtin:!0,version:"1.0.0",author:"Izaak Kuipers",hidden:!0,icon:logo$a},size:{w:500,h:450},pos:{x:30,y:40},minSize:{w:500,h:450},maxSize:{w:500,h:450},controls:{min:!0,max:!1,cls:!0},state:{headless:!1,resizable:!1,windowState:{min:!1,max:!1,fll:!1}},content:AppInfo$2,glass:!1,events:{close(){AppInfoId.set(null)}}},AppInfoId=writable(null),appMan=""+new URL("appmanager-1df306f1.svg",import.meta.url).href,AppManager$2="",staticAppManActions=[{caption:"Run...",icon:"directions_run",action:()=>{showOverlay("run","AppMan")}}],appManSelected=writable();function create_if_block$1w(T){let k,$,x,I,L,E,D=T[0].info.name+"",F,P,U,M,z,N,q=T[1]&&create_if_block_2$9();function j(Q,K){return Q[0].parentId?create_if_block_1$t:create_else_block$t}let W=j(T),H=W(T);return{c(){k=element("div"),$=element("div"),x=element("img"),L=space(),E=element("div"),F=text(D),P=space(),q&&q.c(),U=space(),M=element("div"),H.c(),src_url_equal(x.src,I=getOriginalIcon(T[0].id)||getAppIcon(T[0]))||attr(x,"src",I),attr(x,"alt",""),attr(E,"class","appname"),attr(M,"class","id"),attr(k,"class","appinstance"),toggle_class(k,"closed",!T[0].opened),toggle_class(k,"selected",T[2]==T[0].id)},m(Q,K){insert(Q,k,K),append(k,$),append($,x),append(k,L),append(k,E),append(E,F),append(E,P),q&&q.m(E,null),append(k,U),append(k,M),H.m(M,null),z||(N=listen(k,"click",T[3]),z=!0)},p(Q,K){K&1&&!src_url_equal(x.src,I=getOriginalIcon(Q[0].id)||getAppIcon(Q[0]))&&attr(x,"src",I),K&1&&D!==(D=Q[0].info.name+"")&&set_data(F,D),Q[1]?q||(q=create_if_block_2$9(),q.c(),q.m(E,null)):q&&(q.d(1),q=null),W===(W=j(Q))&&H?H.p(Q,K):(H.d(1),H=W(Q),H&&(H.c(),H.m(M,null))),K&1&&toggle_class(k,"closed",!Q[0].opened),K&5&&toggle_class(k,"selected",Q[2]==Q[0].id)},d(Q){Q&&detach(k),q&&q.d(),H.d(),z=!1,N()}}}function create_if_block_2$9(T){let k;return{c(){k=text("(Dialog)")},m($,x){insert($,k,x)},d($){$&&detach(k)}}}function create_else_block$t(T){let k=T[0].id+"",$;return{c(){$=text(k)},m(x,I){insert(x,$,I)},p(x,I){I&1&&k!==(k=x[0].id+"")&&set_data($,k)},d(x){x&&detach($)}}}function create_if_block_1$t(T){let k=T[0].parentId+"",$,x,I=T[0].id+"",L;return{c(){$=text(k),x=text("."),L=text(I)},m(E,D){insert(E,$,D),insert(E,x,D),insert(E,L,D)},p(E,D){D&1&&k!==(k=E[0].parentId+"")&&set_data($,k),D&1&&I!==(I=E[0].id+"")&&set_data(L,I)},d(E){E&&(detach($),detach(x),detach(L))}}}function create_fragment$40(T){let k=T[0]&&(!isDisabled(T[0].id)&&isOpened(T[0].id)||T[1]),$,x=k&&create_if_block$1w(T);return{c(){x&&x.c(),$=empty()},m(I,L){x&&x.m(I,L),insert(I,$,L)},p(I,[L]){L&3&&(k=I[0]&&(!isDisabled(I[0].id)&&isOpened(I[0].id)||I[1])),k?x?x.p(I,L):(x=create_if_block$1w(I),x.c(),x.m($.parentNode,$)):x&&(x.d(1),x=null)},i:noop$1,o:noop$1,d(I){I&&detach($),x&&x.d(I)}}}function instance$3G(T,k,$){let x;component_subscribe(T,appManSelected,D=>$(2,x=D));let{app:I}=k,{error:L=!1}=k;function E(){set_store_value(appManSelected,x=I.id,x)}return T.$$set=D=>{"app"in D&&$(0,I=D.app),"error"in D&&$(1,L=D.error)},[I,L,x,E]}let App$1=class extends SvelteComponent{constructor(k){super(),init(this,k,instance$3G,create_fragment$40,safe_not_equal,{app:0,error:1})}};const dummyIcon=""+new URL("default-06b0b184.svg",import.meta.url).href;function create_if_block$1v(T){let k,$,x,I,L,E,D=T[1].info.name+"",F,P,U,M=T[2].id+"",z,N,q;return{c(){k=element("div"),$=element("div"),x=element("img"),L=space(),E=element("div"),F=text(D),P=space(),U=element("div"),z=text(M),N=text("."),q=text(T[0]),src_url_equal(x.src,I=dummyIcon)||attr(x,"src",I),attr(x,"alt",""),attr(E,"class","appname"),attr(U,"class","id"),attr(k,"class","appinstance"),toggle_class(k,"closed",!T[1].show)},m(j,W){insert(j,k,W),append(k,$),append($,x),append(k,L),append(k,E),append(E,F),append(k,P),append(k,U),append(U,z),append(U,N),append(U,q)},p(j,W){W&2&&D!==(D=j[1].info.name+"")&&set_data(F,D),W&4&&M!==(M=j[2].id+"")&&set_data(z,M),W&1&&set_data(q,j[0]),W&2&&toggle_class(k,"closed",!j[1].show)},d(j){j&&detach(k)}}}function create_fragment$3$(T){let k,$=T[1]&&isOpened(T[2].id),x=$&&create_if_block$1v(T);return{c(){k=element("div"),x&&x.c(),attr(k,"class","indent")},m(I,L){insert(I,k,L),x&&x.m(k,null)},p(I,[L]){L&6&&($=I[1]&&isOpened(I[2].id)),$?x?x.p(I,L):(x=create_if_block$1v(I),x.c(),x.m(k,null)):x&&(x.d(1),x=null)},i:noop$1,o:noop$1,d(I){I&&detach(k),x&&x.d()}}}function instance$3F(T,k,$){let{id:x}=k,{overlay:I}=k,{parent:L}=k;return T.$$set=E=>{"id"in E&&$(0,x=E.id),"overlay"in E&&$(1,I=E.overlay),"parent"in E&&$(2,L=E.parent)},[x,I,L]}class OverlayApp extends SvelteComponent{constructor(k){super(),init(this,k,instance$3F,create_fragment$3$,safe_not_equal,{id:0,overlay:1,parent:2})}}function get_each_context$T(T,k,$){const x=T.slice();return x[3]=k[$],x}function get_each_context_1$d(T,k,$){const x=T.slice();return x[6]=k[$],x}function create_if_block$1u(T){let k,$,x,I,L;$=new App$1({props:{app:T[0],error:T[2]}});let E=T[0].children&&create_if_block_2$8(T),D=T[0].overlays&&create_if_block_1$s(T);return{c(){k=element("div"),create_component($.$$.fragment),x=space(),E&&E.c(),I=space(),D&&D.c(),toggle_class(k,"indent",!T[1])},m(F,P){insert(F,k,P),mount_component($,k,null),append(k,x),E&&E.m(k,null),append(k,I),D&&D.m(k,null),L=!0},p(F,P){const U={};P&1&&(U.app=F[0]),P&4&&(U.error=F[2]),$.$set(U),F[0].children?E?(E.p(F,P),P&1&&transition_in(E,1)):(E=create_if_block_2$8(F),E.c(),transition_in(E,1),E.m(k,I)):E&&(group_outros(),transition_out(E,1,1,()=>{E=null}),check_outros()),F[0].overlays?D?(D.p(F,P),P&1&&transition_in(D,1)):(D=create_if_block_1$s(F),D.c(),transition_in(D,1),D.m(k,null)):D&&(group_outros(),transition_out(D,1,1,()=>{D=null}),check_outros()),(!L||P&2)&&toggle_class(k,"indent",!F[1])},i(F){L||(transition_in($.$$.fragment,F),transition_in(E),transition_in(D),L=!0)},o(F){transition_out($.$$.fragment,F),transition_out(E),transition_out(D),L=!1},d(F){F&&detach(k),destroy_component($),E&&E.d(),D&&D.d()}}}function create_if_block_2$8(T){let k,$,x=ensure_array_like(Object.keys(T[0].children)),I=[];for(let E=0;E<x.length;E+=1)I[E]=create_each_block_1$d(get_each_context_1$d(T,x,E));const L=E=>transition_out(I[E],1,1,()=>{I[E]=null});return{c(){for(let E=0;E<I.length;E+=1)I[E].c();k=empty()},m(E,D){for(let F=0;F<I.length;F+=1)I[F]&&I[F].m(E,D);insert(E,k,D),$=!0},p(E,D){if(D&1){x=ensure_array_like(Object.keys(E[0].children));let F;for(F=0;F<x.length;F+=1){const P=get_each_context_1$d(E,x,F);I[F]?(I[F].p(P,D),transition_in(I[F],1)):(I[F]=create_each_block_1$d(P),I[F].c(),transition_in(I[F],1),I[F].m(k.parentNode,k))}for(group_outros(),F=x.length;F<I.length;F+=1)L(F);check_outros()}},i(E){if(!$){for(let D=0;D<x.length;D+=1)transition_in(I[D]);$=!0}},o(E){I=I.filter(Boolean);for(let D=0;D<I.length;D+=1)transition_out(I[D]);$=!1},d(E){E&&detach(k),destroy_each(I,E)}}}function create_each_block_1$d(T){let k,$;return k=new Branch_1$1({props:{window:getWindow(T[6])}}),{c(){create_component(k.$$.fragment)},m(x,I){mount_component(k,x,I),$=!0},p(x,I){const L={};I&1&&(L.window=getWindow(x[6])),k.$set(L)},i(x){$||(transition_in(k.$$.fragment,x),$=!0)},o(x){transition_out(k.$$.fragment,x),$=!1},d(x){destroy_component(k,x)}}}function create_if_block_1$s(T){let k,$,x=ensure_array_like(Object.entries(T[0].overlays)),I=[];for(let E=0;E<x.length;E+=1)I[E]=create_each_block$T(get_each_context$T(T,x,E));const L=E=>transition_out(I[E],1,1,()=>{I[E]=null});return{c(){for(let E=0;E<I.length;E+=1)I[E].c();k=empty()},m(E,D){for(let F=0;F<I.length;F+=1)I[F]&&I[F].m(E,D);insert(E,k,D),$=!0},p(E,D){if(D&1){x=ensure_array_like(Object.entries(E[0].overlays));let F;for(F=0;F<x.length;F+=1){const P=get_each_context$T(E,x,F);I[F]?(I[F].p(P,D),transition_in(I[F],1)):(I[F]=create_each_block$T(P),I[F].c(),transition_in(I[F],1),I[F].m(k.parentNode,k))}for(group_outros(),F=x.length;F<I.length;F+=1)L(F);check_outros()}},i(E){if(!$){for(let D=0;D<x.length;D+=1)transition_in(I[D]);$=!0}},o(E){I=I.filter(Boolean);for(let D=0;D<I.length;D+=1)transition_out(I[D]);$=!1},d(E){E&&detach(k),destroy_each(I,E)}}}function create_each_block$T(T){let k,$;return k=new OverlayApp({props:{overlay:T[3][1],parent:T[0],id:T[3][0]}}),{c(){create_component(k.$$.fragment)},m(x,I){mount_component(k,x,I),$=!0},p(x,I){const L={};I&1&&(L.overlay=x[3][1]),I&1&&(L.parent=x[0]),I&1&&(L.id=x[3][0]),k.$set(L)},i(x){$||(transition_in(k.$$.fragment,x),$=!0)},o(x){transition_out(k.$$.fragment,x),$=!1},d(x){destroy_component(k,x)}}}function create_fragment$3_(T){let k,$,x=T[0]&&create_if_block$1u(T);return{c(){x&&x.c(),k=empty()},m(I,L){x&&x.m(I,L),insert(I,k,L),$=!0},p(I,[L]){I[0]?x?(x.p(I,L),L&1&&transition_in(x,1)):(x=create_if_block$1u(I),x.c(),transition_in(x,1),x.m(k.parentNode,k)):x&&(group_outros(),transition_out(x,1,1,()=>{x=null}),check_outros())},i(I){$||(transition_in(x),$=!0)},o(I){transition_out(x),$=!1},d(I){I&&detach(k),x&&x.d(I)}}}function instance$3E(T,k,$){let{window:x}=k,{top:I=!1}=k,{error:L=!1}=k;return T.$$set=E=>{"window"in E&&$(0,x=E.window),"top"in E&&$(1,I=E.top),"error"in E&&$(2,L=E.error)},[x,I,L]}let Branch_1$1=class extends SvelteComponent{constructor(k){super(),init(this,k,instance$3E,create_fragment$3_,safe_not_equal,{window:0,top:1,error:2})}};function get_each_context$S(T,k,$){const x=T.slice();return x[2]=k[$],x}function get_each_context_1$c(T,k,$){const x=T.slice();return x[5]=k[$],x}function create_if_block$1t(T){let k,$;return k=new Branch_1$1({props:{window:T[5],top:!0}}),{c(){create_component(k.$$.fragment)},m(x,I){mount_component(k,x,I),$=!0},p(x,I){const L={};I&2&&(L.window=x[5]),k.$set(L)},i(x){$||(transition_in(k.$$.fragment,x),$=!0)},o(x){transition_out(k.$$.fragment,x),$=!1},d(x){destroy_component(k,x)}}}function create_each_block_1$c(T){let k,$,x=!T[5].parentId&&create_if_block$1t(T);return{c(){x&&x.c(),k=empty()},m(I,L){x&&x.m(I,L),insert(I,k,L),$=!0},p(I,L){I[5].parentId?x&&(group_outros(),transition_out(x,1,1,()=>{x=null}),check_outros()):x?(x.p(I,L),L&2&&transition_in(x,1)):(x=create_if_block$1t(I),x.c(),transition_in(x,1),x.m(k.parentNode,k))},i(I){$||(transition_in(x),$=!0)},o(I){transition_out(x),$=!1},d(I){I&&detach(k),x&&x.d(I)}}}function create_each_block$S(T){let k,$;return k=new Branch_1$1({props:{window:T[2],top:!0,error:!0}}),{c(){create_component(k.$$.fragment)},m(x,I){mount_component(k,x,I),$=!0},p(x,I){const L={};I&1&&(L.window=x[2]),k.$set(L)},i(x){$||(transition_in(k.$$.fragment,x),$=!0)},o(x){transition_out(k.$$.fragment,x),$=!1},d(x){destroy_component(k,x)}}}function create_fragment$3Z(T){let k,$,x,I=ensure_array_like(T[1]),L=[];for(let U=0;U<I.length;U+=1)L[U]=create_each_block_1$c(get_each_context_1$c(T,I,U));const E=U=>transition_out(L[U],1,1,()=>{L[U]=null});let D=ensure_array_like(T[0]),F=[];for(let U=0;U<D.length;U+=1)F[U]=create_each_block$S(get_each_context$S(T,D,U));const P=U=>transition_out(F[U],1,1,()=>{F[U]=null});return{c(){k=element("div");for(let U=0;U<L.length;U+=1)L[U].c();$=space();for(let U=0;U<F.length;U+=1)F[U].c();attr(k,"class","apps")},m(U,M){insert(U,k,M);for(let z=0;z<L.length;z+=1)L[z]&&L[z].m(k,null);append(k,$);for(let z=0;z<F.length;z+=1)F[z]&&F[z].m(k,null);x=!0},p(U,[M]){if(M&2){I=ensure_array_like(U[1]);let z;for(z=0;z<I.length;z+=1){const N=get_each_context_1$c(U,I,z);L[z]?(L[z].p(N,M),transition_in(L[z],1)):(L[z]=create_each_block_1$c(N),L[z].c(),transition_in(L[z],1),L[z].m(k,$))}for(group_outros(),z=I.length;z<L.length;z+=1)E(z);check_outros()}if(M&1){D=ensure_array_like(U[0]);let z;for(z=0;z<D.length;z+=1){const N=get_each_context$S(U,D,z);F[z]?(F[z].p(N,M),transition_in(F[z],1)):(F[z]=create_each_block$S(N),F[z].c(),transition_in(F[z],1),F[z].m(k,null))}for(group_outros(),z=D.length;z<F.length;z+=1)P(z);check_outros()}},i(U){if(!x){for(let M=0;M<I.length;M+=1)transition_in(L[M]);for(let M=0;M<D.length;M+=1)transition_in(F[M]);x=!0}},o(U){L=L.filter(Boolean);for(let M=0;M<L.length;M+=1)transition_out(L[M]);F=F.filter(Boolean);for(let M=0;M<F.length;M+=1)transition_out(F[M]);x=!1},d(U){U&&detach(k),destroy_each(L,U),destroy_each(F,U)}}}function instance$3D(T,k,$){let x;component_subscribe(T,WindowStore,L=>$(1,x=L));let I=[];return ErrorWindowStore.subscribe(L=>{$(0,I=L)}),[I,x]}class AppList extends SvelteComponent{constructor(k){super(),init(this,k,instance$3D,create_fragment$3Z,safe_not_equal,{})}}function create_if_block$1s(T){let k,$,x=getWindow(T[0]).snapped?"yes":"no",I;return{c(){k=element("div"),$=text("Snapped: "),I=text(x),attr(k,"class","section")},m(L,E){insert(L,k,E),append(k,$),append(k,I)},p(L,E){E&1&&x!==(x=getWindow(L[0]).snapped?"yes":"no")&&set_data(I,x)},d(L){L&&detach(k)}}}function create_fragment$3Y(T){let k,$,x=T[0]&&!T[0].startsWith("error_"),I,L,E,D=T[1].length+"",F,P,U,M,z=T[2].length+"",N,q,j,W,H=T[3].length+"",Q,K=x&&create_if_block$1s(T);return{c(){k=element("div"),$=element("div"),K&&K.c(),I=space(),L=element("div"),E=text("Running: "),F=text(D),P=space(),U=element("div"),M=text("Loaded: "),N=text(z),q=space(),j=element("div"),W=text("Dialogs: "),Q=text(H),attr(L,"class","section"),attr(U,"class","section"),attr(j,"class","section"),attr($,"class","right"),attr(k,"class","bottombar")},m(G,V){insert(G,k,V),append(k,$),K&&K.m($,null),append($,I),append($,L),append(L,E),append(L,F),append($,P),append($,U),append(U,M),append(U,N),append($,q),append($,j),append(j,W),append(j,Q)},p(G,[V]){V&1&&(x=G[0]&&!G[0].startsWith("error_")),x?K?K.p(G,V):(K=create_if_block$1s(G),K.c(),K.m($,I)):K&&(K.d(1),K=null),V&2&&D!==(D=G[1].length+"")&&set_data(F,D),V&4&&z!==(z=G[2].length+"")&&set_data(N,z),V&8&&H!==(H=G[3].length+"")&&set_data(Q,H)},i:noop$1,o:noop$1,d(G){G&&detach(k),K&&K.d()}}}function instance$3C(T,k,$){let x,I,L,E;return component_subscribe(T,appManSelected,D=>$(0,x=D)),component_subscribe(T,OpenedStore,D=>$(1,I=D)),component_subscribe(T,WindowStore,D=>$(2,L=D)),component_subscribe(T,ErrorWindowStore,D=>$(3,E=D)),[x,I,L,E]}class BottomBar extends SvelteComponent{constructor(k){super(),init(this,k,instance$3C,create_fragment$3Y,safe_not_equal,{})}}function create_fragment$3X(T){let k,$,x=T[0].icon+"",I,L,E,D=T[0].caption+"",F,P,U;return{c(){k=element("button"),$=element("span"),I=text(x),L=space(),E=element("p"),F=text(D),attr($,"class","material-icons-round"),attr(E,"class","caption"),attr(k,"class","action")},m(M,z){insert(M,k,z),append(k,$),append($,I),append(k,L),append(k,E),append(E,F),P||(U=listen(k,"click",function(){is_function(T[0].action)&&T[0].action.apply(this,arguments)}),P=!0)},p(M,[z]){T=M,z&1&&x!==(x=T[0].icon+"")&&set_data(I,x),z&1&&D!==(D=T[0].caption+"")&&set_data(F,D)},i:noop$1,o:noop$1,d(M){M&&detach(k),P=!1,U()}}}function instance$3B(T,k,$){let{action:x}=k;return T.$$set=I=>{"action"in I&&$(0,x=I.action)},[x]}let Action$1=class extends SvelteComponent{constructor(k){super(),init(this,k,instance$3B,create_fragment$3X,safe_not_equal,{action:0})}};function create_fragment$3W(T){let k,$,x,I,L,E,D;return{c(){k=element("button"),$=element("span"),$.textContent="settings",x=space(),I=element("p"),I.textContent="App info",attr($,"class","material-icons-round"),attr(I,"class","caption"),attr(k,"class","action"),k.disabled=L=!T[0]},m(F,P){insert(F,k,P),append(k,$),append(k,x),append(k,I),E||(D=listen(k,"click",T[1]),E=!0)},p(F,[P]){P&1&&L!==(L=!F[0])&&(k.disabled=L)},i:noop$1,o:noop$1,d(F){F&&detach(k),E=!1,D()}}}function instance$3A(T,k,$){let x;component_subscribe(T,appManSelected,L=>$(0,x=L));function I(){AppInfoId.set(x),openWindow("AppInfo")}return[x,I]}class AppInfo extends SvelteComponent{constructor(k){super(),init(this,k,instance$3A,create_fragment$3W,safe_not_equal,{})}}function create_fragment$3V(T){let k,$,x,I,L,E,D;return{c(){k=element("button"),$=element("span"),$.textContent="close",x=space(),I=element("p"),I.textContent="Close",attr($,"class","material-icons-round"),attr(I,"class","caption"),attr(k,"class","action"),k.disabled=L=!T[0]},m(F,P){insert(F,k,P),append(k,$),append(k,x),append(k,I),E||(D=listen(k,"click",T[1]),E=!0)},p(F,[P]){P&1&&L!==(L=!F[0])&&(k.disabled=L)},i:noop$1,o:noop$1,d(F){F&&detach(k),E=!1,D()}}}function instance$3z(T,k,$){let x;component_subscribe(T,appManSelected,L=>$(0,x=L));function I(){closeWindow(x),set_store_value(appManSelected,x=null,x)}return[x,I]}class Close extends SvelteComponent{constructor(k){super(),init(this,k,instance$3z,create_fragment$3V,safe_not_equal,{})}}function create_fragment$3U(T){let k,$,x,I,L,E,D;return{c(){k=element("button"),$=element("span"),$.textContent="block",x=space(),I=element("p"),I.textContent="Disable",attr($,"class","material-icons-round"),attr(I,"class","caption"),attr(k,"class","action"),k.disabled=L=!T[0]},m(F,P){insert(F,k,P),append(k,$),append(k,x),append(k,I),E||(D=listen(k,"click",T[1]),E=!0)},p(F,[P]){P&1&&L!==(L=!F[0])&&(k.disabled=L)},i:noop$1,o:noop$1,d(F){F&&detach(k),E=!1,D()}}}function instance$3y(T,k,$){let x;component_subscribe(T,appManSelected,L=>$(0,x=L));function I(){disableApp(x)}return[x,I]}class DisableApp extends SvelteComponent{constructor(k){super(),init(this,k,instance$3y,create_fragment$3U,safe_not_equal,{})}}function get_each_context$R(T,k,$){const x=T.slice();return x[0]=k[$],x}function create_each_block$R(T){let k,$;return k=new Action$1({props:{action:T[0]}}),{c(){create_component(k.$$.fragment)},m(x,I){mount_component(k,x,I),$=!0},p:noop$1,i(x){$||(transition_in(k.$$.fragment,x),$=!0)},o(x){transition_out(k.$$.fragment,x),$=!1},d(x){destroy_component(k,x)}}}function create_fragment$3T(T){let k,$,x,I,L,E,D,F,P,U,M,z,N;x=new AppInfo({}),D=new DisableApp({}),P=new Close({});let q=ensure_array_like(staticAppManActions),j=[];for(let H=0;H<q.length;H+=1)j[H]=create_each_block$R(get_each_context$R(T,q,H));const W=H=>transition_out(j[H],1,1,()=>{j[H]=null});return{c(){k=element("div"),$=element("div"),create_component(x.$$.fragment),I=space(),L=element("div"),E=space(),create_component(D.$$.fragment),F=space(),create_component(P.$$.fragment),U=space(),M=element("div"),z=space();for(let H=0;H<j.length;H+=1)j[H].c();attr(L,"class","sep"),attr(M,"class","sep"),attr($,"class","actions"),attr(k,"class","topbar")},m(H,Q){insert(H,k,Q),append(k,$),mount_component(x,$,null),append($,I),append($,L),append($,E),mount_component(D,$,null),append($,F),mount_component(P,$,null),append($,U),append($,M),append($,z);for(let K=0;K<j.length;K+=1)j[K]&&j[K].m($,null);N=!0},p(H,[Q]){if(Q&0){q=ensure_array_like(staticAppManActions);let K;for(K=0;K<q.length;K+=1){const G=get_each_context$R(H,q,K);j[K]?(j[K].p(G,Q),transition_in(j[K],1)):(j[K]=create_each_block$R(G),j[K].c(),transition_in(j[K],1),j[K].m($,null))}for(group_outros(),K=q.length;K<j.length;K+=1)W(K);check_outros()}},i(H){if(!N){transition_in(x.$$.fragment,H),transition_in(D.$$.fragment,H),transition_in(P.$$.fragment,H);for(let Q=0;Q<q.length;Q+=1)transition_in(j[Q]);N=!0}},o(H){transition_out(x.$$.fragment,H),transition_out(D.$$.fragment,H),transition_out(P.$$.fragment,H),j=j.filter(Boolean);for(let Q=0;Q<j.length;Q+=1)transition_out(j[Q]);N=!1},d(H){H&&detach(k),destroy_component(x),destroy_component(D),destroy_component(P),destroy_each(j,H)}}}let TopBar$3=class extends SvelteComponent{constructor(k){super(),init(this,k,null,create_fragment$3T,safe_not_equal,{})}};function create_fragment$3S(T){let k,$,x,I,L,E;return k=new TopBar$3({}),x=new AppList({}),L=new BottomBar({}),{c(){create_component(k.$$.fragment),$=space(),create_component(x.$$.fragment),I=space(),create_component(L.$$.fragment)},m(D,F){mount_component(k,D,F),insert(D,$,F),mount_component(x,D,F),insert(D,I,F),mount_component(L,D,F),E=!0},p:noop$1,i(D){E||(transition_in(k.$$.fragment,D),transition_in(x.$$.fragment,D),transition_in(L.$$.fragment,D),E=!0)},o(D){transition_out(k.$$.fragment,D),transition_out(x.$$.fragment,D),transition_out(L.$$.fragment,D),E=!1},d(D){D&&(detach($),detach(I)),destroy_component(k,D),destroy_component(x,D),destroy_component(L,D)}}}let AppManager$1=class extends SvelteComponent{constructor(k){super(),init(this,k,null,create_fragment$3S,safe_not_equal,{})}};const RunDialog_svelte_svelte_type_style_lang="";function get_each_context$Q(T,k,$){const x=T.slice();return x[5]=k[$],x}function create_if_block$1r(T){let k,$=T[5].id+"",x,I;return{c(){k=element("option"),x=text($),k.__value=I=T[5].id,set_input_value(k,k.__value)},m(L,E){insert(L,k,E),append(k,x)},p(L,E){E&2&&$!==($=L[5].id+"")&&set_data(x,$),E&2&&I!==(I=L[5].id)&&(k.__value=I,set_input_value(k,k.__value))},d(L){L&&detach(k)}}}function create_each_block$Q(T){let k=!isOpened(T[5].id)&&!T[5].info.custom&&!isDisabled(T[5].id),$,x=k&&create_if_block$1r(T);return{c(){x&&x.c(),$=empty()},m(I,L){x&&x.m(I,L),insert(I,$,L)},p(I,L){L&2&&(k=!isOpened(I[5].id)&&!I[5].info.custom&&!isDisabled(I[5].id)),k?x?x.p(I,L):(x=create_if_block$1r(I),x.c(),x.m($.parentNode,$)):x&&(x.d(1),x=null)},d(I){I&&detach($),x&&x.d(I)}}}function create_fragment$3R(T){let k,$,x,I,L,E,D,F,P,U,M,z,N,q,j,W,H,Q,K=ensure_array_like(T[1]),G=[];for(let V=0;V<K.length;V+=1)G[V]=create_each_block$Q(get_each_context$Q(T,K,V));return{c(){k=element("div"),$=element("img"),I=space(),L=element("div"),E=element("p"),E.textContent="Select the ID of the app you want to run from the following list:",D=space(),F=element("select");for(let V=0;V<G.length;V+=1)G[V].c();P=space(),U=element("div"),M=element("div"),z=element("button"),N=text("Run"),j=space(),W=element("button"),W.textContent="Cancel",src_url_equal($.src,x=appSettings)||attr($,"src",x),attr($,"alt","Run"),attr($,"class","svelte-1pwxzgl"),attr(E,"class","caption svelte-1pwxzgl"),attr(F,"class","svelte-1pwxzgl"),T[0]===void 0&&add_render_callback(()=>T[4].call(F)),attr(L,"class","inner"),attr(k,"class","wrapper svelte-1pwxzgl"),z.disabled=q=!T[0],attr(M,"class","inner svelte-1pwxzgl"),attr(U,"class","actions svelte-1pwxzgl")},m(V,Y){insert(V,k,Y),append(k,$),append(k,I),append(k,L),append(L,E),append(L,D),append(L,F);for(let J=0;J<G.length;J+=1)G[J]&&G[J].m(F,null);select_option(F,T[0],!0),insert(V,P,Y),insert(V,U,Y),append(U,M),append(M,z),append(z,N),append(M,j),append(M,W),H||(Q=[listen(F,"change",T[4]),listen(z,"click",T[2]),listen(W,"click",T[3])],H=!0)},p(V,[Y]){if(Y&2){K=ensure_array_like(V[1]);let J;for(J=0;J<K.length;J+=1){const X=get_each_context$Q(V,K,J);G[J]?G[J].p(X,Y):(G[J]=create_each_block$Q(X),G[J].c(),G[J].m(F,null))}for(;J<G.length;J+=1)G[J].d(1);G.length=K.length}Y&3&&select_option(F,V[0]),Y&3&&q!==(q=!V[0])&&(z.disabled=q)},i:noop$1,o:noop$1,d(V){V&&(detach(k),detach(P),detach(U)),destroy_each(G,V),H=!1,run_all(Q)}}}function instance$3x(T,k,$){let x;component_subscribe(T,WindowStore,F=>$(1,x=F));let I;function L(){openWindow(I,!0),E()}function E(){hideOverlay("run","AppMan")}function D(){I=select_value(this),$(0,I)}return[I,x,L,E,D]}class RunDialog extends SvelteComponent{constructor(k){super(),init(this,k,instance$3x,create_fragment$3R,safe_not_equal,{})}}const trayIcons=writable([]);function createTrayIcon(T){if(trayExists(T.identifier))return!1;const k=get_store_value(trayIcons);k.push(T),trayIcons.set(k)}function disposeTrayIcon(T){const k=get_store_value(trayIcons);for(let $=0;$<k.length;$++)k[$].identifier==T&&k.splice($,1);trayIcons.set(k)}function trayExists(T){const k=get_store_value(trayIcons);for(let $=0;$<k.length;$++)if(k[$].identifier==T)return!0;return!1}const AppManager={info:{name:"Application Manager",description:"Manage Open Apps",builtin:!0,version:"1.5.0",author:"Izaak Kuipers",icon:appMan,appGroup:"systemTools"},size:{w:600,h:500},pos:{x:30,y:40},minSize:{w:600,h:500},maxSize:{w:600,h:500},controls:{min:!1,max:!0,cls:!0},state:{headless:!1,resizable:!1,windowState:{min:!1,max:!1,fll:!1}},content:AppManager$1,glass:!0,events:{open(){createTrayIcon({image:AppManager.info.icon,identifier:"Application Manager",onOpen(){}})},close(){disposeTrayIcon("Application Manager")}},overlays:{run:{info:{name:"Run",author:"ArcOS Team",version:"1.0.0"},size:{w:NaN,h:NaN},show:!1,content:RunDialog}}},icon$5=""+new URL("arcterm-660fb5fc.svg",import.meta.url).href,arcterm$1="";function create_fragment$3Q(T){let k,$,x;return{c(){k=element("div"),attr(k,"class","terminal-renderer")},m(I,L){insert(I,k,L),T[3](k),$||(x=listen(k,"click",T[1]),$=!0)},p:noop$1,i:noop$1,o:noop$1,d(I){I&&detach(k),T[3](null),$=!1,x()}}}function instance$3w(T,k,$){let x;component_subscribe(T,focusedWindowId,P=>$(5,x=P));let{app:I}=k,L,E;onMount(()=>{$(2,I.events.close=()=>{L&&(L.dispose(),L=null)},I),$(2,I.events.open=()=>{L||(L=new ArcTerm(E,[...arcCommands,...desktopSpecific],I,P=>{P.std.clear()})),I.state.windowState.fll&&fullscreenToggle(I.id)},I),$(2,I.events.blur=()=>{L&&L.input&&L.input.current&&(L.input.current.disabled=!0)},I),$(2,I.events.focus=()=>{L&&L.input&&L.input.current&&(L.input.current.disabled=!1)},I)});function D(){!L||!L.input||!L.input.current||x!="ArcTerm"||(L.input.current.focus(),E&&E.scrollTo(0,E.scrollHeight))}setInterval(D,10);function F(P){binding_callbacks[P?"unshift":"push"](()=>{E=P,$(0,E)})}return T.$$set=P=>{"app"in P&&$(2,I=P.app)},[E,D,I,F]}let ArcTerm_1$1=class extends SvelteComponent{constructor(k){super(),init(this,k,instance$3w,create_fragment$3Q,safe_not_equal,{app:2})}};const ArcTerm$1={info:{name:"ArcTerm",description:"ArcOS Terminal",builtin:!0,version:"2.0.0",author:"ArcOS Team",icon:icon$5},size:{w:640,h:480},pos:{x:60,y:60},minSize:{w:350,h:250},maxSize:{w:NaN,h:NaN},controls:{min:!0,max:!0,cls:!0},state:{headless:!1,resizable:!0,windowState:{min:!1,max:!1,fll:!1}},content:ArcTerm_1$1,glass:!0,events:{keyboardShortcuts:[{alt:!0,shift:!0,key:"f",action(T){fullscreenToggle(T.id)}}]}},logo$9=""+new URL("bugreports-974b1a82.svg",import.meta.url).href,bugreports="",logo$8=""+new URL("helpcenter-65b62440.svg",import.meta.url).href,icon$4=""+new URL("file-4e32e93e.svg",import.meta.url).href;let ISSUE_CACHE=[];async function getReportIssue(T){const k=await getReport(T);if(!k)return null;let $=[];if(ISSUE_CACHE.length)$=[...ISSUE_CACHE];else{if($=await(await fetch("https://api.github.com/repos/IzK-ArcOS/ArcOS-Reports/issues?per_page=100")).json(),!$.length)return null;ISSUE_CACHE=[...$]}if(!$.length)return null;for(let x=0;x<$.length;x++)if($[x].body.includes(`br$${k.issueid}`))return $[x];return null}function create_if_block$1q(T){let k,$,x;return{c(){k=element("button"),k.textContent="close",attr(k,"class","delete material-icons-round"),attr(k,"title","Remove Report")},m(I,L){insert(I,k,L),$||(x=listen(k,"click",T[5]),$=!0)},p:noop$1,d(I){I&&detach(k),$=!1,x()}}}function create_fragment$3P(T){let k,$,x,I,L,E=dayjs(T[0].timestamp).format("D MMM YYYY, HH:mm:ss")+"",D,F,P,U,M=T[2]&&create_if_block$1q(T);return{c(){k=element("button"),$=element("img"),I=space(),L=element("span"),D=text(E),F=space(),M&&M.c(),src_url_equal($.src,x=T[3][T[1]])||attr($,"src",x),attr($,"alt",""),attr($,"class","icon"),toggle_class(k,"selected",T[2]),toggle_class(k,"deleted",T[1]=="deleted")},m(z,N){insert(z,k,N),append(k,$),append(k,I),append(k,L),append(L,D),append(k,F),M&&M.m(k,null),P||(U=listen(k,"click",T[4]),P=!0)},p(z,[N]){N&2&&!src_url_equal($.src,x=z[3][z[1]])&&attr($,"src",x),N&1&&E!==(E=dayjs(z[0].timestamp).format("D MMM YYYY, HH:mm:ss")+"")&&set_data(D,E),z[2]?M?M.p(z,N):(M=create_if_block$1q(z),M.c(),M.m(k,null)):M&&(M.d(1),M=null),N&4&&toggle_class(k,"selected",z[2]),N&2&&toggle_class(k,"deleted",z[1]=="deleted")},i:noop$1,o:noop$1,d(z){z&&detach(k),M&&M.d(),P=!1,U()}}}function instance$3v(T,k,$){const x={deleted:clear$1,issue:logo$8,report:icon$4};let I="report",{runtime:L}=k,{report:E}=k,D=!1;onMount(async()=>{if(L.Selected.subscribe(U=>$(2,D=U==E.id)),!await reportExists(E.id))return $(1,I="deleted");await getReportIssue(E.id)&&$(1,I="issue")});function F(){L.Selected.set(E.id)}function P(){createOverlayableError({title:"Remove Report",message:"Are you sure you want to remove this report from your account? It will not be deleted from the Reports server, though nobody outside of the ArcOS Team will have access to the report.",buttons:[{caption:"Keep",action(){}},{caption:"Remove Report",action:()=>{L.deleteReport(E.id)}}],image:logo$9},"BugReports")}return T.$$set=U=>{"runtime"in U&&$(6,L=U.runtime),"report"in U&&$(0,E=U.report)},[E,I,D,x,F,P,L]}class Report extends SvelteComponent{constructor(k){super(),init(this,k,instance$3v,create_fragment$3P,safe_not_equal,{runtime:6,report:0})}}function create_fragment$3O(T){let k,$,x,I,L,E;return{c(){k=element("div"),$=element("button"),$.textContent="autorenew",x=space(),I=element("button"),I.textContent="add",attr($,"class","refresh material-icons-round"),attr(I,"class","new material-icons-round"),attr(k,"class","bottom")},m(D,F){insert(D,k,F),append(k,$),append(k,x),append(k,I),L||(E=[listen($,"click",T[0]),listen(I,"click",T[0])],L=!0)},p:noop$1,i:noop$1,o:noop$1,d(D){D&&detach(k),L=!1,run_all(E)}}}function instance$3u(T,k,$){let{runtime:x}=k;function I(){x.refreshStore()}return T.$$set=L=>{"runtime"in L&&$(1,x=L.runtime)},[I,x]}let Bottom$3=class extends SvelteComponent{constructor(k){super(),init(this,k,instance$3u,create_fragment$3O,safe_not_equal,{runtime:1})}};function get_each_context$P(T,k,$){const x=T.slice();return x[2]=k[$],x}function create_each_block$P(T){let k,$;return k=new Report({props:{runtime:T[0],report:T[2]}}),{c(){create_component(k.$$.fragment)},m(x,I){mount_component(k,x,I),$=!0},p(x,I){const L={};I&1&&(L.runtime=x[0]),I&2&&(L.report=x[2]),k.$set(L)},i(x){$||(transition_in(k.$$.fragment,x),$=!0)},o(x){transition_out(k.$$.fragment,x),$=!1},d(x){destroy_component(k,x)}}}function create_fragment$3N(T){let k,$,x,I,L,E=ensure_array_like(T[1]),D=[];for(let P=0;P<E.length;P+=1)D[P]=create_each_block$P(get_each_context$P(T,E,P));const F=P=>transition_out(D[P],1,1,()=>{D[P]=null});return I=new Bottom$3({props:{runtime:T[0]}}),{c(){k=element("div"),$=element("div");for(let P=0;P<D.length;P+=1)D[P].c();x=space(),create_component(I.$$.fragment),attr($,"class","list"),attr(k,"class","sidebar")},m(P,U){insert(P,k,U),append(k,$);for(let M=0;M<D.length;M+=1)D[M]&&D[M].m($,null);append(k,x),mount_component(I,k,null),L=!0},p(P,[U]){if(U&3){E=ensure_array_like(P[1]);let z;for(z=0;z<E.length;z+=1){const N=get_each_context$P(P,E,z);D[z]?(D[z].p(N,U),transition_in(D[z],1)):(D[z]=create_each_block$P(N),D[z].c(),transition_in(D[z],1),D[z].m($,null))}for(group_outros(),z=E.length;z<D.length;z+=1)F(z);check_outros()}const M={};U&1&&(M.runtime=P[0]),I.$set(M)},i(P){if(!L){for(let U=0;U<E.length;U+=1)transition_in(D[U]);transition_in(I.$$.fragment,P),L=!0}},o(P){D=D.filter(Boolean);for(let U=0;U<D.length;U+=1)transition_out(D[U]);transition_out(I.$$.fragment,P),L=!1},d(P){P&&detach(k),destroy_each(D,P),destroy_component(I)}}}function instance$3t(T,k,$){let{runtime:x}=k,I=[];return onMount(()=>{x.Store.subscribe(L=>$(1,I=L))}),T.$$set=L=>{"runtime"in L&&$(0,x=L.runtime)},[x,I]}let SideBar$4=class extends SvelteComponent{constructor(k){super(),init(this,k,instance$3t,create_fragment$3N,safe_not_equal,{runtime:0})}};function create_fragment$3M(T){let k,$,x,I,L,E,D=(T[0].title||`Report from ${T[0].author}`)+"",F,P,U,M,z=T[0].author+"",N,q,j=(T[0].api||"No API")+"",W;return{c(){k=element("div"),$=element("img"),I=space(),L=element("div"),E=element("h1"),F=text(D),P=space(),U=element("p"),M=element("span"),N=text(z),q=text(" - "),W=text(j),src_url_equal($.src,x=icon$4)||attr($,"src",x),attr($,"alt",""),attr(M,"class","author"),attr(k,"class","header")},m(H,Q){insert(H,k,Q),append(k,$),append(k,I),append(k,L),append(L,E),append(E,F),append(L,P),append(L,U),append(U,M),append(M,N),append(U,q),append(U,W)},p(H,[Q]){Q&1&&D!==(D=(H[0].title||`Report from ${H[0].author}`)+"")&&set_data(F,D),Q&1&&z!==(z=H[0].author+"")&&set_data(N,z),Q&1&&j!==(j=(H[0].api||"No API")+"")&&set_data(W,j)},i:noop$1,o:noop$1,d(H){H&&detach(k)}}}function instance$3s(T,k,$){let{report:x}=k;return T.$$set=I=>{"report"in I&&$(0,x=I.report)},[x]}let Header$1=class extends SvelteComponent{constructor(k){super(),init(this,k,instance$3s,create_fragment$3M,safe_not_equal,{report:0})}};function create_fragment$3L(T){let k,$,x,I,L,E,D,F;return{c(){k=element("div"),$=element("div"),x=element("img"),L=space(),E=element("p"),E.textContent="No Report Selected",D=space(),F=element("p"),F.textContent="There is no report selected or the selected report no longer exists.",src_url_equal(x.src,I=logo$9)||attr(x,"src",I),attr(x,"alt","Bug Reports"),attr(E,"class","header"),attr($,"class","not-found"),attr(k,"class","not-found-wrapper")},m(P,U){insert(P,k,U),append(k,$),append($,x),append($,L),append($,E),append($,D),append($,F)},p:noop$1,i:noop$1,o:noop$1,d(P){P&&detach(k)}}}let NotFound$1=class extends SvelteComponent{constructor(k){super(),init(this,k,null,create_fragment$3L,safe_not_equal,{})}};function create_fragment$3K(T){let k,$,x,I,L=T[0].userdata?"Show Data":"Not Provided",E,D,F,P;return{c(){k=element("div"),$=element("div"),$.innerHTML="<h1>User Data</h1> <p>Your ArcOS Settings</p>",x=space(),I=element("button"),E=text(L),attr($,"class","left"),I.disabled=D=!T[0].userdata,attr(k,"class","detail")},m(U,M){insert(U,k,M),append(k,$),append(k,x),append(k,I),append(I,E),F||(P=listen(I,"click",T[1]),F=!0)},p(U,[M]){M&1&&L!==(L=U[0].userdata?"Show Data":"Not Provided")&&set_data(E,L),M&1&&D!==(D=!U[0].userdata)&&(I.disabled=D)},i:noop$1,o:noop$1,d(U){U&&detach(k),F=!1,P()}}}function instance$3r(T,k,$){let{report:x}=k;function I(){showOverlay("udataExplorer","BugReports")}return T.$$set=L=>{"report"in L&&$(0,x=L.report)},[x,I]}let UserData$1=class extends SvelteComponent{constructor(k){super(),init(this,k,instance$3r,create_fragment$3K,safe_not_equal,{report:0})}};function create_fragment$3J(T){let k,$,x,I,L,E;return{c(){k=element("div"),$=element("div"),$.innerHTML="<h1>System Log</h1> <p>The Log from when it happened</p>",x=space(),I=element("button"),I.textContent="Show Data",attr($,"class","left"),attr(k,"class","detail")},m(D,F){insert(D,k,F),append(k,$),append(k,x),append(k,I),L||(E=listen(I,"click",T[0]),L=!0)},p:noop$1,i:noop$1,o:noop$1,d(D){D&&detach(k),L=!1,E()}}}function instance$3q(T){function k(){showOverlay("systemLogView","BugReports")}return[k]}let SystemLog$1=class extends SvelteComponent{constructor(k){super(),init(this,k,instance$3q,create_fragment$3J,safe_not_equal,{})}};function create_else_block$s(T){let k;return{c(){k=element("p"),k.textContent="No GitHub issue has referenced your report yet.",attr(k,"class","context none")},m($,x){insert($,k,x)},p:noop$1,i:noop$1,o:noop$1,d($){$&&detach(k)}}}function create_if_block_1$r(T){let k,$,x=T[1].user.login+"",I,L,E,D,F,P,U,M,z=T[1].number+"",N,q,j,W=T[0].issueid+"",H,Q,K,G;return{c(){k=element("p"),$=text("Good news! Team member "),I=text(x),L=text(" created a"),E=element("br"),D=text(`\r
      GitHub issue referencing your report.`),F=space(),P=element("p"),U=element("a"),M=text("Issue #"),N=text(z),q=text(` (References\r
      `),j=element("b"),H=text(W),Q=text(")"),attr(k,"class","context"),attr(P,"class","ref")},m(V,Y){insert(V,k,Y),append(k,$),append(k,I),append(k,L),append(k,E),append(k,D),insert(V,F,Y),insert(V,P,Y),append(P,U),append(U,M),append(U,N),append(P,q),append(P,j),append(j,H),append(P,Q),K||(G=listen(U,"click",T[3]),K=!0)},p(V,Y){Y&2&&x!==(x=V[1].user.login+"")&&set_data(I,x),Y&2&&z!==(z=V[1].number+"")&&set_data(N,z),Y&1&&W!==(W=V[0].issueid+"")&&set_data(H,W)},i:noop$1,o:noop$1,d(V){V&&(detach(k),detach(F),detach(P)),K=!1,G()}}}function create_if_block$1p(T){let k,$,x,I,L;return $=new Spinner({props:{height:30}}),{c(){k=element("div"),create_component($.$$.fragment),x=space(),I=element("p"),I.textContent="Searching...",attr(k,"class","loading")},m(E,D){insert(E,k,D),mount_component($,k,null),append(k,x),append(k,I),L=!0},p:noop$1,i(E){L||(transition_in($.$$.fragment,E),L=!0)},o(E){transition_out($.$$.fragment,E),L=!1},d(E){E&&detach(k),destroy_component($)}}}function create_fragment$3I(T){let k,$,x,I,L,E;const D=[create_if_block$1p,create_if_block_1$r,create_else_block$s],F=[];function P(U,M){return U[2]?0:U[1]?1:2}return I=P(T),L=F[I]=D[I](T),{c(){k=element("div"),$=element("h1"),$.textContent="GitHub Issue",x=space(),L.c(),attr(k,"class","issue-detail")},m(U,M){insert(U,k,M),append(k,$),append(k,x),F[I].m(k,null),E=!0},p(U,[M]){let z=I;I=P(U),I===z?F[I].p(U,M):(group_outros(),transition_out(F[z],1,1,()=>{F[z]=null}),check_outros(),L=F[I],L?L.p(U,M):(L=F[I]=D[I](U),L.c()),transition_in(L,1),L.m(k,null))},i(U){E||(transition_in(L),E=!0)},o(U){transition_out(L),E=!1},d(U){U&&detach(k),F[I].d()}}}function instance$3p(T,k,$){let{id:x}=k,{report:I}=k,L,E=!1;onMount(D);async function D(){$(2,E=!0);const P=await getReportIssue(x);$(1,L=P),$(2,E=!1)}function F(){window.open(L.html_url,"_blank")}return T.$$set=P=>{"id"in P&&$(4,x=P.id),"report"in P&&$(0,I=P.report)},[I,L,E,F,x]}class Issue extends SvelteComponent{constructor(k){super(),init(this,k,instance$3p,create_fragment$3I,safe_not_equal,{id:4,report:0})}}function create_fragment$3H(T){let k,$,x,I,L,E,D,F,P,U=T[0].version+"",M,z,N,q,j,W,H=(T[0].mode_file||"<unknown>")+"",Q,K,G,V,Y,J,X=T[0].desktop?"Yes":"No",Z,ee,re,ce,oe,ae,se=(T[0].useragent||"Not provided")+"",ne;return{c(){k=element("div"),$=element("h1"),$.textContent="More Information",x=space(),I=element("p"),I.textContent="Below follows more information about this bug report.",L=space(),E=element("div"),D=element("p"),D.textContent="ArcOS Version",F=space(),P=element("p"),M=text(U),z=space(),N=element("div"),q=element("p"),q.textContent="Mode",j=space(),W=element("p"),Q=text(H),K=space(),G=element("div"),V=element("p"),V.textContent="Desktop app",Y=space(),J=element("p"),Z=text(X),ee=space(),re=element("div"),ce=element("p"),ce.textContent="User Agent",oe=space(),ae=element("p"),ne=text(se),attr(I,"class","subtitle"),attr(D,"class","name"),attr(P,"class","value"),attr(E,"class","info"),attr(q,"class","name"),attr(W,"class","value"),attr(N,"class","info"),attr(V,"class","name"),attr(J,"class","value"),attr(G,"class","info"),attr(ce,"class","name"),attr(ae,"class","value"),attr(re,"class","info"),attr(k,"class","more-info")},m(ie,te){insert(ie,k,te),append(k,$),append(k,x),append(k,I),append(k,L),append(k,E),append(E,D),append(E,F),append(E,P),append(P,M),append(k,z),append(k,N),append(N,q),append(N,j),append(N,W),append(W,Q),append(k,K),append(k,G),append(G,V),append(G,Y),append(G,J),append(J,Z),append(k,ee),append(k,re),append(re,ce),append(re,oe),append(re,ae),append(ae,ne)},p(ie,[te]){te&1&&U!==(U=ie[0].version+"")&&set_data(M,U),te&1&&H!==(H=(ie[0].mode_file||"<unknown>")+"")&&set_data(Q,H),te&1&&X!==(X=ie[0].desktop?"Yes":"No")&&set_data(Z,X),te&1&&se!==(se=(ie[0].useragent||"Not provided")+"")&&set_data(ne,se)},i:noop$1,o:noop$1,d(ie){ie&&detach(k)}}}function instance$3o(T,k,$){let{report:x}=k;return T.$$set=I=>{"report"in I&&$(0,x=I.report)},[x]}class More extends SvelteComponent{constructor(k){super(),init(this,k,instance$3o,create_fragment$3H,safe_not_equal,{report:0})}}function create_else_block$r(T){let k,$;return k=new NotFound$1({}),{c(){create_component(k.$$.fragment)},m(x,I){mount_component(k,x,I),$=!0},p:noop$1,i(x){$||(transition_in(k.$$.fragment,x),$=!0)},o(x){transition_out(k.$$.fragment,x),$=!1},d(x){destroy_component(k,x)}}}function create_if_block$1o(T){let k,$,x,I,L,E,D,F,P,U;return k=new Header$1({props:{report:T[0]}}),x=new UserData$1({props:{report:T[0]}}),L=new SystemLog$1({}),D=new Issue({props:{report:T[0],id:T[1]}}),P=new More({props:{report:T[0]}}),{c(){create_component(k.$$.fragment),$=space(),create_component(x.$$.fragment),I=space(),create_component(L.$$.fragment),E=space(),create_component(D.$$.fragment),F=space(),create_component(P.$$.fragment)},m(M,z){mount_component(k,M,z),insert(M,$,z),mount_component(x,M,z),insert(M,I,z),mount_component(L,M,z),insert(M,E,z),mount_component(D,M,z),insert(M,F,z),mount_component(P,M,z),U=!0},p(M,z){const N={};z&1&&(N.report=M[0]),k.$set(N);const q={};z&1&&(q.report=M[0]),x.$set(q);const j={};z&1&&(j.report=M[0]),z&2&&(j.id=M[1]),D.$set(j);const W={};z&1&&(W.report=M[0]),P.$set(W)},i(M){U||(transition_in(k.$$.fragment,M),transition_in(x.$$.fragment,M),transition_in(L.$$.fragment,M),transition_in(D.$$.fragment,M),transition_in(P.$$.fragment,M),U=!0)},o(M){transition_out(k.$$.fragment,M),transition_out(x.$$.fragment,M),transition_out(L.$$.fragment,M),transition_out(D.$$.fragment,M),transition_out(P.$$.fragment,M),U=!1},d(M){M&&(detach($),detach(I),detach(E),detach(F)),destroy_component(k,M),destroy_component(x,M),destroy_component(L,M),destroy_component(D,M),destroy_component(P,M)}}}function create_fragment$3G(T){let k,$,x,I;const L=[create_if_block$1o,create_else_block$r],E=[];function D(F,P){return F[0]?0:1}return $=D(T),x=E[$]=L[$](T),{c(){k=element("div"),x.c(),attr(k,"class","content")},m(F,P){insert(F,k,P),E[$].m(k,null),I=!0},p(F,[P]){let U=$;$=D(F),$===U?E[$].p(F,P):(group_outros(),transition_out(E[U],1,1,()=>{E[U]=null}),check_outros(),x=E[$],x?x.p(F,P):(x=E[$]=L[$](F),x.c()),transition_in(x,1),x.m(k,null))},i(F){I||(transition_in(x),I=!0)},o(F){transition_out(x),I=!1},d(F){F&&detach(k),E[$].d()}}}function instance$3n(T,k,$){let{runtime:x}=k,I,L;return onMount(()=>{x.Selected.subscribe(async E=>{$(0,I=null),E&&(await sleep(0),$(0,I=await x.getReport(E)),$(1,L=E))})}),T.$$set=E=>{"runtime"in E&&$(2,x=E.runtime)},[I,L,x]}let Content$4=class extends SvelteComponent{constructor(k){super(),init(this,k,instance$3n,create_fragment$3G,safe_not_equal,{runtime:2})}};function create_fragment$3F(T){let k,$,x,I;return k=new SideBar$4({props:{runtime:T[0]}}),x=new Content$4({props:{runtime:T[0]}}),{c(){create_component(k.$$.fragment),$=space(),create_component(x.$$.fragment)},m(L,E){mount_component(k,L,E),insert(L,$,E),mount_component(x,L,E),I=!0},p(L,[E]){const D={};E&1&&(D.runtime=L[0]),k.$set(D);const F={};E&1&&(F.runtime=L[0]),x.$set(F)},i(L){I||(transition_in(k.$$.fragment,L),transition_in(x.$$.fragment,L),I=!0)},o(L){transition_out(k.$$.fragment,L),transition_out(x.$$.fragment,L),I=!1},d(L){L&&detach($),destroy_component(k,L),destroy_component(x,L)}}}function instance$3m(T,k,$){let{runtime:x}=k,{app:I}=k;return T.$$set=L=>{"runtime"in L&&$(0,x=L.runtime),"app"in L&&$(1,I=L.app)},[x,I]}let BugReports$1=class extends SvelteComponent{constructor(k){super(),init(this,k,instance$3m,create_fragment$3F,safe_not_equal,{runtime:0,app:1})}};function create_fragment$3E(T){let k,$,x;return{c(){k=element("button"),k.textContent="close",attr(k,"class","overlay-close material-icons-round")},m(I,L){insert(I,k,L),$||(x=listen(k,"click",T[0]),$=!0)},p:noop$1,i:noop$1,o:noop$1,d(I){I&&detach(k),$=!1,x()}}}function instance$3l(T,k,$){let{app:x}=k,{id:I}=k;function L(){hideOverlay(I,x.id)}return T.$$set=E=>{"app"in E&&$(1,x=E.app),"id"in E&&$(2,I=E.id)},[L,x,I]}class CloseButton extends SvelteComponent{constructor(k){super(),init(this,k,instance$3l,create_fragment$3E,safe_not_equal,{app:1,id:2})}}const SystemLog_svelte_svelte_type_style_lang="";function create_if_block$1n(T){let k,$;return{c(){k=element("textarea"),k.readOnly=!0,k.value=$=T[2].log,attr(k,"class","svelte-1ov8mi7")},m(x,I){insert(x,k,I)},p(x,I){I&4&&$!==($=x[2].log)&&(k.value=$)},d(x){x&&detach(k)}}}function create_fragment$3D(T){let k,$,x,I=T[2]&&T[2].log&&create_if_block$1n(T);return $=new CloseButton({props:{app:T[0],id:T[1]}}),{c(){I&&I.c(),k=space(),create_component($.$$.fragment)},m(L,E){I&&I.m(L,E),insert(L,k,E),mount_component($,L,E),x=!0},p(L,[E]){L[2]&&L[2].log?I?I.p(L,E):(I=create_if_block$1n(L),I.c(),I.m(k.parentNode,k)):I&&(I.d(1),I=null);const D={};E&1&&(D.app=L[0]),E&2&&(D.id=L[1]),$.$set(D)},i(L){x||(transition_in($.$$.fragment,L),x=!0)},o(L){transition_out($.$$.fragment,L),x=!1},d(L){L&&detach(k),I&&I.d(L),destroy_component($,L)}}}function instance$3k(T,k,$){let{runtime:x}=k,{app:I}=k,{id:L}=k,E;return onMount(()=>{x&&x.OpenedReport.subscribe(D=>$(2,E=D))}),T.$$set=D=>{"runtime"in D&&$(3,x=D.runtime),"app"in D&&$(0,I=D.app),"id"in D&&$(1,L=D.id)},[I,L,E,x]}class SystemLog extends SvelteComponent{constructor(k){super(),init(this,k,instance$3k,create_fragment$3D,safe_not_equal,{runtime:3,app:0,id:1})}}const ude="";function create_if_block$1m(T){let k,$,x;return{c(){k=element("div"),$=text(T[1]),attr(k,"class","value"),attr(k,"data-type",x=typeof T[1]),attr(k,"data-value",T[1])},m(I,L){insert(I,k,L),append(k,$)},p(I,L){L&2&&set_data($,I[1]),L&2&&x!==(x=typeof I[1])&&attr(k,"data-type",x),L&2&&attr(k,"data-value",I[1])},d(I){I&&detach(k)}}}function create_fragment$3C(T){let k,$,x,I,L=typeof T[1]!="object"&&create_if_block$1m(T);return{c(){k=element("div"),$=element("div"),x=text(T[0]),I=space(),L&&L.c(),attr($,"class","key"),attr(k,"class","nodeinstance")},m(E,D){insert(E,k,D),append(k,$),append($,x),append(k,I),L&&L.m(k,null)},p(E,[D]){D&1&&set_data(x,E[0]),typeof E[1]!="object"?L?L.p(E,D):(L=create_if_block$1m(E),L.c(),L.m(k,null)):L&&(L.d(1),L=null)},i:noop$1,o:noop$1,d(E){E&&detach(k),L&&L.d()}}}function instance$3j(T,k,$){let{key:x}=k,{value:I}=k;return T.$$set=L=>{"key"in L&&$(0,x=L.key),"value"in L&&$(1,I=L.value)},[x,I]}class Node extends SvelteComponent{constructor(k){super(),init(this,k,instance$3j,create_fragment$3C,safe_not_equal,{key:0,value:1})}}function get_each_context$O(T,k,$){const x=T.slice();return x[3]=k[$],x}function create_if_block$1l(T){let k,$,x=ensure_array_like(Object.entries(T[1])),I=[];for(let E=0;E<x.length;E+=1)I[E]=create_each_block$O(get_each_context$O(T,x,E));const L=E=>transition_out(I[E],1,1,()=>{I[E]=null});return{c(){for(let E=0;E<I.length;E+=1)I[E].c();k=empty()},m(E,D){for(let F=0;F<I.length;F+=1)I[F]&&I[F].m(E,D);insert(E,k,D),$=!0},p(E,D){if(D&2){x=ensure_array_like(Object.entries(E[1]));let F;for(F=0;F<x.length;F+=1){const P=get_each_context$O(E,x,F);I[F]?(I[F].p(P,D),transition_in(I[F],1)):(I[F]=create_each_block$O(P),I[F].c(),transition_in(I[F],1),I[F].m(k.parentNode,k))}for(group_outros(),F=x.length;F<I.length;F+=1)L(F);check_outros()}},i(E){if(!$){for(let D=0;D<x.length;D+=1)transition_in(I[D]);$=!0}},o(E){I=I.filter(Boolean);for(let D=0;D<I.length;D+=1)transition_out(I[D]);$=!1},d(E){E&&detach(k),destroy_each(I,E)}}}function create_each_block$O(T){let k,$;return k=new Branch_1({props:{key:T[3][0],value:T[3][1]}}),{c(){create_component(k.$$.fragment)},m(x,I){mount_component(k,x,I),$=!0},p(x,I){const L={};I&2&&(L.key=x[3][0]),I&2&&(L.value=x[3][1]),k.$set(L)},i(x){$||(transition_in(k.$$.fragment,x),$=!0)},o(x){transition_out(k.$$.fragment,x),$=!1},d(x){destroy_component(k,x)}}}function create_fragment$3B(T){let k,$,x,I;$=new Node({props:{key:T[0],value:T[1]}});let L=typeof T[1]=="object"&&T[1]&&create_if_block$1l(T);return{c(){k=element("div"),create_component($.$$.fragment),x=space(),L&&L.c(),toggle_class(k,"indent",!T[2])},m(E,D){insert(E,k,D),mount_component($,k,null),append(k,x),L&&L.m(k,null),I=!0},p(E,[D]){const F={};D&1&&(F.key=E[0]),D&2&&(F.value=E[1]),$.$set(F),typeof E[1]=="object"&&E[1]?L?(L.p(E,D),D&2&&transition_in(L,1)):(L=create_if_block$1l(E),L.c(),transition_in(L,1),L.m(k,null)):L&&(group_outros(),transition_out(L,1,1,()=>{L=null}),check_outros()),(!I||D&4)&&toggle_class(k,"indent",!E[2])},i(E){I||(transition_in($.$$.fragment,E),transition_in(L),I=!0)},o(E){transition_out($.$$.fragment,E),transition_out(L),I=!1},d(E){E&&detach(k),destroy_component($),L&&L.d()}}}function instance$3i(T,k,$){let{key:x}=k,{value:I}=k,{top:L=!1}=k;return T.$$set=E=>{"key"in E&&$(0,x=E.key),"value"in E&&$(1,I=E.value),"top"in E&&$(2,L=E.top)},[x,I,L]}class Branch_1 extends SvelteComponent{constructor(k){super(),init(this,k,instance$3i,create_fragment$3B,safe_not_equal,{key:0,value:1,top:2})}}function get_each_context$N(T,k,$){const x=T.slice();return x[1]=k[$],x}function create_if_block$1k(T){let k,$,x=ensure_array_like(Object.entries(T[0])),I=[];for(let E=0;E<x.length;E+=1)I[E]=create_each_block$N(get_each_context$N(T,x,E));const L=E=>transition_out(I[E],1,1,()=>{I[E]=null});return{c(){k=element("div");for(let E=0;E<I.length;E+=1)I[E].c();attr(k,"class","userdata-explorer")},m(E,D){insert(E,k,D);for(let F=0;F<I.length;F+=1)I[F]&&I[F].m(k,null);$=!0},p(E,D){if(D&1){x=ensure_array_like(Object.entries(E[0]));let F;for(F=0;F<x.length;F+=1){const P=get_each_context$N(E,x,F);I[F]?(I[F].p(P,D),transition_in(I[F],1)):(I[F]=create_each_block$N(P),I[F].c(),transition_in(I[F],1),I[F].m(k,null))}for(group_outros(),F=x.length;F<I.length;F+=1)L(F);check_outros()}},i(E){if(!$){for(let D=0;D<x.length;D+=1)transition_in(I[D]);$=!0}},o(E){I=I.filter(Boolean);for(let D=0;D<I.length;D+=1)transition_out(I[D]);$=!1},d(E){E&&detach(k),destroy_each(I,E)}}}function create_else_block$q(T){let k,$;return k=new Node({props:{key:T[1][0],value:T[1][1]}}),{c(){create_component(k.$$.fragment)},m(x,I){mount_component(k,x,I),$=!0},p(x,I){const L={};I&1&&(L.key=x[1][0]),I&1&&(L.value=x[1][1]),k.$set(L)},i(x){$||(transition_in(k.$$.fragment,x),$=!0)},o(x){transition_out(k.$$.fragment,x),$=!1},d(x){destroy_component(k,x)}}}function create_if_block_1$q(T){let k,$;return k=new Branch_1({props:{key:T[1][0],value:T[1][1],top:!0}}),{c(){create_component(k.$$.fragment)},m(x,I){mount_component(k,x,I),$=!0},p(x,I){const L={};I&1&&(L.key=x[1][0]),I&1&&(L.value=x[1][1]),k.$set(L)},i(x){$||(transition_in(k.$$.fragment,x),$=!0)},o(x){transition_out(k.$$.fragment,x),$=!1},d(x){destroy_component(k,x)}}}function create_each_block$N(T){let k,$,x,I,L;const E=[create_if_block_1$q,create_else_block$q],D=[];function F(P,U){return typeof P[1][1]=="object"?0:1}return $=F(T),x=D[$]=E[$](T),{c(){k=element("div"),x.c(),I=space(),attr(k,"class","toplevel-item")},m(P,U){insert(P,k,U),D[$].m(k,null),append(k,I),L=!0},p(P,U){let M=$;$=F(P),$===M?D[$].p(P,U):(group_outros(),transition_out(D[M],1,1,()=>{D[M]=null}),check_outros(),x=D[$],x?x.p(P,U):(x=D[$]=E[$](P),x.c()),transition_in(x,1),x.m(k,I))},i(P){L||(transition_in(x),L=!0)},o(P){transition_out(x),L=!1},d(P){P&&detach(k),D[$].d()}}}function create_fragment$3A(T){let k,$,x=T[0]&&create_if_block$1k(T);return{c(){x&&x.c(),k=empty()},m(I,L){x&&x.m(I,L),insert(I,k,L),$=!0},p(I,[L]){I[0]?x?(x.p(I,L),L&1&&transition_in(x,1)):(x=create_if_block$1k(I),x.c(),transition_in(x,1),x.m(k.parentNode,k)):x&&(group_outros(),transition_out(x,1,1,()=>{x=null}),check_outros())},i(I){$||(transition_in(x),$=!0)},o(I){transition_out(x),$=!1},d(I){I&&detach(k),x&&x.d(I)}}}function instance$3h(T,k,$){let{data:x}=k;return T.$$set=I=>{"data"in I&&$(0,x=I.data)},[x]}class UserDataExplorer extends SvelteComponent{constructor(k){super(),init(this,k,instance$3h,create_fragment$3A,safe_not_equal,{data:0})}}function create_if_block$1j(T){let k,$;return k=new UserDataExplorer({props:{data:T[2].userdata}}),{c(){create_component(k.$$.fragment)},m(x,I){mount_component(k,x,I),$=!0},p(x,I){const L={};I&4&&(L.data=x[2].userdata),k.$set(L)},i(x){$||(transition_in(k.$$.fragment,x),$=!0)},o(x){transition_out(k.$$.fragment,x),$=!1},d(x){destroy_component(k,x)}}}function create_fragment$3z(T){let k,$,x,I=T[2]&&create_if_block$1j(T);return $=new CloseButton({props:{app:T[0],id:T[1]}}),{c(){I&&I.c(),k=space(),create_component($.$$.fragment)},m(L,E){I&&I.m(L,E),insert(L,k,E),mount_component($,L,E),x=!0},p(L,[E]){L[2]?I?(I.p(L,E),E&4&&transition_in(I,1)):(I=create_if_block$1j(L),I.c(),transition_in(I,1),I.m(k.parentNode,k)):I&&(group_outros(),transition_out(I,1,1,()=>{I=null}),check_outros());const D={};E&1&&(D.app=L[0]),E&2&&(D.id=L[1]),$.$set(D)},i(L){x||(transition_in(I),transition_in($.$$.fragment,L),x=!0)},o(L){transition_out(I),transition_out($.$$.fragment,L),x=!1},d(L){L&&detach(k),I&&I.d(L),destroy_component($,L)}}}function instance$3g(T,k,$){let{runtime:x}=k,{app:I}=k,{id:L}=k,E;return onMount(()=>{x&&x.OpenedReport.subscribe(D=>$(2,E=D))}),T.$$set=D=>{"runtime"in D&&$(3,x=D.runtime),"app"in D&&$(0,I=D.app),"id"in D&&$(1,L=D.id)},[I,L,E,x]}class UserData extends SvelteComponent{constructor(k){super(),init(this,k,instance$3g,create_fragment$3z,safe_not_equal,{runtime:3,app:0,id:1})}}class AppRuntime{constructor(k){ue(this,"app");if(!k.id){Log("applogic/runtime/main.ts","Can't create AppRuntime without valid app ID",LogLevel.error);return}this.app=k}Log(k,$="<anonymous>",x=LogLevel.info){Log(`${this.app.id}Runtime: ${$}`,k,x)}}class BugReportsRuntime extends AppRuntime{constructor($){super($);ue(this,"Selected",writable());ue(this,"Store",writable([]));ue(this,"OpenedReport",writable(null));this.refreshStore(),this.Selected.subscribe(async x=>{this.OpenedReport.set(await getReport(x))})}getReports(){return this.Log("Getting reports","getReports"),getAppPreference("Reporting","reports")||[]}async getReport($){return $?(this.Log(`Getting report ${$}`,"getReport"),await reportExists($)?await getReport($):(createOverlayableError({title:"Report Deleted!",message:`Report ${$} has been deleted from the reports server and it cannot be accessed. Do you want to delete it from your account?`,buttons:[{caption:"Keep",action(){}},{caption:"Remove Report",action:()=>{this.deleteReport($)}}],image:logo$9},"BugReports"),null)):void 0}deleteReport($){this.Log(`Deleting local report ${$}...`,"deleteReport",LogLevel.warn);const I=this.getReports().filter(E=>E.id!=$);setAppPreference("Reporting","reports",I),this.refreshStore(),get_store_value(this.Selected)==$&&(this.Selected.set(null),this.OpenedReport.set(null))}async refreshStore(){this.Log("Refreshing store","refreshStore"),this.Store.set([]),await sleep(0),this.Store.set(this.getReports()||[])}}const BugReports={info:{name:"Bug Reports",description:"View and manage your bug reports",builtin:!0,version:"1.0.0",author:"ArcOS Team",icon:logo$9,hidden:!0,appGroup:"support"},size:{w:750,h:500},pos:{x:30,y:40},minSize:{w:750,h:500},maxSize:{w:900,h:700},controls:{min:!0,max:!1,cls:!0},state:{headless:!1,resizable:!1,windowState:{min:!1,max:!1,fll:!1}},content:BugReports$1,glass:!0,runtime:BugReportsRuntime,overlays:{udataExplorer:{info:{name:"User Data",version:"1.0.0",author:"ArcOS Team"},content:UserData,size:{w:550,h:400},show:!1},systemLogView:{info:{name:"View System Log",version:"1.0.0",author:"ArcOS Team"},content:SystemLog,size:{w:700,h:450},show:!1}}},logo$7=""+new URL("calculator-8987804a.svg",import.meta.url).href,calculator="";class CS{constructor(){ue(this,"Source","Calculator/main.ts:");ue(this,"AllowedKeys",["+","-","/","*","7","8","9","**","4","5","6","%","1","2","3","%%C",".","0","00","%%E"]);ue(this,"Shortcuts",["0","1","2","3","4","5","6","7","8","9","/","+","-","*"]);ue(this,"Overrides",{"*":"x","**":"^","%":"mod"});ue(this,"altClasses",["+","-","/","*","**","%","."])}}const CalculatorStore=new CS,CalculatorValue=writable("");class CL{constructor(){ue(this,"keys",[]);ue(this,"Functions",{"%%C":["C",()=>CalculatorValue.set(""),"clear"],"%%E":["=",this.evaluate,"process"]});this.keys=this.compileKeys(CalculatorStore.AllowedKeys,CalculatorStore.Overrides)}compileKeys(T,k){const $=[];for(let x=0;x<T.length;x++){let I=[null,null];I[0]=k[T[x]]||T[x],I[1]=T[x],$.push(I)}return $}evaluate(){if(Log(`${CalculatorStore.Source} evaluate`,`Evaluating sum ("${get_store_value(CalculatorValue)}")`,LogLevel.info),!CalculatorClass.isValid(get_store_value(CalculatorValue)))return!1;const value=eval(get_store_value(CalculatorValue));return CalculatorValue.set(value),value}isValid(T){if(Log(`${CalculatorStore.Source} isValid`,`Verifying input "${T}"...`,LogLevel.info),T.startsWith("%%"))return!1;for(let k=0;k<T.length;k++)if(!CalculatorStore.AllowedKeys.includes(T[k]))return Log(`${CalculatorStore.Source} isValid`,`Input "${T}" not valid.`,LogLevel.warn),!1;return!0}generateKeyboardShortcuts(){let T=[];for(let k=0;k<CalculatorStore.Shortcuts.length;k++)T.push({key:CalculatorStore.Shortcuts[k],action:()=>this.processKey(CalculatorStore.Shortcuts[k])});return T}processKey(key){if(Log(`${CalculatorStore.Source} processKey`,`Processing key "${key}"`),!this.isValid(key))return!1;const newValue=`${get_store_value(CalculatorValue)}${key}0`;try{eval(newValue)}catch{return Log(`${CalculatorStore.Source} Calculator/main.ts: processKey`,`Test sum "${newValue}" is not valid. Aborting.`,LogLevel.error),!1}CalculatorValue.set(get_store_value(CalculatorValue)+key)}}const CalculatorClass=new CL;function get_each_context$M(T,k,$){const x=T.slice();return x[4]=k[$],x}function create_else_block$p(T){let k,$=CalculatorClass.Functions[T[4][1]][0]+"",x,I,L,E;return{c(){k=element("button"),x=text($),I=space(),attr(k,"class",CalculatorClass.Functions[T[4][1]][2])},m(D,F){insert(D,k,F),append(k,x),append(k,I),L||(E=listen(k,"click",CalculatorClass.Functions[T[4][0]][1]),L=!0)},p(D,F){T=D},d(D){D&&detach(k),L=!1,E()}}}function create_if_block$1i(T){let k,$,x;function I(){return T[1](T[4])}return{c(){k=element("button"),k.textContent=`${T[4][0]} `,toggle_class(k,"empty",!T[4][0]),toggle_class(k,"alt",CalculatorStore.altClasses.includes(T[4][1]))},m(L,E){insert(L,k,E),$||(x=listen(k,"click",I),$=!0)},p(L,E){T=L},d(L){L&&detach(k),$=!1,x()}}}function create_each_block$M(T){let k;function $(L,E){return L[4][0].startsWith("%%")?create_else_block$p:create_if_block$1i}let I=$(T)(T);return{c(){I.c(),k=empty()},m(L,E){I.m(L,E),insert(L,k,E)},p(L,E){I.p(L,E)},d(L){L&&detach(k),I.d(L)}}}function create_fragment$3y(T){let k,$,x,I=ensure_array_like(CalculatorClass.keys),L=[];for(let E=0;E<I.length;E+=1)L[E]=create_each_block$M(get_each_context$M(T,I,E));return{c(){k=element("input"),$=space(),x=element("div");for(let E=0;E<L.length;E+=1)L[E].c();attr(k,"type","text"),attr(k,"class","display"),k.readOnly=!0,k.value=T[0],attr(x,"class","keys")},m(E,D){insert(E,k,D),insert(E,$,D),insert(E,x,D);for(let F=0;F<L.length;F+=1)L[F]&&L[F].m(x,null)},p(E,[D]){if(D&1&&k.value!==E[0]&&(k.value=E[0]),D&0){I=ensure_array_like(CalculatorClass.keys);let F;for(F=0;F<I.length;F+=1){const P=get_each_context$M(E,I,F);L[F]?L[F].p(P,D):(L[F]=create_each_block$M(P),L[F].c(),L[F].m(x,null))}for(;F<L.length;F+=1)L[F].d(1);L.length=I.length}},i:noop$1,o:noop$1,d(E){E&&(detach(k),detach($),detach(x)),destroy_each(L,E)}}}function instance$3f(T,k,$){let x;component_subscribe(T,CalculatorValue,E=>$(2,x=E));let I="";return onMount(()=>{CalculatorValue.subscribe(E=>{Log("Calculator: CalculatorValue.subscribe",`Value of CalculatorValue<string> changed to "${x}"`,LogLevel.info),$(0,I=E||"0")})}),[I,E=>CalculatorClass.processKey(E[1])]}class Calculator extends SvelteComponent{constructor(k){super(),init(this,k,instance$3f,create_fragment$3y,safe_not_equal,{})}}const CalculatorApp={info:{name:"Calculator",description:"ArcOS Calculator",builtin:!0,version:"2.0.0",author:"Izaak Kuipers",icon:logo$7,appGroup:"utilities"},size:{w:340,h:NaN},pos:{x:60,y:60},minSize:{w:340,h:NaN},maxSize:{w:340,h:NaN},controls:{min:!0,max:!1,cls:!0},state:{headless:!1,resizable:!1,windowState:{min:!1,max:!1,fll:!1}},content:Calculator,glass:!0,events:{close(){CalculatorValue.set("")},open(){CalculatorValue.set("")},keyboardShortcuts:[...CalculatorClass.generateKeyboardShortcuts(),{key:"enter",action:()=>CalculatorClass.evaluate()},{key:"escape",action:()=>CalculatorValue.set("")}]}},logo$6=""+new URL("donut-041054d9.png",import.meta.url).href;let A=1,B=1;function tick$1(){const T=[],k=[];A+=.07,B+=.03;let $=Math.cos(A),x=Math.sin(A),I=Math.cos(B),L=Math.sin(B);for(let E=0;E<1760;E++)T[E]=E%80==79?`
`:" ",k[E]=0;for(let E=0;E<6.28;E+=.07){let D=Math.cos(E),F=Math.sin(E);for(let P=0;P<6.28;P+=.02){let U=Math.sin(P),M=Math.cos(P),z=D+2,N=1/(U*z*x+F*$+5),q=U*z*$-F*x,j=0|40+30*N*(M*z*I-q*L),W=0|12+15*N*(M*z*L+q*I),H=j+80*W,Q=0|8*((F*x-U*D*$)*I-U*D*x-F*$-M*D*L);W<22&&W>=0&&j>=0&&j<79&&N>k[H]&&(k[H]=N,T[H]=".,-~:;=!*#$@"[Q>0?Q:0]);const K={o:H,A,B,N:Q,st:F,sA:x,sp:U,ct:D,cA:$,cB:I,cp:M,sB:L,D:N,t:q,h:z,i:P,j:E,x:j,y:W,cycles:(A/.07/89.71428571428571).toFixed(2)};donutDebugInformation.set(K)}}return T.join("")}const donutDebugInformation=writable(),Donut_svelte_svelte_type_style_lang="";function get_each_context$L(T,k,$){const x=T.slice();return x[3]=k[$],x}function create_if_block$1h(T){let k,$=ensure_array_like(Object.entries(T[1])),x=[];for(let I=0;I<$.length;I+=1)x[I]=create_each_block$L(get_each_context$L(T,$,I));return{c(){for(let I=0;I<x.length;I+=1)x[I].c();k=empty()},m(I,L){for(let E=0;E<x.length;E+=1)x[E]&&x[E].m(I,L);insert(I,k,L)},p(I,L){if(L&2){$=ensure_array_like(Object.entries(I[1]));let E;for(E=0;E<$.length;E+=1){const D=get_each_context$L(I,$,E);x[E]?x[E].p(D,L):(x[E]=create_each_block$L(D),x[E].c(),x[E].m(k.parentNode,k))}for(;E<x.length;E+=1)x[E].d(1);x.length=$.length}},d(I){I&&detach(k),destroy_each(x,I)}}}function create_else_block$o(T){let k=T[3][1]+"",$;return{c(){$=text(k)},m(x,I){insert(x,$,I)},p(x,I){I&2&&k!==(k=x[3][1]+"")&&set_data($,k)},d(x){x&&detach($)}}}function create_if_block_1$p(T){let k=T[3][1].toFixed(8)+"",$;return{c(){$=text(k)},m(x,I){insert(x,$,I)},p(x,I){I&2&&k!==(k=x[3][1].toFixed(8)+"")&&set_data($,k)},d(x){x&&detach($)}}}function create_each_block$L(T){let k,$,x=T[3][0]+"",I,L,E,D;function F(M,z){return typeof M[3][1]=="number"?create_if_block_1$p:create_else_block$o}let P=F(T),U=P(T);return{c(){k=element("tr"),$=element("td"),I=text(x),L=space(),E=element("td"),U.c(),D=space(),attr($,"class","svelte-u78920"),attr(E,"class","svelte-u78920"),attr(k,"class","svelte-u78920")},m(M,z){insert(M,k,z),append(k,$),append($,I),append(k,L),append(k,E),U.m(E,null),append(k,D)},p(M,z){z&2&&x!==(x=M[3][0]+"")&&set_data(I,x),P===(P=F(M))&&U?U.p(M,z):(U.d(1),U=P(M),U&&(U.c(),U.m(E,null)))},d(M){M&&detach(k),U.d()}}}function create_fragment$3x(T){let k,$,x,I,L,E=T[1]&&create_if_block$1h(T);return{c(){k=element("div"),$=element("pre"),x=text(T[0]),I=space(),L=element("table"),E&&E.c(),attr($,"class","svelte-u78920"),attr(L,"class","svelte-u78920"),attr(k,"data-caller","donut-target"),attr(k,"class","svelte-u78920")},m(D,F){insert(D,k,F),append(k,$),append($,x),append(k,I),append(k,L),E&&E.m(L,null)},p(D,[F]){F&1&&set_data(x,D[0]),D[1]?E?E.p(D,F):(E=create_if_block$1h(D),E.c(),E.m(L,null)):E&&(E.d(1),E=null)},i:noop$1,o:noop$1,d(D){D&&detach(k),E&&E.d()}}}let fps=30;function instance$3e(T,k,$){let x,I;component_subscribe(T,donutSpinning,E=>$(2,x=E)),component_subscribe(T,donutDebugInformation,E=>$(1,I=E));let L="";return setInterval(()=>{x&&$(0,L=tick$1())},1e3/fps),[L,I]}class Donut extends SvelteComponent{constructor(k){super(),init(this,k,instance$3e,create_fragment$3x,safe_not_equal,{})}}const DonutApp={info:{name:"Donut",description:"A spinning ASCII donut",builtin:!0,version:ArcOSVersion,author:"Andy Sloane (ArcOS port by IzK)",icon:logo$6,appGroup:"entertainment"},size:{w:850,h:520},pos:{x:30,y:40},minSize:{w:850,h:520},maxSize:{w:850,h:NaN},controls:{min:!0,max:!0,cls:!0},state:{headless:!1,resizable:!0,windowState:{min:!1,max:!1,fll:!1}},content:Donut,glass:!0,events:{open(){donutSpinning.set(!0)},close(){donutSpinning.set(!1)},blur(){donutSpinning.set(!1)},focus(){donutSpinning.set(!0)}}},donutSpinning=writable(!1);function create_fragment$3w(T){let k,$,x,I,L,E,D,F,P,U,M,z,N,q,j,W,H;return{c(){k=element("p"),k.textContent="Specify the title and message to create an error message:",$=space(),x=element("br"),I=space(),L=element("input"),E=space(),D=element("input"),F=space(),P=element("input"),U=space(),M=element("input"),z=space(),N=element("button"),q=text("Create"),attr(L,"placeholder","title"),attr(L,"class","fullwidth"),attr(D,"placeholder","message"),attr(D,"class","fullwidth"),attr(P,"placeholder","button caption 1"),attr(P,"class","fullwidth"),attr(M,"placeholder","button caption 2"),attr(M,"class","fullwidth"),N.disabled=j=!T[0]||!T[1]},m(Q,K){insert(Q,k,K),insert(Q,$,K),insert(Q,x,K),insert(Q,I,K),insert(Q,L,K),set_input_value(L,T[0]),insert(Q,E,K),insert(Q,D,K),set_input_value(D,T[1]),insert(Q,F,K),insert(Q,P,K),set_input_value(P,T[2]),insert(Q,U,K),insert(Q,M,K),set_input_value(M,T[3]),insert(Q,z,K),insert(Q,N,K),append(N,q),W||(H=[listen(L,"input",T[5]),listen(D,"input",T[6]),listen(P,"input",T[7]),listen(M,"input",T[8]),listen(N,"click",T[4])],W=!0)},p(Q,[K]){K&1&&L.value!==Q[0]&&set_input_value(L,Q[0]),K&2&&D.value!==Q[1]&&set_input_value(D,Q[1]),K&4&&P.value!==Q[2]&&set_input_value(P,Q[2]),K&8&&M.value!==Q[3]&&set_input_value(M,Q[3]),K&3&&j!==(j=!Q[0]||!Q[1])&&(N.disabled=j)},i:noop$1,o:noop$1,d(Q){Q&&(detach(k),detach($),detach(x),detach(I),detach(L),detach(E),detach(D),detach(F),detach(P),detach(U),detach(M),detach(z),detach(N)),W=!1,run_all(H)}}}function instance$3d(T,k,$){let x,I,L,E;function D(){errorMessage(x,I,null,"ErrCre",{caption:L,action:()=>{}},{caption:E,action:()=>{}})}function F(){x=this.value,$(0,x)}function P(){I=this.value,$(1,I)}function U(){L=this.value,$(2,L)}function M(){E=this.value,$(3,E)}return[x,I,L,E,D,F,P,U,M]}let ErrorCreator$1=class extends SvelteComponent{constructor(k){super(),init(this,k,instance$3d,create_fragment$3w,safe_not_equal,{})}};const ErrorCreator={info:{name:"Error Message Summoner",description:"Use for testing only -- error message creator",builtin:!0,version:ArcOSVersion,author:"Izaak Kuipers",icon:bugRepIcon,hidden:!0},size:{w:300,h:267},pos:{x:30,y:40},minSize:{w:300,h:253},maxSize:{w:300,h:253},controls:{min:!0,max:!1,cls:!0},state:{headless:!1,resizable:!1,windowState:{min:!1,max:!1,fll:!1}},content:ErrorCreator$1,glass:!0},shutdownIcon=""+new URL("exit-c8fc34e2.svg",import.meta.url).href,exit="";function create_if_block$1g(T){let k,$,x;return{c(){k=element("button"),k.innerHTML='<span class="material-icons-round">terminal</span> <p class="caption">ArcTerm</p>',attr(k,"class","option")},m(I,L){insert(I,k,L),$||(x=listen(k,"click",T[2]),$=!0)},p:noop$1,d(I){I&&detach(k),$=!1,x()}}}function create_fragment$3v(T){let k,$,x,I,L,E,D,F,P,U,M,z,N,q,j=T[0]&&create_if_block$1g(T);return{c(){k=element("div"),$=element("div"),x=element("h3"),x.textContent="ArcOS",I=space(),L=element("button"),L.innerHTML='<span class="material-icons-round">power_settings_new</span> <p class="caption">Shutdown</p>',E=space(),D=element("button"),D.innerHTML='<span class="material-icons-round">logout</span> <p class="caption">Logoff</p>',F=space(),P=element("button"),P.innerHTML='<span class="material-icons-round">refresh</span> <p class="caption">Restart</p>',U=space(),j&&j.c(),M=space(),z=element("button"),z.textContent="Cancel",attr(x,"class","header"),attr(L,"class","option"),attr(D,"class","option"),attr(P,"class","option"),attr(z,"class","cancel"),attr($,"class","flex-stop"),attr(k,"class","center-flex")},m(W,H){insert(W,k,H),append(k,$),append($,x),append($,I),append($,L),append($,E),append($,D),append($,F),append($,P),append($,U),j&&j.m($,null),append($,M),append($,z),N||(q=[listen(L,"click",shutdown),listen(D,"click",T[4]),listen(P,"click",T[5]),listen(z,"click",T[1])],N=!0)},p(W,[H]){W[0]?j?j.p(W,H):(j=create_if_block$1g(W),j.c(),j.m($,M)):j&&(j.d(1),j=null)},i:noop$1,o:noop$1,d(W){W&&detach(k),j&&j.d(),N=!1,run_all(q)}}}function instance$3c(T,k,$){let x;component_subscribe(T,ExitShowAT,P=>$(0,x=P));let{app:I}=k;function L(){isFullscreenWindow.set(!1),closeWindow(I.id)}function E(){FileBrowserCurrentDir.set("./"),FileBrowserSelectedFilename.set(null),FileBrowserDirContents.set(defaultDirectory),FileBrowserDeletingFilename.set(null),NotificationStore.set({}),ErrorWindowStore.set([]),ErrorMessages.set([]),WindowStore.set([]),selectedMessageId.set(null),applyState("arcterm")}const D=()=>restart$1(!0),F=()=>restart$1(!1);return T.$$set=P=>{"app"in P&&$(3,I=P.app)},[x,L,E,I,D,F]}let Exit$2=class extends SvelteComponent{constructor(k){super(),init(this,k,instance$3c,create_fragment$3v,safe_not_equal,{app:3})}};const Exit$1={info:{name:"Exit",description:"ArcOS Exit Menu",builtin:!0,version:"2.0.0",author:"Izaak Kuipers",icon:shutdownIcon,hidden:!0},size:{w:280,h:50},pos:{x:30,y:40},minSize:{w:280,h:50},maxSize:{w:280,h:50},controls:{min:!1,max:!1,cls:!0},state:{headless:!0,resizable:!1,windowState:{min:!1,max:!1,fll:!0}},content:Exit$2,glass:!0,events:{keyboardShortcuts:[{shift:!0,key:"",action(){ExitShowAT.set(!0)}}],close(T){ExitShowAT.set(!1)}}},ExitShowAT=writable(!1),fileManager=""+new URL("filemanager-59b6ea92.svg",import.meta.url).href,filebrowser="";function getParentDirectory(T){Log("fs/main.ts: getParentDirectory",`Getting parent of ${T}`,LogLevel.info);const k=T.split("/");return T=="./"||!k.length?T:k.length==1?"./":(k.splice(-1),k.join("/"))}function closeFile(T){Log("fs/main.ts: closeFile",`Closing file of ${T}`);const k=get_store_value(WindowStore);for(let $=0;$<k.length;$++)k[$].id==T&&(k[$].openedFile=null);WindowStore.set(k)}const folder=""+new URL("folder-f5b16e13.svg",import.meta.url).href;function create_fragment$3u(T){let k,$,x,I,L,E,D,F=T[0].name+"",P,U,M,z,N,q,j,W,H;return{c(){k=element("button"),$=element("div"),x=element("img"),E=space(),D=element("div"),P=text(F),U=space(),M=element("div"),M.textContent="Folder",z=space(),N=element("div"),N.textContent="-",src_url_equal(x.src,I=folder)||attr(x,"src",I),attr(x,"alt",L=T[0].name),attr($,"class","image"),attr(D,"class","name"),attr(M,"class","mime"),attr(N,"class","size"),attr(k,"class","item dir"),attr(k,"data-path",q=T[0].scopedPath),attr(k,"data-type","dir"),attr(k,"data-name",j=T[0].name),attr(k,"data-caller","listitem-dir"),toggle_class(k,"selected",T[1]==T[0].name),toggle_class(k,"cutting",T[2]&&T[2].name==T[0].name)},m(Q,K){insert(Q,k,K),append(k,$),append($,x),append(k,E),append(k,D),append(D,P),append(k,U),append(k,M),append(k,z),append(k,N),W||(H=[listen(k,"click",T[3]),listen(k,"dblclick",T[4])],W=!0)},p(Q,[K]){K&1&&L!==(L=Q[0].name)&&attr(x,"alt",L),K&1&&F!==(F=Q[0].name+"")&&set_data(P,F),K&1&&q!==(q=Q[0].scopedPath)&&attr(k,"data-path",q),K&1&&j!==(j=Q[0].name)&&attr(k,"data-name",j),K&3&&toggle_class(k,"selected",Q[1]==Q[0].name),K&5&&toggle_class(k,"cutting",Q[2]&&Q[2].name==Q[0].name)},i:noop$1,o:noop$1,d(Q){Q&&detach(k),W=!1,run_all(H)}}}function instance$3b(T,k,$){let x,I;component_subscribe(T,FileBrowserSelectedFilename,F=>$(1,x=F)),component_subscribe(T,FileBrowserCuttingFilename,F=>$(2,I=F));let{dir:L}=k;function E(){set_store_value(FileBrowserSelectedFilename,x=L.name,x)}function D(){fbClass.goToDirectory(L.scopedPath)}return T.$$set=F=>{"dir"in F&&$(0,L=F.dir)},[L,x,I,E,D]}let Dir$4=class extends SvelteComponent{constructor(k){super(),init(this,k,instance$3b,create_fragment$3u,safe_not_equal,{dir:0})}};const file=""+new URL("application-default-75c3ea6c.svg",import.meta.url).href,imgIcon=""+new URL("image-x-generic-5d11d595.svg",import.meta.url).href,svgIcon=""+new URL("application-svg-baa04416.svg",import.meta.url).href,pdfIcon=""+new URL("application-pdf-e9ce2bbf.svg",import.meta.url).href,fileIcon=""+new URL("text-plain-11510c4a.svg",import.meta.url).href,arcAppI=""+new URL("application-arcapp-a42c8049.svg",import.meta.url).href,jsonIcon=""+new URL("application-json-1b66b768.svg",import.meta.url).href,archiveIcon=""+new URL("application-x-compress-e0d95581.svg",import.meta.url).href,icon$3=""+new URL("markdownviewer-543747bd.svg",import.meta.url).href,soundIcon=""+new URL("audio-x-generic-ed3f402e.svg",import.meta.url).href,extensionIcons=[{extensions:[".png",".jpg",".bmp",".gif",".ico",".webp"],image:imgIcon},{extensions:[".svg"],image:svgIcon},{extensions:[".md"],image:icon$3},{extensions:[".app",".ealc",".app.json"],image:arcAppI},{extensions:[".pdf"],image:pdfIcon},{extensions:[".txt"],image:fileIcon},{extensions:[".json"],image:jsonIcon},{extensions:[".zip",".tar",".tar.gz",".7z",".rar"],image:archiveIcon},{extensions:[".flac",".mp3",".wav"],image:soundIcon},{extensions:[".arctheme"],image:loadThemeIcon},{extensions:["arcterm.conf"],image:icon$5}];function getMimeIcon(T){for(let k=0;k<extensionIcons.length;k++){const $=extensionIcons[k].extensions;for(let x=0;x<$.length;x++)if(T.endsWith($[x]))return extensionIcons[k].image}return file}async function partialFileToComplete(T){return Log("fs/convert.ts: partialFileToComplete",`Converting ${T.scopedPath} to ArcFile`,LogLevel.info),{name:T.filename,path:T.scopedPath,mime:T.mime,data:await readFile(T.scopedPath)}}async function fileToArcFile(T,k,$){return Log("fs/convert.ts: fileToArcFile",`Converting ${T.name} to ArcFile`,LogLevel.info),{name:T.name,path:k,data:await T.arrayBuffer(),mime:$||"ArcOS Uploadable"}}function create_fragment$3t(T){let k,$,x,I,L,E,D,F=T[0].filename+"",P,U,M,z=T[0].mime.split("; ")[0].split("/").join(" - ")+"",N,q,j,W=formatBytes(T[0].size)+"",H,Q,K,G,V,Y,J,X,Z;return{c(){k=element("button"),$=element("div"),x=element("img"),E=space(),D=element("div"),P=text(F),U=space(),M=element("div"),N=text(z),q=space(),j=element("div"),H=text(W),Q=space(),K=element("div"),G=element("button"),G.textContent="launch",src_url_equal(x.src,I=T[1])||attr(x,"src",I),attr(x,"alt",L=T[0].filename),attr($,"class","image"),attr(D,"class","name"),attr(M,"class","mime"),attr(j,"class","size"),attr(G,"class","material-icons-round"),attr(K,"class","options"),attr(k,"class","item file"),attr(k,"title",V=T[0].scopedPath),attr(k,"data-path",Y=T[0].scopedPath),attr(k,"data-type","file"),attr(k,"data-name",J=T[0].filename),attr(k,"data-caller","listitem-file"),toggle_class(k,"selected",T[2]==T[0].filename),toggle_class(k,"cutting",T[3]&&T[3].name==T[0].filename)},m(ee,re){insert(ee,k,re),append(k,$),append($,x),append(k,E),append(k,D),append(D,P),append(k,U),append(k,M),append(M,N),append(k,q),append(k,j),append(j,H),append(k,Q),append(k,K),append(K,G),X||(Z=[listen(G,"click",T[6]),listen(k,"click",T[4]),listen(k,"contextmenu",T[4]),listen(k,"dblclick",T[5])],X=!0)},p(ee,[re]){re&2&&!src_url_equal(x.src,I=ee[1])&&attr(x,"src",I),re&1&&L!==(L=ee[0].filename)&&attr(x,"alt",L),re&1&&F!==(F=ee[0].filename+"")&&set_data(P,F),re&1&&z!==(z=ee[0].mime.split("; ")[0].split("/").join(" - ")+"")&&set_data(N,z),re&1&&W!==(W=formatBytes(ee[0].size)+"")&&set_data(H,W),re&1&&V!==(V=ee[0].scopedPath)&&attr(k,"title",V),re&1&&Y!==(Y=ee[0].scopedPath)&&attr(k,"data-path",Y),re&1&&J!==(J=ee[0].filename)&&attr(k,"data-name",J),re&5&&toggle_class(k,"selected",ee[2]==ee[0].filename),re&9&&toggle_class(k,"cutting",ee[3]&&ee[3].name==ee[0].filename)},i:noop$1,o:noop$1,d(ee){ee&&detach(k),X=!1,run_all(Z)}}}function instance$3a(T,k,$){let x,I,L;component_subscribe(T,FileBrowserOpeningFile,z=>$(7,x=z)),component_subscribe(T,FileBrowserSelectedFilename,z=>$(2,I=z)),component_subscribe(T,FileBrowserCuttingFilename,z=>$(3,L=z));let{file:E}=k,D=icon$4;function F(){set_store_value(FileBrowserSelectedFilename,I=E.filename,I)}async function P(){set_store_value(FileBrowserOpeningFile,x=E,x),showOverlay("openingFile","FileManager");let z=await openUserFile(E);if(hideOverlay("openingFile","FileManager"),set_store_value(FileBrowserOpeningFile,x=null,x),z!=!0){const N=z;createOverlayableError({title:`Unable to open ${E.filename}`,message:"You don't have an app or handler that can open this type of file.",buttons:[{caption:"Close",action:()=>{z=null}},{caption:"Open With...",action:()=>U(N)}],image:icon$4},"FileManager")}z=null}function U(z){openWithDialog({...z,anymime:!0})}async function M(){set_store_value(FileBrowserOpeningFile,x=E,x),showOverlay("openingFile","FileManager");const z=await partialFileToComplete(E);U(z),hideOverlay("openingFile","FileManager"),set_store_value(FileBrowserOpeningFile,x=E,x)}return onMount(()=>{$(1,D=getMimeIcon(E.filename))}),FileBrowserDirContents.subscribe(()=>{$(1,D=getMimeIcon(E.filename))}),T.$$set=z=>{"file"in z&&$(0,E=z.file)},[E,D,I,L,F,P,M]}let File$3=class extends SvelteComponent{constructor(k){super(),init(this,k,instance$3a,create_fragment$3t,safe_not_equal,{file:0})}};function create_fragment$3s(T){let k;return{c(){k=element("button"),k.innerHTML='<div class="image"></div> <div class="name">Name</div> <div class="mime">Type</div> <div class="size">Size</div>',attr(k,"class","item head")},m($,x){insert($,k,x)},p:noop$1,i:noop$1,o:noop$1,d($){$&&detach(k)}}}class TopRow extends SvelteComponent{constructor(k){super(),init(this,k,null,create_fragment$3s,safe_not_equal,{})}}function get_each_context$K(T,k,$){const x=T.slice();return x[3]=k[$],x}function get_each_context_1$b(T,k,$){const x=T.slice();return x[6]=k[$],x}function create_else_block_1$2(T){let k,$,x,I,L,E;$=new TopRow({});let D=ensure_array_like(T[1]),F=[];for(let N=0;N<D.length;N+=1)F[N]=create_each_block_1$b(get_each_context_1$b(T,D,N));const P=N=>transition_out(F[N],1,1,()=>{F[N]=null});let U=ensure_array_like(T[0]),M=[];for(let N=0;N<U.length;N+=1)M[N]=create_each_block$K(get_each_context$K(T,U,N));const z=N=>transition_out(M[N],1,1,()=>{M[N]=null});return{c(){k=element("div"),create_component($.$$.fragment),x=space(),I=element("div");for(let N=0;N<F.length;N+=1)F[N].c();L=space();for(let N=0;N<M.length;N+=1)M[N].c();attr(I,"class","items"),attr(k,"class","listview")},m(N,q){insert(N,k,q),mount_component($,k,null),append(k,x),append(k,I);for(let j=0;j<F.length;j+=1)F[j]&&F[j].m(I,null);append(I,L);for(let j=0;j<M.length;j+=1)M[j]&&M[j].m(I,null);E=!0},p(N,q){if(q&2){D=ensure_array_like(N[1]);let j;for(j=0;j<D.length;j+=1){const W=get_each_context_1$b(N,D,j);F[j]?(F[j].p(W,q),transition_in(F[j],1)):(F[j]=create_each_block_1$b(W),F[j].c(),transition_in(F[j],1),F[j].m(I,L))}for(group_outros(),j=D.length;j<F.length;j+=1)P(j);check_outros()}if(q&1){U=ensure_array_like(N[0]);let j;for(j=0;j<U.length;j+=1){const W=get_each_context$K(N,U,j);M[j]?(M[j].p(W,q),transition_in(M[j],1)):(M[j]=create_each_block$K(W),M[j].c(),transition_in(M[j],1),M[j].m(I,null))}for(group_outros(),j=U.length;j<M.length;j+=1)z(j);check_outros()}},i(N){if(!E){transition_in($.$$.fragment,N);for(let q=0;q<D.length;q+=1)transition_in(F[q]);for(let q=0;q<U.length;q+=1)transition_in(M[q]);E=!0}},o(N){transition_out($.$$.fragment,N),F=F.filter(Boolean);for(let q=0;q<F.length;q+=1)transition_out(F[q]);M=M.filter(Boolean);for(let q=0;q<M.length;q+=1)transition_out(M[q]);E=!1},d(N){N&&detach(k),destroy_component($),destroy_each(F,N),destroy_each(M,N)}}}function create_if_block$1f(T){let k,$,x,I;const L=[create_if_block_1$o,create_else_block$n],E=[];function D(F,P){return F[2]?0:1}return k=D(T),$=E[k]=L[k](T),{c(){$.c(),x=empty()},m(F,P){E[k].m(F,P),insert(F,x,P),I=!0},p(F,P){let U=k;k=D(F),k!==U&&(group_outros(),transition_out(E[U],1,1,()=>{E[U]=null}),check_outros(),$=E[k],$||($=E[k]=L[k](F),$.c()),transition_in($,1),$.m(x.parentNode,x))},i(F){I||(transition_in($),I=!0)},o(F){transition_out($),I=!1},d(F){F&&detach(x),E[k].d(F)}}}function create_each_block_1$b(T){let k,$;return k=new Dir$4({props:{dir:T[6]}}),{c(){create_component(k.$$.fragment)},m(x,I){mount_component(k,x,I),$=!0},p(x,I){const L={};I&2&&(L.dir=x[6]),k.$set(L)},i(x){$||(transition_in(k.$$.fragment,x),$=!0)},o(x){transition_out(k.$$.fragment,x),$=!1},d(x){destroy_component(k,x)}}}function create_each_block$K(T){let k,$;return k=new File$3({props:{file:T[3]}}),{c(){create_component(k.$$.fragment)},m(x,I){mount_component(k,x,I),$=!0},p(x,I){const L={};I&1&&(L.file=x[3]),k.$set(L)},i(x){$||(transition_in(k.$$.fragment,x),$=!0)},o(x){transition_out(k.$$.fragment,x),$=!1},d(x){destroy_component(k,x)}}}function create_else_block$n(T){let k;return{c(){k=element("div"),k.textContent="This folder is empty.",attr(k,"class","nofiles")},m($,x){insert($,k,x)},i:noop$1,o:noop$1,d($){$&&detach(k)}}}function create_if_block_1$o(T){let k,$,x,I,L,E;return x=new Spinner({props:{height:32}}),{c(){k=element("div"),$=element("div"),create_component(x.$$.fragment),I=space(),L=element("p"),L.textContent="Reading items...",attr(L,"class","caption"),attr($,"class","loading-inner"),attr(k,"class","loading")},m(D,F){insert(D,k,F),append(k,$),mount_component(x,$,null),append($,I),append($,L),E=!0},i(D){E||(transition_in(x.$$.fragment,D),E=!0)},o(D){transition_out(x.$$.fragment,D),E=!1},d(D){D&&detach(k),destroy_component(x)}}}function create_fragment$3r(T){let k,$,x,I;const L=[create_if_block$1f,create_else_block_1$2],E=[];function D(F,P){return!F[1].length&&!F[0].length?0:1}return k=D(T),$=E[k]=L[k](T),{c(){$.c(),x=empty()},m(F,P){E[k].m(F,P),insert(F,x,P),I=!0},p(F,[P]){let U=k;k=D(F),k===U?E[k].p(F,P):(group_outros(),transition_out(E[U],1,1,()=>{E[U]=null}),check_outros(),$=E[k],$?$.p(F,P):($=E[k]=L[k](F),$.c()),transition_in($,1),$.m(x.parentNode,x))},i(F){I||(transition_in($),I=!0)},o(F){transition_out($),I=!1},d(F){F&&detach(x),E[k].d(F)}}}function instance$39(T,k,$){let x;component_subscribe(T,FileBrowserRefreshing,E=>$(2,x=E));let{files:I=[]}=k,{dirs:L=[]}=k;return T.$$set=E=>{"files"in E&&$(0,I=E.files),"dirs"in E&&$(1,L=E.dirs)},[I,L,x]}class ListView extends SvelteComponent{constructor(k){super(),init(this,k,instance$39,create_fragment$3r,safe_not_equal,{files:0,dirs:1})}}function create_fragment$3q(T){let k,$,x,I,L,E,D=T[0].name+"",F,P,U;return{c(){k=element("button"),$=element("img"),L=space(),E=element("p"),F=text(D),src_url_equal($.src,x=folder)||attr($,"src",x),attr($,"alt",I=T[0].name),attr(E,"class","name"),attr(k,"class","folder"),toggle_class(k,"selected",T[1])},m(M,z){insert(M,k,z),append(k,$),append(k,L),append(k,E),append(E,F),P||(U=listen(k,"click",T[2]),P=!0)},p(M,[z]){z&1&&I!==(I=M[0].name)&&attr($,"alt",I),z&1&&D!==(D=M[0].name+"")&&set_data(F,D),z&2&&toggle_class(k,"selected",M[1])},i:noop$1,o:noop$1,d(M){M&&detach(k),P=!1,U()}}}function instance$38(T,k,$){let{folder:x}=k,I=!1;async function L(){fbClass.goToDirectory(x.scopedPath)}return FileBrowserCurrentDir.subscribe(E=>{const D=E.replace("./","");$(1,I=D.startsWith(x.name))}),T.$$set=E=>{"folder"in E&&$(0,x=E.folder)},[x,I,L]}class Folder extends SvelteComponent{constructor(k){super(),init(this,k,instance$38,create_fragment$3q,safe_not_equal,{folder:0})}}const defaultQuota={used:0,max:0,free:0,username:"ArcOS"};async function getFSQuota(){const T=get_store_value(UserName),k=get_store_value(ConnectedServer);if(Log("fs/quota.ts: getFSQuota",`Getting FSQuota for ${T}`,LogLevel.info),!k||!T)return defaultQuota;const $=await apiCall(k,"fs/quota",{},get_store_value(UserToken));return $.valid?$.data:defaultQuota}function create_fragment$3p(T){let k,$,x,I,L,E,D=formatBytes(T[0].used)+"",F,P,U,M,z=formatBytes(T[0].max)+"",N;return{c(){k=element("div"),$=element("div"),x=element("div"),I=space(),L=element("div"),E=element("span"),F=text(D),U=space(),M=element("div"),N=text(z),attr(x,"class","inner"),set_style(x,"width",T[1]+"%"),attr($,"class","bar"),attr(E,"title",P=T[0].used+"B"),toggle_class(E,"invalid",T[0].used>T[0].max),attr(M,"class","right"),attr(L,"class","stat"),attr(k,"class","quota-renderer")},m(q,j){insert(q,k,j),append(k,$),append($,x),append(k,I),append(k,L),append(L,E),append(E,F),append(L,U),append(L,M),append(M,N)},p(q,[j]){j&2&&set_style(x,"width",q[1]+"%"),j&1&&D!==(D=formatBytes(q[0].used)+"")&&set_data(F,D),j&1&&P!==(P=q[0].used+"B")&&attr(E,"title",P),j&1&&toggle_class(E,"invalid",q[0].used>q[0].max),j&1&&z!==(z=formatBytes(q[0].max)+"")&&set_data(N,z)},i:noop$1,o:noop$1,d(q){q&&detach(k)}}}function instance$37(T,k,$){let x=defaultQuota,I=0;FileBrowserDirContents.subscribe(L);async function L(){$(0,x=await getFSQuota()),$(1,I=Math.round(100/x.max*x.used))}return[x,I]}class QuotaRenderer extends SvelteComponent{constructor(k){super(),init(this,k,instance$37,create_fragment$3p,safe_not_equal,{})}}function get_each_context$J(T,k,$){const x=T.slice();return x[1]=k[$],x}function create_each_block$J(T){let k,$;return k=new Folder({props:{folder:T[1]}}),{c(){create_component(k.$$.fragment)},m(x,I){mount_component(k,x,I),$=!0},p(x,I){const L={};I&1&&(L.folder=x[1]),k.$set(L)},i(x){$||(transition_in(k.$$.fragment,x),$=!0)},o(x){transition_out(k.$$.fragment,x),$=!1},d(x){destroy_component(k,x)}}}function create_fragment$3o(T){let k,$,x,I,L,E=ensure_array_like(T[0]),D=[];for(let P=0;P<E.length;P+=1)D[P]=create_each_block$J(get_each_context$J(T,E,P));const F=P=>transition_out(D[P],1,1,()=>{D[P]=null});return I=new QuotaRenderer({}),{c(){k=element("div"),$=element("div");for(let P=0;P<D.length;P+=1)D[P].c();x=space(),create_component(I.$$.fragment),attr($,"class","dirs"),attr(k,"class","sidebar")},m(P,U){insert(P,k,U),append(k,$);for(let M=0;M<D.length;M+=1)D[M]&&D[M].m($,null);append(k,x),mount_component(I,k,null),L=!0},p(P,[U]){if(U&1){E=ensure_array_like(P[0]);let M;for(M=0;M<E.length;M+=1){const z=get_each_context$J(P,E,M);D[M]?(D[M].p(z,U),transition_in(D[M],1)):(D[M]=create_each_block$J(z),D[M].c(),transition_in(D[M],1),D[M].m($,null))}for(group_outros(),M=E.length;M<D.length;M+=1)F(M);check_outros()}},i(P){if(!L){for(let U=0;U<E.length;U+=1)transition_in(D[U]);transition_in(I.$$.fragment,P),L=!0}},o(P){D=D.filter(Boolean);for(let U=0;U<D.length;U+=1)transition_out(D[U]);transition_out(I.$$.fragment,P),L=!1},d(P){P&&detach(k),destroy_each(D,P),destroy_component(I)}}}function instance$36(T,k,$){let x=[];return FileBrowserDirContents.subscribe(async I=>{$(0,x=(await getDirectory("./")).directories)}),[x]}let SideBar$3=class extends SvelteComponent{constructor(k){super(),init(this,k,instance$36,create_fragment$3o,safe_not_equal,{})}};const tile="";function create_fragment$3n(T){let k,$,x,I,L,E,D=T[0].name+"",F,P,U;return{c(){k=element("button"),$=element("img"),L=space(),E=element("p"),F=text(D),src_url_equal($.src,x=folder)||attr($,"src",x),attr($,"alt",I=T[0].name),attr(E,"class","name"),attr(k,"class","tile dir"),toggle_class(k,"selected",T[1]==T[0].name),toggle_class(k,"cutting",T[2]&&T[2].name==T[0].name)},m(M,z){insert(M,k,z),append(k,$),append(k,L),append(k,E),append(E,F),P||(U=[listen(k,"click",T[3]),listen(k,"dblclick",T[4])],P=!0)},p(M,[z]){z&1&&I!==(I=M[0].name)&&attr($,"alt",I),z&1&&D!==(D=M[0].name+"")&&set_data(F,D),z&3&&toggle_class(k,"selected",M[1]==M[0].name),z&5&&toggle_class(k,"cutting",M[2]&&M[2].name==M[0].name)},i:noop$1,o:noop$1,d(M){M&&detach(k),P=!1,run_all(U)}}}function instance$35(T,k,$){let x,I;component_subscribe(T,FileBrowserSelectedFilename,F=>$(1,x=F)),component_subscribe(T,FileBrowserCuttingFilename,F=>$(2,I=F));let{dir:L}=k;function E(){set_store_value(FileBrowserSelectedFilename,x=L.name,x)}function D(){fbClass.goToDirectory(L.scopedPath)}return T.$$set=F=>{"dir"in F&&$(0,L=F.dir)},[L,x,I,E,D]}let Dir$3=class extends SvelteComponent{constructor(k){super(),init(this,k,instance$35,create_fragment$3n,safe_not_equal,{dir:0})}};function create_fragment$3m(T){let k,$,x,I,L,E,D=T[0].filename+"",F,P,U,M;return{c(){k=element("button"),$=element("img"),L=space(),E=element("p"),F=text(D),src_url_equal($.src,x=T[1])||attr($,"src",x),attr($,"alt",I=T[0].filename),attr(E,"class","name"),attr(k,"class","tile file"),attr(k,"title",P=T[0].scopedPath),toggle_class(k,"selected",T[2]==T[0].filename),toggle_class(k,"cutting",T[3]&&T[3].name==T[0].filename)},m(z,N){insert(z,k,N),append(k,$),append(k,L),append(k,E),append(E,F),U||(M=[listen(k,"click",T[4]),listen(k,"dblclick",T[5])],U=!0)},p(z,[N]){N&2&&!src_url_equal($.src,x=z[1])&&attr($,"src",x),N&1&&I!==(I=z[0].filename)&&attr($,"alt",I),N&1&&D!==(D=z[0].filename+"")&&set_data(F,D),N&1&&P!==(P=z[0].scopedPath)&&attr(k,"title",P),N&5&&toggle_class(k,"selected",z[2]==z[0].filename),N&9&&toggle_class(k,"cutting",z[3]&&z[3].name==z[0].filename)},i:noop$1,o:noop$1,d(z){z&&detach(k),U=!1,run_all(M)}}}function instance$34(T,k,$){let x,I,L;component_subscribe(T,FileBrowserOpeningFile,M=>$(6,x=M)),component_subscribe(T,FileBrowserSelectedFilename,M=>$(2,I=M)),component_subscribe(T,FileBrowserCuttingFilename,M=>$(3,L=M));let{file:E}=k,D=icon$4;function F(){set_store_value(FileBrowserSelectedFilename,I=E.filename,I)}async function P(){set_store_value(FileBrowserOpeningFile,x=E,x),showOverlay("openingFile","FileManager");let M=await openUserFile(E);if(hideOverlay("openingFile","FileManager"),set_store_value(FileBrowserOpeningFile,x=null,x),M!=!0){const z=M;createOverlayableError({title:`Unable to open ${E.filename}`,message:"You don't have an app or handler that can open this type of file.",buttons:[{caption:"Close",action:()=>{M=null}},{caption:"Open With...",action:()=>U(z)}],image:icon$4},"FileManager")}M=null}function U(M){openWithDialog({...M,anymime:!0})}return onMount(()=>{$(1,D=getMimeIcon(E.filename))}),FileBrowserDirContents.subscribe(()=>$(1,D=getMimeIcon(E.filename))),T.$$set=M=>{"file"in M&&$(0,E=M.file)},[E,D,I,L,F,P]}let File$2=class extends SvelteComponent{constructor(k){super(),init(this,k,instance$34,create_fragment$3m,safe_not_equal,{file:0})}};function get_each_context$I(T,k,$){const x=T.slice();return x[3]=k[$],x}function get_each_context_1$a(T,k,$){const x=T.slice();return x[6]=k[$],x}function create_else_block_1$1(T){let k,$,x,I=T[1].length&&create_if_block_3$3(T),L=T[0].length&&create_if_block_2$7(T);return{c(){k=element("div"),I&&I.c(),$=space(),L&&L.c(),attr(k,"class","tileview")},m(E,D){insert(E,k,D),I&&I.m(k,null),append(k,$),L&&L.m(k,null),x=!0},p(E,D){E[1].length?I?(I.p(E,D),D&2&&transition_in(I,1)):(I=create_if_block_3$3(E),I.c(),transition_in(I,1),I.m(k,$)):I&&(group_outros(),transition_out(I,1,1,()=>{I=null}),check_outros()),E[0].length?L?(L.p(E,D),D&1&&transition_in(L,1)):(L=create_if_block_2$7(E),L.c(),transition_in(L,1),L.m(k,null)):L&&(group_outros(),transition_out(L,1,1,()=>{L=null}),check_outros())},i(E){x||(transition_in(I),transition_in(L),x=!0)},o(E){transition_out(I),transition_out(L),x=!1},d(E){E&&detach(k),I&&I.d(),L&&L.d()}}}function create_if_block$1e(T){let k,$,x,I;const L=[create_if_block_1$n,create_else_block$m],E=[];function D(F,P){return F[2]?0:1}return k=D(T),$=E[k]=L[k](T),{c(){$.c(),x=empty()},m(F,P){E[k].m(F,P),insert(F,x,P),I=!0},p(F,P){let U=k;k=D(F),k!==U&&(group_outros(),transition_out(E[U],1,1,()=>{E[U]=null}),check_outros(),$=E[k],$||($=E[k]=L[k](F),$.c()),transition_in($,1),$.m(x.parentNode,x))},i(F){I||(transition_in($),I=!0)},o(F){transition_out($),I=!1},d(F){F&&detach(x),E[k].d(F)}}}function create_if_block_3$3(T){let k,$,x=ensure_array_like(T[1]),I=[];for(let E=0;E<x.length;E+=1)I[E]=create_each_block_1$a(get_each_context_1$a(T,x,E));const L=E=>transition_out(I[E],1,1,()=>{I[E]=null});return{c(){k=element("div");for(let E=0;E<I.length;E+=1)I[E].c();attr(k,"class","folders")},m(E,D){insert(E,k,D);for(let F=0;F<I.length;F+=1)I[F]&&I[F].m(k,null);$=!0},p(E,D){if(D&2){x=ensure_array_like(E[1]);let F;for(F=0;F<x.length;F+=1){const P=get_each_context_1$a(E,x,F);I[F]?(I[F].p(P,D),transition_in(I[F],1)):(I[F]=create_each_block_1$a(P),I[F].c(),transition_in(I[F],1),I[F].m(k,null))}for(group_outros(),F=x.length;F<I.length;F+=1)L(F);check_outros()}},i(E){if(!$){for(let D=0;D<x.length;D+=1)transition_in(I[D]);$=!0}},o(E){I=I.filter(Boolean);for(let D=0;D<I.length;D+=1)transition_out(I[D]);$=!1},d(E){E&&detach(k),destroy_each(I,E)}}}function create_each_block_1$a(T){let k,$;return k=new Dir$3({props:{dir:T[6]}}),{c(){create_component(k.$$.fragment)},m(x,I){mount_component(k,x,I),$=!0},p(x,I){const L={};I&2&&(L.dir=x[6]),k.$set(L)},i(x){$||(transition_in(k.$$.fragment,x),$=!0)},o(x){transition_out(k.$$.fragment,x),$=!1},d(x){destroy_component(k,x)}}}function create_if_block_2$7(T){let k,$,x=ensure_array_like(T[0]),I=[];for(let E=0;E<x.length;E+=1)I[E]=create_each_block$I(get_each_context$I(T,x,E));const L=E=>transition_out(I[E],1,1,()=>{I[E]=null});return{c(){k=element("div");for(let E=0;E<I.length;E+=1)I[E].c();attr(k,"class","files")},m(E,D){insert(E,k,D);for(let F=0;F<I.length;F+=1)I[F]&&I[F].m(k,null);$=!0},p(E,D){if(D&1){x=ensure_array_like(E[0]);let F;for(F=0;F<x.length;F+=1){const P=get_each_context$I(E,x,F);I[F]?(I[F].p(P,D),transition_in(I[F],1)):(I[F]=create_each_block$I(P),I[F].c(),transition_in(I[F],1),I[F].m(k,null))}for(group_outros(),F=x.length;F<I.length;F+=1)L(F);check_outros()}},i(E){if(!$){for(let D=0;D<x.length;D+=1)transition_in(I[D]);$=!0}},o(E){I=I.filter(Boolean);for(let D=0;D<I.length;D+=1)transition_out(I[D]);$=!1},d(E){E&&detach(k),destroy_each(I,E)}}}function create_each_block$I(T){let k,$;return k=new File$2({props:{file:T[3]}}),{c(){create_component(k.$$.fragment)},m(x,I){mount_component(k,x,I),$=!0},p(x,I){const L={};I&1&&(L.file=x[3]),k.$set(L)},i(x){$||(transition_in(k.$$.fragment,x),$=!0)},o(x){transition_out(k.$$.fragment,x),$=!1},d(x){destroy_component(k,x)}}}function create_else_block$m(T){let k;return{c(){k=element("div"),k.textContent="This folder is empty.",attr(k,"class","nofiles")},m($,x){insert($,k,x)},i:noop$1,o:noop$1,d($){$&&detach(k)}}}function create_if_block_1$n(T){let k,$,x,I,L,E;return x=new Spinner({props:{height:32}}),{c(){k=element("div"),$=element("div"),create_component(x.$$.fragment),I=space(),L=element("p"),L.textContent="Reading items...",attr(L,"class","caption"),attr($,"class","loading-inner"),attr(k,"class","loading")},m(D,F){insert(D,k,F),append(k,$),mount_component(x,$,null),append($,I),append($,L),E=!0},i(D){E||(transition_in(x.$$.fragment,D),E=!0)},o(D){transition_out(x.$$.fragment,D),E=!1},d(D){D&&detach(k),destroy_component(x)}}}function create_fragment$3l(T){let k,$,x,I;const L=[create_if_block$1e,create_else_block_1$1],E=[];function D(F,P){return!F[1].length&&!F[0].length?0:1}return k=D(T),$=E[k]=L[k](T),{c(){$.c(),x=empty()},m(F,P){E[k].m(F,P),insert(F,x,P),I=!0},p(F,[P]){let U=k;k=D(F),k===U?E[k].p(F,P):(group_outros(),transition_out(E[U],1,1,()=>{E[U]=null}),check_outros(),$=E[k],$?$.p(F,P):($=E[k]=L[k](F),$.c()),transition_in($,1),$.m(x.parentNode,x))},i(F){I||(transition_in($),I=!0)},o(F){transition_out($),I=!1},d(F){F&&detach(x),E[k].d(F)}}}function instance$33(T,k,$){let x;component_subscribe(T,FileBrowserRefreshing,E=>$(2,x=E));let{files:I=[]}=k,{dirs:L=[]}=k;return T.$$set=E=>{"files"in E&&$(0,I=E.files),"dirs"in E&&$(1,L=E.dirs)},[I,L,x]}class TileView extends SvelteComponent{constructor(k){super(),init(this,k,instance$33,create_fragment$3l,safe_not_equal,{files:0,dirs:1})}}function create_if_block$1d(T){let k,$,x,I;return{c(){k=element("button"),$=text(T[0]),attr(k,"class","crumb")},m(L,E){insert(L,k,E),append(k,$),x||(I=listen(k,"click",T[1]),x=!0)},p(L,E){E&1&&set_data($,L[0])},d(L){L&&detach(k),x=!1,I()}}}function create_fragment$3k(T){let k,$=T[0]&&T[0]!="."&&create_if_block$1d(T);return{c(){$&&$.c(),k=empty()},m(x,I){$&&$.m(x,I),insert(x,k,I)},p(x,[I]){x[0]&&x[0]!="."?$?$.p(x,I):($=create_if_block$1d(x),$.c(),$.m(k.parentNode,k)):$&&($.d(1),$=null)},i:noop$1,o:noop$1,d(x){x&&detach(k),$&&$.d(x)}}}function instance$32(T,k,$){let{crumb:x}=k,{path:I}=k;function L(){fbClass.goToDirectory(I)}return T.$$set=E=>{"crumb"in E&&$(0,x=E.crumb),"path"in E&&$(2,I=E.path)},[x,L,I]}let Crumb$1=class extends SvelteComponent{constructor(k){super(),init(this,k,instance$32,create_fragment$3k,safe_not_equal,{crumb:0,path:2})}};function get_each_context$H(T,k,$){const x=T.slice();return x[4]=k[$],x[6]=$,x}function create_each_block$H(T){let k,$;return k=new Crumb$1({props:{crumb:T[4],path:T[2](T[4],T[6])}}),{c(){create_component(k.$$.fragment)},m(x,I){mount_component(k,x,I),$=!0},p(x,I){const L={};I&1&&(L.crumb=x[4]),I&1&&(L.path=x[2](x[4],x[6])),k.$set(L)},i(x){$||(transition_in(k.$$.fragment,x),$=!0)},o(x){transition_out(k.$$.fragment,x),$=!1},d(x){destroy_component(k,x)}}}function create_fragment$3j(T){let k,$,x,I,L,E,D,F,P=ensure_array_like(T[0]),U=[];for(let z=0;z<P.length;z+=1)U[z]=create_each_block$H(get_each_context$H(T,P,z));const M=z=>transition_out(U[z],1,1,()=>{U[z]=null});return{c(){k=element("button"),k.textContent="home",$=space(),x=element("div");for(let z=0;z<U.length;z+=1)U[z].c();I=space(),L=element("button"),L.textContent="refresh",attr(k,"class","home material-icons-round"),attr(x,"class","addressbar"),attr(L,"class","refresh material-icons-round")},m(z,N){insert(z,k,N),insert(z,$,N),insert(z,x,N);for(let q=0;q<U.length;q+=1)U[q]&&U[q].m(x,null);insert(z,I,N),insert(z,L,N),E=!0,D||(F=[listen(k,"click",T[1]),listen(L,"click",T[3])],D=!0)},p(z,[N]){if(N&5){P=ensure_array_like(z[0]);let q;for(q=0;q<P.length;q+=1){const j=get_each_context$H(z,P,q);U[q]?(U[q].p(j,N),transition_in(U[q],1)):(U[q]=create_each_block$H(j),U[q].c(),transition_in(U[q],1),U[q].m(x,null))}for(group_outros(),q=P.length;q<U.length;q+=1)M(q);check_outros()}},i(z){if(!E){for(let N=0;N<P.length;N+=1)transition_in(U[N]);E=!0}},o(z){U=U.filter(Boolean);for(let N=0;N<U.length;N+=1)transition_out(U[N]);E=!1},d(z){z&&(detach(k),detach($),detach(x),detach(I),detach(L)),destroy_each(U,z),D=!1,run_all(F)}}}function instance$31(T,k,$){let x=[];FileBrowserCurrentDir.subscribe(D=>{$(0,x=D.split("/"))});function I(){fbClass.goToDirectory("./")}function L(D,F){let P="";for(let U=0;U<F;U++)P+=`${x[U]}/`;return`${P}${D}`}return[x,I,L,()=>fbClass.refresh()]}class PathCrumbs extends SvelteComponent{constructor(k){super(),init(this,k,instance$31,create_fragment$3j,safe_not_equal,{})}}function create_fragment$3i(T){let k,$,x,I,L;return{c(){k=element("button"),$=text("content_copy"),attr(k,"class","material-icons-round copy"),k.disabled=x=!T[0]},m(E,D){insert(E,k,D),append(k,$),I||(L=listen(k,"click",T[1]),I=!0)},p(E,[D]){D&1&&x!==(x=!E[0])&&(k.disabled=x)},i:noop$1,o:noop$1,d(E){E&&detach(k),I=!1,L()}}}function instance$30(T,k,$){let x,I;component_subscribe(T,FileBrowserSelectedFilename,E=>$(0,x=E)),component_subscribe(T,FileBrowserCurrentDir,E=>$(2,I=E));function L(){FileBrowserCopyingFilename.set({name:x,scopedPath:`${I}/${x}`})}return[x,L]}class CopyButton extends SvelteComponent{constructor(k){super(),init(this,k,instance$30,create_fragment$3i,safe_not_equal,{})}}function create_fragment$3h(T){let k,$,x;return{c(){k=element("button"),k.textContent="add",attr(k,"class","material-icons-round create")},m(I,L){insert(I,k,L),$||(x=listen(k,"click",T[0]),$=!0)},p:noop$1,i:noop$1,o:noop$1,d(I){I&&detach(k),$=!1,x()}}}function instance$2$(T){function k(){showOverlay("createFile","FileManager")}return[k]}class CreateButton extends SvelteComponent{constructor(k){super(),init(this,k,instance$2$,create_fragment$3h,safe_not_equal,{})}}function create_fragment$3g(T){let k,$,x,I,L;return{c(){k=element("button"),$=text("content_cut"),attr(k,"class","material-icons-round cut"),k.disabled=x=!T[0]},m(E,D){insert(E,k,D),append(k,$),I||(L=listen(k,"click",T[1]),I=!0)},p(E,[D]){D&1&&x!==(x=!E[0])&&(k.disabled=x)},i:noop$1,o:noop$1,d(E){E&&detach(k),I=!1,L()}}}function instance$2_(T,k,$){let x,I;component_subscribe(T,FileBrowserSelectedFilename,E=>$(0,x=E)),component_subscribe(T,FileBrowserCurrentDir,E=>$(2,I=E));function L(){FileBrowserCuttingFilename.set({name:x,scopedPath:`${I}/${x}`})}return[x,L]}class CutButton extends SvelteComponent{constructor(k){super(),init(this,k,instance$2_,create_fragment$3g,safe_not_equal,{})}}function create_fragment$3f(T){let k,$,x,I,L;return{c(){k=element("button"),$=text("delete"),attr(k,"class","material-icons-round"),k.disabled=x=!T[0],attr(k,"title","Delete item")},m(E,D){insert(E,k,D),append(k,$),I||(L=listen(k,"click",T[1]),I=!0)},p(E,[D]){D&1&&x!==(x=!E[0])&&(k.disabled=x)},i:noop$1,o:noop$1,d(E){E&&detach(k),I=!1,L()}}}function instance$2Z(T,k,$){let x,I;component_subscribe(T,FileBrowserSelectedFilename,D=>$(0,x=D)),component_subscribe(T,FileBrowserCurrentDir,D=>$(2,I=D));function L(){createOverlayableError({title:"Delete item?",message:`Are you sure you want to permanently delete ${x}?`,buttons:[{caption:"Delete",action:E},{caption:"Cancel",action(){}}],image:clear$1},"FileManager")}async function E(){const D=`${I}/${x}`;FileBrowserDeletingFilename.set(x),showOverlay("deletingItem","FileManager"),await deleteItem(D)||createOverlayableError({title:"Unable to delete item",message:"ArcAPI was not able to delete the item from the file system. A permission error may have occured. Please try again later.",buttons:[{caption:"OK",action(){}}],image:bugRepIcon},"FileManager"),FileBrowserSelectedFilename.set(null),fbClass.refresh(),setTimeout(()=>{hideOverlay("deletingItem","FileManager")},100)}return[x,L]}class DeleteButton extends SvelteComponent{constructor(k){super(),init(this,k,instance$2Z,create_fragment$3f,safe_not_equal,{})}}function create_fragment$3e(T){let k,$,x;return{c(){k=element("button"),k.textContent="create_new_folder",attr(k,"class","material-icons-round"),attr(k,"title","New folder")},m(I,L){insert(I,k,L),$||(x=listen(k,"click",T[0]),$=!0)},p:noop$1,i:noop$1,o:noop$1,d(I){I&&detach(k),$=!1,x()}}}function instance$2Y(T){function k(){showOverlay("createFolder","FileManager")}return[k]}class NewFolderButton extends SvelteComponent{constructor(k){super(),init(this,k,instance$2Y,create_fragment$3e,safe_not_equal,{})}}function create_fragment$3d(T){let k,$,x,I,L;return{c(){k=element("button"),$=text("arrow_upward"),attr(k,"class","material-icons-round parentdir"),k.disabled=x=T[0]=="./",attr(k,"title","Parent folder")},m(E,D){insert(E,k,D),append(k,$),I||(L=listen(k,"click",T[1]),I=!0)},p(E,[D]){D&1&&x!==(x=E[0]=="./")&&(k.disabled=x)},i:noop$1,o:noop$1,d(E){E&&detach(k),I=!1,L()}}}function instance$2X(T,k,$){let x;component_subscribe(T,FileBrowserCurrentDir,L=>$(0,x=L));function I(){fbClass.goToDirectory(getParentDirectory(x))}return[x,I]}class ParentDir extends SvelteComponent{constructor(k){super(),init(this,k,instance$2X,create_fragment$3d,safe_not_equal,{})}}async function copyItem(T,k){Log("fs/mutate.ts: copyItem",`Copying ${T} to ${k}`,LogLevel.info);const $=get_store_value(ConnectedServer);return $?(await apiCall($,"fs/cp",{path:btoa(T),target:btoa(k)},get_store_value(UserToken)),!0):!1}async function renameItem(T,k){Log("fs/rename.ts: renameItem",`Renaming ${T} to ${k}`,LogLevel.info);const $=get_store_value(ConnectedServer);return $?(await apiCall($,"fs/rename",{oldpath:btoa(T),newpath:btoa(k)},get_store_value(UserToken))).valid:!1}function create_fragment$3c(T){let k,$,x,I,L;return{c(){k=element("button"),$=text("content_paste"),attr(k,"class","material-icons-round paste"),k.disabled=x=!T[0]&&!T[1]},m(E,D){insert(E,k,D),append(k,$),I||(L=listen(k,"click",T[2]),I=!0)},p(E,[D]){D&3&&x!==(x=!E[0]&&!E[1])&&(k.disabled=x)},i:noop$1,o:noop$1,d(E){E&&detach(k),I=!1,L()}}}function instance$2W(T,k,$){let x,I,L;component_subscribe(T,FileBrowserCurrentDir,D=>$(3,x=D)),component_subscribe(T,FileBrowserCuttingFilename,D=>$(0,I=D)),component_subscribe(T,FileBrowserCopyingFilename,D=>$(1,L=D));async function E(){if(L){const D=L.name,F=L.scopedPath;await copyItem(F,`${x}/${D}`),FileBrowserCopyingFilename.set(null)}if(I){const D=I.name,F=I.scopedPath;await renameItem(F,`${x}/${D}`),FileBrowserCuttingFilename.set(null)}fbClass.refresh()}return[I,L,E]}class PasteButton extends SvelteComponent{constructor(k){super(),init(this,k,instance$2W,create_fragment$3c,safe_not_equal,{})}}function create_fragment$3b(T){let k,$,x,I,L;return{c(){k=element("button"),$=text("drive_file_rename_outline"),attr(k,"class","material-icons-round"),k.disabled=x=!T[0],attr(k,"title","Rename item")},m(E,D){insert(E,k,D),append(k,$),I||(L=listen(k,"click",T[1]),I=!0)},p(E,[D]){D&1&&x!==(x=!E[0])&&(k.disabled=x)},i:noop$1,o:noop$1,d(E){E&&detach(k),I=!1,L()}}}function instance$2V(T,k,$){let x;component_subscribe(T,FileBrowserSelectedFilename,L=>$(0,x=L));function I(){showOverlay("renameItem","FileManager")}return[x,I]}class RenameButton extends SvelteComponent{constructor(k){super(),init(this,k,instance$2V,create_fragment$3b,safe_not_equal,{})}}var mimeTypes={};const require$$0={"application/1d-interleaved-parityfec":{source:"iana"},"application/3gpdash-qoe-report+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/3gpp-ims+xml":{source:"iana",compressible:!0},"application/3gpphal+json":{source:"iana",compressible:!0},"application/3gpphalforms+json":{source:"iana",compressible:!0},"application/a2l":{source:"iana"},"application/ace+cbor":{source:"iana"},"application/activemessage":{source:"iana"},"application/activity+json":{source:"iana",compressible:!0},"application/alto-costmap+json":{source:"iana",compressible:!0},"application/alto-costmapfilter+json":{source:"iana",compressible:!0},"application/alto-directory+json":{source:"iana",compressible:!0},"application/alto-endpointcost+json":{source:"iana",compressible:!0},"application/alto-endpointcostparams+json":{source:"iana",compressible:!0},"application/alto-endpointprop+json":{source:"iana",compressible:!0},"application/alto-endpointpropparams+json":{source:"iana",compressible:!0},"application/alto-error+json":{source:"iana",compressible:!0},"application/alto-networkmap+json":{source:"iana",compressible:!0},"application/alto-networkmapfilter+json":{source:"iana",compressible:!0},"application/alto-updatestreamcontrol+json":{source:"iana",compressible:!0},"application/alto-updatestreamparams+json":{source:"iana",compressible:!0},"application/aml":{source:"iana"},"application/andrew-inset":{source:"iana",extensions:["ez"]},"application/applefile":{source:"iana"},"application/applixware":{source:"apache",extensions:["aw"]},"application/at+jwt":{source:"iana"},"application/atf":{source:"iana"},"application/atfx":{source:"iana"},"application/atom+xml":{source:"iana",compressible:!0,extensions:["atom"]},"application/atomcat+xml":{source:"iana",compressible:!0,extensions:["atomcat"]},"application/atomdeleted+xml":{source:"iana",compressible:!0,extensions:["atomdeleted"]},"application/atomicmail":{source:"iana"},"application/atomsvc+xml":{source:"iana",compressible:!0,extensions:["atomsvc"]},"application/atsc-dwd+xml":{source:"iana",compressible:!0,extensions:["dwd"]},"application/atsc-dynamic-event-message":{source:"iana"},"application/atsc-held+xml":{source:"iana",compressible:!0,extensions:["held"]},"application/atsc-rdt+json":{source:"iana",compressible:!0},"application/atsc-rsat+xml":{source:"iana",compressible:!0,extensions:["rsat"]},"application/atxml":{source:"iana"},"application/auth-policy+xml":{source:"iana",compressible:!0},"application/bacnet-xdd+zip":{source:"iana",compressible:!1},"application/batch-smtp":{source:"iana"},"application/bdoc":{compressible:!1,extensions:["bdoc"]},"application/beep+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/calendar+json":{source:"iana",compressible:!0},"application/calendar+xml":{source:"iana",compressible:!0,extensions:["xcs"]},"application/call-completion":{source:"iana"},"application/cals-1840":{source:"iana"},"application/captive+json":{source:"iana",compressible:!0},"application/cbor":{source:"iana"},"application/cbor-seq":{source:"iana"},"application/cccex":{source:"iana"},"application/ccmp+xml":{source:"iana",compressible:!0},"application/ccxml+xml":{source:"iana",compressible:!0,extensions:["ccxml"]},"application/cdfx+xml":{source:"iana",compressible:!0,extensions:["cdfx"]},"application/cdmi-capability":{source:"iana",extensions:["cdmia"]},"application/cdmi-container":{source:"iana",extensions:["cdmic"]},"application/cdmi-domain":{source:"iana",extensions:["cdmid"]},"application/cdmi-object":{source:"iana",extensions:["cdmio"]},"application/cdmi-queue":{source:"iana",extensions:["cdmiq"]},"application/cdni":{source:"iana"},"application/cea":{source:"iana"},"application/cea-2018+xml":{source:"iana",compressible:!0},"application/cellml+xml":{source:"iana",compressible:!0},"application/cfw":{source:"iana"},"application/city+json":{source:"iana",compressible:!0},"application/clr":{source:"iana"},"application/clue+xml":{source:"iana",compressible:!0},"application/clue_info+xml":{source:"iana",compressible:!0},"application/cms":{source:"iana"},"application/cnrp+xml":{source:"iana",compressible:!0},"application/coap-group+json":{source:"iana",compressible:!0},"application/coap-payload":{source:"iana"},"application/commonground":{source:"iana"},"application/conference-info+xml":{source:"iana",compressible:!0},"application/cose":{source:"iana"},"application/cose-key":{source:"iana"},"application/cose-key-set":{source:"iana"},"application/cpl+xml":{source:"iana",compressible:!0,extensions:["cpl"]},"application/csrattrs":{source:"iana"},"application/csta+xml":{source:"iana",compressible:!0},"application/cstadata+xml":{source:"iana",compressible:!0},"application/csvm+json":{source:"iana",compressible:!0},"application/cu-seeme":{source:"apache",extensions:["cu"]},"application/cwt":{source:"iana"},"application/cybercash":{source:"iana"},"application/dart":{compressible:!0},"application/dash+xml":{source:"iana",compressible:!0,extensions:["mpd"]},"application/dash-patch+xml":{source:"iana",compressible:!0,extensions:["mpp"]},"application/dashdelta":{source:"iana"},"application/davmount+xml":{source:"iana",compressible:!0,extensions:["davmount"]},"application/dca-rft":{source:"iana"},"application/dcd":{source:"iana"},"application/dec-dx":{source:"iana"},"application/dialog-info+xml":{source:"iana",compressible:!0},"application/dicom":{source:"iana"},"application/dicom+json":{source:"iana",compressible:!0},"application/dicom+xml":{source:"iana",compressible:!0},"application/dii":{source:"iana"},"application/dit":{source:"iana"},"application/dns":{source:"iana"},"application/dns+json":{source:"iana",compressible:!0},"application/dns-message":{source:"iana"},"application/docbook+xml":{source:"apache",compressible:!0,extensions:["dbk"]},"application/dots+cbor":{source:"iana"},"application/dskpp+xml":{source:"iana",compressible:!0},"application/dssc+der":{source:"iana",extensions:["dssc"]},"application/dssc+xml":{source:"iana",compressible:!0,extensions:["xdssc"]},"application/dvcs":{source:"iana"},"application/ecmascript":{source:"iana",compressible:!0,extensions:["es","ecma"]},"application/edi-consent":{source:"iana"},"application/edi-x12":{source:"iana",compressible:!1},"application/edifact":{source:"iana",compressible:!1},"application/efi":{source:"iana"},"application/elm+json":{source:"iana",charset:"UTF-8",compressible:!0},"application/elm+xml":{source:"iana",compressible:!0},"application/emergencycalldata.cap+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/emergencycalldata.comment+xml":{source:"iana",compressible:!0},"application/emergencycalldata.control+xml":{source:"iana",compressible:!0},"application/emergencycalldata.deviceinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.ecall.msd":{source:"iana"},"application/emergencycalldata.providerinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.serviceinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.subscriberinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.veds+xml":{source:"iana",compressible:!0},"application/emma+xml":{source:"iana",compressible:!0,extensions:["emma"]},"application/emotionml+xml":{source:"iana",compressible:!0,extensions:["emotionml"]},"application/encaprtp":{source:"iana"},"application/epp+xml":{source:"iana",compressible:!0},"application/epub+zip":{source:"iana",compressible:!1,extensions:["epub"]},"application/eshop":{source:"iana"},"application/exi":{source:"iana",extensions:["exi"]},"application/expect-ct-report+json":{source:"iana",compressible:!0},"application/express":{source:"iana",extensions:["exp"]},"application/fastinfoset":{source:"iana"},"application/fastsoap":{source:"iana"},"application/fdt+xml":{source:"iana",compressible:!0,extensions:["fdt"]},"application/fhir+json":{source:"iana",charset:"UTF-8",compressible:!0},"application/fhir+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/fido.trusted-apps+json":{compressible:!0},"application/fits":{source:"iana"},"application/flexfec":{source:"iana"},"application/font-sfnt":{source:"iana"},"application/font-tdpfr":{source:"iana",extensions:["pfr"]},"application/font-woff":{source:"iana",compressible:!1},"application/framework-attributes+xml":{source:"iana",compressible:!0},"application/geo+json":{source:"iana",compressible:!0,extensions:["geojson"]},"application/geo+json-seq":{source:"iana"},"application/geopackage+sqlite3":{source:"iana"},"application/geoxacml+xml":{source:"iana",compressible:!0},"application/gltf-buffer":{source:"iana"},"application/gml+xml":{source:"iana",compressible:!0,extensions:["gml"]},"application/gpx+xml":{source:"apache",compressible:!0,extensions:["gpx"]},"application/gxf":{source:"apache",extensions:["gxf"]},"application/gzip":{source:"iana",compressible:!1,extensions:["gz"]},"application/h224":{source:"iana"},"application/held+xml":{source:"iana",compressible:!0},"application/hjson":{extensions:["hjson"]},"application/http":{source:"iana"},"application/hyperstudio":{source:"iana",extensions:["stk"]},"application/ibe-key-request+xml":{source:"iana",compressible:!0},"application/ibe-pkg-reply+xml":{source:"iana",compressible:!0},"application/ibe-pp-data":{source:"iana"},"application/iges":{source:"iana"},"application/im-iscomposing+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/index":{source:"iana"},"application/index.cmd":{source:"iana"},"application/index.obj":{source:"iana"},"application/index.response":{source:"iana"},"application/index.vnd":{source:"iana"},"application/inkml+xml":{source:"iana",compressible:!0,extensions:["ink","inkml"]},"application/iotp":{source:"iana"},"application/ipfix":{source:"iana",extensions:["ipfix"]},"application/ipp":{source:"iana"},"application/isup":{source:"iana"},"application/its+xml":{source:"iana",compressible:!0,extensions:["its"]},"application/java-archive":{source:"apache",compressible:!1,extensions:["jar","war","ear"]},"application/java-serialized-object":{source:"apache",compressible:!1,extensions:["ser"]},"application/java-vm":{source:"apache",compressible:!1,extensions:["class"]},"application/javascript":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["js","mjs"]},"application/jf2feed+json":{source:"iana",compressible:!0},"application/jose":{source:"iana"},"application/jose+json":{source:"iana",compressible:!0},"application/jrd+json":{source:"iana",compressible:!0},"application/jscalendar+json":{source:"iana",compressible:!0},"application/json":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["json","map"]},"application/json-patch+json":{source:"iana",compressible:!0},"application/json-seq":{source:"iana"},"application/json5":{extensions:["json5"]},"application/jsonml+json":{source:"apache",compressible:!0,extensions:["jsonml"]},"application/jwk+json":{source:"iana",compressible:!0},"application/jwk-set+json":{source:"iana",compressible:!0},"application/jwt":{source:"iana"},"application/kpml-request+xml":{source:"iana",compressible:!0},"application/kpml-response+xml":{source:"iana",compressible:!0},"application/ld+json":{source:"iana",compressible:!0,extensions:["jsonld"]},"application/lgr+xml":{source:"iana",compressible:!0,extensions:["lgr"]},"application/link-format":{source:"iana"},"application/load-control+xml":{source:"iana",compressible:!0},"application/lost+xml":{source:"iana",compressible:!0,extensions:["lostxml"]},"application/lostsync+xml":{source:"iana",compressible:!0},"application/lpf+zip":{source:"iana",compressible:!1},"application/lxf":{source:"iana"},"application/mac-binhex40":{source:"iana",extensions:["hqx"]},"application/mac-compactpro":{source:"apache",extensions:["cpt"]},"application/macwriteii":{source:"iana"},"application/mads+xml":{source:"iana",compressible:!0,extensions:["mads"]},"application/manifest+json":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["webmanifest"]},"application/marc":{source:"iana",extensions:["mrc"]},"application/marcxml+xml":{source:"iana",compressible:!0,extensions:["mrcx"]},"application/mathematica":{source:"iana",extensions:["ma","nb","mb"]},"application/mathml+xml":{source:"iana",compressible:!0,extensions:["mathml"]},"application/mathml-content+xml":{source:"iana",compressible:!0},"application/mathml-presentation+xml":{source:"iana",compressible:!0},"application/mbms-associated-procedure-description+xml":{source:"iana",compressible:!0},"application/mbms-deregister+xml":{source:"iana",compressible:!0},"application/mbms-envelope+xml":{source:"iana",compressible:!0},"application/mbms-msk+xml":{source:"iana",compressible:!0},"application/mbms-msk-response+xml":{source:"iana",compressible:!0},"application/mbms-protection-description+xml":{source:"iana",compressible:!0},"application/mbms-reception-report+xml":{source:"iana",compressible:!0},"application/mbms-register+xml":{source:"iana",compressible:!0},"application/mbms-register-response+xml":{source:"iana",compressible:!0},"application/mbms-schedule+xml":{source:"iana",compressible:!0},"application/mbms-user-service-description+xml":{source:"iana",compressible:!0},"application/mbox":{source:"iana",extensions:["mbox"]},"application/media-policy-dataset+xml":{source:"iana",compressible:!0,extensions:["mpf"]},"application/media_control+xml":{source:"iana",compressible:!0},"application/mediaservercontrol+xml":{source:"iana",compressible:!0,extensions:["mscml"]},"application/merge-patch+json":{source:"iana",compressible:!0},"application/metalink+xml":{source:"apache",compressible:!0,extensions:["metalink"]},"application/metalink4+xml":{source:"iana",compressible:!0,extensions:["meta4"]},"application/mets+xml":{source:"iana",compressible:!0,extensions:["mets"]},"application/mf4":{source:"iana"},"application/mikey":{source:"iana"},"application/mipc":{source:"iana"},"application/missing-blocks+cbor-seq":{source:"iana"},"application/mmt-aei+xml":{source:"iana",compressible:!0,extensions:["maei"]},"application/mmt-usd+xml":{source:"iana",compressible:!0,extensions:["musd"]},"application/mods+xml":{source:"iana",compressible:!0,extensions:["mods"]},"application/moss-keys":{source:"iana"},"application/moss-signature":{source:"iana"},"application/mosskey-data":{source:"iana"},"application/mosskey-request":{source:"iana"},"application/mp21":{source:"iana",extensions:["m21","mp21"]},"application/mp4":{source:"iana",extensions:["mp4s","m4p"]},"application/mpeg4-generic":{source:"iana"},"application/mpeg4-iod":{source:"iana"},"application/mpeg4-iod-xmt":{source:"iana"},"application/mrb-consumer+xml":{source:"iana",compressible:!0},"application/mrb-publish+xml":{source:"iana",compressible:!0},"application/msc-ivr+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/msc-mixer+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/msword":{source:"iana",compressible:!1,extensions:["doc","dot"]},"application/mud+json":{source:"iana",compressible:!0},"application/multipart-core":{source:"iana"},"application/mxf":{source:"iana",extensions:["mxf"]},"application/n-quads":{source:"iana",extensions:["nq"]},"application/n-triples":{source:"iana",extensions:["nt"]},"application/nasdata":{source:"iana"},"application/news-checkgroups":{source:"iana",charset:"US-ASCII"},"application/news-groupinfo":{source:"iana",charset:"US-ASCII"},"application/news-transmission":{source:"iana"},"application/nlsml+xml":{source:"iana",compressible:!0},"application/node":{source:"iana",extensions:["cjs"]},"application/nss":{source:"iana"},"application/oauth-authz-req+jwt":{source:"iana"},"application/oblivious-dns-message":{source:"iana"},"application/ocsp-request":{source:"iana"},"application/ocsp-response":{source:"iana"},"application/octet-stream":{source:"iana",compressible:!1,extensions:["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"]},"application/oda":{source:"iana",extensions:["oda"]},"application/odm+xml":{source:"iana",compressible:!0},"application/odx":{source:"iana"},"application/oebps-package+xml":{source:"iana",compressible:!0,extensions:["opf"]},"application/ogg":{source:"iana",compressible:!1,extensions:["ogx"]},"application/omdoc+xml":{source:"apache",compressible:!0,extensions:["omdoc"]},"application/onenote":{source:"apache",extensions:["onetoc","onetoc2","onetmp","onepkg"]},"application/opc-nodeset+xml":{source:"iana",compressible:!0},"application/oscore":{source:"iana"},"application/oxps":{source:"iana",extensions:["oxps"]},"application/p21":{source:"iana"},"application/p21+zip":{source:"iana",compressible:!1},"application/p2p-overlay+xml":{source:"iana",compressible:!0,extensions:["relo"]},"application/parityfec":{source:"iana"},"application/passport":{source:"iana"},"application/patch-ops-error+xml":{source:"iana",compressible:!0,extensions:["xer"]},"application/pdf":{source:"iana",compressible:!1,extensions:["pdf"]},"application/pdx":{source:"iana"},"application/pem-certificate-chain":{source:"iana"},"application/pgp-encrypted":{source:"iana",compressible:!1,extensions:["pgp"]},"application/pgp-keys":{source:"iana",extensions:["asc"]},"application/pgp-signature":{source:"iana",extensions:["asc","sig"]},"application/pics-rules":{source:"apache",extensions:["prf"]},"application/pidf+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/pidf-diff+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/pkcs10":{source:"iana",extensions:["p10"]},"application/pkcs12":{source:"iana"},"application/pkcs7-mime":{source:"iana",extensions:["p7m","p7c"]},"application/pkcs7-signature":{source:"iana",extensions:["p7s"]},"application/pkcs8":{source:"iana",extensions:["p8"]},"application/pkcs8-encrypted":{source:"iana"},"application/pkix-attr-cert":{source:"iana",extensions:["ac"]},"application/pkix-cert":{source:"iana",extensions:["cer"]},"application/pkix-crl":{source:"iana",extensions:["crl"]},"application/pkix-pkipath":{source:"iana",extensions:["pkipath"]},"application/pkixcmp":{source:"iana",extensions:["pki"]},"application/pls+xml":{source:"iana",compressible:!0,extensions:["pls"]},"application/poc-settings+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/postscript":{source:"iana",compressible:!0,extensions:["ai","eps","ps"]},"application/ppsp-tracker+json":{source:"iana",compressible:!0},"application/problem+json":{source:"iana",compressible:!0},"application/problem+xml":{source:"iana",compressible:!0},"application/provenance+xml":{source:"iana",compressible:!0,extensions:["provx"]},"application/prs.alvestrand.titrax-sheet":{source:"iana"},"application/prs.cww":{source:"iana",extensions:["cww"]},"application/prs.cyn":{source:"iana",charset:"7-BIT"},"application/prs.hpub+zip":{source:"iana",compressible:!1},"application/prs.nprend":{source:"iana"},"application/prs.plucker":{source:"iana"},"application/prs.rdf-xml-crypt":{source:"iana"},"application/prs.xsf+xml":{source:"iana",compressible:!0},"application/pskc+xml":{source:"iana",compressible:!0,extensions:["pskcxml"]},"application/pvd+json":{source:"iana",compressible:!0},"application/qsig":{source:"iana"},"application/raml+yaml":{compressible:!0,extensions:["raml"]},"application/raptorfec":{source:"iana"},"application/rdap+json":{source:"iana",compressible:!0},"application/rdf+xml":{source:"iana",compressible:!0,extensions:["rdf","owl"]},"application/reginfo+xml":{source:"iana",compressible:!0,extensions:["rif"]},"application/relax-ng-compact-syntax":{source:"iana",extensions:["rnc"]},"application/remote-printing":{source:"iana"},"application/reputon+json":{source:"iana",compressible:!0},"application/resource-lists+xml":{source:"iana",compressible:!0,extensions:["rl"]},"application/resource-lists-diff+xml":{source:"iana",compressible:!0,extensions:["rld"]},"application/rfc+xml":{source:"iana",compressible:!0},"application/riscos":{source:"iana"},"application/rlmi+xml":{source:"iana",compressible:!0},"application/rls-services+xml":{source:"iana",compressible:!0,extensions:["rs"]},"application/route-apd+xml":{source:"iana",compressible:!0,extensions:["rapd"]},"application/route-s-tsid+xml":{source:"iana",compressible:!0,extensions:["sls"]},"application/route-usd+xml":{source:"iana",compressible:!0,extensions:["rusd"]},"application/rpki-ghostbusters":{source:"iana",extensions:["gbr"]},"application/rpki-manifest":{source:"iana",extensions:["mft"]},"application/rpki-publication":{source:"iana"},"application/rpki-roa":{source:"iana",extensions:["roa"]},"application/rpki-updown":{source:"iana"},"application/rsd+xml":{source:"apache",compressible:!0,extensions:["rsd"]},"application/rss+xml":{source:"apache",compressible:!0,extensions:["rss"]},"application/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"application/rtploopback":{source:"iana"},"application/rtx":{source:"iana"},"application/samlassertion+xml":{source:"iana",compressible:!0},"application/samlmetadata+xml":{source:"iana",compressible:!0},"application/sarif+json":{source:"iana",compressible:!0},"application/sarif-external-properties+json":{source:"iana",compressible:!0},"application/sbe":{source:"iana"},"application/sbml+xml":{source:"iana",compressible:!0,extensions:["sbml"]},"application/scaip+xml":{source:"iana",compressible:!0},"application/scim+json":{source:"iana",compressible:!0},"application/scvp-cv-request":{source:"iana",extensions:["scq"]},"application/scvp-cv-response":{source:"iana",extensions:["scs"]},"application/scvp-vp-request":{source:"iana",extensions:["spq"]},"application/scvp-vp-response":{source:"iana",extensions:["spp"]},"application/sdp":{source:"iana",extensions:["sdp"]},"application/secevent+jwt":{source:"iana"},"application/senml+cbor":{source:"iana"},"application/senml+json":{source:"iana",compressible:!0},"application/senml+xml":{source:"iana",compressible:!0,extensions:["senmlx"]},"application/senml-etch+cbor":{source:"iana"},"application/senml-etch+json":{source:"iana",compressible:!0},"application/senml-exi":{source:"iana"},"application/sensml+cbor":{source:"iana"},"application/sensml+json":{source:"iana",compressible:!0},"application/sensml+xml":{source:"iana",compressible:!0,extensions:["sensmlx"]},"application/sensml-exi":{source:"iana"},"application/sep+xml":{source:"iana",compressible:!0},"application/sep-exi":{source:"iana"},"application/session-info":{source:"iana"},"application/set-payment":{source:"iana"},"application/set-payment-initiation":{source:"iana",extensions:["setpay"]},"application/set-registration":{source:"iana"},"application/set-registration-initiation":{source:"iana",extensions:["setreg"]},"application/sgml":{source:"iana"},"application/sgml-open-catalog":{source:"iana"},"application/shf+xml":{source:"iana",compressible:!0,extensions:["shf"]},"application/sieve":{source:"iana",extensions:["siv","sieve"]},"application/simple-filter+xml":{source:"iana",compressible:!0},"application/simple-message-summary":{source:"iana"},"application/simplesymbolcontainer":{source:"iana"},"application/sipc":{source:"iana"},"application/slate":{source:"iana"},"application/smil":{source:"iana"},"application/smil+xml":{source:"iana",compressible:!0,extensions:["smi","smil"]},"application/smpte336m":{source:"iana"},"application/soap+fastinfoset":{source:"iana"},"application/soap+xml":{source:"iana",compressible:!0},"application/sparql-query":{source:"iana",extensions:["rq"]},"application/sparql-results+xml":{source:"iana",compressible:!0,extensions:["srx"]},"application/spdx+json":{source:"iana",compressible:!0},"application/spirits-event+xml":{source:"iana",compressible:!0},"application/sql":{source:"iana"},"application/srgs":{source:"iana",extensions:["gram"]},"application/srgs+xml":{source:"iana",compressible:!0,extensions:["grxml"]},"application/sru+xml":{source:"iana",compressible:!0,extensions:["sru"]},"application/ssdl+xml":{source:"apache",compressible:!0,extensions:["ssdl"]},"application/ssml+xml":{source:"iana",compressible:!0,extensions:["ssml"]},"application/stix+json":{source:"iana",compressible:!0},"application/swid+xml":{source:"iana",compressible:!0,extensions:["swidtag"]},"application/tamp-apex-update":{source:"iana"},"application/tamp-apex-update-confirm":{source:"iana"},"application/tamp-community-update":{source:"iana"},"application/tamp-community-update-confirm":{source:"iana"},"application/tamp-error":{source:"iana"},"application/tamp-sequence-adjust":{source:"iana"},"application/tamp-sequence-adjust-confirm":{source:"iana"},"application/tamp-status-query":{source:"iana"},"application/tamp-status-response":{source:"iana"},"application/tamp-update":{source:"iana"},"application/tamp-update-confirm":{source:"iana"},"application/tar":{compressible:!0},"application/taxii+json":{source:"iana",compressible:!0},"application/td+json":{source:"iana",compressible:!0},"application/tei+xml":{source:"iana",compressible:!0,extensions:["tei","teicorpus"]},"application/tetra_isi":{source:"iana"},"application/thraud+xml":{source:"iana",compressible:!0,extensions:["tfi"]},"application/timestamp-query":{source:"iana"},"application/timestamp-reply":{source:"iana"},"application/timestamped-data":{source:"iana",extensions:["tsd"]},"application/tlsrpt+gzip":{source:"iana"},"application/tlsrpt+json":{source:"iana",compressible:!0},"application/tnauthlist":{source:"iana"},"application/token-introspection+jwt":{source:"iana"},"application/toml":{compressible:!0,extensions:["toml"]},"application/trickle-ice-sdpfrag":{source:"iana"},"application/trig":{source:"iana",extensions:["trig"]},"application/ttml+xml":{source:"iana",compressible:!0,extensions:["ttml"]},"application/tve-trigger":{source:"iana"},"application/tzif":{source:"iana"},"application/tzif-leap":{source:"iana"},"application/ubjson":{compressible:!1,extensions:["ubj"]},"application/ulpfec":{source:"iana"},"application/urc-grpsheet+xml":{source:"iana",compressible:!0},"application/urc-ressheet+xml":{source:"iana",compressible:!0,extensions:["rsheet"]},"application/urc-targetdesc+xml":{source:"iana",compressible:!0,extensions:["td"]},"application/urc-uisocketdesc+xml":{source:"iana",compressible:!0},"application/vcard+json":{source:"iana",compressible:!0},"application/vcard+xml":{source:"iana",compressible:!0},"application/vemmi":{source:"iana"},"application/vividence.scriptfile":{source:"apache"},"application/vnd.1000minds.decision-model+xml":{source:"iana",compressible:!0,extensions:["1km"]},"application/vnd.3gpp-prose+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-prose-pc3ch+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-v2x-local-service-information":{source:"iana"},"application/vnd.3gpp.5gnas":{source:"iana"},"application/vnd.3gpp.access-transfer-events+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.bsf+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.gmop+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.gtpc":{source:"iana"},"application/vnd.3gpp.interworking-data":{source:"iana"},"application/vnd.3gpp.lpp":{source:"iana"},"application/vnd.3gpp.mc-signalling-ear":{source:"iana"},"application/vnd.3gpp.mcdata-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-payload":{source:"iana"},"application/vnd.3gpp.mcdata-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-signalling":{source:"iana"},"application/vnd.3gpp.mcdata-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-floor-request+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-location-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-mbms-usage-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-signed+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-ue-init-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-affiliation-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-location-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-mbms-usage-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-transmission-request+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mid-call+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.ngap":{source:"iana"},"application/vnd.3gpp.pfcp":{source:"iana"},"application/vnd.3gpp.pic-bw-large":{source:"iana",extensions:["plb"]},"application/vnd.3gpp.pic-bw-small":{source:"iana",extensions:["psb"]},"application/vnd.3gpp.pic-bw-var":{source:"iana",extensions:["pvb"]},"application/vnd.3gpp.s1ap":{source:"iana"},"application/vnd.3gpp.sms":{source:"iana"},"application/vnd.3gpp.sms+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.srvcc-ext+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.srvcc-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.state-and-event-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.ussd+xml":{source:"iana",compressible:!0},"application/vnd.3gpp2.bcmcsinfo+xml":{source:"iana",compressible:!0},"application/vnd.3gpp2.sms":{source:"iana"},"application/vnd.3gpp2.tcap":{source:"iana",extensions:["tcap"]},"application/vnd.3lightssoftware.imagescal":{source:"iana"},"application/vnd.3m.post-it-notes":{source:"iana",extensions:["pwn"]},"application/vnd.accpac.simply.aso":{source:"iana",extensions:["aso"]},"application/vnd.accpac.simply.imp":{source:"iana",extensions:["imp"]},"application/vnd.acucobol":{source:"iana",extensions:["acu"]},"application/vnd.acucorp":{source:"iana",extensions:["atc","acutc"]},"application/vnd.adobe.air-application-installer-package+zip":{source:"apache",compressible:!1,extensions:["air"]},"application/vnd.adobe.flash.movie":{source:"iana"},"application/vnd.adobe.formscentral.fcdt":{source:"iana",extensions:["fcdt"]},"application/vnd.adobe.fxp":{source:"iana",extensions:["fxp","fxpl"]},"application/vnd.adobe.partial-upload":{source:"iana"},"application/vnd.adobe.xdp+xml":{source:"iana",compressible:!0,extensions:["xdp"]},"application/vnd.adobe.xfdf":{source:"iana",extensions:["xfdf"]},"application/vnd.aether.imp":{source:"iana"},"application/vnd.afpc.afplinedata":{source:"iana"},"application/vnd.afpc.afplinedata-pagedef":{source:"iana"},"application/vnd.afpc.cmoca-cmresource":{source:"iana"},"application/vnd.afpc.foca-charset":{source:"iana"},"application/vnd.afpc.foca-codedfont":{source:"iana"},"application/vnd.afpc.foca-codepage":{source:"iana"},"application/vnd.afpc.modca":{source:"iana"},"application/vnd.afpc.modca-cmtable":{source:"iana"},"application/vnd.afpc.modca-formdef":{source:"iana"},"application/vnd.afpc.modca-mediummap":{source:"iana"},"application/vnd.afpc.modca-objectcontainer":{source:"iana"},"application/vnd.afpc.modca-overlay":{source:"iana"},"application/vnd.afpc.modca-pagesegment":{source:"iana"},"application/vnd.age":{source:"iana",extensions:["age"]},"application/vnd.ah-barcode":{source:"iana"},"application/vnd.ahead.space":{source:"iana",extensions:["ahead"]},"application/vnd.airzip.filesecure.azf":{source:"iana",extensions:["azf"]},"application/vnd.airzip.filesecure.azs":{source:"iana",extensions:["azs"]},"application/vnd.amadeus+json":{source:"iana",compressible:!0},"application/vnd.amazon.ebook":{source:"apache",extensions:["azw"]},"application/vnd.amazon.mobi8-ebook":{source:"iana"},"application/vnd.americandynamics.acc":{source:"iana",extensions:["acc"]},"application/vnd.amiga.ami":{source:"iana",extensions:["ami"]},"application/vnd.amundsen.maze+xml":{source:"iana",compressible:!0},"application/vnd.android.ota":{source:"iana"},"application/vnd.android.package-archive":{source:"apache",compressible:!1,extensions:["apk"]},"application/vnd.anki":{source:"iana"},"application/vnd.anser-web-certificate-issue-initiation":{source:"iana",extensions:["cii"]},"application/vnd.anser-web-funds-transfer-initiation":{source:"apache",extensions:["fti"]},"application/vnd.antix.game-component":{source:"iana",extensions:["atx"]},"application/vnd.apache.arrow.file":{source:"iana"},"application/vnd.apache.arrow.stream":{source:"iana"},"application/vnd.apache.thrift.binary":{source:"iana"},"application/vnd.apache.thrift.compact":{source:"iana"},"application/vnd.apache.thrift.json":{source:"iana"},"application/vnd.api+json":{source:"iana",compressible:!0},"application/vnd.aplextor.warrp+json":{source:"iana",compressible:!0},"application/vnd.apothekende.reservation+json":{source:"iana",compressible:!0},"application/vnd.apple.installer+xml":{source:"iana",compressible:!0,extensions:["mpkg"]},"application/vnd.apple.keynote":{source:"iana",extensions:["key"]},"application/vnd.apple.mpegurl":{source:"iana",extensions:["m3u8"]},"application/vnd.apple.numbers":{source:"iana",extensions:["numbers"]},"application/vnd.apple.pages":{source:"iana",extensions:["pages"]},"application/vnd.apple.pkpass":{compressible:!1,extensions:["pkpass"]},"application/vnd.arastra.swi":{source:"iana"},"application/vnd.aristanetworks.swi":{source:"iana",extensions:["swi"]},"application/vnd.artisan+json":{source:"iana",compressible:!0},"application/vnd.artsquare":{source:"iana"},"application/vnd.astraea-software.iota":{source:"iana",extensions:["iota"]},"application/vnd.audiograph":{source:"iana",extensions:["aep"]},"application/vnd.autopackage":{source:"iana"},"application/vnd.avalon+json":{source:"iana",compressible:!0},"application/vnd.avistar+xml":{source:"iana",compressible:!0},"application/vnd.balsamiq.bmml+xml":{source:"iana",compressible:!0,extensions:["bmml"]},"application/vnd.balsamiq.bmpr":{source:"iana"},"application/vnd.banana-accounting":{source:"iana"},"application/vnd.bbf.usp.error":{source:"iana"},"application/vnd.bbf.usp.msg":{source:"iana"},"application/vnd.bbf.usp.msg+json":{source:"iana",compressible:!0},"application/vnd.bekitzur-stech+json":{source:"iana",compressible:!0},"application/vnd.bint.med-content":{source:"iana"},"application/vnd.biopax.rdf+xml":{source:"iana",compressible:!0},"application/vnd.blink-idb-value-wrapper":{source:"iana"},"application/vnd.blueice.multipass":{source:"iana",extensions:["mpm"]},"application/vnd.bluetooth.ep.oob":{source:"iana"},"application/vnd.bluetooth.le.oob":{source:"iana"},"application/vnd.bmi":{source:"iana",extensions:["bmi"]},"application/vnd.bpf":{source:"iana"},"application/vnd.bpf3":{source:"iana"},"application/vnd.businessobjects":{source:"iana",extensions:["rep"]},"application/vnd.byu.uapi+json":{source:"iana",compressible:!0},"application/vnd.cab-jscript":{source:"iana"},"application/vnd.canon-cpdl":{source:"iana"},"application/vnd.canon-lips":{source:"iana"},"application/vnd.capasystems-pg+json":{source:"iana",compressible:!0},"application/vnd.cendio.thinlinc.clientconf":{source:"iana"},"application/vnd.century-systems.tcp_stream":{source:"iana"},"application/vnd.chemdraw+xml":{source:"iana",compressible:!0,extensions:["cdxml"]},"application/vnd.chess-pgn":{source:"iana"},"application/vnd.chipnuts.karaoke-mmd":{source:"iana",extensions:["mmd"]},"application/vnd.ciedi":{source:"iana"},"application/vnd.cinderella":{source:"iana",extensions:["cdy"]},"application/vnd.cirpack.isdn-ext":{source:"iana"},"application/vnd.citationstyles.style+xml":{source:"iana",compressible:!0,extensions:["csl"]},"application/vnd.claymore":{source:"iana",extensions:["cla"]},"application/vnd.cloanto.rp9":{source:"iana",extensions:["rp9"]},"application/vnd.clonk.c4group":{source:"iana",extensions:["c4g","c4d","c4f","c4p","c4u"]},"application/vnd.cluetrust.cartomobile-config":{source:"iana",extensions:["c11amc"]},"application/vnd.cluetrust.cartomobile-config-pkg":{source:"iana",extensions:["c11amz"]},"application/vnd.coffeescript":{source:"iana"},"application/vnd.collabio.xodocuments.document":{source:"iana"},"application/vnd.collabio.xodocuments.document-template":{source:"iana"},"application/vnd.collabio.xodocuments.presentation":{source:"iana"},"application/vnd.collabio.xodocuments.presentation-template":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet-template":{source:"iana"},"application/vnd.collection+json":{source:"iana",compressible:!0},"application/vnd.collection.doc+json":{source:"iana",compressible:!0},"application/vnd.collection.next+json":{source:"iana",compressible:!0},"application/vnd.comicbook+zip":{source:"iana",compressible:!1},"application/vnd.comicbook-rar":{source:"iana"},"application/vnd.commerce-battelle":{source:"iana"},"application/vnd.commonspace":{source:"iana",extensions:["csp"]},"application/vnd.contact.cmsg":{source:"iana",extensions:["cdbcmsg"]},"application/vnd.coreos.ignition+json":{source:"iana",compressible:!0},"application/vnd.cosmocaller":{source:"iana",extensions:["cmc"]},"application/vnd.crick.clicker":{source:"iana",extensions:["clkx"]},"application/vnd.crick.clicker.keyboard":{source:"iana",extensions:["clkk"]},"application/vnd.crick.clicker.palette":{source:"iana",extensions:["clkp"]},"application/vnd.crick.clicker.template":{source:"iana",extensions:["clkt"]},"application/vnd.crick.clicker.wordbank":{source:"iana",extensions:["clkw"]},"application/vnd.criticaltools.wbs+xml":{source:"iana",compressible:!0,extensions:["wbs"]},"application/vnd.cryptii.pipe+json":{source:"iana",compressible:!0},"application/vnd.crypto-shade-file":{source:"iana"},"application/vnd.cryptomator.encrypted":{source:"iana"},"application/vnd.cryptomator.vault":{source:"iana"},"application/vnd.ctc-posml":{source:"iana",extensions:["pml"]},"application/vnd.ctct.ws+xml":{source:"iana",compressible:!0},"application/vnd.cups-pdf":{source:"iana"},"application/vnd.cups-postscript":{source:"iana"},"application/vnd.cups-ppd":{source:"iana",extensions:["ppd"]},"application/vnd.cups-raster":{source:"iana"},"application/vnd.cups-raw":{source:"iana"},"application/vnd.curl":{source:"iana"},"application/vnd.curl.car":{source:"apache",extensions:["car"]},"application/vnd.curl.pcurl":{source:"apache",extensions:["pcurl"]},"application/vnd.cyan.dean.root+xml":{source:"iana",compressible:!0},"application/vnd.cybank":{source:"iana"},"application/vnd.cyclonedx+json":{source:"iana",compressible:!0},"application/vnd.cyclonedx+xml":{source:"iana",compressible:!0},"application/vnd.d2l.coursepackage1p0+zip":{source:"iana",compressible:!1},"application/vnd.d3m-dataset":{source:"iana"},"application/vnd.d3m-problem":{source:"iana"},"application/vnd.dart":{source:"iana",compressible:!0,extensions:["dart"]},"application/vnd.data-vision.rdz":{source:"iana",extensions:["rdz"]},"application/vnd.datapackage+json":{source:"iana",compressible:!0},"application/vnd.dataresource+json":{source:"iana",compressible:!0},"application/vnd.dbf":{source:"iana",extensions:["dbf"]},"application/vnd.debian.binary-package":{source:"iana"},"application/vnd.dece.data":{source:"iana",extensions:["uvf","uvvf","uvd","uvvd"]},"application/vnd.dece.ttml+xml":{source:"iana",compressible:!0,extensions:["uvt","uvvt"]},"application/vnd.dece.unspecified":{source:"iana",extensions:["uvx","uvvx"]},"application/vnd.dece.zip":{source:"iana",extensions:["uvz","uvvz"]},"application/vnd.denovo.fcselayout-link":{source:"iana",extensions:["fe_launch"]},"application/vnd.desmume.movie":{source:"iana"},"application/vnd.dir-bi.plate-dl-nosuffix":{source:"iana"},"application/vnd.dm.delegation+xml":{source:"iana",compressible:!0},"application/vnd.dna":{source:"iana",extensions:["dna"]},"application/vnd.document+json":{source:"iana",compressible:!0},"application/vnd.dolby.mlp":{source:"apache",extensions:["mlp"]},"application/vnd.dolby.mobile.1":{source:"iana"},"application/vnd.dolby.mobile.2":{source:"iana"},"application/vnd.doremir.scorecloud-binary-document":{source:"iana"},"application/vnd.dpgraph":{source:"iana",extensions:["dpg"]},"application/vnd.dreamfactory":{source:"iana",extensions:["dfac"]},"application/vnd.drive+json":{source:"iana",compressible:!0},"application/vnd.ds-keypoint":{source:"apache",extensions:["kpxx"]},"application/vnd.dtg.local":{source:"iana"},"application/vnd.dtg.local.flash":{source:"iana"},"application/vnd.dtg.local.html":{source:"iana"},"application/vnd.dvb.ait":{source:"iana",extensions:["ait"]},"application/vnd.dvb.dvbisl+xml":{source:"iana",compressible:!0},"application/vnd.dvb.dvbj":{source:"iana"},"application/vnd.dvb.esgcontainer":{source:"iana"},"application/vnd.dvb.ipdcdftnotifaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess2":{source:"iana"},"application/vnd.dvb.ipdcesgpdd":{source:"iana"},"application/vnd.dvb.ipdcroaming":{source:"iana"},"application/vnd.dvb.iptv.alfec-base":{source:"iana"},"application/vnd.dvb.iptv.alfec-enhancement":{source:"iana"},"application/vnd.dvb.notif-aggregate-root+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-container+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-generic+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-msglist+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-registration-request+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-registration-response+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-init+xml":{source:"iana",compressible:!0},"application/vnd.dvb.pfr":{source:"iana"},"application/vnd.dvb.service":{source:"iana",extensions:["svc"]},"application/vnd.dxr":{source:"iana"},"application/vnd.dynageo":{source:"iana",extensions:["geo"]},"application/vnd.dzr":{source:"iana"},"application/vnd.easykaraoke.cdgdownload":{source:"iana"},"application/vnd.ecdis-update":{source:"iana"},"application/vnd.ecip.rlp":{source:"iana"},"application/vnd.eclipse.ditto+json":{source:"iana",compressible:!0},"application/vnd.ecowin.chart":{source:"iana",extensions:["mag"]},"application/vnd.ecowin.filerequest":{source:"iana"},"application/vnd.ecowin.fileupdate":{source:"iana"},"application/vnd.ecowin.series":{source:"iana"},"application/vnd.ecowin.seriesrequest":{source:"iana"},"application/vnd.ecowin.seriesupdate":{source:"iana"},"application/vnd.efi.img":{source:"iana"},"application/vnd.efi.iso":{source:"iana"},"application/vnd.emclient.accessrequest+xml":{source:"iana",compressible:!0},"application/vnd.enliven":{source:"iana",extensions:["nml"]},"application/vnd.enphase.envoy":{source:"iana"},"application/vnd.eprints.data+xml":{source:"iana",compressible:!0},"application/vnd.epson.esf":{source:"iana",extensions:["esf"]},"application/vnd.epson.msf":{source:"iana",extensions:["msf"]},"application/vnd.epson.quickanime":{source:"iana",extensions:["qam"]},"application/vnd.epson.salt":{source:"iana",extensions:["slt"]},"application/vnd.epson.ssf":{source:"iana",extensions:["ssf"]},"application/vnd.ericsson.quickcall":{source:"iana"},"application/vnd.espass-espass+zip":{source:"iana",compressible:!1},"application/vnd.eszigno3+xml":{source:"iana",compressible:!0,extensions:["es3","et3"]},"application/vnd.etsi.aoc+xml":{source:"iana",compressible:!0},"application/vnd.etsi.asic-e+zip":{source:"iana",compressible:!1},"application/vnd.etsi.asic-s+zip":{source:"iana",compressible:!1},"application/vnd.etsi.cug+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvcommand+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvdiscovery+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvprofile+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-bc+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-cod+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-npvr+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvservice+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsync+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvueprofile+xml":{source:"iana",compressible:!0},"application/vnd.etsi.mcid+xml":{source:"iana",compressible:!0},"application/vnd.etsi.mheg5":{source:"iana"},"application/vnd.etsi.overload-control-policy-dataset+xml":{source:"iana",compressible:!0},"application/vnd.etsi.pstn+xml":{source:"iana",compressible:!0},"application/vnd.etsi.sci+xml":{source:"iana",compressible:!0},"application/vnd.etsi.simservs+xml":{source:"iana",compressible:!0},"application/vnd.etsi.timestamp-token":{source:"iana"},"application/vnd.etsi.tsl+xml":{source:"iana",compressible:!0},"application/vnd.etsi.tsl.der":{source:"iana"},"application/vnd.eu.kasparian.car+json":{source:"iana",compressible:!0},"application/vnd.eudora.data":{source:"iana"},"application/vnd.evolv.ecig.profile":{source:"iana"},"application/vnd.evolv.ecig.settings":{source:"iana"},"application/vnd.evolv.ecig.theme":{source:"iana"},"application/vnd.exstream-empower+zip":{source:"iana",compressible:!1},"application/vnd.exstream-package":{source:"iana"},"application/vnd.ezpix-album":{source:"iana",extensions:["ez2"]},"application/vnd.ezpix-package":{source:"iana",extensions:["ez3"]},"application/vnd.f-secure.mobile":{source:"iana"},"application/vnd.familysearch.gedcom+zip":{source:"iana",compressible:!1},"application/vnd.fastcopy-disk-image":{source:"iana"},"application/vnd.fdf":{source:"iana",extensions:["fdf"]},"application/vnd.fdsn.mseed":{source:"iana",extensions:["mseed"]},"application/vnd.fdsn.seed":{source:"iana",extensions:["seed","dataless"]},"application/vnd.ffsns":{source:"iana"},"application/vnd.ficlab.flb+zip":{source:"iana",compressible:!1},"application/vnd.filmit.zfc":{source:"iana"},"application/vnd.fints":{source:"iana"},"application/vnd.firemonkeys.cloudcell":{source:"iana"},"application/vnd.flographit":{source:"iana",extensions:["gph"]},"application/vnd.fluxtime.clip":{source:"iana",extensions:["ftc"]},"application/vnd.font-fontforge-sfd":{source:"iana"},"application/vnd.framemaker":{source:"iana",extensions:["fm","frame","maker","book"]},"application/vnd.frogans.fnc":{source:"iana",extensions:["fnc"]},"application/vnd.frogans.ltf":{source:"iana",extensions:["ltf"]},"application/vnd.fsc.weblaunch":{source:"iana",extensions:["fsc"]},"application/vnd.fujifilm.fb.docuworks":{source:"iana"},"application/vnd.fujifilm.fb.docuworks.binder":{source:"iana"},"application/vnd.fujifilm.fb.docuworks.container":{source:"iana"},"application/vnd.fujifilm.fb.jfi+xml":{source:"iana",compressible:!0},"application/vnd.fujitsu.oasys":{source:"iana",extensions:["oas"]},"application/vnd.fujitsu.oasys2":{source:"iana",extensions:["oa2"]},"application/vnd.fujitsu.oasys3":{source:"iana",extensions:["oa3"]},"application/vnd.fujitsu.oasysgp":{source:"iana",extensions:["fg5"]},"application/vnd.fujitsu.oasysprs":{source:"iana",extensions:["bh2"]},"application/vnd.fujixerox.art-ex":{source:"iana"},"application/vnd.fujixerox.art4":{source:"iana"},"application/vnd.fujixerox.ddd":{source:"iana",extensions:["ddd"]},"application/vnd.fujixerox.docuworks":{source:"iana",extensions:["xdw"]},"application/vnd.fujixerox.docuworks.binder":{source:"iana",extensions:["xbd"]},"application/vnd.fujixerox.docuworks.container":{source:"iana"},"application/vnd.fujixerox.hbpl":{source:"iana"},"application/vnd.fut-misnet":{source:"iana"},"application/vnd.futoin+cbor":{source:"iana"},"application/vnd.futoin+json":{source:"iana",compressible:!0},"application/vnd.fuzzysheet":{source:"iana",extensions:["fzs"]},"application/vnd.genomatix.tuxedo":{source:"iana",extensions:["txd"]},"application/vnd.gentics.grd+json":{source:"iana",compressible:!0},"application/vnd.geo+json":{source:"iana",compressible:!0},"application/vnd.geocube+xml":{source:"iana",compressible:!0},"application/vnd.geogebra.file":{source:"iana",extensions:["ggb"]},"application/vnd.geogebra.slides":{source:"iana"},"application/vnd.geogebra.tool":{source:"iana",extensions:["ggt"]},"application/vnd.geometry-explorer":{source:"iana",extensions:["gex","gre"]},"application/vnd.geonext":{source:"iana",extensions:["gxt"]},"application/vnd.geoplan":{source:"iana",extensions:["g2w"]},"application/vnd.geospace":{source:"iana",extensions:["g3w"]},"application/vnd.gerber":{source:"iana"},"application/vnd.globalplatform.card-content-mgt":{source:"iana"},"application/vnd.globalplatform.card-content-mgt-response":{source:"iana"},"application/vnd.gmx":{source:"iana",extensions:["gmx"]},"application/vnd.google-apps.document":{compressible:!1,extensions:["gdoc"]},"application/vnd.google-apps.presentation":{compressible:!1,extensions:["gslides"]},"application/vnd.google-apps.spreadsheet":{compressible:!1,extensions:["gsheet"]},"application/vnd.google-earth.kml+xml":{source:"iana",compressible:!0,extensions:["kml"]},"application/vnd.google-earth.kmz":{source:"iana",compressible:!1,extensions:["kmz"]},"application/vnd.gov.sk.e-form+xml":{source:"iana",compressible:!0},"application/vnd.gov.sk.e-form+zip":{source:"iana",compressible:!1},"application/vnd.gov.sk.xmldatacontainer+xml":{source:"iana",compressible:!0},"application/vnd.grafeq":{source:"iana",extensions:["gqf","gqs"]},"application/vnd.gridmp":{source:"iana"},"application/vnd.groove-account":{source:"iana",extensions:["gac"]},"application/vnd.groove-help":{source:"iana",extensions:["ghf"]},"application/vnd.groove-identity-message":{source:"iana",extensions:["gim"]},"application/vnd.groove-injector":{source:"iana",extensions:["grv"]},"application/vnd.groove-tool-message":{source:"iana",extensions:["gtm"]},"application/vnd.groove-tool-template":{source:"iana",extensions:["tpl"]},"application/vnd.groove-vcard":{source:"iana",extensions:["vcg"]},"application/vnd.hal+json":{source:"iana",compressible:!0},"application/vnd.hal+xml":{source:"iana",compressible:!0,extensions:["hal"]},"application/vnd.handheld-entertainment+xml":{source:"iana",compressible:!0,extensions:["zmm"]},"application/vnd.hbci":{source:"iana",extensions:["hbci"]},"application/vnd.hc+json":{source:"iana",compressible:!0},"application/vnd.hcl-bireports":{source:"iana"},"application/vnd.hdt":{source:"iana"},"application/vnd.heroku+json":{source:"iana",compressible:!0},"application/vnd.hhe.lesson-player":{source:"iana",extensions:["les"]},"application/vnd.hl7cda+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.hl7v2+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.hp-hpgl":{source:"iana",extensions:["hpgl"]},"application/vnd.hp-hpid":{source:"iana",extensions:["hpid"]},"application/vnd.hp-hps":{source:"iana",extensions:["hps"]},"application/vnd.hp-jlyt":{source:"iana",extensions:["jlt"]},"application/vnd.hp-pcl":{source:"iana",extensions:["pcl"]},"application/vnd.hp-pclxl":{source:"iana",extensions:["pclxl"]},"application/vnd.httphone":{source:"iana"},"application/vnd.hydrostatix.sof-data":{source:"iana",extensions:["sfd-hdstx"]},"application/vnd.hyper+json":{source:"iana",compressible:!0},"application/vnd.hyper-item+json":{source:"iana",compressible:!0},"application/vnd.hyperdrive+json":{source:"iana",compressible:!0},"application/vnd.hzn-3d-crossword":{source:"iana"},"application/vnd.ibm.afplinedata":{source:"iana"},"application/vnd.ibm.electronic-media":{source:"iana"},"application/vnd.ibm.minipay":{source:"iana",extensions:["mpy"]},"application/vnd.ibm.modcap":{source:"iana",extensions:["afp","listafp","list3820"]},"application/vnd.ibm.rights-management":{source:"iana",extensions:["irm"]},"application/vnd.ibm.secure-container":{source:"iana",extensions:["sc"]},"application/vnd.iccprofile":{source:"iana",extensions:["icc","icm"]},"application/vnd.ieee.1905":{source:"iana"},"application/vnd.igloader":{source:"iana",extensions:["igl"]},"application/vnd.imagemeter.folder+zip":{source:"iana",compressible:!1},"application/vnd.imagemeter.image+zip":{source:"iana",compressible:!1},"application/vnd.immervision-ivp":{source:"iana",extensions:["ivp"]},"application/vnd.immervision-ivu":{source:"iana",extensions:["ivu"]},"application/vnd.ims.imsccv1p1":{source:"iana"},"application/vnd.ims.imsccv1p2":{source:"iana"},"application/vnd.ims.imsccv1p3":{source:"iana"},"application/vnd.ims.lis.v2.result+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolconsumerprofile+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy.id+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings.simple+json":{source:"iana",compressible:!0},"application/vnd.informedcontrol.rms+xml":{source:"iana",compressible:!0},"application/vnd.informix-visionary":{source:"iana"},"application/vnd.infotech.project":{source:"iana"},"application/vnd.infotech.project+xml":{source:"iana",compressible:!0},"application/vnd.innopath.wamp.notification":{source:"iana"},"application/vnd.insors.igm":{source:"iana",extensions:["igm"]},"application/vnd.intercon.formnet":{source:"iana",extensions:["xpw","xpx"]},"application/vnd.intergeo":{source:"iana",extensions:["i2g"]},"application/vnd.intertrust.digibox":{source:"iana"},"application/vnd.intertrust.nncp":{source:"iana"},"application/vnd.intu.qbo":{source:"iana",extensions:["qbo"]},"application/vnd.intu.qfx":{source:"iana",extensions:["qfx"]},"application/vnd.iptc.g2.catalogitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.conceptitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.knowledgeitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.newsitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.newsmessage+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.packageitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.planningitem+xml":{source:"iana",compressible:!0},"application/vnd.ipunplugged.rcprofile":{source:"iana",extensions:["rcprofile"]},"application/vnd.irepository.package+xml":{source:"iana",compressible:!0,extensions:["irp"]},"application/vnd.is-xpr":{source:"iana",extensions:["xpr"]},"application/vnd.isac.fcs":{source:"iana",extensions:["fcs"]},"application/vnd.iso11783-10+zip":{source:"iana",compressible:!1},"application/vnd.jam":{source:"iana",extensions:["jam"]},"application/vnd.japannet-directory-service":{source:"iana"},"application/vnd.japannet-jpnstore-wakeup":{source:"iana"},"application/vnd.japannet-payment-wakeup":{source:"iana"},"application/vnd.japannet-registration":{source:"iana"},"application/vnd.japannet-registration-wakeup":{source:"iana"},"application/vnd.japannet-setstore-wakeup":{source:"iana"},"application/vnd.japannet-verification":{source:"iana"},"application/vnd.japannet-verification-wakeup":{source:"iana"},"application/vnd.jcp.javame.midlet-rms":{source:"iana",extensions:["rms"]},"application/vnd.jisp":{source:"iana",extensions:["jisp"]},"application/vnd.joost.joda-archive":{source:"iana",extensions:["joda"]},"application/vnd.jsk.isdn-ngn":{source:"iana"},"application/vnd.kahootz":{source:"iana",extensions:["ktz","ktr"]},"application/vnd.kde.karbon":{source:"iana",extensions:["karbon"]},"application/vnd.kde.kchart":{source:"iana",extensions:["chrt"]},"application/vnd.kde.kformula":{source:"iana",extensions:["kfo"]},"application/vnd.kde.kivio":{source:"iana",extensions:["flw"]},"application/vnd.kde.kontour":{source:"iana",extensions:["kon"]},"application/vnd.kde.kpresenter":{source:"iana",extensions:["kpr","kpt"]},"application/vnd.kde.kspread":{source:"iana",extensions:["ksp"]},"application/vnd.kde.kword":{source:"iana",extensions:["kwd","kwt"]},"application/vnd.kenameaapp":{source:"iana",extensions:["htke"]},"application/vnd.kidspiration":{source:"iana",extensions:["kia"]},"application/vnd.kinar":{source:"iana",extensions:["kne","knp"]},"application/vnd.koan":{source:"iana",extensions:["skp","skd","skt","skm"]},"application/vnd.kodak-descriptor":{source:"iana",extensions:["sse"]},"application/vnd.las":{source:"iana"},"application/vnd.las.las+json":{source:"iana",compressible:!0},"application/vnd.las.las+xml":{source:"iana",compressible:!0,extensions:["lasxml"]},"application/vnd.laszip":{source:"iana"},"application/vnd.leap+json":{source:"iana",compressible:!0},"application/vnd.liberty-request+xml":{source:"iana",compressible:!0},"application/vnd.llamagraphics.life-balance.desktop":{source:"iana",extensions:["lbd"]},"application/vnd.llamagraphics.life-balance.exchange+xml":{source:"iana",compressible:!0,extensions:["lbe"]},"application/vnd.logipipe.circuit+zip":{source:"iana",compressible:!1},"application/vnd.loom":{source:"iana"},"application/vnd.lotus-1-2-3":{source:"iana",extensions:["123"]},"application/vnd.lotus-approach":{source:"iana",extensions:["apr"]},"application/vnd.lotus-freelance":{source:"iana",extensions:["pre"]},"application/vnd.lotus-notes":{source:"iana",extensions:["nsf"]},"application/vnd.lotus-organizer":{source:"iana",extensions:["org"]},"application/vnd.lotus-screencam":{source:"iana",extensions:["scm"]},"application/vnd.lotus-wordpro":{source:"iana",extensions:["lwp"]},"application/vnd.macports.portpkg":{source:"iana",extensions:["portpkg"]},"application/vnd.mapbox-vector-tile":{source:"iana",extensions:["mvt"]},"application/vnd.marlin.drm.actiontoken+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.conftoken+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.license+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.mdcf":{source:"iana"},"application/vnd.mason+json":{source:"iana",compressible:!0},"application/vnd.maxar.archive.3tz+zip":{source:"iana",compressible:!1},"application/vnd.maxmind.maxmind-db":{source:"iana"},"application/vnd.mcd":{source:"iana",extensions:["mcd"]},"application/vnd.medcalcdata":{source:"iana",extensions:["mc1"]},"application/vnd.mediastation.cdkey":{source:"iana",extensions:["cdkey"]},"application/vnd.meridian-slingshot":{source:"iana"},"application/vnd.mfer":{source:"iana",extensions:["mwf"]},"application/vnd.mfmp":{source:"iana",extensions:["mfm"]},"application/vnd.micro+json":{source:"iana",compressible:!0},"application/vnd.micrografx.flo":{source:"iana",extensions:["flo"]},"application/vnd.micrografx.igx":{source:"iana",extensions:["igx"]},"application/vnd.microsoft.portable-executable":{source:"iana"},"application/vnd.microsoft.windows.thumbnail-cache":{source:"iana"},"application/vnd.miele+json":{source:"iana",compressible:!0},"application/vnd.mif":{source:"iana",extensions:["mif"]},"application/vnd.minisoft-hp3000-save":{source:"iana"},"application/vnd.mitsubishi.misty-guard.trustweb":{source:"iana"},"application/vnd.mobius.daf":{source:"iana",extensions:["daf"]},"application/vnd.mobius.dis":{source:"iana",extensions:["dis"]},"application/vnd.mobius.mbk":{source:"iana",extensions:["mbk"]},"application/vnd.mobius.mqy":{source:"iana",extensions:["mqy"]},"application/vnd.mobius.msl":{source:"iana",extensions:["msl"]},"application/vnd.mobius.plc":{source:"iana",extensions:["plc"]},"application/vnd.mobius.txf":{source:"iana",extensions:["txf"]},"application/vnd.mophun.application":{source:"iana",extensions:["mpn"]},"application/vnd.mophun.certificate":{source:"iana",extensions:["mpc"]},"application/vnd.motorola.flexsuite":{source:"iana"},"application/vnd.motorola.flexsuite.adsi":{source:"iana"},"application/vnd.motorola.flexsuite.fis":{source:"iana"},"application/vnd.motorola.flexsuite.gotap":{source:"iana"},"application/vnd.motorola.flexsuite.kmr":{source:"iana"},"application/vnd.motorola.flexsuite.ttc":{source:"iana"},"application/vnd.motorola.flexsuite.wem":{source:"iana"},"application/vnd.motorola.iprm":{source:"iana"},"application/vnd.mozilla.xul+xml":{source:"iana",compressible:!0,extensions:["xul"]},"application/vnd.ms-3mfdocument":{source:"iana"},"application/vnd.ms-artgalry":{source:"iana",extensions:["cil"]},"application/vnd.ms-asf":{source:"iana"},"application/vnd.ms-cab-compressed":{source:"iana",extensions:["cab"]},"application/vnd.ms-color.iccprofile":{source:"apache"},"application/vnd.ms-excel":{source:"iana",compressible:!1,extensions:["xls","xlm","xla","xlc","xlt","xlw"]},"application/vnd.ms-excel.addin.macroenabled.12":{source:"iana",extensions:["xlam"]},"application/vnd.ms-excel.sheet.binary.macroenabled.12":{source:"iana",extensions:["xlsb"]},"application/vnd.ms-excel.sheet.macroenabled.12":{source:"iana",extensions:["xlsm"]},"application/vnd.ms-excel.template.macroenabled.12":{source:"iana",extensions:["xltm"]},"application/vnd.ms-fontobject":{source:"iana",compressible:!0,extensions:["eot"]},"application/vnd.ms-htmlhelp":{source:"iana",extensions:["chm"]},"application/vnd.ms-ims":{source:"iana",extensions:["ims"]},"application/vnd.ms-lrm":{source:"iana",extensions:["lrm"]},"application/vnd.ms-office.activex+xml":{source:"iana",compressible:!0},"application/vnd.ms-officetheme":{source:"iana",extensions:["thmx"]},"application/vnd.ms-opentype":{source:"apache",compressible:!0},"application/vnd.ms-outlook":{compressible:!1,extensions:["msg"]},"application/vnd.ms-package.obfuscated-opentype":{source:"apache"},"application/vnd.ms-pki.seccat":{source:"apache",extensions:["cat"]},"application/vnd.ms-pki.stl":{source:"apache",extensions:["stl"]},"application/vnd.ms-playready.initiator+xml":{source:"iana",compressible:!0},"application/vnd.ms-powerpoint":{source:"iana",compressible:!1,extensions:["ppt","pps","pot"]},"application/vnd.ms-powerpoint.addin.macroenabled.12":{source:"iana",extensions:["ppam"]},"application/vnd.ms-powerpoint.presentation.macroenabled.12":{source:"iana",extensions:["pptm"]},"application/vnd.ms-powerpoint.slide.macroenabled.12":{source:"iana",extensions:["sldm"]},"application/vnd.ms-powerpoint.slideshow.macroenabled.12":{source:"iana",extensions:["ppsm"]},"application/vnd.ms-powerpoint.template.macroenabled.12":{source:"iana",extensions:["potm"]},"application/vnd.ms-printdevicecapabilities+xml":{source:"iana",compressible:!0},"application/vnd.ms-printing.printticket+xml":{source:"apache",compressible:!0},"application/vnd.ms-printschematicket+xml":{source:"iana",compressible:!0},"application/vnd.ms-project":{source:"iana",extensions:["mpp","mpt"]},"application/vnd.ms-tnef":{source:"iana"},"application/vnd.ms-windows.devicepairing":{source:"iana"},"application/vnd.ms-windows.nwprinting.oob":{source:"iana"},"application/vnd.ms-windows.printerpairing":{source:"iana"},"application/vnd.ms-windows.wsd.oob":{source:"iana"},"application/vnd.ms-wmdrm.lic-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.lic-resp":{source:"iana"},"application/vnd.ms-wmdrm.meter-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.meter-resp":{source:"iana"},"application/vnd.ms-word.document.macroenabled.12":{source:"iana",extensions:["docm"]},"application/vnd.ms-word.template.macroenabled.12":{source:"iana",extensions:["dotm"]},"application/vnd.ms-works":{source:"iana",extensions:["wps","wks","wcm","wdb"]},"application/vnd.ms-wpl":{source:"iana",extensions:["wpl"]},"application/vnd.ms-xpsdocument":{source:"iana",compressible:!1,extensions:["xps"]},"application/vnd.msa-disk-image":{source:"iana"},"application/vnd.mseq":{source:"iana",extensions:["mseq"]},"application/vnd.msign":{source:"iana"},"application/vnd.multiad.creator":{source:"iana"},"application/vnd.multiad.creator.cif":{source:"iana"},"application/vnd.music-niff":{source:"iana"},"application/vnd.musician":{source:"iana",extensions:["mus"]},"application/vnd.muvee.style":{source:"iana",extensions:["msty"]},"application/vnd.mynfc":{source:"iana",extensions:["taglet"]},"application/vnd.nacamar.ybrid+json":{source:"iana",compressible:!0},"application/vnd.ncd.control":{source:"iana"},"application/vnd.ncd.reference":{source:"iana"},"application/vnd.nearst.inv+json":{source:"iana",compressible:!0},"application/vnd.nebumind.line":{source:"iana"},"application/vnd.nervana":{source:"iana"},"application/vnd.netfpx":{source:"iana"},"application/vnd.neurolanguage.nlu":{source:"iana",extensions:["nlu"]},"application/vnd.nimn":{source:"iana"},"application/vnd.nintendo.nitro.rom":{source:"iana"},"application/vnd.nintendo.snes.rom":{source:"iana"},"application/vnd.nitf":{source:"iana",extensions:["ntf","nitf"]},"application/vnd.noblenet-directory":{source:"iana",extensions:["nnd"]},"application/vnd.noblenet-sealer":{source:"iana",extensions:["nns"]},"application/vnd.noblenet-web":{source:"iana",extensions:["nnw"]},"application/vnd.nokia.catalogs":{source:"iana"},"application/vnd.nokia.conml+wbxml":{source:"iana"},"application/vnd.nokia.conml+xml":{source:"iana",compressible:!0},"application/vnd.nokia.iptv.config+xml":{source:"iana",compressible:!0},"application/vnd.nokia.isds-radio-presets":{source:"iana"},"application/vnd.nokia.landmark+wbxml":{source:"iana"},"application/vnd.nokia.landmark+xml":{source:"iana",compressible:!0},"application/vnd.nokia.landmarkcollection+xml":{source:"iana",compressible:!0},"application/vnd.nokia.n-gage.ac+xml":{source:"iana",compressible:!0,extensions:["ac"]},"application/vnd.nokia.n-gage.data":{source:"iana",extensions:["ngdat"]},"application/vnd.nokia.n-gage.symbian.install":{source:"iana",extensions:["n-gage"]},"application/vnd.nokia.ncd":{source:"iana"},"application/vnd.nokia.pcd+wbxml":{source:"iana"},"application/vnd.nokia.pcd+xml":{source:"iana",compressible:!0},"application/vnd.nokia.radio-preset":{source:"iana",extensions:["rpst"]},"application/vnd.nokia.radio-presets":{source:"iana",extensions:["rpss"]},"application/vnd.novadigm.edm":{source:"iana",extensions:["edm"]},"application/vnd.novadigm.edx":{source:"iana",extensions:["edx"]},"application/vnd.novadigm.ext":{source:"iana",extensions:["ext"]},"application/vnd.ntt-local.content-share":{source:"iana"},"application/vnd.ntt-local.file-transfer":{source:"iana"},"application/vnd.ntt-local.ogw_remote-access":{source:"iana"},"application/vnd.ntt-local.sip-ta_remote":{source:"iana"},"application/vnd.ntt-local.sip-ta_tcp_stream":{source:"iana"},"application/vnd.oasis.opendocument.chart":{source:"iana",extensions:["odc"]},"application/vnd.oasis.opendocument.chart-template":{source:"iana",extensions:["otc"]},"application/vnd.oasis.opendocument.database":{source:"iana",extensions:["odb"]},"application/vnd.oasis.opendocument.formula":{source:"iana",extensions:["odf"]},"application/vnd.oasis.opendocument.formula-template":{source:"iana",extensions:["odft"]},"application/vnd.oasis.opendocument.graphics":{source:"iana",compressible:!1,extensions:["odg"]},"application/vnd.oasis.opendocument.graphics-template":{source:"iana",extensions:["otg"]},"application/vnd.oasis.opendocument.image":{source:"iana",extensions:["odi"]},"application/vnd.oasis.opendocument.image-template":{source:"iana",extensions:["oti"]},"application/vnd.oasis.opendocument.presentation":{source:"iana",compressible:!1,extensions:["odp"]},"application/vnd.oasis.opendocument.presentation-template":{source:"iana",extensions:["otp"]},"application/vnd.oasis.opendocument.spreadsheet":{source:"iana",compressible:!1,extensions:["ods"]},"application/vnd.oasis.opendocument.spreadsheet-template":{source:"iana",extensions:["ots"]},"application/vnd.oasis.opendocument.text":{source:"iana",compressible:!1,extensions:["odt"]},"application/vnd.oasis.opendocument.text-master":{source:"iana",extensions:["odm"]},"application/vnd.oasis.opendocument.text-template":{source:"iana",extensions:["ott"]},"application/vnd.oasis.opendocument.text-web":{source:"iana",extensions:["oth"]},"application/vnd.obn":{source:"iana"},"application/vnd.ocf+cbor":{source:"iana"},"application/vnd.oci.image.manifest.v1+json":{source:"iana",compressible:!0},"application/vnd.oftn.l10n+json":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessdownload+xml":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessstreaming+xml":{source:"iana",compressible:!0},"application/vnd.oipf.cspg-hexbinary":{source:"iana"},"application/vnd.oipf.dae.svg+xml":{source:"iana",compressible:!0},"application/vnd.oipf.dae.xhtml+xml":{source:"iana",compressible:!0},"application/vnd.oipf.mippvcontrolmessage+xml":{source:"iana",compressible:!0},"application/vnd.oipf.pae.gem":{source:"iana"},"application/vnd.oipf.spdiscovery+xml":{source:"iana",compressible:!0},"application/vnd.oipf.spdlist+xml":{source:"iana",compressible:!0},"application/vnd.oipf.ueprofile+xml":{source:"iana",compressible:!0},"application/vnd.oipf.userprofile+xml":{source:"iana",compressible:!0},"application/vnd.olpc-sugar":{source:"iana",extensions:["xo"]},"application/vnd.oma-scws-config":{source:"iana"},"application/vnd.oma-scws-http-request":{source:"iana"},"application/vnd.oma-scws-http-response":{source:"iana"},"application/vnd.oma.bcast.associated-procedure-parameter+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.drm-trigger+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.imd+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.ltkm":{source:"iana"},"application/vnd.oma.bcast.notification+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.provisioningtrigger":{source:"iana"},"application/vnd.oma.bcast.sgboot":{source:"iana"},"application/vnd.oma.bcast.sgdd+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.sgdu":{source:"iana"},"application/vnd.oma.bcast.simple-symbol-container":{source:"iana"},"application/vnd.oma.bcast.smartcard-trigger+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.sprov+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.stkm":{source:"iana"},"application/vnd.oma.cab-address-book+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-feature-handler+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-pcc+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-subs-invite+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-user-prefs+xml":{source:"iana",compressible:!0},"application/vnd.oma.dcd":{source:"iana"},"application/vnd.oma.dcdc":{source:"iana"},"application/vnd.oma.dd2+xml":{source:"iana",compressible:!0,extensions:["dd2"]},"application/vnd.oma.drm.risd+xml":{source:"iana",compressible:!0},"application/vnd.oma.group-usage-list+xml":{source:"iana",compressible:!0},"application/vnd.oma.lwm2m+cbor":{source:"iana"},"application/vnd.oma.lwm2m+json":{source:"iana",compressible:!0},"application/vnd.oma.lwm2m+tlv":{source:"iana"},"application/vnd.oma.pal+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.detailed-progress-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.final-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.groups+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.invocation-descriptor+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.optimized-progress-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.push":{source:"iana"},"application/vnd.oma.scidm.messages+xml":{source:"iana",compressible:!0},"application/vnd.oma.xcap-directory+xml":{source:"iana",compressible:!0},"application/vnd.omads-email+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omads-file+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omads-folder+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omaloc-supl-init":{source:"iana"},"application/vnd.onepager":{source:"iana"},"application/vnd.onepagertamp":{source:"iana"},"application/vnd.onepagertamx":{source:"iana"},"application/vnd.onepagertat":{source:"iana"},"application/vnd.onepagertatp":{source:"iana"},"application/vnd.onepagertatx":{source:"iana"},"application/vnd.openblox.game+xml":{source:"iana",compressible:!0,extensions:["obgx"]},"application/vnd.openblox.game-binary":{source:"iana"},"application/vnd.openeye.oeb":{source:"iana"},"application/vnd.openofficeorg.extension":{source:"apache",extensions:["oxt"]},"application/vnd.openstreetmap.data+xml":{source:"iana",compressible:!0,extensions:["osm"]},"application/vnd.opentimestamps.ots":{source:"iana"},"application/vnd.openxmlformats-officedocument.custom-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.customxmlproperties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawing+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.chart+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramcolors+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramdata+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramlayout+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramstyle+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.extended-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.commentauthors+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.handoutmaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.notesmaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.notesslide+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{source:"iana",compressible:!1,extensions:["pptx"]},"application/vnd.openxmlformats-officedocument.presentationml.presentation.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.presprops+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slide":{source:"iana",extensions:["sldx"]},"application/vnd.openxmlformats-officedocument.presentationml.slide+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slidelayout+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slidemaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slideshow":{source:"iana",extensions:["ppsx"]},"application/vnd.openxmlformats-officedocument.presentationml.slideshow.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slideupdateinfo+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.tablestyles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.tags+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.template":{source:"iana",extensions:["potx"]},"application/vnd.openxmlformats-officedocument.presentationml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.viewprops+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.calcchain+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.externallink+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcachedefinition+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcacherecords+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivottable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.querytable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionheaders+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionlog+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedstrings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{source:"iana",compressible:!1,extensions:["xlsx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetmetadata+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.tablesinglecells+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.template":{source:"iana",extensions:["xltx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.usernames+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.volatiledependencies+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.theme+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.themeoverride+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.vmldrawing":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{source:"iana",compressible:!1,extensions:["docx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.glossary+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.endnotes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.fonttable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.template":{source:"iana",extensions:["dotx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.websettings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.core-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.digital-signature-xmlsignature+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.relationships+xml":{source:"iana",compressible:!0},"application/vnd.oracle.resource+json":{source:"iana",compressible:!0},"application/vnd.orange.indata":{source:"iana"},"application/vnd.osa.netdeploy":{source:"iana"},"application/vnd.osgeo.mapguide.package":{source:"iana",extensions:["mgp"]},"application/vnd.osgi.bundle":{source:"iana"},"application/vnd.osgi.dp":{source:"iana",extensions:["dp"]},"application/vnd.osgi.subsystem":{source:"iana",extensions:["esa"]},"application/vnd.otps.ct-kip+xml":{source:"iana",compressible:!0},"application/vnd.oxli.countgraph":{source:"iana"},"application/vnd.pagerduty+json":{source:"iana",compressible:!0},"application/vnd.palm":{source:"iana",extensions:["pdb","pqa","oprc"]},"application/vnd.panoply":{source:"iana"},"application/vnd.paos.xml":{source:"iana"},"application/vnd.patentdive":{source:"iana"},"application/vnd.patientecommsdoc":{source:"iana"},"application/vnd.pawaafile":{source:"iana",extensions:["paw"]},"application/vnd.pcos":{source:"iana"},"application/vnd.pg.format":{source:"iana",extensions:["str"]},"application/vnd.pg.osasli":{source:"iana",extensions:["ei6"]},"application/vnd.piaccess.application-licence":{source:"iana"},"application/vnd.picsel":{source:"iana",extensions:["efif"]},"application/vnd.pmi.widget":{source:"iana",extensions:["wg"]},"application/vnd.poc.group-advertisement+xml":{source:"iana",compressible:!0},"application/vnd.pocketlearn":{source:"iana",extensions:["plf"]},"application/vnd.powerbuilder6":{source:"iana",extensions:["pbd"]},"application/vnd.powerbuilder6-s":{source:"iana"},"application/vnd.powerbuilder7":{source:"iana"},"application/vnd.powerbuilder7-s":{source:"iana"},"application/vnd.powerbuilder75":{source:"iana"},"application/vnd.powerbuilder75-s":{source:"iana"},"application/vnd.preminet":{source:"iana"},"application/vnd.previewsystems.box":{source:"iana",extensions:["box"]},"application/vnd.proteus.magazine":{source:"iana",extensions:["mgz"]},"application/vnd.psfs":{source:"iana"},"application/vnd.publishare-delta-tree":{source:"iana",extensions:["qps"]},"application/vnd.pvi.ptid1":{source:"iana",extensions:["ptid"]},"application/vnd.pwg-multiplexed":{source:"iana"},"application/vnd.pwg-xhtml-print+xml":{source:"iana",compressible:!0},"application/vnd.qualcomm.brew-app-res":{source:"iana"},"application/vnd.quarantainenet":{source:"iana"},"application/vnd.quark.quarkxpress":{source:"iana",extensions:["qxd","qxt","qwd","qwt","qxl","qxb"]},"application/vnd.quobject-quoxdocument":{source:"iana"},"application/vnd.radisys.moml+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-conf+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-conn+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-dialog+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-stream+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-conf+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-base+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-fax-detect+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-fax-sendrecv+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-group+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-speech+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-transform+xml":{source:"iana",compressible:!0},"application/vnd.rainstor.data":{source:"iana"},"application/vnd.rapid":{source:"iana"},"application/vnd.rar":{source:"iana",extensions:["rar"]},"application/vnd.realvnc.bed":{source:"iana",extensions:["bed"]},"application/vnd.recordare.musicxml":{source:"iana",extensions:["mxl"]},"application/vnd.recordare.musicxml+xml":{source:"iana",compressible:!0,extensions:["musicxml"]},"application/vnd.renlearn.rlprint":{source:"iana"},"application/vnd.resilient.logic":{source:"iana"},"application/vnd.restful+json":{source:"iana",compressible:!0},"application/vnd.rig.cryptonote":{source:"iana",extensions:["cryptonote"]},"application/vnd.rim.cod":{source:"apache",extensions:["cod"]},"application/vnd.rn-realmedia":{source:"apache",extensions:["rm"]},"application/vnd.rn-realmedia-vbr":{source:"apache",extensions:["rmvb"]},"application/vnd.route66.link66+xml":{source:"iana",compressible:!0,extensions:["link66"]},"application/vnd.rs-274x":{source:"iana"},"application/vnd.ruckus.download":{source:"iana"},"application/vnd.s3sms":{source:"iana"},"application/vnd.sailingtracker.track":{source:"iana",extensions:["st"]},"application/vnd.sar":{source:"iana"},"application/vnd.sbm.cid":{source:"iana"},"application/vnd.sbm.mid2":{source:"iana"},"application/vnd.scribus":{source:"iana"},"application/vnd.sealed.3df":{source:"iana"},"application/vnd.sealed.csf":{source:"iana"},"application/vnd.sealed.doc":{source:"iana"},"application/vnd.sealed.eml":{source:"iana"},"application/vnd.sealed.mht":{source:"iana"},"application/vnd.sealed.net":{source:"iana"},"application/vnd.sealed.ppt":{source:"iana"},"application/vnd.sealed.tiff":{source:"iana"},"application/vnd.sealed.xls":{source:"iana"},"application/vnd.sealedmedia.softseal.html":{source:"iana"},"application/vnd.sealedmedia.softseal.pdf":{source:"iana"},"application/vnd.seemail":{source:"iana",extensions:["see"]},"application/vnd.seis+json":{source:"iana",compressible:!0},"application/vnd.sema":{source:"iana",extensions:["sema"]},"application/vnd.semd":{source:"iana",extensions:["semd"]},"application/vnd.semf":{source:"iana",extensions:["semf"]},"application/vnd.shade-save-file":{source:"iana"},"application/vnd.shana.informed.formdata":{source:"iana",extensions:["ifm"]},"application/vnd.shana.informed.formtemplate":{source:"iana",extensions:["itp"]},"application/vnd.shana.informed.interchange":{source:"iana",extensions:["iif"]},"application/vnd.shana.informed.package":{source:"iana",extensions:["ipk"]},"application/vnd.shootproof+json":{source:"iana",compressible:!0},"application/vnd.shopkick+json":{source:"iana",compressible:!0},"application/vnd.shp":{source:"iana"},"application/vnd.shx":{source:"iana"},"application/vnd.sigrok.session":{source:"iana"},"application/vnd.simtech-mindmapper":{source:"iana",extensions:["twd","twds"]},"application/vnd.siren+json":{source:"iana",compressible:!0},"application/vnd.smaf":{source:"iana",extensions:["mmf"]},"application/vnd.smart.notebook":{source:"iana"},"application/vnd.smart.teacher":{source:"iana",extensions:["teacher"]},"application/vnd.snesdev-page-table":{source:"iana"},"application/vnd.software602.filler.form+xml":{source:"iana",compressible:!0,extensions:["fo"]},"application/vnd.software602.filler.form-xml-zip":{source:"iana"},"application/vnd.solent.sdkm+xml":{source:"iana",compressible:!0,extensions:["sdkm","sdkd"]},"application/vnd.spotfire.dxp":{source:"iana",extensions:["dxp"]},"application/vnd.spotfire.sfs":{source:"iana",extensions:["sfs"]},"application/vnd.sqlite3":{source:"iana"},"application/vnd.sss-cod":{source:"iana"},"application/vnd.sss-dtf":{source:"iana"},"application/vnd.sss-ntf":{source:"iana"},"application/vnd.stardivision.calc":{source:"apache",extensions:["sdc"]},"application/vnd.stardivision.draw":{source:"apache",extensions:["sda"]},"application/vnd.stardivision.impress":{source:"apache",extensions:["sdd"]},"application/vnd.stardivision.math":{source:"apache",extensions:["smf"]},"application/vnd.stardivision.writer":{source:"apache",extensions:["sdw","vor"]},"application/vnd.stardivision.writer-global":{source:"apache",extensions:["sgl"]},"application/vnd.stepmania.package":{source:"iana",extensions:["smzip"]},"application/vnd.stepmania.stepchart":{source:"iana",extensions:["sm"]},"application/vnd.street-stream":{source:"iana"},"application/vnd.sun.wadl+xml":{source:"iana",compressible:!0,extensions:["wadl"]},"application/vnd.sun.xml.calc":{source:"apache",extensions:["sxc"]},"application/vnd.sun.xml.calc.template":{source:"apache",extensions:["stc"]},"application/vnd.sun.xml.draw":{source:"apache",extensions:["sxd"]},"application/vnd.sun.xml.draw.template":{source:"apache",extensions:["std"]},"application/vnd.sun.xml.impress":{source:"apache",extensions:["sxi"]},"application/vnd.sun.xml.impress.template":{source:"apache",extensions:["sti"]},"application/vnd.sun.xml.math":{source:"apache",extensions:["sxm"]},"application/vnd.sun.xml.writer":{source:"apache",extensions:["sxw"]},"application/vnd.sun.xml.writer.global":{source:"apache",extensions:["sxg"]},"application/vnd.sun.xml.writer.template":{source:"apache",extensions:["stw"]},"application/vnd.sus-calendar":{source:"iana",extensions:["sus","susp"]},"application/vnd.svd":{source:"iana",extensions:["svd"]},"application/vnd.swiftview-ics":{source:"iana"},"application/vnd.sycle+xml":{source:"iana",compressible:!0},"application/vnd.syft+json":{source:"iana",compressible:!0},"application/vnd.symbian.install":{source:"apache",extensions:["sis","sisx"]},"application/vnd.syncml+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["xsm"]},"application/vnd.syncml.dm+wbxml":{source:"iana",charset:"UTF-8",extensions:["bdm"]},"application/vnd.syncml.dm+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["xdm"]},"application/vnd.syncml.dm.notification":{source:"iana"},"application/vnd.syncml.dmddf+wbxml":{source:"iana"},"application/vnd.syncml.dmddf+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["ddf"]},"application/vnd.syncml.dmtnds+wbxml":{source:"iana"},"application/vnd.syncml.dmtnds+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.syncml.ds.notification":{source:"iana"},"application/vnd.tableschema+json":{source:"iana",compressible:!0},"application/vnd.tao.intent-module-archive":{source:"iana",extensions:["tao"]},"application/vnd.tcpdump.pcap":{source:"iana",extensions:["pcap","cap","dmp"]},"application/vnd.think-cell.ppttc+json":{source:"iana",compressible:!0},"application/vnd.tmd.mediaflex.api+xml":{source:"iana",compressible:!0},"application/vnd.tml":{source:"iana"},"application/vnd.tmobile-livetv":{source:"iana",extensions:["tmo"]},"application/vnd.tri.onesource":{source:"iana"},"application/vnd.trid.tpt":{source:"iana",extensions:["tpt"]},"application/vnd.triscape.mxs":{source:"iana",extensions:["mxs"]},"application/vnd.trueapp":{source:"iana",extensions:["tra"]},"application/vnd.truedoc":{source:"iana"},"application/vnd.ubisoft.webplayer":{source:"iana"},"application/vnd.ufdl":{source:"iana",extensions:["ufd","ufdl"]},"application/vnd.uiq.theme":{source:"iana",extensions:["utz"]},"application/vnd.umajin":{source:"iana",extensions:["umj"]},"application/vnd.unity":{source:"iana",extensions:["unityweb"]},"application/vnd.uoml+xml":{source:"iana",compressible:!0,extensions:["uoml"]},"application/vnd.uplanet.alert":{source:"iana"},"application/vnd.uplanet.alert-wbxml":{source:"iana"},"application/vnd.uplanet.bearer-choice":{source:"iana"},"application/vnd.uplanet.bearer-choice-wbxml":{source:"iana"},"application/vnd.uplanet.cacheop":{source:"iana"},"application/vnd.uplanet.cacheop-wbxml":{source:"iana"},"application/vnd.uplanet.channel":{source:"iana"},"application/vnd.uplanet.channel-wbxml":{source:"iana"},"application/vnd.uplanet.list":{source:"iana"},"application/vnd.uplanet.list-wbxml":{source:"iana"},"application/vnd.uplanet.listcmd":{source:"iana"},"application/vnd.uplanet.listcmd-wbxml":{source:"iana"},"application/vnd.uplanet.signal":{source:"iana"},"application/vnd.uri-map":{source:"iana"},"application/vnd.valve.source.material":{source:"iana"},"application/vnd.vcx":{source:"iana",extensions:["vcx"]},"application/vnd.vd-study":{source:"iana"},"application/vnd.vectorworks":{source:"iana"},"application/vnd.vel+json":{source:"iana",compressible:!0},"application/vnd.verimatrix.vcas":{source:"iana"},"application/vnd.veritone.aion+json":{source:"iana",compressible:!0},"application/vnd.veryant.thin":{source:"iana"},"application/vnd.ves.encrypted":{source:"iana"},"application/vnd.vidsoft.vidconference":{source:"iana"},"application/vnd.visio":{source:"iana",extensions:["vsd","vst","vss","vsw"]},"application/vnd.visionary":{source:"iana",extensions:["vis"]},"application/vnd.vividence.scriptfile":{source:"iana"},"application/vnd.vsf":{source:"iana",extensions:["vsf"]},"application/vnd.wap.sic":{source:"iana"},"application/vnd.wap.slc":{source:"iana"},"application/vnd.wap.wbxml":{source:"iana",charset:"UTF-8",extensions:["wbxml"]},"application/vnd.wap.wmlc":{source:"iana",extensions:["wmlc"]},"application/vnd.wap.wmlscriptc":{source:"iana",extensions:["wmlsc"]},"application/vnd.webturbo":{source:"iana",extensions:["wtb"]},"application/vnd.wfa.dpp":{source:"iana"},"application/vnd.wfa.p2p":{source:"iana"},"application/vnd.wfa.wsc":{source:"iana"},"application/vnd.windows.devicepairing":{source:"iana"},"application/vnd.wmc":{source:"iana"},"application/vnd.wmf.bootstrap":{source:"iana"},"application/vnd.wolfram.mathematica":{source:"iana"},"application/vnd.wolfram.mathematica.package":{source:"iana"},"application/vnd.wolfram.player":{source:"iana",extensions:["nbp"]},"application/vnd.wordperfect":{source:"iana",extensions:["wpd"]},"application/vnd.wqd":{source:"iana",extensions:["wqd"]},"application/vnd.wrq-hp3000-labelled":{source:"iana"},"application/vnd.wt.stf":{source:"iana",extensions:["stf"]},"application/vnd.wv.csp+wbxml":{source:"iana"},"application/vnd.wv.csp+xml":{source:"iana",compressible:!0},"application/vnd.wv.ssp+xml":{source:"iana",compressible:!0},"application/vnd.xacml+json":{source:"iana",compressible:!0},"application/vnd.xara":{source:"iana",extensions:["xar"]},"application/vnd.xfdl":{source:"iana",extensions:["xfdl"]},"application/vnd.xfdl.webform":{source:"iana"},"application/vnd.xmi+xml":{source:"iana",compressible:!0},"application/vnd.xmpie.cpkg":{source:"iana"},"application/vnd.xmpie.dpkg":{source:"iana"},"application/vnd.xmpie.plan":{source:"iana"},"application/vnd.xmpie.ppkg":{source:"iana"},"application/vnd.xmpie.xlim":{source:"iana"},"application/vnd.yamaha.hv-dic":{source:"iana",extensions:["hvd"]},"application/vnd.yamaha.hv-script":{source:"iana",extensions:["hvs"]},"application/vnd.yamaha.hv-voice":{source:"iana",extensions:["hvp"]},"application/vnd.yamaha.openscoreformat":{source:"iana",extensions:["osf"]},"application/vnd.yamaha.openscoreformat.osfpvg+xml":{source:"iana",compressible:!0,extensions:["osfpvg"]},"application/vnd.yamaha.remote-setup":{source:"iana"},"application/vnd.yamaha.smaf-audio":{source:"iana",extensions:["saf"]},"application/vnd.yamaha.smaf-phrase":{source:"iana",extensions:["spf"]},"application/vnd.yamaha.through-ngn":{source:"iana"},"application/vnd.yamaha.tunnel-udpencap":{source:"iana"},"application/vnd.yaoweme":{source:"iana"},"application/vnd.yellowriver-custom-menu":{source:"iana",extensions:["cmp"]},"application/vnd.youtube.yt":{source:"iana"},"application/vnd.zul":{source:"iana",extensions:["zir","zirz"]},"application/vnd.zzazz.deck+xml":{source:"iana",compressible:!0,extensions:["zaz"]},"application/voicexml+xml":{source:"iana",compressible:!0,extensions:["vxml"]},"application/voucher-cms+json":{source:"iana",compressible:!0},"application/vq-rtcpxr":{source:"iana"},"application/wasm":{source:"iana",compressible:!0,extensions:["wasm"]},"application/watcherinfo+xml":{source:"iana",compressible:!0,extensions:["wif"]},"application/webpush-options+json":{source:"iana",compressible:!0},"application/whoispp-query":{source:"iana"},"application/whoispp-response":{source:"iana"},"application/widget":{source:"iana",extensions:["wgt"]},"application/winhlp":{source:"apache",extensions:["hlp"]},"application/wita":{source:"iana"},"application/wordperfect5.1":{source:"iana"},"application/wsdl+xml":{source:"iana",compressible:!0,extensions:["wsdl"]},"application/wspolicy+xml":{source:"iana",compressible:!0,extensions:["wspolicy"]},"application/x-7z-compressed":{source:"apache",compressible:!1,extensions:["7z"]},"application/x-abiword":{source:"apache",extensions:["abw"]},"application/x-ace-compressed":{source:"apache",extensions:["ace"]},"application/x-amf":{source:"apache"},"application/x-apple-diskimage":{source:"apache",extensions:["dmg"]},"application/x-arj":{compressible:!1,extensions:["arj"]},"application/x-authorware-bin":{source:"apache",extensions:["aab","x32","u32","vox"]},"application/x-authorware-map":{source:"apache",extensions:["aam"]},"application/x-authorware-seg":{source:"apache",extensions:["aas"]},"application/x-bcpio":{source:"apache",extensions:["bcpio"]},"application/x-bdoc":{compressible:!1,extensions:["bdoc"]},"application/x-bittorrent":{source:"apache",extensions:["torrent"]},"application/x-blorb":{source:"apache",extensions:["blb","blorb"]},"application/x-bzip":{source:"apache",compressible:!1,extensions:["bz"]},"application/x-bzip2":{source:"apache",compressible:!1,extensions:["bz2","boz"]},"application/x-cbr":{source:"apache",extensions:["cbr","cba","cbt","cbz","cb7"]},"application/x-cdlink":{source:"apache",extensions:["vcd"]},"application/x-cfs-compressed":{source:"apache",extensions:["cfs"]},"application/x-chat":{source:"apache",extensions:["chat"]},"application/x-chess-pgn":{source:"apache",extensions:["pgn"]},"application/x-chrome-extension":{extensions:["crx"]},"application/x-cocoa":{source:"nginx",extensions:["cco"]},"application/x-compress":{source:"apache"},"application/x-conference":{source:"apache",extensions:["nsc"]},"application/x-cpio":{source:"apache",extensions:["cpio"]},"application/x-csh":{source:"apache",extensions:["csh"]},"application/x-deb":{compressible:!1},"application/x-debian-package":{source:"apache",extensions:["deb","udeb"]},"application/x-dgc-compressed":{source:"apache",extensions:["dgc"]},"application/x-director":{source:"apache",extensions:["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"]},"application/x-doom":{source:"apache",extensions:["wad"]},"application/x-dtbncx+xml":{source:"apache",compressible:!0,extensions:["ncx"]},"application/x-dtbook+xml":{source:"apache",compressible:!0,extensions:["dtb"]},"application/x-dtbresource+xml":{source:"apache",compressible:!0,extensions:["res"]},"application/x-dvi":{source:"apache",compressible:!1,extensions:["dvi"]},"application/x-envoy":{source:"apache",extensions:["evy"]},"application/x-eva":{source:"apache",extensions:["eva"]},"application/x-font-bdf":{source:"apache",extensions:["bdf"]},"application/x-font-dos":{source:"apache"},"application/x-font-framemaker":{source:"apache"},"application/x-font-ghostscript":{source:"apache",extensions:["gsf"]},"application/x-font-libgrx":{source:"apache"},"application/x-font-linux-psf":{source:"apache",extensions:["psf"]},"application/x-font-pcf":{source:"apache",extensions:["pcf"]},"application/x-font-snf":{source:"apache",extensions:["snf"]},"application/x-font-speedo":{source:"apache"},"application/x-font-sunos-news":{source:"apache"},"application/x-font-type1":{source:"apache",extensions:["pfa","pfb","pfm","afm"]},"application/x-font-vfont":{source:"apache"},"application/x-freearc":{source:"apache",extensions:["arc"]},"application/x-futuresplash":{source:"apache",extensions:["spl"]},"application/x-gca-compressed":{source:"apache",extensions:["gca"]},"application/x-glulx":{source:"apache",extensions:["ulx"]},"application/x-gnumeric":{source:"apache",extensions:["gnumeric"]},"application/x-gramps-xml":{source:"apache",extensions:["gramps"]},"application/x-gtar":{source:"apache",extensions:["gtar"]},"application/x-gzip":{source:"apache"},"application/x-hdf":{source:"apache",extensions:["hdf"]},"application/x-httpd-php":{compressible:!0,extensions:["php"]},"application/x-install-instructions":{source:"apache",extensions:["install"]},"application/x-iso9660-image":{source:"apache",extensions:["iso"]},"application/x-iwork-keynote-sffkey":{extensions:["key"]},"application/x-iwork-numbers-sffnumbers":{extensions:["numbers"]},"application/x-iwork-pages-sffpages":{extensions:["pages"]},"application/x-java-archive-diff":{source:"nginx",extensions:["jardiff"]},"application/x-java-jnlp-file":{source:"apache",compressible:!1,extensions:["jnlp"]},"application/x-javascript":{compressible:!0},"application/x-keepass2":{extensions:["kdbx"]},"application/x-latex":{source:"apache",compressible:!1,extensions:["latex"]},"application/x-lua-bytecode":{extensions:["luac"]},"application/x-lzh-compressed":{source:"apache",extensions:["lzh","lha"]},"application/x-makeself":{source:"nginx",extensions:["run"]},"application/x-mie":{source:"apache",extensions:["mie"]},"application/x-mobipocket-ebook":{source:"apache",extensions:["prc","mobi"]},"application/x-mpegurl":{compressible:!1},"application/x-ms-application":{source:"apache",extensions:["application"]},"application/x-ms-shortcut":{source:"apache",extensions:["lnk"]},"application/x-ms-wmd":{source:"apache",extensions:["wmd"]},"application/x-ms-wmz":{source:"apache",extensions:["wmz"]},"application/x-ms-xbap":{source:"apache",extensions:["xbap"]},"application/x-msaccess":{source:"apache",extensions:["mdb"]},"application/x-msbinder":{source:"apache",extensions:["obd"]},"application/x-mscardfile":{source:"apache",extensions:["crd"]},"application/x-msclip":{source:"apache",extensions:["clp"]},"application/x-msdos-program":{extensions:["exe"]},"application/x-msdownload":{source:"apache",extensions:["exe","dll","com","bat","msi"]},"application/x-msmediaview":{source:"apache",extensions:["mvb","m13","m14"]},"application/x-msmetafile":{source:"apache",extensions:["wmf","wmz","emf","emz"]},"application/x-msmoney":{source:"apache",extensions:["mny"]},"application/x-mspublisher":{source:"apache",extensions:["pub"]},"application/x-msschedule":{source:"apache",extensions:["scd"]},"application/x-msterminal":{source:"apache",extensions:["trm"]},"application/x-mswrite":{source:"apache",extensions:["wri"]},"application/x-netcdf":{source:"apache",extensions:["nc","cdf"]},"application/x-ns-proxy-autoconfig":{compressible:!0,extensions:["pac"]},"application/x-nzb":{source:"apache",extensions:["nzb"]},"application/x-perl":{source:"nginx",extensions:["pl","pm"]},"application/x-pilot":{source:"nginx",extensions:["prc","pdb"]},"application/x-pkcs12":{source:"apache",compressible:!1,extensions:["p12","pfx"]},"application/x-pkcs7-certificates":{source:"apache",extensions:["p7b","spc"]},"application/x-pkcs7-certreqresp":{source:"apache",extensions:["p7r"]},"application/x-pki-message":{source:"iana"},"application/x-rar-compressed":{source:"apache",compressible:!1,extensions:["rar"]},"application/x-redhat-package-manager":{source:"nginx",extensions:["rpm"]},"application/x-research-info-systems":{source:"apache",extensions:["ris"]},"application/x-sea":{source:"nginx",extensions:["sea"]},"application/x-sh":{source:"apache",compressible:!0,extensions:["sh"]},"application/x-shar":{source:"apache",extensions:["shar"]},"application/x-shockwave-flash":{source:"apache",compressible:!1,extensions:["swf"]},"application/x-silverlight-app":{source:"apache",extensions:["xap"]},"application/x-sql":{source:"apache",extensions:["sql"]},"application/x-stuffit":{source:"apache",compressible:!1,extensions:["sit"]},"application/x-stuffitx":{source:"apache",extensions:["sitx"]},"application/x-subrip":{source:"apache",extensions:["srt"]},"application/x-sv4cpio":{source:"apache",extensions:["sv4cpio"]},"application/x-sv4crc":{source:"apache",extensions:["sv4crc"]},"application/x-t3vm-image":{source:"apache",extensions:["t3"]},"application/x-tads":{source:"apache",extensions:["gam"]},"application/x-tar":{source:"apache",compressible:!0,extensions:["tar"]},"application/x-tcl":{source:"apache",extensions:["tcl","tk"]},"application/x-tex":{source:"apache",extensions:["tex"]},"application/x-tex-tfm":{source:"apache",extensions:["tfm"]},"application/x-texinfo":{source:"apache",extensions:["texinfo","texi"]},"application/x-tgif":{source:"apache",extensions:["obj"]},"application/x-ustar":{source:"apache",extensions:["ustar"]},"application/x-virtualbox-hdd":{compressible:!0,extensions:["hdd"]},"application/x-virtualbox-ova":{compressible:!0,extensions:["ova"]},"application/x-virtualbox-ovf":{compressible:!0,extensions:["ovf"]},"application/x-virtualbox-vbox":{compressible:!0,extensions:["vbox"]},"application/x-virtualbox-vbox-extpack":{compressible:!1,extensions:["vbox-extpack"]},"application/x-virtualbox-vdi":{compressible:!0,extensions:["vdi"]},"application/x-virtualbox-vhd":{compressible:!0,extensions:["vhd"]},"application/x-virtualbox-vmdk":{compressible:!0,extensions:["vmdk"]},"application/x-wais-source":{source:"apache",extensions:["src"]},"application/x-web-app-manifest+json":{compressible:!0,extensions:["webapp"]},"application/x-www-form-urlencoded":{source:"iana",compressible:!0},"application/x-x509-ca-cert":{source:"iana",extensions:["der","crt","pem"]},"application/x-x509-ca-ra-cert":{source:"iana"},"application/x-x509-next-ca-cert":{source:"iana"},"application/x-xfig":{source:"apache",extensions:["fig"]},"application/x-xliff+xml":{source:"apache",compressible:!0,extensions:["xlf"]},"application/x-xpinstall":{source:"apache",compressible:!1,extensions:["xpi"]},"application/x-xz":{source:"apache",extensions:["xz"]},"application/x-zmachine":{source:"apache",extensions:["z1","z2","z3","z4","z5","z6","z7","z8"]},"application/x400-bp":{source:"iana"},"application/xacml+xml":{source:"iana",compressible:!0},"application/xaml+xml":{source:"apache",compressible:!0,extensions:["xaml"]},"application/xcap-att+xml":{source:"iana",compressible:!0,extensions:["xav"]},"application/xcap-caps+xml":{source:"iana",compressible:!0,extensions:["xca"]},"application/xcap-diff+xml":{source:"iana",compressible:!0,extensions:["xdf"]},"application/xcap-el+xml":{source:"iana",compressible:!0,extensions:["xel"]},"application/xcap-error+xml":{source:"iana",compressible:!0},"application/xcap-ns+xml":{source:"iana",compressible:!0,extensions:["xns"]},"application/xcon-conference-info+xml":{source:"iana",compressible:!0},"application/xcon-conference-info-diff+xml":{source:"iana",compressible:!0},"application/xenc+xml":{source:"iana",compressible:!0,extensions:["xenc"]},"application/xhtml+xml":{source:"iana",compressible:!0,extensions:["xhtml","xht"]},"application/xhtml-voice+xml":{source:"apache",compressible:!0},"application/xliff+xml":{source:"iana",compressible:!0,extensions:["xlf"]},"application/xml":{source:"iana",compressible:!0,extensions:["xml","xsl","xsd","rng"]},"application/xml-dtd":{source:"iana",compressible:!0,extensions:["dtd"]},"application/xml-external-parsed-entity":{source:"iana"},"application/xml-patch+xml":{source:"iana",compressible:!0},"application/xmpp+xml":{source:"iana",compressible:!0},"application/xop+xml":{source:"iana",compressible:!0,extensions:["xop"]},"application/xproc+xml":{source:"apache",compressible:!0,extensions:["xpl"]},"application/xslt+xml":{source:"iana",compressible:!0,extensions:["xsl","xslt"]},"application/xspf+xml":{source:"apache",compressible:!0,extensions:["xspf"]},"application/xv+xml":{source:"iana",compressible:!0,extensions:["mxml","xhvml","xvml","xvm"]},"application/yang":{source:"iana",extensions:["yang"]},"application/yang-data+json":{source:"iana",compressible:!0},"application/yang-data+xml":{source:"iana",compressible:!0},"application/yang-patch+json":{source:"iana",compressible:!0},"application/yang-patch+xml":{source:"iana",compressible:!0},"application/yin+xml":{source:"iana",compressible:!0,extensions:["yin"]},"application/zip":{source:"iana",compressible:!1,extensions:["zip"]},"application/zlib":{source:"iana"},"application/zstd":{source:"iana"},"audio/1d-interleaved-parityfec":{source:"iana"},"audio/32kadpcm":{source:"iana"},"audio/3gpp":{source:"iana",compressible:!1,extensions:["3gpp"]},"audio/3gpp2":{source:"iana"},"audio/aac":{source:"iana"},"audio/ac3":{source:"iana"},"audio/adpcm":{source:"apache",extensions:["adp"]},"audio/amr":{source:"iana",extensions:["amr"]},"audio/amr-wb":{source:"iana"},"audio/amr-wb+":{source:"iana"},"audio/aptx":{source:"iana"},"audio/asc":{source:"iana"},"audio/atrac-advanced-lossless":{source:"iana"},"audio/atrac-x":{source:"iana"},"audio/atrac3":{source:"iana"},"audio/basic":{source:"iana",compressible:!1,extensions:["au","snd"]},"audio/bv16":{source:"iana"},"audio/bv32":{source:"iana"},"audio/clearmode":{source:"iana"},"audio/cn":{source:"iana"},"audio/dat12":{source:"iana"},"audio/dls":{source:"iana"},"audio/dsr-es201108":{source:"iana"},"audio/dsr-es202050":{source:"iana"},"audio/dsr-es202211":{source:"iana"},"audio/dsr-es202212":{source:"iana"},"audio/dv":{source:"iana"},"audio/dvi4":{source:"iana"},"audio/eac3":{source:"iana"},"audio/encaprtp":{source:"iana"},"audio/evrc":{source:"iana"},"audio/evrc-qcp":{source:"iana"},"audio/evrc0":{source:"iana"},"audio/evrc1":{source:"iana"},"audio/evrcb":{source:"iana"},"audio/evrcb0":{source:"iana"},"audio/evrcb1":{source:"iana"},"audio/evrcnw":{source:"iana"},"audio/evrcnw0":{source:"iana"},"audio/evrcnw1":{source:"iana"},"audio/evrcwb":{source:"iana"},"audio/evrcwb0":{source:"iana"},"audio/evrcwb1":{source:"iana"},"audio/evs":{source:"iana"},"audio/flexfec":{source:"iana"},"audio/fwdred":{source:"iana"},"audio/g711-0":{source:"iana"},"audio/g719":{source:"iana"},"audio/g722":{source:"iana"},"audio/g7221":{source:"iana"},"audio/g723":{source:"iana"},"audio/g726-16":{source:"iana"},"audio/g726-24":{source:"iana"},"audio/g726-32":{source:"iana"},"audio/g726-40":{source:"iana"},"audio/g728":{source:"iana"},"audio/g729":{source:"iana"},"audio/g7291":{source:"iana"},"audio/g729d":{source:"iana"},"audio/g729e":{source:"iana"},"audio/gsm":{source:"iana"},"audio/gsm-efr":{source:"iana"},"audio/gsm-hr-08":{source:"iana"},"audio/ilbc":{source:"iana"},"audio/ip-mr_v2.5":{source:"iana"},"audio/isac":{source:"apache"},"audio/l16":{source:"iana"},"audio/l20":{source:"iana"},"audio/l24":{source:"iana",compressible:!1},"audio/l8":{source:"iana"},"audio/lpc":{source:"iana"},"audio/melp":{source:"iana"},"audio/melp1200":{source:"iana"},"audio/melp2400":{source:"iana"},"audio/melp600":{source:"iana"},"audio/mhas":{source:"iana"},"audio/midi":{source:"apache",extensions:["mid","midi","kar","rmi"]},"audio/mobile-xmf":{source:"iana",extensions:["mxmf"]},"audio/mp3":{compressible:!1,extensions:["mp3"]},"audio/mp4":{source:"iana",compressible:!1,extensions:["m4a","mp4a"]},"audio/mp4a-latm":{source:"iana"},"audio/mpa":{source:"iana"},"audio/mpa-robust":{source:"iana"},"audio/mpeg":{source:"iana",compressible:!1,extensions:["mpga","mp2","mp2a","mp3","m2a","m3a"]},"audio/mpeg4-generic":{source:"iana"},"audio/musepack":{source:"apache"},"audio/ogg":{source:"iana",compressible:!1,extensions:["oga","ogg","spx","opus"]},"audio/opus":{source:"iana"},"audio/parityfec":{source:"iana"},"audio/pcma":{source:"iana"},"audio/pcma-wb":{source:"iana"},"audio/pcmu":{source:"iana"},"audio/pcmu-wb":{source:"iana"},"audio/prs.sid":{source:"iana"},"audio/qcelp":{source:"iana"},"audio/raptorfec":{source:"iana"},"audio/red":{source:"iana"},"audio/rtp-enc-aescm128":{source:"iana"},"audio/rtp-midi":{source:"iana"},"audio/rtploopback":{source:"iana"},"audio/rtx":{source:"iana"},"audio/s3m":{source:"apache",extensions:["s3m"]},"audio/scip":{source:"iana"},"audio/silk":{source:"apache",extensions:["sil"]},"audio/smv":{source:"iana"},"audio/smv-qcp":{source:"iana"},"audio/smv0":{source:"iana"},"audio/sofa":{source:"iana"},"audio/sp-midi":{source:"iana"},"audio/speex":{source:"iana"},"audio/t140c":{source:"iana"},"audio/t38":{source:"iana"},"audio/telephone-event":{source:"iana"},"audio/tetra_acelp":{source:"iana"},"audio/tetra_acelp_bb":{source:"iana"},"audio/tone":{source:"iana"},"audio/tsvcis":{source:"iana"},"audio/uemclip":{source:"iana"},"audio/ulpfec":{source:"iana"},"audio/usac":{source:"iana"},"audio/vdvi":{source:"iana"},"audio/vmr-wb":{source:"iana"},"audio/vnd.3gpp.iufp":{source:"iana"},"audio/vnd.4sb":{source:"iana"},"audio/vnd.audiokoz":{source:"iana"},"audio/vnd.celp":{source:"iana"},"audio/vnd.cisco.nse":{source:"iana"},"audio/vnd.cmles.radio-events":{source:"iana"},"audio/vnd.cns.anp1":{source:"iana"},"audio/vnd.cns.inf1":{source:"iana"},"audio/vnd.dece.audio":{source:"iana",extensions:["uva","uvva"]},"audio/vnd.digital-winds":{source:"iana",extensions:["eol"]},"audio/vnd.dlna.adts":{source:"iana"},"audio/vnd.dolby.heaac.1":{source:"iana"},"audio/vnd.dolby.heaac.2":{source:"iana"},"audio/vnd.dolby.mlp":{source:"iana"},"audio/vnd.dolby.mps":{source:"iana"},"audio/vnd.dolby.pl2":{source:"iana"},"audio/vnd.dolby.pl2x":{source:"iana"},"audio/vnd.dolby.pl2z":{source:"iana"},"audio/vnd.dolby.pulse.1":{source:"iana"},"audio/vnd.dra":{source:"iana",extensions:["dra"]},"audio/vnd.dts":{source:"iana",extensions:["dts"]},"audio/vnd.dts.hd":{source:"iana",extensions:["dtshd"]},"audio/vnd.dts.uhd":{source:"iana"},"audio/vnd.dvb.file":{source:"iana"},"audio/vnd.everad.plj":{source:"iana"},"audio/vnd.hns.audio":{source:"iana"},"audio/vnd.lucent.voice":{source:"iana",extensions:["lvp"]},"audio/vnd.ms-playready.media.pya":{source:"iana",extensions:["pya"]},"audio/vnd.nokia.mobile-xmf":{source:"iana"},"audio/vnd.nortel.vbk":{source:"iana"},"audio/vnd.nuera.ecelp4800":{source:"iana",extensions:["ecelp4800"]},"audio/vnd.nuera.ecelp7470":{source:"iana",extensions:["ecelp7470"]},"audio/vnd.nuera.ecelp9600":{source:"iana",extensions:["ecelp9600"]},"audio/vnd.octel.sbc":{source:"iana"},"audio/vnd.presonus.multitrack":{source:"iana"},"audio/vnd.qcelp":{source:"iana"},"audio/vnd.rhetorex.32kadpcm":{source:"iana"},"audio/vnd.rip":{source:"iana",extensions:["rip"]},"audio/vnd.rn-realaudio":{compressible:!1},"audio/vnd.sealedmedia.softseal.mpeg":{source:"iana"},"audio/vnd.vmx.cvsd":{source:"iana"},"audio/vnd.wave":{compressible:!1},"audio/vorbis":{source:"iana",compressible:!1},"audio/vorbis-config":{source:"iana"},"audio/wav":{compressible:!1,extensions:["wav"]},"audio/wave":{compressible:!1,extensions:["wav"]},"audio/webm":{source:"apache",compressible:!1,extensions:["weba"]},"audio/x-aac":{source:"apache",compressible:!1,extensions:["aac"]},"audio/x-aiff":{source:"apache",extensions:["aif","aiff","aifc"]},"audio/x-caf":{source:"apache",compressible:!1,extensions:["caf"]},"audio/x-flac":{source:"apache",extensions:["flac"]},"audio/x-m4a":{source:"nginx",extensions:["m4a"]},"audio/x-matroska":{source:"apache",extensions:["mka"]},"audio/x-mpegurl":{source:"apache",extensions:["m3u"]},"audio/x-ms-wax":{source:"apache",extensions:["wax"]},"audio/x-ms-wma":{source:"apache",extensions:["wma"]},"audio/x-pn-realaudio":{source:"apache",extensions:["ram","ra"]},"audio/x-pn-realaudio-plugin":{source:"apache",extensions:["rmp"]},"audio/x-realaudio":{source:"nginx",extensions:["ra"]},"audio/x-tta":{source:"apache"},"audio/x-wav":{source:"apache",extensions:["wav"]},"audio/xm":{source:"apache",extensions:["xm"]},"chemical/x-cdx":{source:"apache",extensions:["cdx"]},"chemical/x-cif":{source:"apache",extensions:["cif"]},"chemical/x-cmdf":{source:"apache",extensions:["cmdf"]},"chemical/x-cml":{source:"apache",extensions:["cml"]},"chemical/x-csml":{source:"apache",extensions:["csml"]},"chemical/x-pdb":{source:"apache"},"chemical/x-xyz":{source:"apache",extensions:["xyz"]},"font/collection":{source:"iana",extensions:["ttc"]},"font/otf":{source:"iana",compressible:!0,extensions:["otf"]},"font/sfnt":{source:"iana"},"font/ttf":{source:"iana",compressible:!0,extensions:["ttf"]},"font/woff":{source:"iana",extensions:["woff"]},"font/woff2":{source:"iana",extensions:["woff2"]},"image/aces":{source:"iana",extensions:["exr"]},"image/apng":{compressible:!1,extensions:["apng"]},"image/avci":{source:"iana",extensions:["avci"]},"image/avcs":{source:"iana",extensions:["avcs"]},"image/avif":{source:"iana",compressible:!1,extensions:["avif"]},"image/bmp":{source:"iana",compressible:!0,extensions:["bmp"]},"image/cgm":{source:"iana",extensions:["cgm"]},"image/dicom-rle":{source:"iana",extensions:["drle"]},"image/emf":{source:"iana",extensions:["emf"]},"image/fits":{source:"iana",extensions:["fits"]},"image/g3fax":{source:"iana",extensions:["g3"]},"image/gif":{source:"iana",compressible:!1,extensions:["gif"]},"image/heic":{source:"iana",extensions:["heic"]},"image/heic-sequence":{source:"iana",extensions:["heics"]},"image/heif":{source:"iana",extensions:["heif"]},"image/heif-sequence":{source:"iana",extensions:["heifs"]},"image/hej2k":{source:"iana",extensions:["hej2"]},"image/hsj2":{source:"iana",extensions:["hsj2"]},"image/ief":{source:"iana",extensions:["ief"]},"image/jls":{source:"iana",extensions:["jls"]},"image/jp2":{source:"iana",compressible:!1,extensions:["jp2","jpg2"]},"image/jpeg":{source:"iana",compressible:!1,extensions:["jpeg","jpg","jpe"]},"image/jph":{source:"iana",extensions:["jph"]},"image/jphc":{source:"iana",extensions:["jhc"]},"image/jpm":{source:"iana",compressible:!1,extensions:["jpm"]},"image/jpx":{source:"iana",compressible:!1,extensions:["jpx","jpf"]},"image/jxr":{source:"iana",extensions:["jxr"]},"image/jxra":{source:"iana",extensions:["jxra"]},"image/jxrs":{source:"iana",extensions:["jxrs"]},"image/jxs":{source:"iana",extensions:["jxs"]},"image/jxsc":{source:"iana",extensions:["jxsc"]},"image/jxsi":{source:"iana",extensions:["jxsi"]},"image/jxss":{source:"iana",extensions:["jxss"]},"image/ktx":{source:"iana",extensions:["ktx"]},"image/ktx2":{source:"iana",extensions:["ktx2"]},"image/naplps":{source:"iana"},"image/pjpeg":{compressible:!1},"image/png":{source:"iana",compressible:!1,extensions:["png"]},"image/prs.btif":{source:"iana",extensions:["btif"]},"image/prs.pti":{source:"iana",extensions:["pti"]},"image/pwg-raster":{source:"iana"},"image/sgi":{source:"apache",extensions:["sgi"]},"image/svg+xml":{source:"iana",compressible:!0,extensions:["svg","svgz"]},"image/t38":{source:"iana",extensions:["t38"]},"image/tiff":{source:"iana",compressible:!1,extensions:["tif","tiff"]},"image/tiff-fx":{source:"iana",extensions:["tfx"]},"image/vnd.adobe.photoshop":{source:"iana",compressible:!0,extensions:["psd"]},"image/vnd.airzip.accelerator.azv":{source:"iana",extensions:["azv"]},"image/vnd.cns.inf2":{source:"iana"},"image/vnd.dece.graphic":{source:"iana",extensions:["uvi","uvvi","uvg","uvvg"]},"image/vnd.djvu":{source:"iana",extensions:["djvu","djv"]},"image/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"image/vnd.dwg":{source:"iana",extensions:["dwg"]},"image/vnd.dxf":{source:"iana",extensions:["dxf"]},"image/vnd.fastbidsheet":{source:"iana",extensions:["fbs"]},"image/vnd.fpx":{source:"iana",extensions:["fpx"]},"image/vnd.fst":{source:"iana",extensions:["fst"]},"image/vnd.fujixerox.edmics-mmr":{source:"iana",extensions:["mmr"]},"image/vnd.fujixerox.edmics-rlc":{source:"iana",extensions:["rlc"]},"image/vnd.globalgraphics.pgb":{source:"iana"},"image/vnd.microsoft.icon":{source:"iana",compressible:!0,extensions:["ico"]},"image/vnd.mix":{source:"iana"},"image/vnd.mozilla.apng":{source:"iana"},"image/vnd.ms-dds":{compressible:!0,extensions:["dds"]},"image/vnd.ms-modi":{source:"iana",extensions:["mdi"]},"image/vnd.ms-photo":{source:"apache",extensions:["wdp"]},"image/vnd.net-fpx":{source:"iana",extensions:["npx"]},"image/vnd.pco.b16":{source:"iana",extensions:["b16"]},"image/vnd.radiance":{source:"iana"},"image/vnd.sealed.png":{source:"iana"},"image/vnd.sealedmedia.softseal.gif":{source:"iana"},"image/vnd.sealedmedia.softseal.jpg":{source:"iana"},"image/vnd.svf":{source:"iana"},"image/vnd.tencent.tap":{source:"iana",extensions:["tap"]},"image/vnd.valve.source.texture":{source:"iana",extensions:["vtf"]},"image/vnd.wap.wbmp":{source:"iana",extensions:["wbmp"]},"image/vnd.xiff":{source:"iana",extensions:["xif"]},"image/vnd.zbrush.pcx":{source:"iana",extensions:["pcx"]},"image/webp":{source:"apache",extensions:["webp"]},"image/wmf":{source:"iana",extensions:["wmf"]},"image/x-3ds":{source:"apache",extensions:["3ds"]},"image/x-cmu-raster":{source:"apache",extensions:["ras"]},"image/x-cmx":{source:"apache",extensions:["cmx"]},"image/x-freehand":{source:"apache",extensions:["fh","fhc","fh4","fh5","fh7"]},"image/x-icon":{source:"apache",compressible:!0,extensions:["ico"]},"image/x-jng":{source:"nginx",extensions:["jng"]},"image/x-mrsid-image":{source:"apache",extensions:["sid"]},"image/x-ms-bmp":{source:"nginx",compressible:!0,extensions:["bmp"]},"image/x-pcx":{source:"apache",extensions:["pcx"]},"image/x-pict":{source:"apache",extensions:["pic","pct"]},"image/x-portable-anymap":{source:"apache",extensions:["pnm"]},"image/x-portable-bitmap":{source:"apache",extensions:["pbm"]},"image/x-portable-graymap":{source:"apache",extensions:["pgm"]},"image/x-portable-pixmap":{source:"apache",extensions:["ppm"]},"image/x-rgb":{source:"apache",extensions:["rgb"]},"image/x-tga":{source:"apache",extensions:["tga"]},"image/x-xbitmap":{source:"apache",extensions:["xbm"]},"image/x-xcf":{compressible:!1},"image/x-xpixmap":{source:"apache",extensions:["xpm"]},"image/x-xwindowdump":{source:"apache",extensions:["xwd"]},"message/cpim":{source:"iana"},"message/delivery-status":{source:"iana"},"message/disposition-notification":{source:"iana",extensions:["disposition-notification"]},"message/external-body":{source:"iana"},"message/feedback-report":{source:"iana"},"message/global":{source:"iana",extensions:["u8msg"]},"message/global-delivery-status":{source:"iana",extensions:["u8dsn"]},"message/global-disposition-notification":{source:"iana",extensions:["u8mdn"]},"message/global-headers":{source:"iana",extensions:["u8hdr"]},"message/http":{source:"iana",compressible:!1},"message/imdn+xml":{source:"iana",compressible:!0},"message/news":{source:"iana"},"message/partial":{source:"iana",compressible:!1},"message/rfc822":{source:"iana",compressible:!0,extensions:["eml","mime"]},"message/s-http":{source:"iana"},"message/sip":{source:"iana"},"message/sipfrag":{source:"iana"},"message/tracking-status":{source:"iana"},"message/vnd.si.simp":{source:"iana"},"message/vnd.wfa.wsc":{source:"iana",extensions:["wsc"]},"model/3mf":{source:"iana",extensions:["3mf"]},"model/e57":{source:"iana"},"model/gltf+json":{source:"iana",compressible:!0,extensions:["gltf"]},"model/gltf-binary":{source:"iana",compressible:!0,extensions:["glb"]},"model/iges":{source:"iana",compressible:!1,extensions:["igs","iges"]},"model/mesh":{source:"iana",compressible:!1,extensions:["msh","mesh","silo"]},"model/mtl":{source:"iana",extensions:["mtl"]},"model/obj":{source:"iana",extensions:["obj"]},"model/step":{source:"iana"},"model/step+xml":{source:"iana",compressible:!0,extensions:["stpx"]},"model/step+zip":{source:"iana",compressible:!1,extensions:["stpz"]},"model/step-xml+zip":{source:"iana",compressible:!1,extensions:["stpxz"]},"model/stl":{source:"iana",extensions:["stl"]},"model/vnd.collada+xml":{source:"iana",compressible:!0,extensions:["dae"]},"model/vnd.dwf":{source:"iana",extensions:["dwf"]},"model/vnd.flatland.3dml":{source:"iana"},"model/vnd.gdl":{source:"iana",extensions:["gdl"]},"model/vnd.gs-gdl":{source:"apache"},"model/vnd.gs.gdl":{source:"iana"},"model/vnd.gtw":{source:"iana",extensions:["gtw"]},"model/vnd.moml+xml":{source:"iana",compressible:!0},"model/vnd.mts":{source:"iana",extensions:["mts"]},"model/vnd.opengex":{source:"iana",extensions:["ogex"]},"model/vnd.parasolid.transmit.binary":{source:"iana",extensions:["x_b"]},"model/vnd.parasolid.transmit.text":{source:"iana",extensions:["x_t"]},"model/vnd.pytha.pyox":{source:"iana"},"model/vnd.rosette.annotated-data-model":{source:"iana"},"model/vnd.sap.vds":{source:"iana",extensions:["vds"]},"model/vnd.usdz+zip":{source:"iana",compressible:!1,extensions:["usdz"]},"model/vnd.valve.source.compiled-map":{source:"iana",extensions:["bsp"]},"model/vnd.vtu":{source:"iana",extensions:["vtu"]},"model/vrml":{source:"iana",compressible:!1,extensions:["wrl","vrml"]},"model/x3d+binary":{source:"apache",compressible:!1,extensions:["x3db","x3dbz"]},"model/x3d+fastinfoset":{source:"iana",extensions:["x3db"]},"model/x3d+vrml":{source:"apache",compressible:!1,extensions:["x3dv","x3dvz"]},"model/x3d+xml":{source:"iana",compressible:!0,extensions:["x3d","x3dz"]},"model/x3d-vrml":{source:"iana",extensions:["x3dv"]},"multipart/alternative":{source:"iana",compressible:!1},"multipart/appledouble":{source:"iana"},"multipart/byteranges":{source:"iana"},"multipart/digest":{source:"iana"},"multipart/encrypted":{source:"iana",compressible:!1},"multipart/form-data":{source:"iana",compressible:!1},"multipart/header-set":{source:"iana"},"multipart/mixed":{source:"iana"},"multipart/multilingual":{source:"iana"},"multipart/parallel":{source:"iana"},"multipart/related":{source:"iana",compressible:!1},"multipart/report":{source:"iana"},"multipart/signed":{source:"iana",compressible:!1},"multipart/vnd.bint.med-plus":{source:"iana"},"multipart/voice-message":{source:"iana"},"multipart/x-mixed-replace":{source:"iana"},"text/1d-interleaved-parityfec":{source:"iana"},"text/cache-manifest":{source:"iana",compressible:!0,extensions:["appcache","manifest"]},"text/calendar":{source:"iana",extensions:["ics","ifb"]},"text/calender":{compressible:!0},"text/cmd":{compressible:!0},"text/coffeescript":{extensions:["coffee","litcoffee"]},"text/cql":{source:"iana"},"text/cql-expression":{source:"iana"},"text/cql-identifier":{source:"iana"},"text/css":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["css"]},"text/csv":{source:"iana",compressible:!0,extensions:["csv"]},"text/csv-schema":{source:"iana"},"text/directory":{source:"iana"},"text/dns":{source:"iana"},"text/ecmascript":{source:"iana"},"text/encaprtp":{source:"iana"},"text/enriched":{source:"iana"},"text/fhirpath":{source:"iana"},"text/flexfec":{source:"iana"},"text/fwdred":{source:"iana"},"text/gff3":{source:"iana"},"text/grammar-ref-list":{source:"iana"},"text/html":{source:"iana",compressible:!0,extensions:["html","htm","shtml"]},"text/jade":{extensions:["jade"]},"text/javascript":{source:"iana",compressible:!0},"text/jcr-cnd":{source:"iana"},"text/jsx":{compressible:!0,extensions:["jsx"]},"text/less":{compressible:!0,extensions:["less"]},"text/markdown":{source:"iana",compressible:!0,extensions:["markdown","md"]},"text/mathml":{source:"nginx",extensions:["mml"]},"text/mdx":{compressible:!0,extensions:["mdx"]},"text/mizar":{source:"iana"},"text/n3":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["n3"]},"text/parameters":{source:"iana",charset:"UTF-8"},"text/parityfec":{source:"iana"},"text/plain":{source:"iana",compressible:!0,extensions:["txt","text","conf","def","list","log","in","ini"]},"text/provenance-notation":{source:"iana",charset:"UTF-8"},"text/prs.fallenstein.rst":{source:"iana"},"text/prs.lines.tag":{source:"iana",extensions:["dsc"]},"text/prs.prop.logic":{source:"iana"},"text/raptorfec":{source:"iana"},"text/red":{source:"iana"},"text/rfc822-headers":{source:"iana"},"text/richtext":{source:"iana",compressible:!0,extensions:["rtx"]},"text/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"text/rtp-enc-aescm128":{source:"iana"},"text/rtploopback":{source:"iana"},"text/rtx":{source:"iana"},"text/sgml":{source:"iana",extensions:["sgml","sgm"]},"text/shaclc":{source:"iana"},"text/shex":{source:"iana",extensions:["shex"]},"text/slim":{extensions:["slim","slm"]},"text/spdx":{source:"iana",extensions:["spdx"]},"text/strings":{source:"iana"},"text/stylus":{extensions:["stylus","styl"]},"text/t140":{source:"iana"},"text/tab-separated-values":{source:"iana",compressible:!0,extensions:["tsv"]},"text/troff":{source:"iana",extensions:["t","tr","roff","man","me","ms"]},"text/turtle":{source:"iana",charset:"UTF-8",extensions:["ttl"]},"text/ulpfec":{source:"iana"},"text/uri-list":{source:"iana",compressible:!0,extensions:["uri","uris","urls"]},"text/vcard":{source:"iana",compressible:!0,extensions:["vcard"]},"text/vnd.a":{source:"iana"},"text/vnd.abc":{source:"iana"},"text/vnd.ascii-art":{source:"iana"},"text/vnd.curl":{source:"iana",extensions:["curl"]},"text/vnd.curl.dcurl":{source:"apache",extensions:["dcurl"]},"text/vnd.curl.mcurl":{source:"apache",extensions:["mcurl"]},"text/vnd.curl.scurl":{source:"apache",extensions:["scurl"]},"text/vnd.debian.copyright":{source:"iana",charset:"UTF-8"},"text/vnd.dmclientscript":{source:"iana"},"text/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"text/vnd.esmertec.theme-descriptor":{source:"iana",charset:"UTF-8"},"text/vnd.familysearch.gedcom":{source:"iana",extensions:["ged"]},"text/vnd.ficlab.flt":{source:"iana"},"text/vnd.fly":{source:"iana",extensions:["fly"]},"text/vnd.fmi.flexstor":{source:"iana",extensions:["flx"]},"text/vnd.gml":{source:"iana"},"text/vnd.graphviz":{source:"iana",extensions:["gv"]},"text/vnd.hans":{source:"iana"},"text/vnd.hgl":{source:"iana"},"text/vnd.in3d.3dml":{source:"iana",extensions:["3dml"]},"text/vnd.in3d.spot":{source:"iana",extensions:["spot"]},"text/vnd.iptc.newsml":{source:"iana"},"text/vnd.iptc.nitf":{source:"iana"},"text/vnd.latex-z":{source:"iana"},"text/vnd.motorola.reflex":{source:"iana"},"text/vnd.ms-mediapackage":{source:"iana"},"text/vnd.net2phone.commcenter.command":{source:"iana"},"text/vnd.radisys.msml-basic-layout":{source:"iana"},"text/vnd.senx.warpscript":{source:"iana"},"text/vnd.si.uricatalogue":{source:"iana"},"text/vnd.sosi":{source:"iana"},"text/vnd.sun.j2me.app-descriptor":{source:"iana",charset:"UTF-8",extensions:["jad"]},"text/vnd.trolltech.linguist":{source:"iana",charset:"UTF-8"},"text/vnd.wap.si":{source:"iana"},"text/vnd.wap.sl":{source:"iana"},"text/vnd.wap.wml":{source:"iana",extensions:["wml"]},"text/vnd.wap.wmlscript":{source:"iana",extensions:["wmls"]},"text/vtt":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["vtt"]},"text/x-asm":{source:"apache",extensions:["s","asm"]},"text/x-c":{source:"apache",extensions:["c","cc","cxx","cpp","h","hh","dic"]},"text/x-component":{source:"nginx",extensions:["htc"]},"text/x-fortran":{source:"apache",extensions:["f","for","f77","f90"]},"text/x-gwt-rpc":{compressible:!0},"text/x-handlebars-template":{extensions:["hbs"]},"text/x-java-source":{source:"apache",extensions:["java"]},"text/x-jquery-tmpl":{compressible:!0},"text/x-lua":{extensions:["lua"]},"text/x-markdown":{compressible:!0,extensions:["mkd"]},"text/x-nfo":{source:"apache",extensions:["nfo"]},"text/x-opml":{source:"apache",extensions:["opml"]},"text/x-org":{compressible:!0,extensions:["org"]},"text/x-pascal":{source:"apache",extensions:["p","pas"]},"text/x-processing":{compressible:!0,extensions:["pde"]},"text/x-sass":{extensions:["sass"]},"text/x-scss":{extensions:["scss"]},"text/x-setext":{source:"apache",extensions:["etx"]},"text/x-sfv":{source:"apache",extensions:["sfv"]},"text/x-suse-ymp":{compressible:!0,extensions:["ymp"]},"text/x-uuencode":{source:"apache",extensions:["uu"]},"text/x-vcalendar":{source:"apache",extensions:["vcs"]},"text/x-vcard":{source:"apache",extensions:["vcf"]},"text/xml":{source:"iana",compressible:!0,extensions:["xml"]},"text/xml-external-parsed-entity":{source:"iana"},"text/yaml":{compressible:!0,extensions:["yaml","yml"]},"video/1d-interleaved-parityfec":{source:"iana"},"video/3gpp":{source:"iana",extensions:["3gp","3gpp"]},"video/3gpp-tt":{source:"iana"},"video/3gpp2":{source:"iana",extensions:["3g2"]},"video/av1":{source:"iana"},"video/bmpeg":{source:"iana"},"video/bt656":{source:"iana"},"video/celb":{source:"iana"},"video/dv":{source:"iana"},"video/encaprtp":{source:"iana"},"video/ffv1":{source:"iana"},"video/flexfec":{source:"iana"},"video/h261":{source:"iana",extensions:["h261"]},"video/h263":{source:"iana",extensions:["h263"]},"video/h263-1998":{source:"iana"},"video/h263-2000":{source:"iana"},"video/h264":{source:"iana",extensions:["h264"]},"video/h264-rcdo":{source:"iana"},"video/h264-svc":{source:"iana"},"video/h265":{source:"iana"},"video/iso.segment":{source:"iana",extensions:["m4s"]},"video/jpeg":{source:"iana",extensions:["jpgv"]},"video/jpeg2000":{source:"iana"},"video/jpm":{source:"apache",extensions:["jpm","jpgm"]},"video/jxsv":{source:"iana"},"video/mj2":{source:"iana",extensions:["mj2","mjp2"]},"video/mp1s":{source:"iana"},"video/mp2p":{source:"iana"},"video/mp2t":{source:"iana",extensions:["ts"]},"video/mp4":{source:"iana",compressible:!1,extensions:["mp4","mp4v","mpg4"]},"video/mp4v-es":{source:"iana"},"video/mpeg":{source:"iana",compressible:!1,extensions:["mpeg","mpg","mpe","m1v","m2v"]},"video/mpeg4-generic":{source:"iana"},"video/mpv":{source:"iana"},"video/nv":{source:"iana"},"video/ogg":{source:"iana",compressible:!1,extensions:["ogv"]},"video/parityfec":{source:"iana"},"video/pointer":{source:"iana"},"video/quicktime":{source:"iana",compressible:!1,extensions:["qt","mov"]},"video/raptorfec":{source:"iana"},"video/raw":{source:"iana"},"video/rtp-enc-aescm128":{source:"iana"},"video/rtploopback":{source:"iana"},"video/rtx":{source:"iana"},"video/scip":{source:"iana"},"video/smpte291":{source:"iana"},"video/smpte292m":{source:"iana"},"video/ulpfec":{source:"iana"},"video/vc1":{source:"iana"},"video/vc2":{source:"iana"},"video/vnd.cctv":{source:"iana"},"video/vnd.dece.hd":{source:"iana",extensions:["uvh","uvvh"]},"video/vnd.dece.mobile":{source:"iana",extensions:["uvm","uvvm"]},"video/vnd.dece.mp4":{source:"iana"},"video/vnd.dece.pd":{source:"iana",extensions:["uvp","uvvp"]},"video/vnd.dece.sd":{source:"iana",extensions:["uvs","uvvs"]},"video/vnd.dece.video":{source:"iana",extensions:["uvv","uvvv"]},"video/vnd.directv.mpeg":{source:"iana"},"video/vnd.directv.mpeg-tts":{source:"iana"},"video/vnd.dlna.mpeg-tts":{source:"iana"},"video/vnd.dvb.file":{source:"iana",extensions:["dvb"]},"video/vnd.fvt":{source:"iana",extensions:["fvt"]},"video/vnd.hns.video":{source:"iana"},"video/vnd.iptvforum.1dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.1dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.2dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.2dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.ttsavc":{source:"iana"},"video/vnd.iptvforum.ttsmpeg2":{source:"iana"},"video/vnd.motorola.video":{source:"iana"},"video/vnd.motorola.videop":{source:"iana"},"video/vnd.mpegurl":{source:"iana",extensions:["mxu","m4u"]},"video/vnd.ms-playready.media.pyv":{source:"iana",extensions:["pyv"]},"video/vnd.nokia.interleaved-multimedia":{source:"iana"},"video/vnd.nokia.mp4vr":{source:"iana"},"video/vnd.nokia.videovoip":{source:"iana"},"video/vnd.objectvideo":{source:"iana"},"video/vnd.radgamettools.bink":{source:"iana"},"video/vnd.radgamettools.smacker":{source:"iana"},"video/vnd.sealed.mpeg1":{source:"iana"},"video/vnd.sealed.mpeg4":{source:"iana"},"video/vnd.sealed.swf":{source:"iana"},"video/vnd.sealedmedia.softseal.mov":{source:"iana"},"video/vnd.uvvu.mp4":{source:"iana",extensions:["uvu","uvvu"]},"video/vnd.vivo":{source:"iana",extensions:["viv"]},"video/vnd.youtube.yt":{source:"iana"},"video/vp8":{source:"iana"},"video/vp9":{source:"iana"},"video/webm":{source:"apache",compressible:!1,extensions:["webm"]},"video/x-f4v":{source:"apache",extensions:["f4v"]},"video/x-fli":{source:"apache",extensions:["fli"]},"video/x-flv":{source:"apache",compressible:!1,extensions:["flv"]},"video/x-m4v":{source:"apache",extensions:["m4v"]},"video/x-matroska":{source:"apache",compressible:!1,extensions:["mkv","mk3d","mks"]},"video/x-mng":{source:"apache",extensions:["mng"]},"video/x-ms-asf":{source:"apache",extensions:["asf","asx"]},"video/x-ms-vob":{source:"apache",extensions:["vob"]},"video/x-ms-wm":{source:"apache",extensions:["wm"]},"video/x-ms-wmv":{source:"apache",compressible:!1,extensions:["wmv"]},"video/x-ms-wmx":{source:"apache",extensions:["wmx"]},"video/x-ms-wvx":{source:"apache",extensions:["wvx"]},"video/x-msvideo":{source:"apache",extensions:["avi"]},"video/x-sgi-movie":{source:"apache",extensions:["movie"]},"video/x-smv":{source:"apache",extensions:["smv"]},"x-conference/x-cooltalk":{source:"apache",extensions:["ice"]},"x-shader/x-fragment":{compressible:!0},"x-shader/x-vertex":{compressible:!0}};/*!
 * mime-db
 * Copyright(c) 2014 Jonathan Ong
 * Copyright(c) 2015-2022 Douglas Christopher Wilson
 * MIT Licensed
 */var mimeDb=require$$0;const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$1=getAugmentedNamespace(__viteBrowserExternal$1);/*!
 * mime-types
 * Copyright(c) 2014 Jonathan Ong
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */(function(T){var k=mimeDb,$=require$$1.extname,x=/^\s*([^;\s]*)(?:;|\s|$)/,I=/^text\//i;T.charset=L,T.charsets={lookup:L},T.contentType=E,T.extension=D,T.extensions=Object.create(null),T.lookup=F,T.types=Object.create(null),P(T.extensions,T.types);function L(U){if(!U||typeof U!="string")return!1;var M=x.exec(U),z=M&&k[M[1].toLowerCase()];return z&&z.charset?z.charset:M&&I.test(M[1])?"UTF-8":!1}function E(U){if(!U||typeof U!="string")return!1;var M=U.indexOf("/")===-1?T.lookup(U):U;if(!M)return!1;if(M.indexOf("charset")===-1){var z=T.charset(M);z&&(M+="; charset="+z.toLowerCase())}return M}function D(U){if(!U||typeof U!="string")return!1;var M=x.exec(U),z=M&&T.extensions[M[1].toLowerCase()];return!z||!z.length?!1:z[0]}function F(U){if(!U||typeof U!="string")return!1;var M=$("x."+U).toLowerCase().substr(1);return M&&T.types[M]||!1}function P(U,M){var z=["nginx","apache",void 0,"iana"];Object.keys(k).forEach(function(q){var j=k[q],W=j.extensions;if(!(!W||!W.length)){U[q]=W;for(var H=0;H<W.length;H++){var Q=W[H];if(M[Q]){var K=z.indexOf(k[M[Q]].source),G=z.indexOf(j.source);if(M[Q]!=="application/octet-stream"&&(K>G||K===G&&M[Q].substr(0,12)==="application/"))continue}M[Q]=q}}})}})(mimeTypes);const icon$2=""+new URL("upload-9715a9ce.svg",import.meta.url).href,UploadFileButton_svelte_svelte_type_style_lang="";function create_fragment$3a(T){let k,$,x,I,L;return{c(){k=element("input"),$=space(),x=element("button"),x.textContent="upload",attr(k,"type","file"),attr(k,"name","file"),k.multiple=!0,attr(k,"class","svelte-nn3gqf"),attr(x,"class","material-icons-round"),attr(x,"title","Upload file")},m(E,D){insert(E,k,D),T[2](k),insert(E,$,D),insert(E,x,D),I||(L=[listen(k,"change",T[1]),listen(x,"click",T[3])],I=!0)},p:noop$1,i:noop$1,o:noop$1,d(E){E&&(detach(k),detach($),detach(x)),T[2](null),I=!1,run_all(L)}}}function instance$2U(T,k,$){let x;component_subscribe(T,FileBrowserCurrentDir,P=>$(4,x=P));let I;async function L(){const P=I.files;if(P.length>80)return createOverlayableError({title:"Too many files",message:"You are only allowed to upload 80 files at a time to prevent overloading.",buttons:[{caption:"Understood",action(){}}],image:icon$2},"FileManager");showOverlay("uploadingFile","FileManager");let U=50;for(let M=0;M<P.length;M++)U+=25,P[M]&&await E(P[M]);setTimeout(()=>{hideOverlay("uploadingFile","FileManager"),fbClass.refresh()},U+500)}async function E(P){const U=new Blob([new Uint8Array(await P.arrayBuffer())]),M=`${x}/${P.name}`.split("//").join("/"),z=await fileToArcFile(P,M);FileBrowserUploadFile.set(z),await writeFile(M,U)||makeNotification({title:"File upload failed",message:"The server could not parse the file or it could not be written to the ArcFS",buttons:[],image:icon$2})}function D(P){binding_callbacks[P?"unshift":"push"](()=>{I=P,$(0,I)})}return[I,L,D,()=>I.click()]}class UploadFileButton extends SvelteComponent{constructor(k){super(),init(this,k,instance$2U,create_fragment$3a,safe_not_equal,{})}}function create_fragment$39(T){let k,$,x,I,L,E;return{c(){k=element("div"),$=element("button"),$.textContent="format_list_bulleted",x=space(),I=element("button"),I.textContent="grid_view",attr($,"class","material-icons-round"),attr($,"title","List view"),toggle_class($,"selected",!T[0].tiled),attr(I,"class","material-icons-round"),attr(I,"title","Tile view"),toggle_class(I,"selected",T[0].tiled),attr(k,"class","group")},m(D,F){insert(D,k,F),append(k,$),append(k,x),append(k,I),L||(E=[listen($,"click",T[1](!1)),listen(I,"click",T[1](!0))],L=!0)},p(D,[F]){F&1&&toggle_class($,"selected",!D[0].tiled),F&1&&toggle_class(I,"selected",D[0].tiled)},i:noop$1,o:noop$1,d(D){D&&detach(k),L=!1,run_all(E)}}}function instance$2T(T,k,$){let x;component_subscribe(T,UserData$2,D=>$(3,x=D));let{appdata:I}=k,{app:L}=k;function E(D){return()=>{$(0,I.tiled=D,I),set_store_value(UserData$2,x.appdata[L.id]=I,x)}}return T.$$set=D=>{"appdata"in D&&$(0,I=D.appdata),"app"in D&&$(2,L=D.app)},[I,E,L]}class Views extends SvelteComponent{constructor(k){super(),init(this,k,instance$2T,create_fragment$39,safe_not_equal,{appdata:0,app:2})}}function create_fragment$38(T){let k,$,x,I,L,E,D,F,P,U,M,z,N,q,j,W,H,Q,K,G,V,Y,J,X,Z,ee,re,ce,oe,ae;$=new ParentDir({}),I=new PathCrumbs({}),F=new CutButton({}),U=new CopyButton({}),z=new PasteButton({}),W=new DeleteButton({}),Q=new RenameButton({}),V=new NewFolderButton({}),J=new CreateButton({}),Z=new UploadFileButton({});function se(te){T[2](te)}function ne(te){T[3](te)}let ie={};return T[0]!==void 0&&(ie.appdata=T[0]),T[1]!==void 0&&(ie.app=T[1]),re=new Views({props:ie}),binding_callbacks.push(()=>bind$1(re,"appdata",se)),binding_callbacks.push(()=>bind$1(re,"app",ne)),{c(){k=element("div"),create_component($.$$.fragment),x=space(),create_component(I.$$.fragment),L=space(),E=element("div"),D=element("div"),create_component(F.$$.fragment),P=space(),create_component(U.$$.fragment),M=space(),create_component(z.$$.fragment),N=space(),q=element("div"),j=space(),create_component(W.$$.fragment),H=space(),create_component(Q.$$.fragment),K=space(),G=element("div"),create_component(V.$$.fragment),Y=space(),create_component(J.$$.fragment),X=space(),create_component(Z.$$.fragment),ee=space(),create_component(re.$$.fragment),attr(q,"class","sep"),attr(D,"class","group"),attr(G,"class","group"),attr(E,"class","right"),attr(k,"class","topbar")},m(te,le){insert(te,k,le),mount_component($,k,null),append(k,x),mount_component(I,k,null),append(k,L),append(k,E),append(E,D),mount_component(F,D,null),append(D,P),mount_component(U,D,null),append(D,M),mount_component(z,D,null),append(D,N),append(D,q),append(D,j),mount_component(W,D,null),append(D,H),mount_component(Q,D,null),append(E,K),append(E,G),mount_component(V,G,null),append(G,Y),mount_component(J,G,null),append(G,X),mount_component(Z,G,null),append(E,ee),mount_component(re,E,null),ae=!0},p(te,[le]){const pe={};!ce&&le&1&&(ce=!0,pe.appdata=te[0],add_flush_callback(()=>ce=!1)),!oe&&le&2&&(oe=!0,pe.app=te[1],add_flush_callback(()=>oe=!1)),re.$set(pe)},i(te){ae||(transition_in($.$$.fragment,te),transition_in(I.$$.fragment,te),transition_in(F.$$.fragment,te),transition_in(U.$$.fragment,te),transition_in(z.$$.fragment,te),transition_in(W.$$.fragment,te),transition_in(Q.$$.fragment,te),transition_in(V.$$.fragment,te),transition_in(J.$$.fragment,te),transition_in(Z.$$.fragment,te),transition_in(re.$$.fragment,te),ae=!0)},o(te){transition_out($.$$.fragment,te),transition_out(I.$$.fragment,te),transition_out(F.$$.fragment,te),transition_out(U.$$.fragment,te),transition_out(z.$$.fragment,te),transition_out(W.$$.fragment,te),transition_out(Q.$$.fragment,te),transition_out(V.$$.fragment,te),transition_out(J.$$.fragment,te),transition_out(Z.$$.fragment,te),transition_out(re.$$.fragment,te),ae=!1},d(te){te&&detach(k),destroy_component($),destroy_component(I),destroy_component(F),destroy_component(U),destroy_component(z),destroy_component(W),destroy_component(Q),destroy_component(V),destroy_component(J),destroy_component(Z),destroy_component(re)}}}function instance$2S(T,k,$){let{appdata:x}=k,{app:I}=k;function L(D){x=D,$(0,x)}function E(D){I=D,$(1,I)}return T.$$set=D=>{"appdata"in D&&$(0,x=D.appdata),"app"in D&&$(1,I=D.app)},[x,I,L,E]}let TopBar$2=class extends SvelteComponent{constructor(k){super(),init(this,k,instance$2S,create_fragment$38,safe_not_equal,{appdata:0,app:1})}};function create_if_block$1c(T){let k,$,x=(T[1]||"./")+"",I,L,E,D=T[0].name+"",F,P,U,M,z=T[0].files.length+"",N,q,j,W,H=T[0].directories.length+"",Q,K;return{c(){k=element("div"),$=element("div"),I=text(x),L=space(),E=element("div"),F=text(D),P=space(),U=element("div"),M=element("div"),N=text(z),q=text(" Files"),j=space(),W=element("div"),Q=text(H),K=text(" Folders"),attr($,"class","section"),attr(E,"class","section"),attr(M,"class","section"),attr(W,"class","section"),attr(U,"class","right"),attr(k,"class","bottom")},m(G,V){insert(G,k,V),append(k,$),append($,I),append(k,L),append(k,E),append(E,F),append(k,P),append(k,U),append(U,M),append(M,N),append(M,q),append(U,j),append(U,W),append(W,Q),append(W,K)},p(G,V){V&2&&x!==(x=(G[1]||"./")+"")&&set_data(I,x),V&1&&D!==(D=G[0].name+"")&&set_data(F,D),V&1&&z!==(z=G[0].files.length+"")&&set_data(N,z),V&1&&H!==(H=G[0].directories.length+"")&&set_data(Q,H)},d(G){G&&detach(k)}}}function create_fragment$37(T){let k,$=T[0]&&create_if_block$1c(T);return{c(){$&&$.c(),k=empty()},m(x,I){$&&$.m(x,I),insert(x,k,I)},p(x,[I]){x[0]?$?$.p(x,I):($=create_if_block$1c(x),$.c(),$.m(k.parentNode,k)):$&&($.d(1),$=null)},i:noop$1,o:noop$1,d(x){x&&detach(k),$&&$.d(x)}}}function instance$2R(T,k,$){let x,I;return component_subscribe(T,FileBrowserDirContents,L=>$(0,x=L)),component_subscribe(T,FileBrowserCurrentDir,L=>$(1,I=L)),[x,I]}let Bottom$2=class extends SvelteComponent{constructor(k){super(),init(this,k,instance$2R,create_fragment$37,safe_not_equal,{})}};function create_else_block$l(T){let k,$;return k=new ListView({props:{files:T[2],dirs:T[3]}}),{c(){create_component(k.$$.fragment)},m(x,I){mount_component(k,x,I),$=!0},p(x,I){const L={};I&4&&(L.files=x[2]),I&8&&(L.dirs=x[3]),k.$set(L)},i(x){$||(transition_in(k.$$.fragment,x),$=!0)},o(x){transition_out(k.$$.fragment,x),$=!1},d(x){destroy_component(k,x)}}}function create_if_block$1b(T){let k,$;return k=new TileView({props:{files:T[2],dirs:T[3]}}),{c(){create_component(k.$$.fragment)},m(x,I){mount_component(k,x,I),$=!0},p(x,I){const L={};I&4&&(L.files=x[2]),I&8&&(L.dirs=x[3]),k.$set(L)},i(x){$||(transition_in(k.$$.fragment,x),$=!0)},o(x){transition_out(k.$$.fragment,x),$=!1},d(x){destroy_component(k,x)}}}function create_fragment$36(T){let k,$,x,I,L,E,D,F,P,U,M;function z(H){T[5](H)}let N={app:T[1]};T[0]!==void 0&&(N.appdata=T[0]),k=new TopBar$2({props:N}),binding_callbacks.push(()=>bind$1(k,"appdata",z)),I=new SideBar$3({});const q=[create_if_block$1b,create_else_block$l],j=[];function W(H,Q){return H[4]?0:1}return D=W(T),F=j[D]=q[D](T),U=new Bottom$2({}),{c(){create_component(k.$$.fragment),x=space(),create_component(I.$$.fragment),L=space(),E=element("div"),F.c(),P=space(),create_component(U.$$.fragment),attr(E,"class","content")},m(H,Q){mount_component(k,H,Q),insert(H,x,Q),mount_component(I,H,Q),insert(H,L,Q),insert(H,E,Q),j[D].m(E,null),insert(H,P,Q),mount_component(U,H,Q),M=!0},p(H,[Q]){const K={};Q&2&&(K.app=H[1]),!$&&Q&1&&($=!0,K.appdata=H[0],add_flush_callback(()=>$=!1)),k.$set(K);let G=D;D=W(H),D===G?j[D].p(H,Q):(group_outros(),transition_out(j[G],1,1,()=>{j[G]=null}),check_outros(),F=j[D],F?F.p(H,Q):(F=j[D]=q[D](H),F.c()),transition_in(F,1),F.m(E,null))},i(H){M||(transition_in(k.$$.fragment,H),transition_in(I.$$.fragment,H),transition_in(F),transition_in(U.$$.fragment,H),M=!0)},o(H){transition_out(k.$$.fragment,H),transition_out(I.$$.fragment,H),transition_out(F),transition_out(U.$$.fragment,H),M=!1},d(H){H&&(detach(x),detach(L),detach(E),detach(P)),destroy_component(k,H),destroy_component(I,H),j[D].d(),destroy_component(U,H)}}}function instance$2Q(T,k,$){let x;component_subscribe(T,FileBrowserDirContents,U=>$(6,x=U));let I=[],L=[],E=!1,{app:D}=k,{appdata:F}=k;UserData$2.subscribe(()=>{$(4,E=F.tiled)}),onMount(async()=>{await fbClass.refresh();const U=x||defaultDirectory;$(2,I=U.files),$(3,L=U.directories)}),FileBrowserDirContents.subscribe(U=>{$(3,L=U.directories),$(2,I=U.files)});function P(U){F=U,$(0,F)}return T.$$set=U=>{"app"in U&&$(1,D=U.app),"appdata"in U&&$(0,F=U.appdata)},[F,D,I,L,E,P]}class FileBrowser extends SvelteComponent{constructor(k){super(),init(this,k,instance$2Q,create_fragment$36,safe_not_equal,{app:1,appdata:0})}}const SEP_ITEM={sep:!0},validCallerTags=["button","div","span","p","h1","h2","h3","h4","h5","img"];function composePosition(T,k,$){const x=document.querySelectorAll("div.app > div.desktop")[0];if(!x)return;const I=x.offsetWidth,L=x.offsetHeight;let E=T.clientX,D=T.clientY;return E+k>I&&(E=I-k),D+$>L&&(D=L-$),E<0&&(E=0),D<0&&(D=0),[E,D]}function getCallerScope(T){const k=T.composedPath();for(let $=0;$<k.length;$++){const x=k[$].tagName;if(!x)continue;const I=k[$].dataset.caller;if(validCallerTags.includes(x.toLowerCase())&&I)return k[$]}return null}function getContextEntry(T,k){const $=getWindow(T);if(!$||!$.contextMenu)return!1;const x=Object.entries($.contextMenu);for(let I=0;I<x.length;I++)if(k.includes(x[I][0]))return x[I][1];return!1}const FileManagerContextMenu={"listitem-dir":[{icon:"launch",caption:"Open",action:(T,k)=>{const $=k.path;$&&fbClass.goToDirectory($)}},{icon:"drive_file_rename_outline",caption:"Rename",action:(T,k)=>{FileBrowserSelectedFilename.set(k.name),showOverlay("renameItem","FileManager")}},{icon:"content_copy",caption:"Copy",action:(T,k)=>{FileBrowserSelectedFilename.set(k.name),FileBrowserCopyingFilename.set({name:k.name,scopedPath:`${k.path}`})}},{icon:"content_cut",caption:"Cut",action:(T,k)=>{FileBrowserSelectedFilename.set(k.name),FileBrowserCuttingFilename.set({name:k.name,scopedPath:`${k.path}`})}}],"listitem-file":[{caption:"Delete",action:(T,k)=>{createOverlayableError({title:"Delete item?",message:`Are you sure you want to permanently delete ${k.name}?`,buttons:[{caption:"Delete",action:async()=>{fbClass.deleteItem(k.name,k.path)}},{caption:"Cancel",action(){}}],image:clear$1},"FileManager")}}]},mutator="";function create_fragment$35(T){let k,$,x,I,L,E,D,F,P,U,M,z,N,q,j,W,H,Q;return{c(){k=element("div"),$=element("div"),x=element("img"),L=space(),E=element("div"),D=element("p"),D.textContent="Enter a name for the new file:",F=space(),P=element("input"),U=space(),M=element("div"),z=element("div"),N=element("button"),q=text("Create"),j=space(),W=element("button"),W.textContent="Cancel",src_url_equal(x.src,I=T[1]||fileIcon)||attr(x,"src",I),attr(x,"alt",""),attr($,"class","image"),attr(P,"type","text"),N.disabled=T[2],attr(z,"class","inner"),attr(M,"class","actions"),attr(k,"class","fb-overlay-mutator-wrapper")},m(K,G){insert(K,k,G),append(k,$),append($,x),append(k,L),append(k,E),append(E,D),append(E,F),append(E,P),set_input_value(P,T[0]),append(E,U),append(E,M),append(M,z),append(z,N),append(N,q),append(z,j),append(z,W),H||(Q=[listen(P,"input",T[6]),listen(P,"input",T[3]),listen(N,"click",T[4]),listen(W,"click",T[5])],H=!0)},p(K,[G]){G&2&&!src_url_equal(x.src,I=K[1]||fileIcon)&&attr(x,"src",I),G&1&&P.value!==K[0]&&set_input_value(P,K[0]),G&4&&(N.disabled=K[2])},i:noop$1,o:noop$1,d(K){K&&detach(k),H=!1,run_all(Q)}}}function instance$2P(T,k,$){let x,I;component_subscribe(T,FileBrowserCurrentDir,z=>$(7,x=z)),component_subscribe(T,FileBrowserDirContents,z=>$(8,I=z));let L="",E="",D=!1;function F(){const z=I.directories,N=I.files;for(let q=0;q<z.length;q++)if(z[q].name==L)return $(2,D=!0);for(let q=0;q<N.length;q++)if(N[q].filename==L)return $(2,D=!0);$(2,D=!1),$(1,E=getMimeIcon(L)||fileIcon)}async function P(){await writeFile(`${x}/${L}`,new Blob([])),FileBrowserSelectedFilename.set(L),U(),fbClass.refresh()}function U(){hideOverlay("createFile","FileManager"),$(0,L="")}function M(){L=this.value,$(0,L)}return[L,E,D,F,P,U,M]}class CreateFile extends SvelteComponent{constructor(k){super(),init(this,k,instance$2P,create_fragment$35,safe_not_equal,{})}}function create_fragment$34(T){let k,$,x,I,L,E,D,F,P,U,M,z,N,q,j,W,H,Q;return{c(){k=element("div"),$=element("div"),x=element("img"),L=space(),E=element("div"),D=element("p"),D.textContent="Enter a name for the new folder:",F=space(),P=element("input"),U=space(),M=element("div"),z=element("div"),N=element("button"),q=text("Create"),j=space(),W=element("button"),W.textContent="Cancel",src_url_equal(x.src,I=folder)||attr(x,"src",I),attr(x,"alt",""),attr($,"class","image"),attr(P,"type","text"),N.disabled=T[1],attr(z,"class","inner"),attr(M,"class","actions"),attr(k,"class","fb-overlay-mutator-wrapper")},m(K,G){insert(K,k,G),append(k,$),append($,x),append(k,L),append(k,E),append(E,D),append(E,F),append(E,P),set_input_value(P,T[0]),append(E,U),append(E,M),append(M,z),append(z,N),append(N,q),append(z,j),append(z,W),H||(Q=[listen(P,"input",T[5]),listen(P,"input",T[2]),listen(N,"click",T[3]),listen(W,"click",T[4])],H=!0)},p(K,[G]){G&1&&P.value!==K[0]&&set_input_value(P,K[0]),G&2&&(N.disabled=K[1])},i:noop$1,o:noop$1,d(K){K&&detach(k),H=!1,run_all(Q)}}}function instance$2O(T,k,$){let x,I;component_subscribe(T,FileBrowserCurrentDir,M=>$(6,x=M)),component_subscribe(T,FileBrowserDirContents,M=>$(7,I=M));let L="",E=!1;function D(){const M=I.directories,z=I.files;for(let N=0;N<M.length;N++)if(M[N].name==L)return $(1,E=!0);for(let N=0;N<z.length;N++)if(z[N].filename==L)return $(1,E=!0);$(1,E=!1)}async function F(){await createDirectory(`${x}/${L}`),FileBrowserSelectedFilename.set(L),P(),fbClass.refresh()}function P(){hideOverlay("createFolder","FileManager"),$(0,L="")}function U(){L=this.value,$(0,L)}return[L,E,D,F,P,U]}class CreateFolder extends SvelteComponent{constructor(k){super(),init(this,k,instance$2O,create_fragment$34,safe_not_equal,{})}}const deletingfile="";function create_fragment$33(T){let k,$,x,I,L,E,D,F,P,U,M,z,N;return z=new Spinner({props:{height:30}}),{c(){k=element("div"),$=element("div"),x=element("img"),L=space(),E=element("div"),D=text("Deleting "),F=text(T[0]),P=text("..."),U=space(),M=element("div"),create_component(z.$$.fragment),src_url_equal(x.src,I=clear$1)||attr(x,"src",I),attr(x,"alt",""),attr($,"class","icon"),attr(E,"class","caption"),attr(M,"class","spin"),attr(k,"class","deletingfile-wrapper")},m(q,j){insert(q,k,j),append(k,$),append($,x),append(k,L),append(k,E),append(E,D),append(E,F),append(E,P),append(k,U),append(k,M),mount_component(z,M,null),N=!0},p(q,[j]){(!N||j&1)&&set_data(F,q[0])},i(q){N||(transition_in(z.$$.fragment,q),N=!0)},o(q){transition_out(z.$$.fragment,q),N=!1},d(q){q&&detach(k),destroy_component(z)}}}function instance$2N(T,k,$){let x;return component_subscribe(T,FileBrowserDeletingFilename,I=>$(0,x=I)),[x]}class DeletingItem extends SvelteComponent{constructor(k){super(),init(this,k,instance$2N,create_fragment$33,safe_not_equal,{})}}const openingfile="",icon$1=""+new URL("memory-17818d99.svg",import.meta.url).href;function create_if_block$1a(T){let k,$,x,I,L,E,D,F=T[0].filename+"",P,U,M,z,N,q,j,W,H,Q,K,G=T[0].filename+"",V,Y,J,X,Z,ee,re=T[0].filename+"",ce,oe,ae,se,ne,ie,te=T[0].mime+"",le,pe,me,fe,de,ve,we=formatBytes(T[0].size)+"",_e,he;return N=new Spinner({props:{height:30}}),{c(){k=element("div"),$=element("div"),x=element("img"),L=space(),E=element("div"),D=text("Downloading "),P=text(F),U=text(" to RAM..."),M=space(),z=element("div"),create_component(N.$$.fragment),q=space(),j=element("table"),W=element("tr"),H=element("td"),H.textContent="Name",Q=space(),K=element("td"),V=text(G),Y=space(),J=element("tr"),X=element("td"),X.textContent="Path",Z=space(),ee=element("td"),ce=text(re),oe=space(),ae=element("tr"),se=element("td"),se.textContent="Mimetype",ne=space(),ie=element("td"),le=text(te),pe=space(),me=element("tr"),fe=element("td"),fe.textContent="Size",de=space(),ve=element("td"),_e=text(we),src_url_equal(x.src,I=icon$1)||attr(x,"src",I),attr(x,"alt",""),attr($,"class","icon"),attr(E,"class","caption"),attr(z,"class","spin"),attr(k,"class","openingfile-wrapper"),attr(H,"class","key"),attr(X,"class","key"),attr(se,"class","key"),attr(fe,"class","key"),attr(j,"class","openfile-details")},m(Ae,be){insert(Ae,k,be),append(k,$),append($,x),append(k,L),append(k,E),append(E,D),append(E,P),append(E,U),append(k,M),append(k,z),mount_component(N,z,null),insert(Ae,q,be),insert(Ae,j,be),append(j,W),append(W,H),append(W,Q),append(W,K),append(K,V),append(j,Y),append(j,J),append(J,X),append(J,Z),append(J,ee),append(ee,ce),append(j,oe),append(j,ae),append(ae,se),append(ae,ne),append(ae,ie),append(ie,le),append(j,pe),append(j,me),append(me,fe),append(me,de),append(me,ve),append(ve,_e),he=!0},p(Ae,be){(!he||be&1)&&F!==(F=Ae[0].filename+"")&&set_data(P,F),(!he||be&1)&&G!==(G=Ae[0].filename+"")&&set_data(V,G),(!he||be&1)&&re!==(re=Ae[0].filename+"")&&set_data(ce,re),(!he||be&1)&&te!==(te=Ae[0].mime+"")&&set_data(le,te),(!he||be&1)&&we!==(we=formatBytes(Ae[0].size)+"")&&set_data(_e,we)},i(Ae){he||(transition_in(N.$$.fragment,Ae),he=!0)},o(Ae){transition_out(N.$$.fragment,Ae),he=!1},d(Ae){Ae&&(detach(k),detach(q),detach(j)),destroy_component(N)}}}function create_fragment$32(T){let k,$,x,I,L,E=T[0]&&create_if_block$1a(T);return{c(){E&&E.c(),k=space(),$=element("button"),$.textContent="Cancel",attr($,"class","cancel")},m(D,F){E&&E.m(D,F),insert(D,k,F),insert(D,$,F),x=!0,I||(L=listen($,"click",T[1]),I=!0)},p(D,[F]){D[0]?E?(E.p(D,F),F&1&&transition_in(E,1)):(E=create_if_block$1a(D),E.c(),transition_in(E,1),E.m(k.parentNode,k)):E&&(group_outros(),transition_out(E,1,1,()=>{E=null}),check_outros())},i(D){x||(transition_in(E),x=!0)},o(D){transition_out(E),x=!1},d(D){D&&(detach(k),detach($)),E&&E.d(D),I=!1,L()}}}function instance$2M(T,k,$){let x;component_subscribe(T,FileBrowserOpeningFile,L=>$(0,x=L));function I(){abortFileReader.set(!0),hideOverlay("openingFile","FileManager")}return[x,I]}class OpeningFile extends SvelteComponent{constructor(k){super(),init(this,k,instance$2M,create_fragment$32,safe_not_equal,{})}}function create_fragment$31(T){let k,$,x,I,L,E,D,F,P,U,M,z,N,q,j,W,H,Q,K,G,V,Y;return{c(){k=element("div"),$=element("div"),x=element("img"),L=space(),E=element("div"),D=element("p"),F=text("Enter a new name for "),P=text(T[4]),U=text(":"),M=space(),z=element("input"),N=space(),q=element("div"),j=element("div"),W=element("button"),H=text("Rename"),K=space(),G=element("button"),G.textContent="Cancel",src_url_equal(x.src,I=T[2]?folder:T[1])||attr(x,"src",I),attr(x,"alt",""),attr($,"class","image"),attr(z,"type","text"),attr(z,"placeholder",T[4]),W.disabled=Q=T[3]||!T[0],attr(j,"class","inner"),attr(q,"class","actions"),attr(k,"class","fb-overlay-mutator-wrapper")},m(J,X){insert(J,k,X),append(k,$),append($,x),append(k,L),append(k,E),append(E,D),append(D,F),append(D,P),append(D,U),append(E,M),append(E,z),set_input_value(z,T[0]),append(E,N),append(E,q),append(q,j),append(j,W),append(W,H),append(j,K),append(j,G),V||(Y=[listen(z,"input",T[8]),listen(z,"input",T[5]),listen(W,"click",T[6]),listen(G,"click",T[7])],V=!0)},p(J,[X]){X&6&&!src_url_equal(x.src,I=J[2]?folder:J[1])&&attr(x,"src",I),X&16&&set_data(P,J[4]),X&16&&attr(z,"placeholder",J[4]),X&1&&z.value!==J[0]&&set_input_value(z,J[0]),X&9&&Q!==(Q=J[3]||!J[0])&&(W.disabled=Q)},i:noop$1,o:noop$1,d(J){J&&detach(k),V=!1,run_all(Y)}}}function instance$2L(T,k,$){let x,I,L;component_subscribe(T,FileBrowserCurrentDir,j=>$(9,x=j)),component_subscribe(T,FileBrowserSelectedFilename,j=>$(4,I=j)),component_subscribe(T,FileBrowserDirContents,j=>$(10,L=j));let E="",D="",F=!1,P=!1;function U(){const j=L.directories,W=L.files;$(2,F=M());for(let H=0;H<j.length;H++)j[H].name==x&&$(2,F=!0);for(let H=0;H<W.length;H++)if(W[H].filename==E)return $(3,P=!0);$(3,P=!1)}FileBrowserSelectedFilename.subscribe(j=>{j&&($(2,F=M()),$(1,D=getMimeIcon(j)))});function M(){const j=L.directories;for(let W=0;W<j.length;W++)if(j[W].name==I)return!0;return!1}async function z(){await renameItem(`${x}/${I}`,`${x}/${E}`),FileBrowserSelectedFilename.set(E),N(),$(0,E=""),fbClass.refresh()}function N(){hideOverlay("renameItem","FileManager")}function q(){E=this.value,$(0,E)}return[E,D,F,P,I,U,z,N,q]}class RenameItem extends SvelteComponent{constructor(k){super(),init(this,k,instance$2L,create_fragment$31,safe_not_equal,{})}}const uploadingfile="",APIReveal_svelte_svelte_type_style_lang="";function create_fragment$30(T){let k,$,x,I;return{c(){k=element("span"),$=element("span"),$.textContent=`${getServer()||location.hostname}`,x=space(),I=element("span"),I.textContent="Hover to show ArcAPI",attr($,"class","api svelte-13s49fr"),attr(I,"class","place svelte-13s49fr"),attr(k,"class","reveal svelte-13s49fr")},m(L,E){insert(L,k,E),append(k,$),append(k,x),append(k,I)},p:noop$1,i:noop$1,o:noop$1,d(L){L&&detach(k)}}}class APIReveal extends SvelteComponent{constructor(k){super(),init(this,k,null,create_fragment$30,safe_not_equal,{})}}function create_if_block$19(T){let k,$,x,I,L,E,D,F=T[0].name+"",P,U,M,z,N,q,j,W,H=T[1].toFixed(0)+"",Q,K,G,V,Y,J,X,Z,ee=T[0].path+"",re,ce,oe,ae,se,ne,ie=T[0].mime+"",te,le,pe,me,fe,de,ve,we;return ve=new APIReveal({}),{c(){k=element("div"),$=element("div"),x=element("img"),L=space(),E=element("div"),D=text("Uploading "),P=text(F),U=text("..."),M=space(),z=element("div"),N=element("div"),q=element("div"),j=space(),W=element("div"),Q=text(H),K=text("%"),G=space(),V=element("table"),Y=element("tr"),J=element("td"),J.textContent="Path",X=space(),Z=element("td"),re=text(ee),ce=space(),oe=element("tr"),ae=element("td"),ae.textContent="Type",se=space(),ne=element("td"),te=text(ie),le=space(),pe=element("tr"),me=element("td"),me.textContent="Target",fe=space(),de=element("td"),create_component(ve.$$.fragment),src_url_equal(x.src,I=icon$2)||attr(x,"src",I),attr(x,"alt",""),attr($,"class","icon"),attr(E,"class","caption"),attr(k,"class","uploadingfile-wrapper"),attr(q,"class","inner"),set_style(q,"width",Math.floor(T[1])+"%"),attr(N,"class","progress"),attr(W,"class","percentage"),attr(z,"class","progress-wrapper"),attr(J,"class","key"),attr(ae,"class","key"),attr(me,"class","key"),attr(V,"class","openfile-details")},m(_e,he){insert(_e,k,he),append(k,$),append($,x),append(k,L),append(k,E),append(E,D),append(E,P),append(E,U),insert(_e,M,he),insert(_e,z,he),append(z,N),append(N,q),append(z,j),append(z,W),append(W,Q),append(W,K),insert(_e,G,he),insert(_e,V,he),append(V,Y),append(Y,J),append(Y,X),append(Y,Z),append(Z,re),append(V,ce),append(V,oe),append(oe,ae),append(oe,se),append(oe,ne),append(ne,te),append(V,le),append(V,pe),append(pe,me),append(pe,fe),append(pe,de),mount_component(ve,de,null),we=!0},p(_e,he){(!we||he&1)&&F!==(F=_e[0].name+"")&&set_data(P,F),(!we||he&2)&&set_style(q,"width",Math.floor(_e[1])+"%"),(!we||he&2)&&H!==(H=_e[1].toFixed(0)+"")&&set_data(Q,H),(!we||he&1)&&ee!==(ee=_e[0].path+"")&&set_data(re,ee),(!we||he&1)&&ie!==(ie=_e[0].mime+"")&&set_data(te,ie)},i(_e){we||(transition_in(ve.$$.fragment,_e),we=!0)},o(_e){transition_out(ve.$$.fragment,_e),we=!1},d(_e){_e&&(detach(k),detach(M),detach(z),detach(G),detach(V)),destroy_component(ve)}}}function create_fragment$2$(T){let k,$,x=T[0]&&create_if_block$19(T);return{c(){x&&x.c(),k=empty()},m(I,L){x&&x.m(I,L),insert(I,k,L),$=!0},p(I,[L]){I[0]?x?(x.p(I,L),L&1&&transition_in(x,1)):(x=create_if_block$19(I),x.c(),transition_in(x,1),x.m(k.parentNode,k)):x&&(group_outros(),transition_out(x,1,1,()=>{x=null}),check_outros())},i(I){$||(transition_in(x),$=!0)},o(I){transition_out(x),$=!1},d(I){I&&detach(k),x&&x.d(I)}}}function instance$2K(T,k,$){let x,I;return component_subscribe(T,FileBrowserUploadFile,L=>$(0,x=L)),component_subscribe(T,FileBrowserUploadProgress,L=>$(1,I=L)),[x,I]}class UploadingFile extends SvelteComponent{constructor(k){super(),init(this,k,instance$2K,create_fragment$2$,safe_not_equal,{})}}const fbOverlays={openingFile:{info:{name:"Opening File",version:"1.0.0",author:"ArcOS Team"},content:OpeningFile,size:{w:430,h:165},show:!1},deletingItem:{info:{name:"Deleting Item",version:"1.0.0",author:"ArcOS Team"},content:DeletingItem,size:{w:430,h:75},show:!1},createFolder:{info:{name:"Create Folder",version:"1.0.0",author:"ArcOS Team"},content:CreateFolder,size:{w:350,h:115},show:!1},createFile:{info:{name:"Create File",version:"1.0.0",author:"ArcOS Team"},content:CreateFile,size:{w:350,h:115},show:!1},uploadingFile:{info:{name:"Uploading File",version:"1.0.0",author:"ArcOS Team"},content:UploadingFile,size:{w:430,h:175},show:!1},renameItem:{info:{name:"Rename Item",version:"1.0.0",author:"ArcOS Team"},content:RenameItem,size:{w:350,h:115},show:!1}},FileBrowserApp={info:{name:"File Manager",description:"Browse your files",builtin:!0,version:"2.5.1",author:"ArcOS Team",icon:fileManager,appGroup:"utilities"},size:{w:700,h:450},pos:{x:30,y:40},minSize:{w:700,h:450},maxSize:{w:1e3,h:600},controls:{min:!0,max:!0,cls:!0},state:{headless:!1,resizable:!0,windowState:{min:!1,max:!1,fll:!1}},content:FileBrowser,glass:!0,overlays:fbOverlays,contextMenu:FileManagerContextMenu},HelpCenter$2="";function create_if_block$18(T){let k,$=T[0].title+"",x,I,L;return{c(){k=element("button"),x=text($),attr(k,"class","redirect")},m(E,D){insert(E,k,D),append(k,x),I||(L=listen(k,"click",T[1]),I=!0)},p(E,D){D&1&&$!==($=E[0].title+"")&&set_data(x,$)},d(E){E&&detach(k),I=!1,L()}}}function create_fragment$2_(T){let k,$=T[0]&&create_if_block$18(T);return{c(){$&&$.c(),k=empty()},m(x,I){$&&$.m(x,I),insert(x,k,I)},p(x,[I]){x[0]?$?$.p(x,I):($=create_if_block$18(x),$.c(),$.m(k.parentNode,k)):$&&($.d(1),$=null)},i:noop$1,o:noop$1,d(x){x&&detach(k),$&&$.d(x)}}}function instance$2J(T,k,$){let{id:x}=k,I;onMount(()=>{$(0,I=helpCenterArticles[x])});function L(){currentArticle.set(x)}return T.$$set=E=>{"id"in E&&$(2,x=E.id)},[I,L,x]}class Redirect extends SvelteComponent{constructor(k){super(),init(this,k,instance$2J,create_fragment$2_,safe_not_equal,{id:2})}}function create_fragment$2Z(T){let k,$,x,I,L,E,D,F,P,U,M,z,N,q;return L=new Redirect({props:{id:"personalization"}}),D=new Redirect({props:{id:"arctermConfiguration"}}),P=new Redirect({props:{id:"appsTurnOnAndOff"}}),N=new Redirect({props:{id:"homePageChanges"}}),{c(){k=element("h1"),k.textContent="ArcOS Help Center",$=space(),x=element("p"),x.textContent=`Welcome to the ArcOS help center. Got a question or a problem to solve?\r
  There's a good chance that the information you're looking for already happens\r
  to be in this very app. Perhaps one of these common articles can help you out?`,I=space(),create_component(L.$$.fragment),E=space(),create_component(D.$$.fragment),F=space(),create_component(P.$$.fragment),U=space(),M=element("hr"),z=space(),create_component(N.$$.fragment)},m(j,W){insert(j,k,W),insert(j,$,W),insert(j,x,W),insert(j,I,W),mount_component(L,j,W),insert(j,E,W),mount_component(D,j,W),insert(j,F,W),mount_component(P,j,W),insert(j,U,W),insert(j,M,W),insert(j,z,W),mount_component(N,j,W),q=!0},p:noop$1,i(j){q||(transition_in(L.$$.fragment,j),transition_in(D.$$.fragment,j),transition_in(P.$$.fragment,j),transition_in(N.$$.fragment,j),q=!0)},o(j){transition_out(L.$$.fragment,j),transition_out(D.$$.fragment,j),transition_out(P.$$.fragment,j),transition_out(N.$$.fragment,j),q=!1},d(j){j&&(detach(k),detach($),detach(x),detach(I),detach(E),detach(F),detach(U),detach(M),detach(z)),destroy_component(L,j),destroy_component(D,j),destroy_component(P,j),destroy_component(N,j)}}}class HomePage extends SvelteComponent{constructor(k){super(),init(this,k,null,create_fragment$2Z,safe_not_equal,{})}}async function getLatestRelease(){try{return await(await fetch("https://api.github.com/repos/IzK-ArcOS/ArcOS-Frontend/releases/latest",{cache:"no-store"})).json()}catch{return null}}async function getLatestVersion(){const T=parseVersion(ArcOSVersion);try{const k=await getLatestRelease();if(!k)return T;const $=parseVersion(filterTagName(k.tag_name));return versionBigger($,T)?$:T}catch{return T}}function parseVersion(T){const k=T.replaceAll("v","").split(".");return[k[0],k[1],k[2]].map($=>{try{return parseInt($)}catch{return 0}})}function filterTagName(T){return T.split("-")[0]}function versionBigger(T,k){for(let $=0;$<T.length;$++)if(T[$]>k[$])return!0;return!1}async function checkForUpdates(){const T=await getLatestVersion();if(versionBigger(T,parseVersion(ArcOSVersion))){const k=`v${T.join(".")}`,$="https://github.com/IzK-ArcOS/ArcOS-Frontend/releases/latest";makeNotification({icon:"sync",title:"Updates available!",message:`ArcOS Desktop ${k} is available for download. Install it to get the latest features.`,buttons:[{caption:"Open",action:()=>window.open($,"_blank")}]})}}function supressWarnings(){const T=console.warn;console.warn=k=>{k.includes("unknown prop")||k.includes("unexpected slot")||T(k)},onMount(()=>{console.warn=T})}function get_each_context_5(T,k,$){const x=T.slice();return x[18]=k[$],x}function get_each_context_4(T,k,$){const x=T.slice();return x[18]=k[$],x}function get_each_context_1$9(T,k,$){const x=T.slice();return x[10]=k[$],x}function get_each_context_2$1(T,k,$){const x=T.slice();return x[13]=k[$],x[15]=$,x}function get_each_context_3(T,k,$){const x=T.slice();return x[16]=k[$],x[15]=$,x}function get_each_context$G(T,k,$){const x=T.slice();return x[7]=k[$],x}function create_if_block_1$m(T){let k,$,x,I;const L=[create_if_block_2$6,create_if_block_3$2,create_else_block_1],E=[];function D(F,P){return F[0]==="table"?0:F[0]==="list"?1:2}return k=D(T),$=E[k]=L[k](T),{c(){$.c(),x=empty()},m(F,P){E[k].m(F,P),insert(F,x,P),I=!0},p(F,P){let U=k;k=D(F),k===U?E[k].p(F,P):(group_outros(),transition_out(E[U],1,1,()=>{E[U]=null}),check_outros(),$=E[k],$?$.p(F,P):($=E[k]=L[k](F),$.c()),transition_in($,1),$.m(x.parentNode,x))},i(F){I||(transition_in($),I=!0)},o(F){transition_out($),I=!1},d(F){F&&detach(x),E[k].d(F)}}}function create_if_block$17(T){let k,$,x=ensure_array_like(T[1]),I=[];for(let E=0;E<x.length;E+=1)I[E]=create_each_block$G(get_each_context$G(T,x,E));const L=E=>transition_out(I[E],1,1,()=>{I[E]=null});return{c(){for(let E=0;E<I.length;E+=1)I[E].c();k=empty()},m(E,D){for(let F=0;F<I.length;F+=1)I[F]&&I[F].m(E,D);insert(E,k,D),$=!0},p(E,D){if(D&34){x=ensure_array_like(E[1]);let F;for(F=0;F<x.length;F+=1){const P=get_each_context$G(E,x,F);I[F]?(I[F].p(P,D),transition_in(I[F],1)):(I[F]=create_each_block$G(P),I[F].c(),transition_in(I[F],1),I[F].m(k.parentNode,k))}for(group_outros(),F=x.length;F<I.length;F+=1)L(F);check_outros()}},i(E){if(!$){for(let D=0;D<x.length;D+=1)transition_in(I[D]);$=!0}},o(E){I=I.filter(Boolean);for(let D=0;D<I.length;D+=1)transition_out(I[D]);$=!1},d(E){E&&detach(k),destroy_each(I,E)}}}function create_else_block_1(T){let k,$,x;const I=[T[6]];var L=T[5][T[0]];function E(D){let F={$$slots:{default:[create_default_slot_11]},$$scope:{ctx:D}};for(let P=0;P<I.length;P+=1)F=assign(F,I[P]);return{props:F}}return L&&(k=construct_svelte_component(L,E(T))),{c(){k&&create_component(k.$$.fragment),$=empty()},m(D,F){k&&mount_component(k,D,F),insert(D,$,F),x=!0},p(D,F){const P=F&64?get_spread_update(I,[get_spread_object(D[6])]):{};if(F&8388706&&(P.$$scope={dirty:F,ctx:D}),F&33&&L!==(L=D[5][D[0]])){if(k){group_outros();const U=k;transition_out(U.$$.fragment,1,0,()=>{destroy_component(U,1)}),check_outros()}L?(k=construct_svelte_component(L,E(D)),create_component(k.$$.fragment),transition_in(k.$$.fragment,1),mount_component(k,$.parentNode,$)):k=null}else L&&k.$set(P)},i(D){x||(k&&transition_in(k.$$.fragment,D),x=!0)},o(D){k&&transition_out(k.$$.fragment,D),x=!1},d(D){D&&detach($),k&&destroy_component(k,D)}}}function create_if_block_3$2(T){let k,$,x,I;const L=[create_if_block_4$2,create_else_block$k],E=[];function D(F,P){return F[4]?0:1}return k=D(T),$=E[k]=L[k](T),{c(){$.c(),x=empty()},m(F,P){E[k].m(F,P),insert(F,x,P),I=!0},p(F,P){let U=k;k=D(F),k===U?E[k].p(F,P):(group_outros(),transition_out(E[U],1,1,()=>{E[U]=null}),check_outros(),$=E[k],$?$.p(F,P):($=E[k]=L[k](F),$.c()),transition_in($,1),$.m(x.parentNode,x))},i(F){I||(transition_in($),I=!0)},o(F){transition_out($),I=!1},d(F){F&&detach(x),E[k].d(F)}}}function create_if_block_2$6(T){let k,$,x;var I=T[5].table;function L(E){return{props:{$$slots:{default:[create_default_slot$a]},$$scope:{ctx:E}}}}return I&&(k=construct_svelte_component(I,L(T))),{c(){k&&create_component(k.$$.fragment),$=empty()},m(E,D){k&&mount_component(k,E,D),insert(E,$,D),x=!0},p(E,D){const F={};if(D&8388716&&(F.$$scope={dirty:D,ctx:E}),D&32&&I!==(I=E[5].table)){if(k){group_outros();const P=k;transition_out(P.$$.fragment,1,0,()=>{destroy_component(P,1)}),check_outros()}I?(k=construct_svelte_component(I,L(E)),create_component(k.$$.fragment),transition_in(k.$$.fragment,1),mount_component(k,$.parentNode,$)):k=null}else I&&k.$set(F)},i(E){x||(k&&transition_in(k.$$.fragment,E),x=!0)},o(E){k&&transition_out(k.$$.fragment,E),x=!1},d(E){E&&detach($),k&&destroy_component(k,E)}}}function create_else_block_2(T){let k=T[6].raw+"",$;return{c(){$=text(k)},m(x,I){insert(x,$,I)},p(x,I){I&64&&k!==(k=x[6].raw+"")&&set_data($,k)},i:noop$1,o:noop$1,d(x){x&&detach($)}}}function create_if_block_5$2(T){let k,$;return k=new Parser$1({props:{tokens:T[1],renderers:T[5]}}),{c(){create_component(k.$$.fragment)},m(x,I){mount_component(k,x,I),$=!0},p(x,I){const L={};I&2&&(L.tokens=x[1]),I&32&&(L.renderers=x[5]),k.$set(L)},i(x){$||(transition_in(k.$$.fragment,x),$=!0)},o(x){transition_out(k.$$.fragment,x),$=!1},d(x){destroy_component(k,x)}}}function create_default_slot_11(T){let k,$,x,I;const L=[create_if_block_5$2,create_else_block_2],E=[];function D(F,P){return F[1]?0:1}return k=D(T),$=E[k]=L[k](T),{c(){$.c(),x=empty()},m(F,P){E[k].m(F,P),insert(F,x,P),I=!0},p(F,P){let U=k;k=D(F),k===U?E[k].p(F,P):(group_outros(),transition_out(E[U],1,1,()=>{E[U]=null}),check_outros(),$=E[k],$?$.p(F,P):($=E[k]=L[k](F),$.c()),transition_in($,1),$.m(x.parentNode,x))},i(F){I||(transition_in($),I=!0)},o(F){transition_out($),I=!1},d(F){F&&detach(x),E[k].d(F)}}}function create_else_block$k(T){let k,$,x;const I=[{ordered:T[4]},T[6]];var L=T[5].list;function E(D){let F={$$slots:{default:[create_default_slot_9]},$$scope:{ctx:D}};for(let P=0;P<I.length;P+=1)F=assign(F,I[P]);return{props:F}}return L&&(k=construct_svelte_component(L,E(T))),{c(){k&&create_component(k.$$.fragment),$=empty()},m(D,F){k&&mount_component(k,D,F),insert(D,$,F),x=!0},p(D,F){const P=F&80?get_spread_update(I,[F&16&&{ordered:D[4]},F&64&&get_spread_object(D[6])]):{};if(F&8388704&&(P.$$scope={dirty:F,ctx:D}),F&32&&L!==(L=D[5].list)){if(k){group_outros();const U=k;transition_out(U.$$.fragment,1,0,()=>{destroy_component(U,1)}),check_outros()}L?(k=construct_svelte_component(L,E(D)),create_component(k.$$.fragment),transition_in(k.$$.fragment,1),mount_component(k,$.parentNode,$)):k=null}else L&&k.$set(P)},i(D){x||(k&&transition_in(k.$$.fragment,D),x=!0)},o(D){k&&transition_out(k.$$.fragment,D),x=!1},d(D){D&&detach($),k&&destroy_component(k,D)}}}function create_if_block_4$2(T){let k,$,x;const I=[{ordered:T[4]},T[6]];var L=T[5].list;function E(D){let F={$$slots:{default:[create_default_slot_7$1]},$$scope:{ctx:D}};for(let P=0;P<I.length;P+=1)F=assign(F,I[P]);return{props:F}}return L&&(k=construct_svelte_component(L,E(T))),{c(){k&&create_component(k.$$.fragment),$=empty()},m(D,F){k&&mount_component(k,D,F),insert(D,$,F),x=!0},p(D,F){const P=F&80?get_spread_update(I,[F&16&&{ordered:D[4]},F&64&&get_spread_object(D[6])]):{};if(F&8388704&&(P.$$scope={dirty:F,ctx:D}),F&32&&L!==(L=D[5].list)){if(k){group_outros();const U=k;transition_out(U.$$.fragment,1,0,()=>{destroy_component(U,1)}),check_outros()}L?(k=construct_svelte_component(L,E(D)),create_component(k.$$.fragment),transition_in(k.$$.fragment,1),mount_component(k,$.parentNode,$)):k=null}else L&&k.$set(P)},i(D){x||(k&&transition_in(k.$$.fragment,D),x=!0)},o(D){k&&transition_out(k.$$.fragment,D),x=!1},d(D){D&&detach($),k&&destroy_component(k,D)}}}function create_default_slot_10(T){let k,$,x;return k=new Parser$1({props:{tokens:T[18].tokens,renderers:T[5]}}),{c(){create_component(k.$$.fragment),$=space()},m(I,L){mount_component(k,I,L),insert(I,$,L),x=!0},p(I,L){const E={};L&64&&(E.tokens=I[18].tokens),L&32&&(E.renderers=I[5]),k.$set(E)},i(I){x||(transition_in(k.$$.fragment,I),x=!0)},o(I){transition_out(k.$$.fragment,I),x=!1},d(I){I&&detach($),destroy_component(k,I)}}}function create_each_block_5(T){let k,$,x;const I=[T[18]];var L=T[5].unorderedlistitem||T[5].listitem;function E(D){let F={$$slots:{default:[create_default_slot_10]},$$scope:{ctx:D}};for(let P=0;P<I.length;P+=1)F=assign(F,I[P]);return{props:F}}return L&&(k=construct_svelte_component(L,E(T))),{c(){k&&create_component(k.$$.fragment),$=empty()},m(D,F){k&&mount_component(k,D,F),insert(D,$,F),x=!0},p(D,F){const P=F&64?get_spread_update(I,[get_spread_object(D[18])]):{};if(F&8388704&&(P.$$scope={dirty:F,ctx:D}),F&32&&L!==(L=D[5].unorderedlistitem||D[5].listitem)){if(k){group_outros();const U=k;transition_out(U.$$.fragment,1,0,()=>{destroy_component(U,1)}),check_outros()}L?(k=construct_svelte_component(L,E(D)),create_component(k.$$.fragment),transition_in(k.$$.fragment,1),mount_component(k,$.parentNode,$)):k=null}else L&&k.$set(P)},i(D){x||(k&&transition_in(k.$$.fragment,D),x=!0)},o(D){k&&transition_out(k.$$.fragment,D),x=!1},d(D){D&&detach($),k&&destroy_component(k,D)}}}function create_default_slot_9(T){let k,$,x=ensure_array_like(T[6].items),I=[];for(let E=0;E<x.length;E+=1)I[E]=create_each_block_5(get_each_context_5(T,x,E));const L=E=>transition_out(I[E],1,1,()=>{I[E]=null});return{c(){for(let E=0;E<I.length;E+=1)I[E].c();k=empty()},m(E,D){for(let F=0;F<I.length;F+=1)I[F]&&I[F].m(E,D);insert(E,k,D),$=!0},p(E,D){if(D&96){x=ensure_array_like(E[6].items);let F;for(F=0;F<x.length;F+=1){const P=get_each_context_5(E,x,F);I[F]?(I[F].p(P,D),transition_in(I[F],1)):(I[F]=create_each_block_5(P),I[F].c(),transition_in(I[F],1),I[F].m(k.parentNode,k))}for(group_outros(),F=x.length;F<I.length;F+=1)L(F);check_outros()}},i(E){if(!$){for(let D=0;D<x.length;D+=1)transition_in(I[D]);$=!0}},o(E){I=I.filter(Boolean);for(let D=0;D<I.length;D+=1)transition_out(I[D]);$=!1},d(E){E&&detach(k),destroy_each(I,E)}}}function create_default_slot_8(T){let k,$,x;return k=new Parser$1({props:{tokens:T[18].tokens,renderers:T[5]}}),{c(){create_component(k.$$.fragment),$=space()},m(I,L){mount_component(k,I,L),insert(I,$,L),x=!0},p(I,L){const E={};L&64&&(E.tokens=I[18].tokens),L&32&&(E.renderers=I[5]),k.$set(E)},i(I){x||(transition_in(k.$$.fragment,I),x=!0)},o(I){transition_out(k.$$.fragment,I),x=!1},d(I){I&&detach($),destroy_component(k,I)}}}function create_each_block_4(T){let k,$,x;const I=[T[18]];var L=T[5].orderedlistitem||T[5].listitem;function E(D){let F={$$slots:{default:[create_default_slot_8]},$$scope:{ctx:D}};for(let P=0;P<I.length;P+=1)F=assign(F,I[P]);return{props:F}}return L&&(k=construct_svelte_component(L,E(T))),{c(){k&&create_component(k.$$.fragment),$=empty()},m(D,F){k&&mount_component(k,D,F),insert(D,$,F),x=!0},p(D,F){const P=F&64?get_spread_update(I,[get_spread_object(D[18])]):{};if(F&8388704&&(P.$$scope={dirty:F,ctx:D}),F&32&&L!==(L=D[5].orderedlistitem||D[5].listitem)){if(k){group_outros();const U=k;transition_out(U.$$.fragment,1,0,()=>{destroy_component(U,1)}),check_outros()}L?(k=construct_svelte_component(L,E(D)),create_component(k.$$.fragment),transition_in(k.$$.fragment,1),mount_component(k,$.parentNode,$)):k=null}else L&&k.$set(P)},i(D){x||(k&&transition_in(k.$$.fragment,D),x=!0)},o(D){k&&transition_out(k.$$.fragment,D),x=!1},d(D){D&&detach($),k&&destroy_component(k,D)}}}function create_default_slot_7$1(T){let k,$,x=ensure_array_like(T[6].items),I=[];for(let E=0;E<x.length;E+=1)I[E]=create_each_block_4(get_each_context_4(T,x,E));const L=E=>transition_out(I[E],1,1,()=>{I[E]=null});return{c(){for(let E=0;E<I.length;E+=1)I[E].c();k=empty()},m(E,D){for(let F=0;F<I.length;F+=1)I[F]&&I[F].m(E,D);insert(E,k,D),$=!0},p(E,D){if(D&96){x=ensure_array_like(E[6].items);let F;for(F=0;F<x.length;F+=1){const P=get_each_context_4(E,x,F);I[F]?(I[F].p(P,D),transition_in(I[F],1)):(I[F]=create_each_block_4(P),I[F].c(),transition_in(I[F],1),I[F].m(k.parentNode,k))}for(group_outros(),F=x.length;F<I.length;F+=1)L(F);check_outros()}},i(E){if(!$){for(let D=0;D<x.length;D+=1)transition_in(I[D]);$=!0}},o(E){I=I.filter(Boolean);for(let D=0;D<I.length;D+=1)transition_out(I[D]);$=!1},d(E){E&&detach(k),destroy_each(I,E)}}}function create_default_slot_6$1(T){let k,$,x;return k=new Parser$1({props:{tokens:T[16].tokens,renderers:T[5]}}),{c(){create_component(k.$$.fragment),$=space()},m(I,L){mount_component(k,I,L),insert(I,$,L),x=!0},p(I,L){const E={};L&4&&(E.tokens=I[16].tokens),L&32&&(E.renderers=I[5]),k.$set(E)},i(I){x||(transition_in(k.$$.fragment,I),x=!0)},o(I){transition_out(k.$$.fragment,I),x=!1},d(I){I&&detach($),destroy_component(k,I)}}}function create_each_block_3(T){let k,$,x;var I=T[5].tablecell;function L(E){return{props:{header:!0,align:E[6].align[E[15]]||"center",$$slots:{default:[create_default_slot_6$1]},$$scope:{ctx:E}}}}return I&&(k=construct_svelte_component(I,L(T))),{c(){k&&create_component(k.$$.fragment),$=empty()},m(E,D){k&&mount_component(k,E,D),insert(E,$,D),x=!0},p(E,D){const F={};if(D&64&&(F.align=E[6].align[E[15]]||"center"),D&8388644&&(F.$$scope={dirty:D,ctx:E}),D&32&&I!==(I=E[5].tablecell)){if(k){group_outros();const P=k;transition_out(P.$$.fragment,1,0,()=>{destroy_component(P,1)}),check_outros()}I?(k=construct_svelte_component(I,L(E)),create_component(k.$$.fragment),transition_in(k.$$.fragment,1),mount_component(k,$.parentNode,$)):k=null}else I&&k.$set(F)},i(E){x||(k&&transition_in(k.$$.fragment,E),x=!0)},o(E){k&&transition_out(k.$$.fragment,E),x=!1},d(E){E&&detach($),k&&destroy_component(k,E)}}}function create_default_slot_5$1(T){let k,$,x=ensure_array_like(T[2]),I=[];for(let E=0;E<x.length;E+=1)I[E]=create_each_block_3(get_each_context_3(T,x,E));const L=E=>transition_out(I[E],1,1,()=>{I[E]=null});return{c(){for(let E=0;E<I.length;E+=1)I[E].c();k=empty()},m(E,D){for(let F=0;F<I.length;F+=1)I[F]&&I[F].m(E,D);insert(E,k,D),$=!0},p(E,D){if(D&100){x=ensure_array_like(E[2]);let F;for(F=0;F<x.length;F+=1){const P=get_each_context_3(E,x,F);I[F]?(I[F].p(P,D),transition_in(I[F],1)):(I[F]=create_each_block_3(P),I[F].c(),transition_in(I[F],1),I[F].m(k.parentNode,k))}for(group_outros(),F=x.length;F<I.length;F+=1)L(F);check_outros()}},i(E){if(!$){for(let D=0;D<x.length;D+=1)transition_in(I[D]);$=!0}},o(E){I=I.filter(Boolean);for(let D=0;D<I.length;D+=1)transition_out(I[D]);$=!1},d(E){E&&detach(k),destroy_each(I,E)}}}function create_default_slot_4$2(T){let k,$,x;var I=T[5].tablerow;function L(E){return{props:{$$slots:{default:[create_default_slot_5$1]},$$scope:{ctx:E}}}}return I&&(k=construct_svelte_component(I,L(T))),{c(){k&&create_component(k.$$.fragment),$=empty()},m(E,D){k&&mount_component(k,E,D),insert(E,$,D),x=!0},p(E,D){const F={};if(D&8388708&&(F.$$scope={dirty:D,ctx:E}),D&32&&I!==(I=E[5].tablerow)){if(k){group_outros();const P=k;transition_out(P.$$.fragment,1,0,()=>{destroy_component(P,1)}),check_outros()}I?(k=construct_svelte_component(I,L(E)),create_component(k.$$.fragment),transition_in(k.$$.fragment,1),mount_component(k,$.parentNode,$)):k=null}else I&&k.$set(F)},i(E){x||(k&&transition_in(k.$$.fragment,E),x=!0)},o(E){k&&transition_out(k.$$.fragment,E),x=!1},d(E){E&&detach($),k&&destroy_component(k,E)}}}function create_default_slot_3$3(T){let k,$;return k=new Parser$1({props:{tokens:T[13].tokens,renderers:T[5]}}),{c(){create_component(k.$$.fragment)},m(x,I){mount_component(k,x,I),$=!0},p(x,I){const L={};I&8&&(L.tokens=x[13].tokens),I&32&&(L.renderers=x[5]),k.$set(L)},i(x){$||(transition_in(k.$$.fragment,x),$=!0)},o(x){transition_out(k.$$.fragment,x),$=!1},d(x){destroy_component(k,x)}}}function create_each_block_2$1(T){let k,$,x;var I=T[5].tablecell;function L(E){return{props:{header:!1,align:E[6].align[E[15]]||"center",$$slots:{default:[create_default_slot_3$3]},$$scope:{ctx:E}}}}return I&&(k=construct_svelte_component(I,L(T))),{c(){k&&create_component(k.$$.fragment),$=empty()},m(E,D){k&&mount_component(k,E,D),insert(E,$,D),x=!0},p(E,D){const F={};if(D&64&&(F.align=E[6].align[E[15]]||"center"),D&8388648&&(F.$$scope={dirty:D,ctx:E}),D&32&&I!==(I=E[5].tablecell)){if(k){group_outros();const P=k;transition_out(P.$$.fragment,1,0,()=>{destroy_component(P,1)}),check_outros()}I?(k=construct_svelte_component(I,L(E)),create_component(k.$$.fragment),transition_in(k.$$.fragment,1),mount_component(k,$.parentNode,$)):k=null}else I&&k.$set(F)},i(E){x||(k&&transition_in(k.$$.fragment,E),x=!0)},o(E){k&&transition_out(k.$$.fragment,E),x=!1},d(E){E&&detach($),k&&destroy_component(k,E)}}}function create_default_slot_2$5(T){let k,$,x=ensure_array_like(T[10]),I=[];for(let E=0;E<x.length;E+=1)I[E]=create_each_block_2$1(get_each_context_2$1(T,x,E));const L=E=>transition_out(I[E],1,1,()=>{I[E]=null});return{c(){for(let E=0;E<I.length;E+=1)I[E].c();k=space()},m(E,D){for(let F=0;F<I.length;F+=1)I[F]&&I[F].m(E,D);insert(E,k,D),$=!0},p(E,D){if(D&104){x=ensure_array_like(E[10]);let F;for(F=0;F<x.length;F+=1){const P=get_each_context_2$1(E,x,F);I[F]?(I[F].p(P,D),transition_in(I[F],1)):(I[F]=create_each_block_2$1(P),I[F].c(),transition_in(I[F],1),I[F].m(k.parentNode,k))}for(group_outros(),F=x.length;F<I.length;F+=1)L(F);check_outros()}},i(E){if(!$){for(let D=0;D<x.length;D+=1)transition_in(I[D]);$=!0}},o(E){I=I.filter(Boolean);for(let D=0;D<I.length;D+=1)transition_out(I[D]);$=!1},d(E){E&&detach(k),destroy_each(I,E)}}}function create_each_block_1$9(T){let k,$,x;var I=T[5].tablerow;function L(E){return{props:{$$slots:{default:[create_default_slot_2$5]},$$scope:{ctx:E}}}}return I&&(k=construct_svelte_component(I,L(T))),{c(){k&&create_component(k.$$.fragment),$=empty()},m(E,D){k&&mount_component(k,E,D),insert(E,$,D),x=!0},p(E,D){const F={};if(D&8388712&&(F.$$scope={dirty:D,ctx:E}),D&32&&I!==(I=E[5].tablerow)){if(k){group_outros();const P=k;transition_out(P.$$.fragment,1,0,()=>{destroy_component(P,1)}),check_outros()}I?(k=construct_svelte_component(I,L(E)),create_component(k.$$.fragment),transition_in(k.$$.fragment,1),mount_component(k,$.parentNode,$)):k=null}else I&&k.$set(F)},i(E){x||(k&&transition_in(k.$$.fragment,E),x=!0)},o(E){k&&transition_out(k.$$.fragment,E),x=!1},d(E){E&&detach($),k&&destroy_component(k,E)}}}function create_default_slot_1$6(T){let k,$,x=ensure_array_like(T[3]),I=[];for(let E=0;E<x.length;E+=1)I[E]=create_each_block_1$9(get_each_context_1$9(T,x,E));const L=E=>transition_out(I[E],1,1,()=>{I[E]=null});return{c(){for(let E=0;E<I.length;E+=1)I[E].c();k=empty()},m(E,D){for(let F=0;F<I.length;F+=1)I[F]&&I[F].m(E,D);insert(E,k,D),$=!0},p(E,D){if(D&104){x=ensure_array_like(E[3]);let F;for(F=0;F<x.length;F+=1){const P=get_each_context_1$9(E,x,F);I[F]?(I[F].p(P,D),transition_in(I[F],1)):(I[F]=create_each_block_1$9(P),I[F].c(),transition_in(I[F],1),I[F].m(k.parentNode,k))}for(group_outros(),F=x.length;F<I.length;F+=1)L(F);check_outros()}},i(E){if(!$){for(let D=0;D<x.length;D+=1)transition_in(I[D]);$=!0}},o(E){I=I.filter(Boolean);for(let D=0;D<I.length;D+=1)transition_out(I[D]);$=!1},d(E){E&&detach(k),destroy_each(I,E)}}}function create_default_slot$a(T){let k,$,x,I,L;var E=T[5].tablehead;function D(U){return{props:{$$slots:{default:[create_default_slot_4$2]},$$scope:{ctx:U}}}}E&&(k=construct_svelte_component(E,D(T)));var F=T[5].tablebody;function P(U){return{props:{$$slots:{default:[create_default_slot_1$6]},$$scope:{ctx:U}}}}return F&&(x=construct_svelte_component(F,P(T))),{c(){k&&create_component(k.$$.fragment),$=space(),x&&create_component(x.$$.fragment),I=empty()},m(U,M){k&&mount_component(k,U,M),insert(U,$,M),x&&mount_component(x,U,M),insert(U,I,M),L=!0},p(U,M){const z={};if(M&8388708&&(z.$$scope={dirty:M,ctx:U}),M&32&&E!==(E=U[5].tablehead)){if(k){group_outros();const q=k;transition_out(q.$$.fragment,1,0,()=>{destroy_component(q,1)}),check_outros()}E?(k=construct_svelte_component(E,D(U)),create_component(k.$$.fragment),transition_in(k.$$.fragment,1),mount_component(k,$.parentNode,$)):k=null}else E&&k.$set(z);const N={};if(M&8388712&&(N.$$scope={dirty:M,ctx:U}),M&32&&F!==(F=U[5].tablebody)){if(x){group_outros();const q=x;transition_out(q.$$.fragment,1,0,()=>{destroy_component(q,1)}),check_outros()}F?(x=construct_svelte_component(F,P(U)),create_component(x.$$.fragment),transition_in(x.$$.fragment,1),mount_component(x,I.parentNode,I)):x=null}else F&&x.$set(N)},i(U){L||(k&&transition_in(k.$$.fragment,U),x&&transition_in(x.$$.fragment,U),L=!0)},o(U){k&&transition_out(k.$$.fragment,U),x&&transition_out(x.$$.fragment,U),L=!1},d(U){U&&(detach($),detach(I)),k&&destroy_component(k,U),x&&destroy_component(x,U)}}}function create_each_block$G(T){let k,$;const x=[T[7],{renderers:T[5]}];let I={};for(let L=0;L<x.length;L+=1)I=assign(I,x[L]);return k=new Parser$1({props:I}),{c(){create_component(k.$$.fragment)},m(L,E){mount_component(k,L,E),$=!0},p(L,E){const D=E&34?get_spread_update(x,[E&2&&get_spread_object(L[7]),E&32&&{renderers:L[5]}]):{};k.$set(D)},i(L){$||(transition_in(k.$$.fragment,L),$=!0)},o(L){transition_out(k.$$.fragment,L),$=!1},d(L){destroy_component(k,L)}}}function create_fragment$2Y(T){let k,$,x,I;const L=[create_if_block$17,create_if_block_1$m],E=[];function D(F,P){return F[0]?F[5][F[0]]?1:-1:0}return~(k=D(T))&&($=E[k]=L[k](T)),{c(){$&&$.c(),x=empty()},m(F,P){~k&&E[k].m(F,P),insert(F,x,P),I=!0},p(F,[P]){let U=k;k=D(F),k===U?~k&&E[k].p(F,P):($&&(group_outros(),transition_out(E[U],1,1,()=>{E[U]=null}),check_outros()),~k?($=E[k],$?$.p(F,P):($=E[k]=L[k](F),$.c()),transition_in($,1),$.m(x.parentNode,x)):$=null)},i(F){I||(transition_in($),I=!0)},o(F){transition_out($),I=!1},d(F){F&&detach(x),~k&&E[k].d(F)}}}function instance$2I(T,k,$){const x=["type","tokens","header","rows","ordered","renderers"];let I=compute_rest_props(k,x),{type:L=void 0}=k,{tokens:E=void 0}=k,{header:D=void 0}=k,{rows:F=void 0}=k,{ordered:P=!1}=k,{renderers:U}=k;return supressWarnings(),T.$$set=M=>{k=assign(assign({},k),exclude_internal_props(M)),$(6,I=compute_rest_props(k,x)),"type"in M&&$(0,L=M.type),"tokens"in M&&$(1,E=M.tokens),"header"in M&&$(2,D=M.header),"rows"in M&&$(3,F=M.rows),"ordered"in M&&$(4,P=M.ordered),"renderers"in M&&$(5,U=M.renderers)},[L,E,D,F,P,U,I]}let Parser$1=class extends SvelteComponent{constructor(k){super(),init(this,k,instance$2I,create_fragment$2Y,safe_not_equal,{type:0,tokens:1,header:2,rows:3,ordered:4,renderers:5})}};function getDefaults(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}let defaults=getDefaults();function changeDefaults(T){defaults=T}const escapeTest=/[&<>"']/,escapeReplace=new RegExp(escapeTest.source,"g"),escapeTestNoEncode=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode=new RegExp(escapeTestNoEncode.source,"g"),escapeReplacements={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},getEscapeReplacement=T=>escapeReplacements[T];function escape(T,k){if(k){if(escapeTest.test(T))return T.replace(escapeReplace,getEscapeReplacement)}else if(escapeTestNoEncode.test(T))return T.replace(escapeReplaceNoEncode,getEscapeReplacement);return T}const unescapeTest=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function unescape$1(T){return T.replace(unescapeTest,(k,$)=>($=$.toLowerCase(),$==="colon"?":":$.charAt(0)==="#"?$.charAt(1)==="x"?String.fromCharCode(parseInt($.substring(2),16)):String.fromCharCode(+$.substring(1)):""))}const caret=/(^|[^\[])\^/g;function edit(T,k){T=typeof T=="string"?T:T.source,k=k||"";const $={replace:(x,I)=>(I=I.source||I,I=I.replace(caret,"$1"),T=T.replace(x,I),$),getRegex:()=>new RegExp(T,k)};return $}const nonWordAndColonTest=/[^\w:]/g,originIndependentUrl=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function cleanUrl(T,k,$){if(T){let x;try{x=decodeURIComponent(unescape$1($)).replace(nonWordAndColonTest,"").toLowerCase()}catch{return null}if(x.indexOf("javascript:")===0||x.indexOf("vbscript:")===0||x.indexOf("data:")===0)return null}k&&!originIndependentUrl.test($)&&($=resolveUrl(k,$));try{$=encodeURI($).replace(/%25/g,"%")}catch{return null}return $}const baseUrls={},justDomain=/^[^:]+:\/*[^/]*$/,protocol=/^([^:]+:)[\s\S]*$/,domain=/^([^:]+:\/*[^/]*)[\s\S]*$/;function resolveUrl(T,k){baseUrls[" "+T]||(justDomain.test(T)?baseUrls[" "+T]=T+"/":baseUrls[" "+T]=rtrim(T,"/",!0)),T=baseUrls[" "+T];const $=T.indexOf(":")===-1;return k.substring(0,2)==="//"?$?k:T.replace(protocol,"$1")+k:k.charAt(0)==="/"?$?k:T.replace(domain,"$1")+k:T+k}const noopTest={exec:function T(){}};function splitCells(T,k){const $=T.replace(/\|/g,(L,E,D)=>{let F=!1,P=E;for(;--P>=0&&D[P]==="\\";)F=!F;return F?"|":" |"}),x=$.split(/ \|/);let I=0;if(x[0].trim()||x.shift(),x.length>0&&!x[x.length-1].trim()&&x.pop(),x.length>k)x.splice(k);else for(;x.length<k;)x.push("");for(;I<x.length;I++)x[I]=x[I].trim().replace(/\\\|/g,"|");return x}function rtrim(T,k,$){const x=T.length;if(x===0)return"";let I=0;for(;I<x;){const L=T.charAt(x-I-1);if(L===k&&!$)I++;else if(L!==k&&$)I++;else break}return T.slice(0,x-I)}function findClosingBracket(T,k){if(T.indexOf(k[1])===-1)return-1;const $=T.length;let x=0,I=0;for(;I<$;I++)if(T[I]==="\\")I++;else if(T[I]===k[0])x++;else if(T[I]===k[1]&&(x--,x<0))return I;return-1}function checkSanitizeDeprecation(T){T&&T.sanitize&&!T.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function repeatString(T,k){if(k<1)return"";let $="";for(;k>1;)k&1&&($+=T),k>>=1,T+=T;return $+T}function outputLink(T,k,$,x){const I=k.href,L=k.title?escape(k.title):null,E=T[1].replace(/\\([\[\]])/g,"$1");if(T[0].charAt(0)!=="!"){x.state.inLink=!0;const D={type:"link",raw:$,href:I,title:L,text:E,tokens:x.inlineTokens(E)};return x.state.inLink=!1,D}return{type:"image",raw:$,href:I,title:L,text:escape(E)}}function indentCodeCompensation(T,k){const $=T.match(/^(\s+)(?:```)/);if($===null)return k;const x=$[1];return k.split(`
`).map(I=>{const L=I.match(/^\s+/);if(L===null)return I;const[E]=L;return E.length>=x.length?I.slice(x.length):I}).join(`
`)}class Tokenizer{constructor(k){this.options=k||defaults}space(k){const $=this.rules.block.newline.exec(k);if($&&$[0].length>0)return{type:"space",raw:$[0]}}code(k){const $=this.rules.block.code.exec(k);if($){const x=$[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:$[0],codeBlockStyle:"indented",text:this.options.pedantic?x:rtrim(x,`
`)}}}fences(k){const $=this.rules.block.fences.exec(k);if($){const x=$[0],I=indentCodeCompensation(x,$[3]||"");return{type:"code",raw:x,lang:$[2]?$[2].trim().replace(this.rules.inline._escapes,"$1"):$[2],text:I}}}heading(k){const $=this.rules.block.heading.exec(k);if($){let x=$[2].trim();if(/#$/.test(x)){const I=rtrim(x,"#");(this.options.pedantic||!I||/ $/.test(I))&&(x=I.trim())}return{type:"heading",raw:$[0],depth:$[1].length,text:x,tokens:this.lexer.inline(x)}}}hr(k){const $=this.rules.block.hr.exec(k);if($)return{type:"hr",raw:$[0]}}blockquote(k){const $=this.rules.block.blockquote.exec(k);if($){const x=$[0].replace(/^ *>[ \t]?/gm,""),I=this.lexer.state.top;this.lexer.state.top=!0;const L=this.lexer.blockTokens(x);return this.lexer.state.top=I,{type:"blockquote",raw:$[0],tokens:L,text:x}}}list(k){let $=this.rules.block.list.exec(k);if($){let x,I,L,E,D,F,P,U,M,z,N,q,j=$[1].trim();const W=j.length>1,H={type:"list",raw:"",ordered:W,start:W?+j.slice(0,-1):"",loose:!1,items:[]};j=W?`\\d{1,9}\\${j.slice(-1)}`:`\\${j}`,this.options.pedantic&&(j=W?j:"[*+-]");const Q=new RegExp(`^( {0,3}${j})((?:[	 ][^\\n]*)?(?:\\n|$))`);for(;k&&(q=!1,!(!($=Q.exec(k))||this.rules.block.hr.test(k)));){if(x=$[0],k=k.substring(x.length),U=$[2].split(`
`,1)[0].replace(/^\t+/,G=>" ".repeat(3*G.length)),M=k.split(`
`,1)[0],this.options.pedantic?(E=2,N=U.trimLeft()):(E=$[2].search(/[^ ]/),E=E>4?1:E,N=U.slice(E),E+=$[1].length),F=!1,!U&&/^ *$/.test(M)&&(x+=M+`
`,k=k.substring(M.length+1),q=!0),!q){const G=new RegExp(`^ {0,${Math.min(3,E-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),V=new RegExp(`^ {0,${Math.min(3,E-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),Y=new RegExp(`^ {0,${Math.min(3,E-1)}}(?:\`\`\`|~~~)`),J=new RegExp(`^ {0,${Math.min(3,E-1)}}#`);for(;k&&(z=k.split(`
`,1)[0],M=z,this.options.pedantic&&(M=M.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(Y.test(M)||J.test(M)||G.test(M)||V.test(k)));){if(M.search(/[^ ]/)>=E||!M.trim())N+=`
`+M.slice(E);else{if(F||U.search(/[^ ]/)>=4||Y.test(U)||J.test(U)||V.test(U))break;N+=`
`+M}!F&&!M.trim()&&(F=!0),x+=z+`
`,k=k.substring(z.length+1),U=M.slice(E)}}H.loose||(P?H.loose=!0:/\n *\n *$/.test(x)&&(P=!0)),this.options.gfm&&(I=/^\[[ xX]\] /.exec(N),I&&(L=I[0]!=="[ ] ",N=N.replace(/^\[[ xX]\] +/,""))),H.items.push({type:"list_item",raw:x,task:!!I,checked:L,loose:!1,text:N}),H.raw+=x}H.items[H.items.length-1].raw=x.trimRight(),H.items[H.items.length-1].text=N.trimRight(),H.raw=H.raw.trimRight();const K=H.items.length;for(D=0;D<K;D++)if(this.lexer.state.top=!1,H.items[D].tokens=this.lexer.blockTokens(H.items[D].text,[]),!H.loose){const G=H.items[D].tokens.filter(Y=>Y.type==="space"),V=G.length>0&&G.some(Y=>/\n.*\n/.test(Y.raw));H.loose=V}if(H.loose)for(D=0;D<K;D++)H.items[D].loose=!0;return H}}html(k){const $=this.rules.block.html.exec(k);if($){const x={type:"html",raw:$[0],pre:!this.options.sanitizer&&($[1]==="pre"||$[1]==="script"||$[1]==="style"),text:$[0]};if(this.options.sanitize){const I=this.options.sanitizer?this.options.sanitizer($[0]):escape($[0]);x.type="paragraph",x.text=I,x.tokens=this.lexer.inline(I)}return x}}def(k){const $=this.rules.block.def.exec(k);if($){const x=$[1].toLowerCase().replace(/\s+/g," "),I=$[2]?$[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",L=$[3]?$[3].substring(1,$[3].length-1).replace(this.rules.inline._escapes,"$1"):$[3];return{type:"def",tag:x,raw:$[0],href:I,title:L}}}table(k){const $=this.rules.block.table.exec(k);if($){const x={type:"table",header:splitCells($[1]).map(I=>({text:I})),align:$[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:$[3]&&$[3].trim()?$[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(x.header.length===x.align.length){x.raw=$[0];let I=x.align.length,L,E,D,F;for(L=0;L<I;L++)/^ *-+: *$/.test(x.align[L])?x.align[L]="right":/^ *:-+: *$/.test(x.align[L])?x.align[L]="center":/^ *:-+ *$/.test(x.align[L])?x.align[L]="left":x.align[L]=null;for(I=x.rows.length,L=0;L<I;L++)x.rows[L]=splitCells(x.rows[L],x.header.length).map(P=>({text:P}));for(I=x.header.length,E=0;E<I;E++)x.header[E].tokens=this.lexer.inline(x.header[E].text);for(I=x.rows.length,E=0;E<I;E++)for(F=x.rows[E],D=0;D<F.length;D++)F[D].tokens=this.lexer.inline(F[D].text);return x}}}lheading(k){const $=this.rules.block.lheading.exec(k);if($)return{type:"heading",raw:$[0],depth:$[2].charAt(0)==="="?1:2,text:$[1],tokens:this.lexer.inline($[1])}}paragraph(k){const $=this.rules.block.paragraph.exec(k);if($){const x=$[1].charAt($[1].length-1)===`
`?$[1].slice(0,-1):$[1];return{type:"paragraph",raw:$[0],text:x,tokens:this.lexer.inline(x)}}}text(k){const $=this.rules.block.text.exec(k);if($)return{type:"text",raw:$[0],text:$[0],tokens:this.lexer.inline($[0])}}escape(k){const $=this.rules.inline.escape.exec(k);if($)return{type:"escape",raw:$[0],text:escape($[1])}}tag(k){const $=this.rules.inline.tag.exec(k);if($)return!this.lexer.state.inLink&&/^<a /i.test($[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test($[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test($[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test($[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:$[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer($[0]):escape($[0]):$[0]}}link(k){const $=this.rules.inline.link.exec(k);if($){const x=$[2].trim();if(!this.options.pedantic&&/^</.test(x)){if(!/>$/.test(x))return;const E=rtrim(x.slice(0,-1),"\\");if((x.length-E.length)%2===0)return}else{const E=findClosingBracket($[2],"()");if(E>-1){const F=($[0].indexOf("!")===0?5:4)+$[1].length+E;$[2]=$[2].substring(0,E),$[0]=$[0].substring(0,F).trim(),$[3]=""}}let I=$[2],L="";if(this.options.pedantic){const E=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(I);E&&(I=E[1],L=E[3])}else L=$[3]?$[3].slice(1,-1):"";return I=I.trim(),/^</.test(I)&&(this.options.pedantic&&!/>$/.test(x)?I=I.slice(1):I=I.slice(1,-1)),outputLink($,{href:I&&I.replace(this.rules.inline._escapes,"$1"),title:L&&L.replace(this.rules.inline._escapes,"$1")},$[0],this.lexer)}}reflink(k,$){let x;if((x=this.rules.inline.reflink.exec(k))||(x=this.rules.inline.nolink.exec(k))){let I=(x[2]||x[1]).replace(/\s+/g," ");if(I=$[I.toLowerCase()],!I){const L=x[0].charAt(0);return{type:"text",raw:L,text:L}}return outputLink(x,I,x[0],this.lexer)}}emStrong(k,$,x=""){let I=this.rules.inline.emStrong.lDelim.exec(k);if(!I||I[3]&&x.match(/[\p{L}\p{N}]/u))return;const L=I[1]||I[2]||"";if(!L||L&&(x===""||this.rules.inline.punctuation.exec(x))){const E=I[0].length-1;let D,F,P=E,U=0;const M=I[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(M.lastIndex=0,$=$.slice(-1*k.length+E);(I=M.exec($))!=null;){if(D=I[1]||I[2]||I[3]||I[4]||I[5]||I[6],!D)continue;if(F=D.length,I[3]||I[4]){P+=F;continue}else if((I[5]||I[6])&&E%3&&!((E+F)%3)){U+=F;continue}if(P-=F,P>0)continue;F=Math.min(F,F+P+U);const z=k.slice(0,E+I.index+(I[0].length-D.length)+F);if(Math.min(E,F)%2){const q=z.slice(1,-1);return{type:"em",raw:z,text:q,tokens:this.lexer.inlineTokens(q)}}const N=z.slice(2,-2);return{type:"strong",raw:z,text:N,tokens:this.lexer.inlineTokens(N)}}}}codespan(k){const $=this.rules.inline.code.exec(k);if($){let x=$[2].replace(/\n/g," ");const I=/[^ ]/.test(x),L=/^ /.test(x)&&/ $/.test(x);return I&&L&&(x=x.substring(1,x.length-1)),x=escape(x,!0),{type:"codespan",raw:$[0],text:x}}}br(k){const $=this.rules.inline.br.exec(k);if($)return{type:"br",raw:$[0]}}del(k){const $=this.rules.inline.del.exec(k);if($)return{type:"del",raw:$[0],text:$[2],tokens:this.lexer.inlineTokens($[2])}}autolink(k,$){const x=this.rules.inline.autolink.exec(k);if(x){let I,L;return x[2]==="@"?(I=escape(this.options.mangle?$(x[1]):x[1]),L="mailto:"+I):(I=escape(x[1]),L=I),{type:"link",raw:x[0],text:I,href:L,tokens:[{type:"text",raw:I,text:I}]}}}url(k,$){let x;if(x=this.rules.inline.url.exec(k)){let I,L;if(x[2]==="@")I=escape(this.options.mangle?$(x[0]):x[0]),L="mailto:"+I;else{let E;do E=x[0],x[0]=this.rules.inline._backpedal.exec(x[0])[0];while(E!==x[0]);I=escape(x[0]),x[1]==="www."?L="http://"+x[0]:L=x[0]}return{type:"link",raw:x[0],text:I,href:L,tokens:[{type:"text",raw:I,text:I}]}}}inlineText(k,$){const x=this.rules.inline.text.exec(k);if(x){let I;return this.lexer.state.inRawBlock?I=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(x[0]):escape(x[0]):x[0]:I=escape(this.options.smartypants?$(x[0]):x[0]),{type:"text",raw:x[0],text:I}}}}const block={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:noopTest,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};block._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/;block._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/;block.def=edit(block.def).replace("label",block._label).replace("title",block._title).getRegex();block.bullet=/(?:[*+-]|\d{1,9}[.)])/;block.listItemStart=edit(/^( *)(bull) */).replace("bull",block.bullet).getRegex();block.list=edit(block.list).replace(/bull/g,block.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+block.def.source+")").getRegex();block._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";block._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/;block.html=edit(block.html,"i").replace("comment",block._comment).replace("tag",block._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();block.paragraph=edit(block._paragraph).replace("hr",block.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",block._tag).getRegex();block.blockquote=edit(block.blockquote).replace("paragraph",block.paragraph).getRegex();block.normal={...block};block.gfm={...block.normal,table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"};block.gfm.table=edit(block.gfm.table).replace("hr",block.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",block._tag).getRegex();block.gfm.paragraph=edit(block._paragraph).replace("hr",block.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",block.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",block._tag).getRegex();block.pedantic={...block.normal,html:edit(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",block._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:noopTest,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:edit(block.normal._paragraph).replace("hr",block.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",block.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()};const inline={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:noopTest,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:noopTest,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};inline._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~";inline.punctuation=edit(inline.punctuation).replace(/punctuation/g,inline._punctuation).getRegex();inline.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g;inline.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g;inline._comment=edit(block._comment).replace("(?:-->|$)","-->").getRegex();inline.emStrong.lDelim=edit(inline.emStrong.lDelim).replace(/punct/g,inline._punctuation).getRegex();inline.emStrong.rDelimAst=edit(inline.emStrong.rDelimAst,"g").replace(/punct/g,inline._punctuation).getRegex();inline.emStrong.rDelimUnd=edit(inline.emStrong.rDelimUnd,"g").replace(/punct/g,inline._punctuation).getRegex();inline._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g;inline._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;inline._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;inline.autolink=edit(inline.autolink).replace("scheme",inline._scheme).replace("email",inline._email).getRegex();inline._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;inline.tag=edit(inline.tag).replace("comment",inline._comment).replace("attribute",inline._attribute).getRegex();inline._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;inline._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;inline._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;inline.link=edit(inline.link).replace("label",inline._label).replace("href",inline._href).replace("title",inline._title).getRegex();inline.reflink=edit(inline.reflink).replace("label",inline._label).replace("ref",block._label).getRegex();inline.nolink=edit(inline.nolink).replace("ref",block._label).getRegex();inline.reflinkSearch=edit(inline.reflinkSearch,"g").replace("reflink",inline.reflink).replace("nolink",inline.nolink).getRegex();inline.normal={...inline};inline.pedantic={...inline.normal,strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:edit(/^!?\[(label)\]\((.*?)\)/).replace("label",inline._label).getRegex(),reflink:edit(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",inline._label).getRegex()};inline.gfm={...inline.normal,escape:edit(inline.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/};inline.gfm.url=edit(inline.gfm.url,"i").replace("email",inline.gfm._extended_email).getRegex();inline.breaks={...inline.gfm,br:edit(inline.br).replace("{2,}","*").getRegex(),text:edit(inline.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()};function smartypants(T){return T.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function mangle(T){let k="",$,x;const I=T.length;for($=0;$<I;$++)x=T.charCodeAt($),Math.random()>.5&&(x="x"+x.toString(16)),k+="&#"+x+";";return k}class Lexer{constructor(k){this.tokens=[],this.tokens.links=Object.create(null),this.options=k||defaults,this.options.tokenizer=this.options.tokenizer||new Tokenizer,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const $={block:block.normal,inline:inline.normal};this.options.pedantic?($.block=block.pedantic,$.inline=inline.pedantic):this.options.gfm&&($.block=block.gfm,this.options.breaks?$.inline=inline.breaks:$.inline=inline.gfm),this.tokenizer.rules=$}static get rules(){return{block,inline}}static lex(k,$){return new Lexer($).lex(k)}static lexInline(k,$){return new Lexer($).inlineTokens(k)}lex(k){k=k.replace(/\r\n|\r/g,`
`),this.blockTokens(k,this.tokens);let $;for(;$=this.inlineQueue.shift();)this.inlineTokens($.src,$.tokens);return this.tokens}blockTokens(k,$=[]){this.options.pedantic?k=k.replace(/\t/g,"    ").replace(/^ +$/gm,""):k=k.replace(/^( *)(\t+)/gm,(D,F,P)=>F+"    ".repeat(P.length));let x,I,L,E;for(;k;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(D=>(x=D.call({lexer:this},k,$))?(k=k.substring(x.raw.length),$.push(x),!0):!1))){if(x=this.tokenizer.space(k)){k=k.substring(x.raw.length),x.raw.length===1&&$.length>0?$[$.length-1].raw+=`
`:$.push(x);continue}if(x=this.tokenizer.code(k)){k=k.substring(x.raw.length),I=$[$.length-1],I&&(I.type==="paragraph"||I.type==="text")?(I.raw+=`
`+x.raw,I.text+=`
`+x.text,this.inlineQueue[this.inlineQueue.length-1].src=I.text):$.push(x);continue}if(x=this.tokenizer.fences(k)){k=k.substring(x.raw.length),$.push(x);continue}if(x=this.tokenizer.heading(k)){k=k.substring(x.raw.length),$.push(x);continue}if(x=this.tokenizer.hr(k)){k=k.substring(x.raw.length),$.push(x);continue}if(x=this.tokenizer.blockquote(k)){k=k.substring(x.raw.length),$.push(x);continue}if(x=this.tokenizer.list(k)){k=k.substring(x.raw.length),$.push(x);continue}if(x=this.tokenizer.html(k)){k=k.substring(x.raw.length),$.push(x);continue}if(x=this.tokenizer.def(k)){k=k.substring(x.raw.length),I=$[$.length-1],I&&(I.type==="paragraph"||I.type==="text")?(I.raw+=`
`+x.raw,I.text+=`
`+x.raw,this.inlineQueue[this.inlineQueue.length-1].src=I.text):this.tokens.links[x.tag]||(this.tokens.links[x.tag]={href:x.href,title:x.title});continue}if(x=this.tokenizer.table(k)){k=k.substring(x.raw.length),$.push(x);continue}if(x=this.tokenizer.lheading(k)){k=k.substring(x.raw.length),$.push(x);continue}if(L=k,this.options.extensions&&this.options.extensions.startBlock){let D=1/0;const F=k.slice(1);let P;this.options.extensions.startBlock.forEach(function(U){P=U.call({lexer:this},F),typeof P=="number"&&P>=0&&(D=Math.min(D,P))}),D<1/0&&D>=0&&(L=k.substring(0,D+1))}if(this.state.top&&(x=this.tokenizer.paragraph(L))){I=$[$.length-1],E&&I.type==="paragraph"?(I.raw+=`
`+x.raw,I.text+=`
`+x.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=I.text):$.push(x),E=L.length!==k.length,k=k.substring(x.raw.length);continue}if(x=this.tokenizer.text(k)){k=k.substring(x.raw.length),I=$[$.length-1],I&&I.type==="text"?(I.raw+=`
`+x.raw,I.text+=`
`+x.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=I.text):$.push(x);continue}if(k){const D="Infinite loop on byte: "+k.charCodeAt(0);if(this.options.silent){console.error(D);break}else throw new Error(D)}}return this.state.top=!0,$}inline(k,$=[]){return this.inlineQueue.push({src:k,tokens:$}),$}inlineTokens(k,$=[]){let x,I,L,E=k,D,F,P;if(this.tokens.links){const U=Object.keys(this.tokens.links);if(U.length>0)for(;(D=this.tokenizer.rules.inline.reflinkSearch.exec(E))!=null;)U.includes(D[0].slice(D[0].lastIndexOf("[")+1,-1))&&(E=E.slice(0,D.index)+"["+repeatString("a",D[0].length-2)+"]"+E.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(D=this.tokenizer.rules.inline.blockSkip.exec(E))!=null;)E=E.slice(0,D.index)+"["+repeatString("a",D[0].length-2)+"]"+E.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(D=this.tokenizer.rules.inline.escapedEmSt.exec(E))!=null;)E=E.slice(0,D.index+D[0].length-2)+"++"+E.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;k;)if(F||(P=""),F=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(U=>(x=U.call({lexer:this},k,$))?(k=k.substring(x.raw.length),$.push(x),!0):!1))){if(x=this.tokenizer.escape(k)){k=k.substring(x.raw.length),$.push(x);continue}if(x=this.tokenizer.tag(k)){k=k.substring(x.raw.length),I=$[$.length-1],I&&x.type==="text"&&I.type==="text"?(I.raw+=x.raw,I.text+=x.text):$.push(x);continue}if(x=this.tokenizer.link(k)){k=k.substring(x.raw.length),$.push(x);continue}if(x=this.tokenizer.reflink(k,this.tokens.links)){k=k.substring(x.raw.length),I=$[$.length-1],I&&x.type==="text"&&I.type==="text"?(I.raw+=x.raw,I.text+=x.text):$.push(x);continue}if(x=this.tokenizer.emStrong(k,E,P)){k=k.substring(x.raw.length),$.push(x);continue}if(x=this.tokenizer.codespan(k)){k=k.substring(x.raw.length),$.push(x);continue}if(x=this.tokenizer.br(k)){k=k.substring(x.raw.length),$.push(x);continue}if(x=this.tokenizer.del(k)){k=k.substring(x.raw.length),$.push(x);continue}if(x=this.tokenizer.autolink(k,mangle)){k=k.substring(x.raw.length),$.push(x);continue}if(!this.state.inLink&&(x=this.tokenizer.url(k,mangle))){k=k.substring(x.raw.length),$.push(x);continue}if(L=k,this.options.extensions&&this.options.extensions.startInline){let U=1/0;const M=k.slice(1);let z;this.options.extensions.startInline.forEach(function(N){z=N.call({lexer:this},M),typeof z=="number"&&z>=0&&(U=Math.min(U,z))}),U<1/0&&U>=0&&(L=k.substring(0,U+1))}if(x=this.tokenizer.inlineText(L,smartypants)){k=k.substring(x.raw.length),x.raw.slice(-1)!=="_"&&(P=x.raw.slice(-1)),F=!0,I=$[$.length-1],I&&I.type==="text"?(I.raw+=x.raw,I.text+=x.text):$.push(x);continue}if(k){const U="Infinite loop on byte: "+k.charCodeAt(0);if(this.options.silent){console.error(U);break}else throw new Error(U)}}return $}}class Renderer{constructor(k){this.options=k||defaults}code(k,$,x){const I=($||"").match(/\S*/)[0];if(this.options.highlight){const L=this.options.highlight(k,I);L!=null&&L!==k&&(x=!0,k=L)}return k=k.replace(/\n$/,"")+`
`,I?'<pre><code class="'+this.options.langPrefix+escape(I)+'">'+(x?k:escape(k,!0))+`</code></pre>
`:"<pre><code>"+(x?k:escape(k,!0))+`</code></pre>
`}blockquote(k){return`<blockquote>
${k}</blockquote>
`}html(k){return k}heading(k,$,x,I){if(this.options.headerIds){const L=this.options.headerPrefix+I.slug(x);return`<h${$} id="${L}">${k}</h${$}>
`}return`<h${$}>${k}</h${$}>
`}hr(){return this.options.xhtml?`<hr/>
`:`<hr>
`}list(k,$,x){const I=$?"ol":"ul",L=$&&x!==1?' start="'+x+'"':"";return"<"+I+L+`>
`+k+"</"+I+`>
`}listitem(k){return`<li>${k}</li>
`}checkbox(k){return"<input "+(k?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(k){return`<p>${k}</p>
`}table(k,$){return $&&($=`<tbody>${$}</tbody>`),`<table>
<thead>
`+k+`</thead>
`+$+`</table>
`}tablerow(k){return`<tr>
${k}</tr>
`}tablecell(k,$){const x=$.header?"th":"td";return($.align?`<${x} align="${$.align}">`:`<${x}>`)+k+`</${x}>
`}strong(k){return`<strong>${k}</strong>`}em(k){return`<em>${k}</em>`}codespan(k){return`<code>${k}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(k){return`<del>${k}</del>`}link(k,$,x){if(k=cleanUrl(this.options.sanitize,this.options.baseUrl,k),k===null)return x;let I='<a href="'+k+'"';return $&&(I+=' title="'+$+'"'),I+=">"+x+"</a>",I}image(k,$,x){if(k=cleanUrl(this.options.sanitize,this.options.baseUrl,k),k===null)return x;let I=`<img src="${k}" alt="${x}"`;return $&&(I+=` title="${$}"`),I+=this.options.xhtml?"/>":">",I}text(k){return k}}class TextRenderer{strong(k){return k}em(k){return k}codespan(k){return k}del(k){return k}html(k){return k}text(k){return k}link(k,$,x){return""+x}image(k,$,x){return""+x}br(){return""}}class Slugger{constructor(){this.seen={}}serialize(k){return k.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(k,$){let x=k,I=0;if(this.seen.hasOwnProperty(x)){I=this.seen[k];do I++,x=k+"-"+I;while(this.seen.hasOwnProperty(x))}return $||(this.seen[k]=I,this.seen[x]=0),x}slug(k,$={}){const x=this.serialize(k);return this.getNextSafeSlug(x,$.dryrun)}}class Parser{constructor(k){this.options=k||defaults,this.options.renderer=this.options.renderer||new Renderer,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new TextRenderer,this.slugger=new Slugger}static parse(k,$){return new Parser($).parse(k)}static parseInline(k,$){return new Parser($).parseInline(k)}parse(k,$=!0){let x="",I,L,E,D,F,P,U,M,z,N,q,j,W,H,Q,K,G,V,Y;const J=k.length;for(I=0;I<J;I++){if(N=k[I],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[N.type]&&(Y=this.options.extensions.renderers[N.type].call({parser:this},N),Y!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(N.type))){x+=Y||"";continue}switch(N.type){case"space":continue;case"hr":{x+=this.renderer.hr();continue}case"heading":{x+=this.renderer.heading(this.parseInline(N.tokens),N.depth,unescape$1(this.parseInline(N.tokens,this.textRenderer)),this.slugger);continue}case"code":{x+=this.renderer.code(N.text,N.lang,N.escaped);continue}case"table":{for(M="",U="",D=N.header.length,L=0;L<D;L++)U+=this.renderer.tablecell(this.parseInline(N.header[L].tokens),{header:!0,align:N.align[L]});for(M+=this.renderer.tablerow(U),z="",D=N.rows.length,L=0;L<D;L++){for(P=N.rows[L],U="",F=P.length,E=0;E<F;E++)U+=this.renderer.tablecell(this.parseInline(P[E].tokens),{header:!1,align:N.align[E]});z+=this.renderer.tablerow(U)}x+=this.renderer.table(M,z);continue}case"blockquote":{z=this.parse(N.tokens),x+=this.renderer.blockquote(z);continue}case"list":{for(q=N.ordered,j=N.start,W=N.loose,D=N.items.length,z="",L=0;L<D;L++)Q=N.items[L],K=Q.checked,G=Q.task,H="",Q.task&&(V=this.renderer.checkbox(K),W?Q.tokens.length>0&&Q.tokens[0].type==="paragraph"?(Q.tokens[0].text=V+" "+Q.tokens[0].text,Q.tokens[0].tokens&&Q.tokens[0].tokens.length>0&&Q.tokens[0].tokens[0].type==="text"&&(Q.tokens[0].tokens[0].text=V+" "+Q.tokens[0].tokens[0].text)):Q.tokens.unshift({type:"text",text:V}):H+=V),H+=this.parse(Q.tokens,W),z+=this.renderer.listitem(H,G,K);x+=this.renderer.list(z,q,j);continue}case"html":{x+=this.renderer.html(N.text);continue}case"paragraph":{x+=this.renderer.paragraph(this.parseInline(N.tokens));continue}case"text":{for(z=N.tokens?this.parseInline(N.tokens):N.text;I+1<J&&k[I+1].type==="text";)N=k[++I],z+=`
`+(N.tokens?this.parseInline(N.tokens):N.text);x+=$?this.renderer.paragraph(z):z;continue}default:{const X='Token with "'+N.type+'" type was not found.';if(this.options.silent){console.error(X);return}else throw new Error(X)}}}return x}parseInline(k,$){$=$||this.renderer;let x="",I,L,E;const D=k.length;for(I=0;I<D;I++){if(L=k[I],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[L.type]&&(E=this.options.extensions.renderers[L.type].call({parser:this},L),E!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(L.type))){x+=E||"";continue}switch(L.type){case"escape":{x+=$.text(L.text);break}case"html":{x+=$.html(L.text);break}case"link":{x+=$.link(L.href,L.title,this.parseInline(L.tokens,$));break}case"image":{x+=$.image(L.href,L.title,L.text);break}case"strong":{x+=$.strong(this.parseInline(L.tokens,$));break}case"em":{x+=$.em(this.parseInline(L.tokens,$));break}case"codespan":{x+=$.codespan(L.text);break}case"br":{x+=$.br();break}case"del":{x+=$.del(this.parseInline(L.tokens,$));break}case"text":{x+=$.text(L.text);break}default:{const F='Token with "'+L.type+'" type was not found.';if(this.options.silent){console.error(F);return}else throw new Error(F)}}}return x}}class Hooks{constructor(k){this.options=k||defaults}preprocess(k){return k}postprocess(k){return k}}ue(Hooks,"passThroughHooks",new Set(["preprocess","postprocess"]));function onError(T,k,$){return x=>{if(x.message+=`
Please report this to https://github.com/markedjs/marked.`,T){const I="<p>An error occurred:</p><pre>"+escape(x.message+"",!0)+"</pre>";if(k)return Promise.resolve(I);if($){$(null,I);return}return I}if(k)return Promise.reject(x);if($){$(x);return}throw x}}function parseMarkdown(T,k){return($,x,I)=>{typeof x=="function"&&(I=x,x=null);const L={...x};x={...marked.defaults,...L};const E=onError(x.silent,x.async,I);if(typeof $>"u"||$===null)return E(new Error("marked(): input parameter is undefined or null"));if(typeof $!="string")return E(new Error("marked(): input parameter is of type "+Object.prototype.toString.call($)+", string expected"));if(checkSanitizeDeprecation(x),x.hooks&&(x.hooks.options=x),I){const D=x.highlight;let F;try{x.hooks&&($=x.hooks.preprocess($)),F=T($,x)}catch(M){return E(M)}const P=function(M){let z;if(!M)try{x.walkTokens&&marked.walkTokens(F,x.walkTokens),z=k(F,x),x.hooks&&(z=x.hooks.postprocess(z))}catch(N){M=N}return x.highlight=D,M?E(M):I(null,z)};if(!D||D.length<3||(delete x.highlight,!F.length))return P();let U=0;marked.walkTokens(F,function(M){M.type==="code"&&(U++,setTimeout(()=>{D(M.text,M.lang,function(z,N){if(z)return P(z);N!=null&&N!==M.text&&(M.text=N,M.escaped=!0),U--,U===0&&P()})},0))}),U===0&&P();return}if(x.async)return Promise.resolve(x.hooks?x.hooks.preprocess($):$).then(D=>T(D,x)).then(D=>x.walkTokens?Promise.all(marked.walkTokens(D,x.walkTokens)).then(()=>D):D).then(D=>k(D,x)).then(D=>x.hooks?x.hooks.postprocess(D):D).catch(E);try{x.hooks&&($=x.hooks.preprocess($));const D=T($,x);x.walkTokens&&marked.walkTokens(D,x.walkTokens);let F=k(D,x);return x.hooks&&(F=x.hooks.postprocess(F)),F}catch(D){return E(D)}}}function marked(T,k,$){return parseMarkdown(Lexer.lex,Parser.parse)(T,k,$)}marked.options=marked.setOptions=function(T){return marked.defaults={...marked.defaults,...T},changeDefaults(marked.defaults),marked};marked.getDefaults=getDefaults;marked.defaults=defaults;marked.use=function(...T){const k=marked.defaults.extensions||{renderers:{},childTokens:{}};T.forEach($=>{const x={...$};if(x.async=marked.defaults.async||x.async||!1,$.extensions&&($.extensions.forEach(I=>{if(!I.name)throw new Error("extension name required");if(I.renderer){const L=k.renderers[I.name];L?k.renderers[I.name]=function(...E){let D=I.renderer.apply(this,E);return D===!1&&(D=L.apply(this,E)),D}:k.renderers[I.name]=I.renderer}if(I.tokenizer){if(!I.level||I.level!=="block"&&I.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");k[I.level]?k[I.level].unshift(I.tokenizer):k[I.level]=[I.tokenizer],I.start&&(I.level==="block"?k.startBlock?k.startBlock.push(I.start):k.startBlock=[I.start]:I.level==="inline"&&(k.startInline?k.startInline.push(I.start):k.startInline=[I.start]))}I.childTokens&&(k.childTokens[I.name]=I.childTokens)}),x.extensions=k),$.renderer){const I=marked.defaults.renderer||new Renderer;for(const L in $.renderer){const E=I[L];I[L]=(...D)=>{let F=$.renderer[L].apply(I,D);return F===!1&&(F=E.apply(I,D)),F}}x.renderer=I}if($.tokenizer){const I=marked.defaults.tokenizer||new Tokenizer;for(const L in $.tokenizer){const E=I[L];I[L]=(...D)=>{let F=$.tokenizer[L].apply(I,D);return F===!1&&(F=E.apply(I,D)),F}}x.tokenizer=I}if($.hooks){const I=marked.defaults.hooks||new Hooks;for(const L in $.hooks){const E=I[L];Hooks.passThroughHooks.has(L)?I[L]=D=>{if(marked.defaults.async)return Promise.resolve($.hooks[L].call(I,D)).then(P=>E.call(I,P));const F=$.hooks[L].call(I,D);return E.call(I,F)}:I[L]=(...D)=>{let F=$.hooks[L].apply(I,D);return F===!1&&(F=E.apply(I,D)),F}}x.hooks=I}if($.walkTokens){const I=marked.defaults.walkTokens;x.walkTokens=function(L){let E=[];return E.push($.walkTokens.call(this,L)),I&&(E=E.concat(I.call(this,L))),E}}marked.setOptions(x)})};marked.walkTokens=function(T,k){let $=[];for(const x of T)switch($=$.concat(k.call(marked,x)),x.type){case"table":{for(const I of x.header)$=$.concat(marked.walkTokens(I.tokens,k));for(const I of x.rows)for(const L of I)$=$.concat(marked.walkTokens(L.tokens,k));break}case"list":{$=$.concat(marked.walkTokens(x.items,k));break}default:marked.defaults.extensions&&marked.defaults.extensions.childTokens&&marked.defaults.extensions.childTokens[x.type]?marked.defaults.extensions.childTokens[x.type].forEach(function(I){$=$.concat(marked.walkTokens(x[I],k))}):x.tokens&&($=$.concat(marked.walkTokens(x.tokens,k)))}return $};marked.parseInline=parseMarkdown(Lexer.lexInline,Parser.parseInline);marked.Parser=Parser;marked.parser=Parser.parse;marked.Renderer=Renderer;marked.TextRenderer=TextRenderer;marked.Lexer=Lexer;marked.lexer=Lexer.lex;marked.Tokenizer=Tokenizer;marked.Slugger=Slugger;marked.Hooks=Hooks;marked.parse=marked;marked.options;marked.setOptions;marked.use;marked.walkTokens;marked.parseInline;Parser.parse;Lexer.lex;const key={};function create_else_block$j(T){let k;return{c(){k=text(T[1])},m($,x){insert($,k,x)},p($,x){x&2&&set_data(k,$[1])},i:noop$1,o:noop$1,d($){$&&detach(k)}}}function create_if_block_5$1(T){let k,$;const x=T[5].default,I=create_slot(x,T,T[4],null);return{c(){k=element("h6"),I&&I.c(),attr(k,"id",T[2])},m(L,E){insert(L,k,E),I&&I.m(k,null),$=!0},p(L,E){I&&I.p&&(!$||E&16)&&update_slot_base(I,x,L,L[4],$?get_slot_changes(x,L[4],E,null):get_all_dirty_from_scope(L[4]),null),(!$||E&4)&&attr(k,"id",L[2])},i(L){$||(transition_in(I,L),$=!0)},o(L){transition_out(I,L),$=!1},d(L){L&&detach(k),I&&I.d(L)}}}function create_if_block_4$1(T){let k,$;const x=T[5].default,I=create_slot(x,T,T[4],null);return{c(){k=element("h5"),I&&I.c(),attr(k,"id",T[2])},m(L,E){insert(L,k,E),I&&I.m(k,null),$=!0},p(L,E){I&&I.p&&(!$||E&16)&&update_slot_base(I,x,L,L[4],$?get_slot_changes(x,L[4],E,null):get_all_dirty_from_scope(L[4]),null),(!$||E&4)&&attr(k,"id",L[2])},i(L){$||(transition_in(I,L),$=!0)},o(L){transition_out(I,L),$=!1},d(L){L&&detach(k),I&&I.d(L)}}}function create_if_block_3$1(T){let k,$;const x=T[5].default,I=create_slot(x,T,T[4],null);return{c(){k=element("h4"),I&&I.c(),attr(k,"id",T[2])},m(L,E){insert(L,k,E),I&&I.m(k,null),$=!0},p(L,E){I&&I.p&&(!$||E&16)&&update_slot_base(I,x,L,L[4],$?get_slot_changes(x,L[4],E,null):get_all_dirty_from_scope(L[4]),null),(!$||E&4)&&attr(k,"id",L[2])},i(L){$||(transition_in(I,L),$=!0)},o(L){transition_out(I,L),$=!1},d(L){L&&detach(k),I&&I.d(L)}}}function create_if_block_2$5(T){let k,$;const x=T[5].default,I=create_slot(x,T,T[4],null);return{c(){k=element("h3"),I&&I.c(),attr(k,"id",T[2])},m(L,E){insert(L,k,E),I&&I.m(k,null),$=!0},p(L,E){I&&I.p&&(!$||E&16)&&update_slot_base(I,x,L,L[4],$?get_slot_changes(x,L[4],E,null):get_all_dirty_from_scope(L[4]),null),(!$||E&4)&&attr(k,"id",L[2])},i(L){$||(transition_in(I,L),$=!0)},o(L){transition_out(I,L),$=!1},d(L){L&&detach(k),I&&I.d(L)}}}function create_if_block_1$l(T){let k,$;const x=T[5].default,I=create_slot(x,T,T[4],null);return{c(){k=element("h2"),I&&I.c(),attr(k,"id",T[2])},m(L,E){insert(L,k,E),I&&I.m(k,null),$=!0},p(L,E){I&&I.p&&(!$||E&16)&&update_slot_base(I,x,L,L[4],$?get_slot_changes(x,L[4],E,null):get_all_dirty_from_scope(L[4]),null),(!$||E&4)&&attr(k,"id",L[2])},i(L){$||(transition_in(I,L),$=!0)},o(L){transition_out(I,L),$=!1},d(L){L&&detach(k),I&&I.d(L)}}}function create_if_block$16(T){let k,$;const x=T[5].default,I=create_slot(x,T,T[4],null);return{c(){k=element("h1"),I&&I.c(),attr(k,"id",T[2])},m(L,E){insert(L,k,E),I&&I.m(k,null),$=!0},p(L,E){I&&I.p&&(!$||E&16)&&update_slot_base(I,x,L,L[4],$?get_slot_changes(x,L[4],E,null):get_all_dirty_from_scope(L[4]),null),(!$||E&4)&&attr(k,"id",L[2])},i(L){$||(transition_in(I,L),$=!0)},o(L){transition_out(I,L),$=!1},d(L){L&&detach(k),I&&I.d(L)}}}function create_fragment$2X(T){let k,$,x,I;const L=[create_if_block$16,create_if_block_1$l,create_if_block_2$5,create_if_block_3$1,create_if_block_4$1,create_if_block_5$1,create_else_block$j],E=[];function D(F,P){return F[0]===1?0:F[0]===2?1:F[0]===3?2:F[0]===4?3:F[0]===5?4:F[0]===6?5:6}return k=D(T),$=E[k]=L[k](T),{c(){$.c(),x=empty()},m(F,P){E[k].m(F,P),insert(F,x,P),I=!0},p(F,[P]){let U=k;k=D(F),k===U?E[k].p(F,P):(group_outros(),transition_out(E[U],1,1,()=>{E[U]=null}),check_outros(),$=E[k],$?$.p(F,P):($=E[k]=L[k](F),$.c()),transition_in($,1),$.m(x.parentNode,x))},i(F){I||(transition_in($),I=!0)},o(F){transition_out($),I=!1},d(F){F&&detach(x),E[k].d(F)}}}function instance$2H(T,k,$){let x,{$$slots:I={},$$scope:L}=k,{depth:E}=k,{raw:D}=k,{text:F}=k;const{slug:P,getOptions:U}=getContext(key),M=U();return T.$$set=z=>{"depth"in z&&$(0,E=z.depth),"raw"in z&&$(1,D=z.raw),"text"in z&&$(3,F=z.text),"$$scope"in z&&$(4,L=z.$$scope)},T.$$.update=()=>{T.$$.dirty&8&&$(2,x=M.headerIds?M.headerPrefix+P(F):void 0)},[E,D,x,F,L,I]}class Heading extends SvelteComponent{constructor(k){super(),init(this,k,instance$2H,create_fragment$2X,safe_not_equal,{depth:0,raw:1,text:3})}}function create_fragment$2W(T){let k,$;const x=T[1].default,I=create_slot(x,T,T[0],null);return{c(){k=element("p"),I&&I.c()},m(L,E){insert(L,k,E),I&&I.m(k,null),$=!0},p(L,[E]){I&&I.p&&(!$||E&1)&&update_slot_base(I,x,L,L[0],$?get_slot_changes(x,L[0],E,null):get_all_dirty_from_scope(L[0]),null)},i(L){$||(transition_in(I,L),$=!0)},o(L){transition_out(I,L),$=!1},d(L){L&&detach(k),I&&I.d(L)}}}function instance$2G(T,k,$){let{$$slots:x={},$$scope:I}=k;return T.$$set=L=>{"$$scope"in L&&$(0,I=L.$$scope)},[I,x]}class Paragraph extends SvelteComponent{constructor(k){super(),init(this,k,instance$2G,create_fragment$2W,safe_not_equal,{})}}function create_fragment$2V(T){let k;const $=T[3].default,x=create_slot($,T,T[2],null);return{c(){x&&x.c()},m(I,L){x&&x.m(I,L),k=!0},p(I,[L]){x&&x.p&&(!k||L&4)&&update_slot_base(x,$,I,I[2],k?get_slot_changes($,I[2],L,null):get_all_dirty_from_scope(I[2]),null)},i(I){k||(transition_in(x,I),k=!0)},o(I){transition_out(x,I),k=!1},d(I){x&&x.d(I)}}}function instance$2F(T,k,$){let{$$slots:x={},$$scope:I}=k,{text:L}=k,{raw:E}=k;return T.$$set=D=>{"text"in D&&$(0,L=D.text),"raw"in D&&$(1,E=D.raw),"$$scope"in D&&$(2,I=D.$$scope)},[L,E,I,x]}class Text extends SvelteComponent{constructor(k){super(),init(this,k,instance$2F,create_fragment$2V,safe_not_equal,{text:0,raw:1})}}function create_fragment$2U(T){let k,$;return{c(){k=element("img"),src_url_equal(k.src,$=T[0])||attr(k,"src",$),attr(k,"title",T[1]),attr(k,"alt",T[2])},m(x,I){insert(x,k,I)},p(x,[I]){I&1&&!src_url_equal(k.src,$=x[0])&&attr(k,"src",$),I&2&&attr(k,"title",x[1]),I&4&&attr(k,"alt",x[2])},i:noop$1,o:noop$1,d(x){x&&detach(k)}}}function instance$2E(T,k,$){let{href:x=""}=k,{title:I=void 0}=k,{text:L=""}=k;return T.$$set=E=>{"href"in E&&$(0,x=E.href),"title"in E&&$(1,I=E.title),"text"in E&&$(2,L=E.text)},[x,I,L]}let Image$1=class extends SvelteComponent{constructor(k){super(),init(this,k,instance$2E,create_fragment$2U,safe_not_equal,{href:0,title:1,text:2})}};function create_fragment$2T(T){let k,$;const x=T[3].default,I=create_slot(x,T,T[2],null);return{c(){k=element("a"),I&&I.c(),attr(k,"href",T[0]),attr(k,"title",T[1])},m(L,E){insert(L,k,E),I&&I.m(k,null),$=!0},p(L,[E]){I&&I.p&&(!$||E&4)&&update_slot_base(I,x,L,L[2],$?get_slot_changes(x,L[2],E,null):get_all_dirty_from_scope(L[2]),null),(!$||E&1)&&attr(k,"href",L[0]),(!$||E&2)&&attr(k,"title",L[1])},i(L){$||(transition_in(I,L),$=!0)},o(L){transition_out(I,L),$=!1},d(L){L&&detach(k),I&&I.d(L)}}}function instance$2D(T,k,$){let{$$slots:x={},$$scope:I}=k,{href:L=""}=k,{title:E=void 0}=k;return T.$$set=D=>{"href"in D&&$(0,L=D.href),"title"in D&&$(1,E=D.title),"$$scope"in D&&$(2,I=D.$$scope)},[L,E,I,x]}let Link$1=class extends SvelteComponent{constructor(k){super(),init(this,k,instance$2D,create_fragment$2T,safe_not_equal,{href:0,title:1})}};function create_fragment$2S(T){let k,$;const x=T[1].default,I=create_slot(x,T,T[0],null);return{c(){k=element("em"),I&&I.c()},m(L,E){insert(L,k,E),I&&I.m(k,null),$=!0},p(L,[E]){I&&I.p&&(!$||E&1)&&update_slot_base(I,x,L,L[0],$?get_slot_changes(x,L[0],E,null):get_all_dirty_from_scope(L[0]),null)},i(L){$||(transition_in(I,L),$=!0)},o(L){transition_out(I,L),$=!1},d(L){L&&detach(k),I&&I.d(L)}}}function instance$2C(T,k,$){let{$$slots:x={},$$scope:I}=k;return T.$$set=L=>{"$$scope"in L&&$(0,I=L.$$scope)},[I,x]}class Em extends SvelteComponent{constructor(k){super(),init(this,k,instance$2C,create_fragment$2S,safe_not_equal,{})}}function create_fragment$2R(T){let k,$;const x=T[1].default,I=create_slot(x,T,T[0],null);return{c(){k=element("del"),I&&I.c()},m(L,E){insert(L,k,E),I&&I.m(k,null),$=!0},p(L,[E]){I&&I.p&&(!$||E&1)&&update_slot_base(I,x,L,L[0],$?get_slot_changes(x,L[0],E,null):get_all_dirty_from_scope(L[0]),null)},i(L){$||(transition_in(I,L),$=!0)},o(L){transition_out(I,L),$=!1},d(L){L&&detach(k),I&&I.d(L)}}}function instance$2B(T,k,$){let{$$slots:x={},$$scope:I}=k;return T.$$set=L=>{"$$scope"in L&&$(0,I=L.$$scope)},[I,x]}class Del extends SvelteComponent{constructor(k){super(),init(this,k,instance$2B,create_fragment$2R,safe_not_equal,{})}}function create_fragment$2Q(T){let k,$=T[0].replace(/`/g,"")+"",x;return{c(){k=element("code"),x=text($)},m(I,L){insert(I,k,L),append(k,x)},p(I,[L]){L&1&&$!==($=I[0].replace(/`/g,"")+"")&&set_data(x,$)},i:noop$1,o:noop$1,d(I){I&&detach(k)}}}function instance$2A(T,k,$){let{raw:x}=k;return T.$$set=I=>{"raw"in I&&$(0,x=I.raw)},[x]}class Codespan extends SvelteComponent{constructor(k){super(),init(this,k,instance$2A,create_fragment$2Q,safe_not_equal,{raw:0})}}function create_fragment$2P(T){let k,$;const x=T[1].default,I=create_slot(x,T,T[0],null);return{c(){k=element("strong"),I&&I.c()},m(L,E){insert(L,k,E),I&&I.m(k,null),$=!0},p(L,[E]){I&&I.p&&(!$||E&1)&&update_slot_base(I,x,L,L[0],$?get_slot_changes(x,L[0],E,null):get_all_dirty_from_scope(L[0]),null)},i(L){$||(transition_in(I,L),$=!0)},o(L){transition_out(I,L),$=!1},d(L){L&&detach(k),I&&I.d(L)}}}function instance$2z(T,k,$){let{$$slots:x={},$$scope:I}=k;return T.$$set=L=>{"$$scope"in L&&$(0,I=L.$$scope)},[I,x]}class Strong extends SvelteComponent{constructor(k){super(),init(this,k,instance$2z,create_fragment$2P,safe_not_equal,{})}}function create_fragment$2O(T){let k,$;const x=T[1].default,I=create_slot(x,T,T[0],null);return{c(){k=element("table"),I&&I.c()},m(L,E){insert(L,k,E),I&&I.m(k,null),$=!0},p(L,[E]){I&&I.p&&(!$||E&1)&&update_slot_base(I,x,L,L[0],$?get_slot_changes(x,L[0],E,null):get_all_dirty_from_scope(L[0]),null)},i(L){$||(transition_in(I,L),$=!0)},o(L){transition_out(I,L),$=!1},d(L){L&&detach(k),I&&I.d(L)}}}function instance$2y(T,k,$){let{$$slots:x={},$$scope:I}=k;return T.$$set=L=>{"$$scope"in L&&$(0,I=L.$$scope)},[I,x]}class Table extends SvelteComponent{constructor(k){super(),init(this,k,instance$2y,create_fragment$2O,safe_not_equal,{})}}function create_fragment$2N(T){let k,$;const x=T[1].default,I=create_slot(x,T,T[0],null);return{c(){k=element("thead"),I&&I.c()},m(L,E){insert(L,k,E),I&&I.m(k,null),$=!0},p(L,[E]){I&&I.p&&(!$||E&1)&&update_slot_base(I,x,L,L[0],$?get_slot_changes(x,L[0],E,null):get_all_dirty_from_scope(L[0]),null)},i(L){$||(transition_in(I,L),$=!0)},o(L){transition_out(I,L),$=!1},d(L){L&&detach(k),I&&I.d(L)}}}function instance$2x(T,k,$){let{$$slots:x={},$$scope:I}=k;return T.$$set=L=>{"$$scope"in L&&$(0,I=L.$$scope)},[I,x]}class TableHead extends SvelteComponent{constructor(k){super(),init(this,k,instance$2x,create_fragment$2N,safe_not_equal,{})}}function create_fragment$2M(T){let k,$;const x=T[1].default,I=create_slot(x,T,T[0],null);return{c(){k=element("tbody"),I&&I.c()},m(L,E){insert(L,k,E),I&&I.m(k,null),$=!0},p(L,[E]){I&&I.p&&(!$||E&1)&&update_slot_base(I,x,L,L[0],$?get_slot_changes(x,L[0],E,null):get_all_dirty_from_scope(L[0]),null)},i(L){$||(transition_in(I,L),$=!0)},o(L){transition_out(I,L),$=!1},d(L){L&&detach(k),I&&I.d(L)}}}function instance$2w(T,k,$){let{$$slots:x={},$$scope:I}=k;return T.$$set=L=>{"$$scope"in L&&$(0,I=L.$$scope)},[I,x]}class TableBody extends SvelteComponent{constructor(k){super(),init(this,k,instance$2w,create_fragment$2M,safe_not_equal,{})}}function create_fragment$2L(T){let k,$;const x=T[1].default,I=create_slot(x,T,T[0],null);return{c(){k=element("tr"),I&&I.c()},m(L,E){insert(L,k,E),I&&I.m(k,null),$=!0},p(L,[E]){I&&I.p&&(!$||E&1)&&update_slot_base(I,x,L,L[0],$?get_slot_changes(x,L[0],E,null):get_all_dirty_from_scope(L[0]),null)},i(L){$||(transition_in(I,L),$=!0)},o(L){transition_out(I,L),$=!1},d(L){L&&detach(k),I&&I.d(L)}}}function instance$2v(T,k,$){let{$$slots:x={},$$scope:I}=k;return T.$$set=L=>{"$$scope"in L&&$(0,I=L.$$scope)},[I,x]}class TableRow extends SvelteComponent{constructor(k){super(),init(this,k,instance$2v,create_fragment$2L,safe_not_equal,{})}}function create_else_block$i(T){let k,$;const x=T[3].default,I=create_slot(x,T,T[2],null);return{c(){k=element("td"),I&&I.c(),attr(k,"align",T[1])},m(L,E){insert(L,k,E),I&&I.m(k,null),$=!0},p(L,E){I&&I.p&&(!$||E&4)&&update_slot_base(I,x,L,L[2],$?get_slot_changes(x,L[2],E,null):get_all_dirty_from_scope(L[2]),null),(!$||E&2)&&attr(k,"align",L[1])},i(L){$||(transition_in(I,L),$=!0)},o(L){transition_out(I,L),$=!1},d(L){L&&detach(k),I&&I.d(L)}}}function create_if_block$15(T){let k,$;const x=T[3].default,I=create_slot(x,T,T[2],null);return{c(){k=element("th"),I&&I.c(),attr(k,"align",T[1])},m(L,E){insert(L,k,E),I&&I.m(k,null),$=!0},p(L,E){I&&I.p&&(!$||E&4)&&update_slot_base(I,x,L,L[2],$?get_slot_changes(x,L[2],E,null):get_all_dirty_from_scope(L[2]),null),(!$||E&2)&&attr(k,"align",L[1])},i(L){$||(transition_in(I,L),$=!0)},o(L){transition_out(I,L),$=!1},d(L){L&&detach(k),I&&I.d(L)}}}function create_fragment$2K(T){let k,$,x,I;const L=[create_if_block$15,create_else_block$i],E=[];function D(F,P){return F[0]?0:1}return k=D(T),$=E[k]=L[k](T),{c(){$.c(),x=empty()},m(F,P){E[k].m(F,P),insert(F,x,P),I=!0},p(F,[P]){let U=k;k=D(F),k===U?E[k].p(F,P):(group_outros(),transition_out(E[U],1,1,()=>{E[U]=null}),check_outros(),$=E[k],$?$.p(F,P):($=E[k]=L[k](F),$.c()),transition_in($,1),$.m(x.parentNode,x))},i(F){I||(transition_in($),I=!0)},o(F){transition_out($),I=!1},d(F){F&&detach(x),E[k].d(F)}}}function instance$2u(T,k,$){let{$$slots:x={},$$scope:I}=k,{header:L}=k,{align:E}=k;return T.$$set=D=>{"header"in D&&$(0,L=D.header),"align"in D&&$(1,E=D.align),"$$scope"in D&&$(2,I=D.$$scope)},[L,E,I,x]}class TableCell extends SvelteComponent{constructor(k){super(),init(this,k,instance$2u,create_fragment$2K,safe_not_equal,{header:0,align:1})}}function create_else_block$h(T){let k,$;const x=T[3].default,I=create_slot(x,T,T[2],null);return{c(){k=element("ul"),I&&I.c()},m(L,E){insert(L,k,E),I&&I.m(k,null),$=!0},p(L,E){I&&I.p&&(!$||E&4)&&update_slot_base(I,x,L,L[2],$?get_slot_changes(x,L[2],E,null):get_all_dirty_from_scope(L[2]),null)},i(L){$||(transition_in(I,L),$=!0)},o(L){transition_out(I,L),$=!1},d(L){L&&detach(k),I&&I.d(L)}}}function create_if_block$14(T){let k,$;const x=T[3].default,I=create_slot(x,T,T[2],null);return{c(){k=element("ol"),I&&I.c(),attr(k,"start",T[1])},m(L,E){insert(L,k,E),I&&I.m(k,null),$=!0},p(L,E){I&&I.p&&(!$||E&4)&&update_slot_base(I,x,L,L[2],$?get_slot_changes(x,L[2],E,null):get_all_dirty_from_scope(L[2]),null),(!$||E&2)&&attr(k,"start",L[1])},i(L){$||(transition_in(I,L),$=!0)},o(L){transition_out(I,L),$=!1},d(L){L&&detach(k),I&&I.d(L)}}}function create_fragment$2J(T){let k,$,x,I;const L=[create_if_block$14,create_else_block$h],E=[];function D(F,P){return F[0]?0:1}return k=D(T),$=E[k]=L[k](T),{c(){$.c(),x=empty()},m(F,P){E[k].m(F,P),insert(F,x,P),I=!0},p(F,[P]){let U=k;k=D(F),k===U?E[k].p(F,P):(group_outros(),transition_out(E[U],1,1,()=>{E[U]=null}),check_outros(),$=E[k],$?$.p(F,P):($=E[k]=L[k](F),$.c()),transition_in($,1),$.m(x.parentNode,x))},i(F){I||(transition_in($),I=!0)},o(F){transition_out($),I=!1},d(F){F&&detach(x),E[k].d(F)}}}function instance$2t(T,k,$){let{$$slots:x={},$$scope:I}=k,{ordered:L}=k,{start:E}=k;return T.$$set=D=>{"ordered"in D&&$(0,L=D.ordered),"start"in D&&$(1,E=D.start),"$$scope"in D&&$(2,I=D.$$scope)},[L,E,I,x]}class List extends SvelteComponent{constructor(k){super(),init(this,k,instance$2t,create_fragment$2J,safe_not_equal,{ordered:0,start:1})}}function create_fragment$2I(T){let k,$;const x=T[1].default,I=create_slot(x,T,T[0],null);return{c(){k=element("li"),I&&I.c()},m(L,E){insert(L,k,E),I&&I.m(k,null),$=!0},p(L,[E]){I&&I.p&&(!$||E&1)&&update_slot_base(I,x,L,L[0],$?get_slot_changes(x,L[0],E,null):get_all_dirty_from_scope(L[0]),null)},i(L){$||(transition_in(I,L),$=!0)},o(L){transition_out(I,L),$=!1},d(L){L&&detach(k),I&&I.d(L)}}}function instance$2s(T,k,$){let{$$slots:x={},$$scope:I}=k;return T.$$set=L=>{"$$scope"in L&&$(0,I=L.$$scope)},[I,x]}class ListItem extends SvelteComponent{constructor(k){super(),init(this,k,instance$2s,create_fragment$2I,safe_not_equal,{})}}function create_fragment$2H(T){let k;return{c(){k=element("hr")},m($,x){insert($,k,x)},p:noop$1,i:noop$1,o:noop$1,d($){$&&detach(k)}}}class Hr extends SvelteComponent{constructor(k){super(),init(this,k,null,create_fragment$2H,safe_not_equal,{})}}function create_fragment$2G(T){let k,$;return{c(){k=new HtmlTag(!1),$=empty(),k.a=$},m(x,I){k.m(T[0],x,I),insert(x,$,I)},p(x,[I]){I&1&&k.p(x[0])},i:noop$1,o:noop$1,d(x){x&&(detach($),k.d())}}}function instance$2r(T,k,$){let{text:x}=k;return T.$$set=I=>{"text"in I&&$(0,x=I.text)},[x]}class Html extends SvelteComponent{constructor(k){super(),init(this,k,instance$2r,create_fragment$2G,safe_not_equal,{text:0})}}function create_fragment$2F(T){let k,$;const x=T[1].default,I=create_slot(x,T,T[0],null);return{c(){k=element("blockquote"),I&&I.c()},m(L,E){insert(L,k,E),I&&I.m(k,null),$=!0},p(L,[E]){I&&I.p&&(!$||E&1)&&update_slot_base(I,x,L,L[0],$?get_slot_changes(x,L[0],E,null):get_all_dirty_from_scope(L[0]),null)},i(L){$||(transition_in(I,L),$=!0)},o(L){transition_out(I,L),$=!1},d(L){L&&detach(k),I&&I.d(L)}}}function instance$2q(T,k,$){let{$$slots:x={},$$scope:I}=k;return T.$$set=L=>{"$$scope"in L&&$(0,I=L.$$scope)},[I,x]}class Blockquote extends SvelteComponent{constructor(k){super(),init(this,k,instance$2q,create_fragment$2F,safe_not_equal,{})}}function create_fragment$2E(T){let k,$,x;return{c(){k=element("pre"),$=element("code"),x=text(T[1]),attr(k,"class",T[0])},m(I,L){insert(I,k,L),append(k,$),append($,x)},p(I,[L]){L&2&&set_data(x,I[1]),L&1&&attr(k,"class",I[0])},i:noop$1,o:noop$1,d(I){I&&detach(k)}}}function instance$2p(T,k,$){let{lang:x}=k,{text:I}=k;return T.$$set=L=>{"lang"in L&&$(0,x=L.lang),"text"in L&&$(1,I=L.text)},[x,I]}class Code extends SvelteComponent{constructor(k){super(),init(this,k,instance$2p,create_fragment$2E,safe_not_equal,{lang:0,text:1})}}function create_fragment$2D(T){let k,$;const x=T[1].default,I=create_slot(x,T,T[0],null);return{c(){k=element("br"),I&&I.c()},m(L,E){insert(L,k,E),I&&I.m(L,E),$=!0},p(L,[E]){I&&I.p&&(!$||E&1)&&update_slot_base(I,x,L,L[0],$?get_slot_changes(x,L[0],E,null):get_all_dirty_from_scope(L[0]),null)},i(L){$||(transition_in(I,L),$=!0)},o(L){transition_out(I,L),$=!1},d(L){L&&detach(k),I&&I.d(L)}}}function instance$2o(T,k,$){let{$$slots:x={},$$scope:I}=k;return T.$$set=L=>{"$$scope"in L&&$(0,I=L.$$scope)},[I,x]}class Br extends SvelteComponent{constructor(k){super(),init(this,k,instance$2o,create_fragment$2D,safe_not_equal,{})}}const defaultRenderers={heading:Heading,paragraph:Paragraph,text:Text,image:Image$1,link:Link$1,em:Em,strong:Strong,codespan:Codespan,del:Del,table:Table,tablehead:TableHead,tablebody:TableBody,tablerow:TableRow,tablecell:TableCell,list:List,orderedlistitem:null,unorderedlistitem:null,listitem:ListItem,hr:Hr,html:Html,blockquote:Blockquote,code:Code,br:Br},defaultOptions={baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,xhtml:!1};function create_fragment$2C(T){let k,$;return k=new Parser$1({props:{tokens:T[0],renderers:T[1]}}),{c(){create_component(k.$$.fragment)},m(x,I){mount_component(k,x,I),$=!0},p(x,[I]){const L={};I&1&&(L.tokens=x[0]),I&2&&(L.renderers=x[1]),k.$set(L)},i(x){$||(transition_in(k.$$.fragment,x),$=!0)},o(x){transition_out(k.$$.fragment,x),$=!1},d(x){destroy_component(k,x)}}}function instance$2n(T,k,$){let x,I,L,E,{source:D=[]}=k,{renderers:F={}}=k,{options:P={}}=k,{isInline:U=!1}=k;const M=createEventDispatcher();let z,N,q;return setContext(key,{slug:j=>I?I.slug(j):"",getOptions:()=>L}),onMount(()=>{$(7,q=!0)}),T.$$set=j=>{"source"in j&&$(2,D=j.source),"renderers"in j&&$(3,F=j.renderers),"options"in j&&$(4,P=j.options),"isInline"in j&&$(5,U=j.isInline)},T.$$.update=()=>{T.$$.dirty&4&&$(8,x=Array.isArray(D)),T.$$.dirty&4&&(I=D?new Slugger:void 0),T.$$.dirty&16&&$(9,L={...defaultOptions,...P}),T.$$.dirty&869&&(x?$(0,z=D):($(6,N=new Lexer(L)),$(0,z=U?N.inlineTokens(D):N.lex(D)),M("parsed",{tokens:z}))),T.$$.dirty&8&&$(1,E={...defaultRenderers,...F}),T.$$.dirty&385&&q&&!x&&M("parsed",{tokens:z})},[z,E,D,F,P,U,N,q,x,L]}class SvelteMarkdown extends SvelteComponent{constructor(k){super(),init(this,k,instance$2n,create_fragment$2C,safe_not_equal,{source:2,renderers:3,options:4,isInline:5})}}function create_else_block$g(T){let k,$,x,I,L;return $=new Spinner({props:{height:32}}),{c(){k=element("div"),create_component($.$$.fragment),x=space(),I=element("p"),I.textContent="Reading items...",attr(I,"class","caption"),attr(k,"class","loading")},m(E,D){insert(E,k,D),mount_component($,k,null),append(k,x),append(k,I),L=!0},p:noop$1,i(E){L||(transition_in($.$$.fragment,E),L=!0)},o(E){transition_out($.$$.fragment,E),L=!1},d(E){E&&detach(k),destroy_component($)}}}function create_if_block_1$k(T){let k;return{c(){k=element("p"),k.textContent=`ArcOS is currently unable to get the latest release information from the\r
    github repository. Please try again later.`},m($,x){insert($,k,x)},p:noop$1,i:noop$1,o:noop$1,d($){$&&detach(k)}}}function create_if_block$13(T){let k,$,x=T[0].tag_name+"",I,L,E,D;return E=new SvelteMarkdown({props:{source:T[0].body}}),{c(){k=element("h3"),$=text("Changelog for ArcOS v"),I=text(x),L=space(),create_component(E.$$.fragment)},m(F,P){insert(F,k,P),append(k,$),append(k,I),insert(F,L,P),mount_component(E,F,P),D=!0},p(F,P){(!D||P&1)&&x!==(x=F[0].tag_name+"")&&set_data(I,x);const U={};P&1&&(U.source=F[0].body),E.$set(U)},i(F){D||(transition_in(E.$$.fragment,F),D=!0)},o(F){transition_out(E.$$.fragment,F),D=!1},d(F){F&&(detach(k),detach(L)),destroy_component(E,F)}}}function create_fragment$2B(T){let k,$,x,I;const L=[create_if_block$13,create_if_block_1$k,create_else_block$g],E=[];function D(F,P){return F[0]?0:F[1]?2:1}return k=D(T),$=E[k]=L[k](T),{c(){$.c(),x=empty()},m(F,P){E[k].m(F,P),insert(F,x,P),I=!0},p(F,[P]){let U=k;k=D(F),k===U?E[k].p(F,P):(group_outros(),transition_out(E[U],1,1,()=>{E[U]=null}),check_outros(),$=E[k],$?$.p(F,P):($=E[k]=L[k](F),$.c()),transition_in($,1),$.m(x.parentNode,x))},i(F){I||(transition_in($),I=!0)},o(F){transition_out($),I=!1},d(F){F&&detach(x),E[k].d(F)}}}function instance$2m(T,k,$){let x,I=!1;return onMount(async()=>{Busy.set(!0),$(1,I=!0),$(0,x=await getLatestRelease()),$(1,I=!1),Busy.set(!1)}),[x,I]}class RecentChanges extends SvelteComponent{constructor(k){super(),init(this,k,instance$2m,create_fragment$2B,safe_not_equal,{})}}function create_fragment$2A(T){let k,$,x;return{c(){k=element("h1"),k.textContent="Not implemented",$=space(),x=element("p"),x.textContent="This article has not yet been written. Sorry about that."},m(I,L){insert(I,k,L),insert(I,$,L),insert(I,x,L)},p:noop$1,i:noop$1,o:noop$1,d(I){I&&(detach(k),detach($),detach(x))}}}class NotImplemented extends SvelteComponent{constructor(k){super(),init(this,k,null,create_fragment$2A,safe_not_equal,{})}}const accounts={accounts:{title:"Accounts",authors:["Izaak Kuipers"],content:NotImplemented,sep:!0},accountsChangeCred:{title:"Changing my Credentials",authors:["Izaak Kuipers"],content:NotImplemented,parentId:"accounts"},accountsChangeProfile:{title:"Changing my Profile Picture",authors:["Izaak Kuipers"],content:NotImplemented,parentId:"accounts"},accountsDelete:{title:"Deleting my Account",authors:["Izaak Kuipers"],content:NotImplemented,parentId:"accounts"}},actioncenter$1={actionCenter:{title:"Action Center",authors:["Izaak Kuipers"],content:NotImplemented,sep:!0},actionCenterNotifications:{title:"Notifications",authors:["Izaak Kuipers"],content:NotImplemented,parentId:"actionCenter"},actionCenterQuickActions:{title:"Quick Actions",authors:["Izaak Kuipers"],content:NotImplemented,parentId:"actionCenter"}},messaging$1={appsMessaging:{title:"Messaging",authors:["Izaak Kuipers"],content:NotImplemented,parentId:"apps"},appsMessagingSending:{title:"Sending",authors:["Izaak Kuipers"],content:NotImplemented,parentId:"appsMessaging"},appsMessagingReceiving:{title:"Receiving",authors:["Izaak Kuipers"],content:NotImplemented,parentId:"appsMessaging"},appsMessagingDeleting:{title:"Deleting",authors:["Izaak Kuipers"],content:NotImplemented,parentId:"appsMessaging"},appsMessagingReplies:{title:"Replies",authors:["Izaak Kuipers"],content:NotImplemented,parentId:"appsMessaging"},appsMessagingLimitations:{title:"Limitations",authors:["Izaak Kuipers"],content:NotImplemented,parentId:"appsMessaging"}},apps$1={apps:{title:"Apps",authors:["Izaak Kuipers"],content:NotImplemented,sep:!0},appsSystem:{title:"About System Apps",authors:["Izaak Kuipers"],content:NotImplemented,parentId:"apps"},appsTurnOnAndOff:{title:"Turn apps on and off",authors:["Izaak Kuipers"],content:NotImplemented,parentId:"apps"},...messaging$1},arcfind$1={arcfind:{title:"ArcFind",authors:["Izaak Kuipers"],content:NotImplemented,sep:!0},arcfindTypes:{title:"Types of Results",authors:["Izaak Kuipers"],content:NotImplemented,parentId:"arcfind"},arcfindInitialIndex:{title:"Initial Index",authors:["Izaak Kuipers"],content:NotImplemented,parentId:"arcfind"}},arcfs={arcfs:{title:"ArcFS",authors:["Izaak Kuipers"],content:NotImplemented,sep:!0},arcfsUploading:{title:"Uploading Files",authors:["Izaak Kuipers"],content:NotImplemented,parentId:"arcfs"},arcfsDownloading:{title:"Downloading Files",authors:["Izaak Kuipers"],content:NotImplemented,parentId:"arcfs"},arcfsOpenWith:{title:"Open With",authors:["Izaak Kuipers"],content:NotImplemented,parentId:"arcfs"},arcfsLimitations:{title:"Limitations",authors:["Izaak Kuipers"],content:NotImplemented,parentId:"arcfs"},arcfsQuota:{title:"ArcFS Quota",authors:["Izaak Kuipers"],content:NotImplemented,parentId:"arcfs"}},configuration={arctermConfiguration:{title:"Configuration",authors:["Izaak Kuipers"],content:NotImplemented,parentId:"arcterm"},arctermConfigurationPrompt:{title:"Prompt",authors:["Izaak Kuipers"],content:NotImplemented,parentId:"arctermConfiguration"},arctermConfigurationIntro:{title:"Intro",authors:["Izaak Kuipers"],content:NotImplemented,parentId:"arctermConfiguration"}},arcterm={arcterm:{title:"ArcTerm",authors:["Izaak Kuipers"],content:NotImplemented,sep:!0},...configuration,arctermMode:{title:"ArcTerm Mode",authors:["Izaak Kuipers"],content:NotImplemented,parentId:"arcterm"}},logging={logging:{title:"Logging",authors:["Izaak Kuipers"],content:NotImplemented},loggingTypes:{title:"Log Types",authors:["Izaak Kuipers"],content:NotImplemented,parentId:"logging"},loggingDevTools:{title:"Developer Tools",authors:["Izaak Kuipers"],content:NotImplemented,parentId:"logging"}};function create_fragment$2z(T){let k,$,x,I,L,E,D,F,P,U,M,z,N,q,j,W,H,Q,K,G;return M=new Redirect({props:{id:"personalizationShell"}}),K=new Redirect({props:{id:"personalizationDesktop"}}),{c(){k=element("h1"),k.textContent="Personalization",$=space(),x=element("p"),x.textContent=`One of the key things we care about in ArcOS is customization; the ability to\r
  change every aspect of your desktop precisely how you like it. I like to think\r
  we did a pretty good job, with a ton of options and things to tweak.`,I=space(),L=element("p"),L.textContent=`In this help center article, you will learn what customization options there\r
  are, and more.`,E=space(),D=element("h2"),D.textContent="The shell",F=space(),P=element("p"),P.innerHTML=`The shell is <b>the Taskbar</b>, <b>Start Menu</b>, <b>Action Center</b> and
  <b>ArcFind</b>. It too can be customized. You can customize the shell by going
  to the Shell page in Settings. From there you can change the behaviour of
  every component of the shell.`,U=space(),create_component(M.$$.fragment),z=space(),N=element("h2"),N.textContent="Desktop",q=space(),j=element("p"),j.textContent=`The very first thing you see every time you log in. On the desktop you'll find\r
  your desktop icons and the wallpaper. The wallpaper can be changed using\r
  either a built-in wallpaper or a custom one via URL or ArcFS file.`,W=space(),H=element("p"),H.textContent=`Do you want to save your current options? Good news, you can! On the\r
  Appearance page of the Settings app, you can click on the save icon to save\r
  your current appearance as a theme so that you can easily switch between\r
  different styles.`,Q=space(),create_component(K.$$.fragment)},m(V,Y){insert(V,k,Y),insert(V,$,Y),insert(V,x,Y),insert(V,I,Y),insert(V,L,Y),insert(V,E,Y),insert(V,D,Y),insert(V,F,Y),insert(V,P,Y),insert(V,U,Y),mount_component(M,V,Y),insert(V,z,Y),insert(V,N,Y),insert(V,q,Y),insert(V,j,Y),insert(V,W,Y),insert(V,H,Y),insert(V,Q,Y),mount_component(K,V,Y),G=!0},p:noop$1,i(V){G||(transition_in(M.$$.fragment,V),transition_in(K.$$.fragment,V),G=!0)},o(V){transition_out(M.$$.fragment,V),transition_out(K.$$.fragment,V),G=!1},d(V){V&&(detach(k),detach($),detach(x),detach(I),detach(L),detach(E),detach(D),detach(F),detach(P),detach(U),detach(z),detach(N),detach(q),detach(j),detach(W),detach(H),detach(Q)),destroy_component(M,V),destroy_component(K,V)}}}class Personalization extends SvelteComponent{constructor(k){super(),init(this,k,null,create_fragment$2z,safe_not_equal,{})}}const desktop$2={personalizationDesktop:{title:"Desktop",authors:["Izaak Kuipers"],content:NotImplemented,parentId:"personalization"},personalizationDesktopThemes:{title:"Themes",authors:["Izaak Kuipers"],content:NotImplemented,parentId:"personalizationDesktop"},personalizationDesktopCustomWallpapers:{title:"Wallpapers",authors:["Izaak Kuipers"],content:NotImplemented,parentId:"personalizationDesktop"}},shell={personalizationShell:{title:"Shell",authors:["Izaak Kuipers"],content:NotImplemented,parentId:"personalization"},personalizationShellColoring:{title:"Coloring",authors:["Izaak Kuipers"],content:NotImplemented,parentId:"personalizationShell"},personalizationShellTaskbar:{title:"Taskbar",authors:["Izaak Kuipers"],content:NotImplemented,parentId:"personalizationShell"},personalizationShellStartMenu:{title:"Start Menu",authors:["Izaak Kuipers"],content:NotImplemented,parentId:"personalizationShell"},personalizationShellActionCenter:{title:"Action Center",authors:["Izaak Kuipers"],content:NotImplemented,parentId:"personalizationShell"}},windows={personalizationWindows:{title:"Windows",authors:["Izaak Kuipers"],content:NotImplemented,parentId:"personalization"},personalizationWindowsTitlebar:{title:"Titlebar",authors:["Izaak Kuipers"],content:NotImplemented,parentId:"personalizationWindows"}},personalization={personalization:{title:"Personalization",content:Personalization,authors:["Izaak Kuipers"],sep:!0},personalizationPerformance:{title:"Performance",authors:["Izaak Kuipers"],content:NotImplemented,parentId:"personalization"},...shell,...desktop$2,...windows},helpCenterArticles={homePage:{title:"Home",content:HomePage,sep:!0,authors:["Izaak Kuipers"]},homePageChanges:{title:"Recent Changes",content:RecentChanges,authors:["Izaak Kuipers"],parentId:"homePage"},...personalization,...actioncenter$1,...accounts,...arcterm,...arcfs,...arcfind$1,...apps$1,...logging},currentArticle=writable();function create_if_block$12(T){let k,$,x;var I=helpCenterArticles[T[0]].content;function L(E){return{}}return I&&(k=construct_svelte_component(I,L())),{c(){k&&create_component(k.$$.fragment),$=empty()},m(E,D){k&&mount_component(k,E,D),insert(E,$,D),x=!0},p(E,D){if(D&1&&I!==(I=helpCenterArticles[E[0]].content)){if(k){group_outros();const F=k;transition_out(F.$$.fragment,1,0,()=>{destroy_component(F,1)}),check_outros()}I?(k=construct_svelte_component(I,L()),create_component(k.$$.fragment),transition_in(k.$$.fragment,1),mount_component(k,$.parentNode,$)):k=null}},i(E){x||(k&&transition_in(k.$$.fragment,E),x=!0)},o(E){k&&transition_out(k.$$.fragment,E),x=!1},d(E){E&&detach($),k&&destroy_component(k,E)}}}function create_fragment$2y(T){let k,$,x=T[0]&&helpCenterArticles[T[0]]&&create_if_block$12(T);return{c(){k=element("div"),x&&x.c(),attr(k,"class","article-renderer markdownrenderer")},m(I,L){insert(I,k,L),x&&x.m(k,null),$=!0},p(I,[L]){I[0]&&helpCenterArticles[I[0]]?x?(x.p(I,L),L&1&&transition_in(x,1)):(x=create_if_block$12(I),x.c(),transition_in(x,1),x.m(k,null)):x&&(group_outros(),transition_out(x,1,1,()=>{x=null}),check_outros())},i(I){$||(transition_in(x),$=!0)},o(I){transition_out(x),$=!1},d(I){I&&detach(k),x&&x.d()}}}function instance$2l(T,k,$){let x;return component_subscribe(T,currentArticle,I=>$(0,x=I)),[x]}class ArticleRenderer extends SvelteComponent{constructor(k){super(),init(this,k,instance$2l,create_fragment$2y,safe_not_equal,{})}}function get_each_context$F(T,k,$){const x=T.slice();return x[5]=k[$],x}function create_if_block_1$j(T){let k,$;return k=new Article_1({props:{article:T[5][1],id:T[5][0],articles:T[2]}}),{c(){create_component(k.$$.fragment)},m(x,I){mount_component(k,x,I),$=!0},p(x,I){const L={};I&4&&(L.article=x[5][1]),I&4&&(L.id=x[5][0]),I&4&&(L.articles=x[2]),k.$set(L)},i(x){$||(transition_in(k.$$.fragment,x),$=!0)},o(x){transition_out(k.$$.fragment,x),$=!1},d(x){destroy_component(k,x)}}}function create_each_block$F(T){let k,$,x=T[5][1].parentId==T[1]&&create_if_block_1$j(T);return{c(){x&&x.c(),k=empty()},m(I,L){x&&x.m(I,L),insert(I,k,L),$=!0},p(I,L){I[5][1].parentId==I[1]?x?(x.p(I,L),L&6&&transition_in(x,1)):(x=create_if_block_1$j(I),x.c(),transition_in(x,1),x.m(k.parentNode,k)):x&&(group_outros(),transition_out(x,1,1,()=>{x=null}),check_outros())},i(I){$||(transition_in(x),$=!0)},o(I){transition_out(x),$=!1},d(I){I&&detach(k),x&&x.d(I)}}}function create_if_block$11(T){let k;return{c(){k=element("hr")},m($,x){insert($,k,x)},d($){$&&detach(k)}}}function create_fragment$2x(T){let k,$=T[0].title+"",x,I,L,E,D,F,P,U,M=ensure_array_like(T[2]),z=[];for(let j=0;j<M.length;j+=1)z[j]=create_each_block$F(get_each_context$F(T,M,j));const N=j=>transition_out(z[j],1,1,()=>{z[j]=null});let q=T[0].sep&&create_if_block$11();return{c(){k=element("button"),x=text($),I=space(),L=element("div");for(let j=0;j<z.length;j+=1)z[j].c();E=space(),q&&q.c(),D=empty(),attr(k,"class","article-link"),toggle_class(k,"selected",T[3]==T[1]),attr(L,"class","indent")},m(j,W){insert(j,k,W),append(k,x),insert(j,I,W),insert(j,L,W);for(let H=0;H<z.length;H+=1)z[H]&&z[H].m(L,null);insert(j,E,W),q&&q.m(j,W),insert(j,D,W),F=!0,P||(U=listen(k,"click",T[4]),P=!0)},p(j,[W]){if((!F||W&1)&&$!==($=j[0].title+"")&&set_data(x,$),(!F||W&10)&&toggle_class(k,"selected",j[3]==j[1]),W&6){M=ensure_array_like(j[2]);let H;for(H=0;H<M.length;H+=1){const Q=get_each_context$F(j,M,H);z[H]?(z[H].p(Q,W),transition_in(z[H],1)):(z[H]=create_each_block$F(Q),z[H].c(),transition_in(z[H],1),z[H].m(L,null))}for(group_outros(),H=M.length;H<z.length;H+=1)N(H);check_outros()}j[0].sep?q||(q=create_if_block$11(),q.c(),q.m(D.parentNode,D)):q&&(q.d(1),q=null)},i(j){if(!F){for(let W=0;W<M.length;W+=1)transition_in(z[W]);F=!0}},o(j){z=z.filter(Boolean);for(let W=0;W<z.length;W+=1)transition_out(z[W]);F=!1},d(j){j&&(detach(k),detach(I),detach(L),detach(E),detach(D)),destroy_each(z,j),q&&q.d(j),P=!1,U()}}}function instance$2k(T,k,$){let x;component_subscribe(T,currentArticle,F=>$(3,x=F));let{article:I}=k,{id:L}=k,{articles:E=[]}=k;function D(){currentArticle.set(L)}return T.$$set=F=>{"article"in F&&$(0,I=F.article),"id"in F&&$(1,L=F.id),"articles"in F&&$(2,E=F.articles)},[I,L,E,x,D]}class Article_1 extends SvelteComponent{constructor(k){super(),init(this,k,instance$2k,create_fragment$2x,safe_not_equal,{article:0,id:1,articles:2})}}function get_each_context$E(T,k,$){const x=T.slice();return x[1]=k[$],x}function create_if_block$10(T){let k,$;return k=new Article_1({props:{article:T[1][1],id:T[1][0],articles:T[0]}}),{c(){create_component(k.$$.fragment)},m(x,I){mount_component(k,x,I),$=!0},p(x,I){const L={};I&1&&(L.article=x[1][1]),I&1&&(L.id=x[1][0]),I&1&&(L.articles=x[0]),k.$set(L)},i(x){$||(transition_in(k.$$.fragment,x),$=!0)},o(x){transition_out(k.$$.fragment,x),$=!1},d(x){destroy_component(k,x)}}}function create_each_block$E(T){let k,$,x=!T[1][1].parentId&&create_if_block$10(T);return{c(){x&&x.c(),k=empty()},m(I,L){x&&x.m(I,L),insert(I,k,L),$=!0},p(I,L){I[1][1].parentId?x&&(group_outros(),transition_out(x,1,1,()=>{x=null}),check_outros()):x?(x.p(I,L),L&1&&transition_in(x,1)):(x=create_if_block$10(I),x.c(),transition_in(x,1),x.m(k.parentNode,k))},i(I){$||(transition_in(x),$=!0)},o(I){transition_out(x),$=!1},d(I){I&&detach(k),x&&x.d(I)}}}function create_fragment$2w(T){let k,$,x=ensure_array_like(T[0]),I=[];for(let E=0;E<x.length;E+=1)I[E]=create_each_block$E(get_each_context$E(T,x,E));const L=E=>transition_out(I[E],1,1,()=>{I[E]=null});return{c(){k=element("div");for(let E=0;E<I.length;E+=1)I[E].c();attr(k,"class","sidebar")},m(E,D){insert(E,k,D);for(let F=0;F<I.length;F+=1)I[F]&&I[F].m(k,null);$=!0},p(E,[D]){if(D&1){x=ensure_array_like(E[0]);let F;for(F=0;F<x.length;F+=1){const P=get_each_context$E(E,x,F);I[F]?(I[F].p(P,D),transition_in(I[F],1)):(I[F]=create_each_block$E(P),I[F].c(),transition_in(I[F],1),I[F].m(k,null))}for(group_outros(),F=x.length;F<I.length;F+=1)L(F);check_outros()}},i(E){if(!$){for(let D=0;D<x.length;D+=1)transition_in(I[D]);$=!0}},o(E){I=I.filter(Boolean);for(let D=0;D<I.length;D+=1)transition_out(I[D]);$=!1},d(E){E&&detach(k),destroy_each(I,E)}}}function instance$2j(T,k,$){let x=[];return onMount(()=>{$(0,x=Object.entries(helpCenterArticles))}),[x]}let SideBar$2=class extends SvelteComponent{constructor(k){super(),init(this,k,instance$2j,create_fragment$2w,safe_not_equal,{})}};function create_fragment$2v(T){let k,$,x,I;return k=new ArticleRenderer({}),x=new SideBar$2({}),{c(){create_component(k.$$.fragment),$=space(),create_component(x.$$.fragment)},m(L,E){mount_component(k,L,E),insert(L,$,E),mount_component(x,L,E),I=!0},p:noop$1,i(L){I||(transition_in(k.$$.fragment,L),transition_in(x.$$.fragment,L),I=!0)},o(L){transition_out(k.$$.fragment,L),transition_out(x.$$.fragment,L),I=!1},d(L){L&&detach($),destroy_component(k,L),destroy_component(x,L)}}}let HelpCenter$1=class extends SvelteComponent{constructor(k){super(),init(this,k,null,create_fragment$2v,safe_not_equal,{})}};const HelpCenter={info:{name:"Help Center",description:"You have questions, I have answers.",builtin:!0,version:"1.0.0",author:"ArcOS Team",icon:logo$8,hidden:!0,appGroup:"support"},size:{w:800,h:600},pos:{x:30,y:40},minSize:{w:800,h:600},maxSize:{w:901,h:700},controls:{min:!0,max:!0,cls:!0},state:{headless:!1,resizable:!1,windowState:{min:!1,max:!1,fll:!1}},content:HelpCenter$1,glass:!0,events:{open(){createOverlayableError({title:"Caution!",message:"This application is still in development past the release of 5.0.6. It was hidden to prevent you from seeing this half finished help center. Do not take the content or UI serious.",buttons:[{caption:"OK",action(){}}]},"HelpCenter")}}},logo$5=""+new URL("imageviewer-1e34c118.svg",import.meta.url).href,imageviewer="";function create_if_block$$(T){let k,$,x,I;return{c(){k=element("img"),src_url_equal(k.src,$=T[1])||attr(k,"src",$),attr(k,"alt",x=T[0].openedFile.name),attr(k,"data-caller","output"),attr(k,"data-path",I=T[0].openedFile.path)},m(L,E){insert(L,k,E)},p(L,E){E&2&&!src_url_equal(k.src,$=L[1])&&attr(k,"src",$),E&1&&x!==(x=L[0].openedFile.name)&&attr(k,"alt",x),E&1&&I!==(I=L[0].openedFile.path)&&attr(k,"data-path",I)},d(L){L&&detach(k)}}}function create_fragment$2u(T){let k,$=T[0].openedFile&&T[1]&&create_if_block$$(T);return{c(){$&&$.c(),k=empty()},m(x,I){$&&$.m(x,I),insert(x,k,I)},p(x,[I]){x[0].openedFile&&x[1]?$?$.p(x,I):($=create_if_block$$(x),$.c(),$.m(k.parentNode,k)):$&&($.d(1),$=null)},i:noop$1,o:noop$1,d(x){x&&detach(k),$&&$.d(x)}}}function instance$2i(T,k,$){let{app:x}=k,I="";return WindowStore.subscribe(()=>{if(!x.openedFile)return $(1,I="");const L=new Blob([new Uint8Array(x.openedFile.data)],{type:x.openedFile.mime});$(1,I=URL.createObjectURL(L))}),T.$$set=L=>{"app"in L&&$(0,x=L.app)},[x,I]}class ImageView extends SvelteComponent{constructor(k){super(),init(this,k,instance$2i,create_fragment$2u,safe_not_equal,{app:0})}}const textview="",chooseTargets=writable({});function setTargetFile(T,k){const $=get_store_value(chooseTargets),x=$[T],I=get_store_value(WindowStore);let L=null;for(let E=0;E<I.length;E++)I[E].id==x&&(L=E);return L==null?!1:(I[L].openedFile=k,I[L].events&&I[L].events.openFile&&I[L].events.openFile(I[L]),delete I[L].overlays[T],WindowStore.set(I),delete $[T],chooseTargets.set($),!0)}function getChooserTarget(T){return get_store_value(chooseTargets)[T]||!1}function assignTarget(T,k){const $=get_store_value(chooseTargets);return $[T]?!1:($[T]=k,chooseTargets.set($),!0)}function create_fragment$2t(T){let k,$,x,I,L,E,D,F,P;return{c(){k=element("div"),$=element("div"),x=element("button"),x.textContent="Cancel",I=space(),L=element("button"),E=text("Open"),attr(x,"class","cancel"),attr(L,"class","confirm"),L.disabled=D=!T[5]||!T[4],attr($,"class","buttons"),attr(k,"class","bottompane")},m(U,M){insert(U,k,M),append(k,$),append($,x),append($,I),append($,L),append(L,E),F||(P=[listen(x,"click",T[7]),listen(L,"click",T[6])],F=!0)},p(U,[M]){M&48&&D!==(D=!U[5]||!U[4])&&(L.disabled=D)},i:noop$1,o:noop$1,d(U){U&&detach(k),F=!1,run_all(P)}}}function instance$2h(T,k,$){let x,I=noop$1,L=()=>(I(),I=subscribe(Q,Y=>$(9,x=Y)),Q),E,D=noop$1,F=()=>(D(),D=subscribe(j,Y=>$(10,E=Y)),j),P,U=noop$1,M=()=>(U(),U=subscribe(H,Y=>$(4,P=Y)),H),z,N=noop$1,q=()=>(N(),N=subscribe(W,Y=>$(5,z=Y)),W);T.$$.on_destroy.push(()=>I()),T.$$.on_destroy.push(()=>D()),T.$$.on_destroy.push(()=>U()),T.$$.on_destroy.push(()=>N());let{currentDir:j}=k;F();let{currentPath:W}=k;q();let{selected:H}=k;M();let{processing:Q}=k;L();let{overlay:K}=k;async function G(){set_store_value(Q,x=!0,x);let Y;for(let X=0;X<E.files.length;X++)E.files[X].filename==P&&(Y=E.files[X]);const J={name:Y.filename,path:Y.scopedPath,data:await readFile(Y.scopedPath),mime:Y.mime};hideOverlay(K.id,getChooserTarget(K.id)),setTargetFile(K.id,J),set_store_value(Q,x=!1,x)}function V(){const Y=getChooserTarget(K.id),J=getWindow(Y);hideOverlay(K.id,Y),setTargetFile(K.id,J.openedFile)}return T.$$set=Y=>{"currentDir"in Y&&F($(0,j=Y.currentDir)),"currentPath"in Y&&q($(1,W=Y.currentPath)),"selected"in Y&&M($(2,H=Y.selected)),"processing"in Y&&L($(3,Q=Y.processing)),"overlay"in Y&&$(8,K=Y.overlay)},[j,W,H,Q,P,z,G,V,K]}let BottomPane$1=class extends SvelteComponent{constructor(k){super(),init(this,k,instance$2h,create_fragment$2t,safe_not_equal,{currentDir:0,currentPath:1,selected:2,processing:3,overlay:8})}};function create_fragment$2s(T){let k,$,x,I,L,E,D,F=T[0].name+"",P,U,M,z,N,q,j;return{c(){k=element("button"),$=element("div"),x=element("img"),E=space(),D=element("div"),P=text(F),U=space(),M=element("div"),M.textContent="Folder",z=space(),N=element("div"),N.textContent="-",src_url_equal(x.src,I=folder)||attr(x,"src",I),attr(x,"alt",L=T[0].name),attr($,"class","image"),attr(D,"class","name"),attr(M,"class","mime"),attr(N,"class","size"),attr(k,"class","item dir")},m(W,H){insert(W,k,H),append(k,$),append($,x),append(k,E),append(k,D),append(D,P),append(k,U),append(k,M),append(k,z),append(k,N),q||(j=listen(k,"dblclick",T[2]),q=!0)},p(W,[H]){H&1&&L!==(L=W[0].name)&&attr(x,"alt",L),H&1&&F!==(F=W[0].name+"")&&set_data(P,F)},i:noop$1,o:noop$1,d(W){W&&detach(k),q=!1,j()}}}function instance$2g(T,k,$){let{dir:x}=k,{setDir:I}=k;const L=()=>I(x.scopedPath);return T.$$set=E=>{"dir"in E&&$(0,x=E.dir),"setDir"in E&&$(1,I=E.setDir)},[x,I,L]}let Dir$2=class extends SvelteComponent{constructor(k){super(),init(this,k,instance$2g,create_fragment$2s,safe_not_equal,{dir:0,setDir:1})}};function create_fragment$2r(T){let k,$,x,I,L,E,D,F=T[2].filename+"",P,U,M,z=T[2].mime.split("; ")[0].split("/").join(" - ")+"",N,q,j,W=formatBytes(T[2].size)+"",H,Q,K;return{c(){k=element("button"),$=element("div"),x=element("img"),E=space(),D=element("div"),P=text(F),U=space(),M=element("div"),N=text(z),q=space(),j=element("div"),H=text(W),src_url_equal(x.src,I=T[3])||attr(x,"src",I),attr(x,"alt",L=T[2].filename),attr($,"class","image"),attr(D,"class","name"),attr(M,"class","mime"),attr(j,"class","size"),attr(k,"class","item file"),toggle_class(k,"selected",T[4]==T[2].filename)},m(G,V){insert(G,k,V),append(k,$),append($,x),append(k,E),append(k,D),append(D,P),append(k,U),append(k,M),append(M,N),append(k,q),append(k,j),append(j,H),Q||(K=[listen(k,"dblclick",T[5]),listen(k,"click",T[7])],Q=!0)},p(G,[V]){V&8&&!src_url_equal(x.src,I=G[3])&&attr(x,"src",I),V&4&&L!==(L=G[2].filename)&&attr(x,"alt",L),V&4&&F!==(F=G[2].filename+"")&&set_data(P,F),V&4&&z!==(z=G[2].mime.split("; ")[0].split("/").join(" - ")+"")&&set_data(N,z),V&4&&W!==(W=formatBytes(G[2].size)+"")&&set_data(H,W),V&20&&toggle_class(k,"selected",G[4]==G[2].filename)},i:noop$1,o:noop$1,d(G){G&&detach(k),Q=!1,run_all(K)}}}function instance$2f(T,k,$){let x,I=noop$1,L=()=>(I(),I=subscribe(M,W=>$(8,x=W)),M),E,D=noop$1,F=()=>(D(),D=subscribe(U,W=>$(4,E=W)),U);T.$$.on_destroy.push(()=>I()),T.$$.on_destroy.push(()=>D());let{overlay:P}=k,{selected:U}=k;F();let{processing:M}=k;L();let z="";onMount(()=>{$(3,z=getMimeIcon(q.filename))});async function N(){set_store_value(M,x=!0,x);const W={name:q.filename,path:q.scopedPath,data:await readFile(q.scopedPath),mime:q.mime};setTargetFile(P.id,W),set_store_value(M,x=!1,x)}let{file:q}=k;const j=()=>set_store_value(U,E=q.filename,E);return T.$$set=W=>{"overlay"in W&&$(6,P=W.overlay),"selected"in W&&F($(0,U=W.selected)),"processing"in W&&L($(1,M=W.processing)),"file"in W&&$(2,q=W.file)},[U,M,q,z,E,N,P,j]}let File$1=class extends SvelteComponent{constructor(k){super(),init(this,k,instance$2f,create_fragment$2r,safe_not_equal,{overlay:6,selected:0,processing:1,file:2})}};function create_if_block$_(T){let k,$,x,I;return{c(){k=element("button"),$=text(T[0]),attr(k,"class","crumb")},m(L,E){insert(L,k,E),append(k,$),x||(I=listen(k,"click",T[1]),x=!0)},p(L,E){E&1&&set_data($,L[0])},d(L){L&&detach(k),x=!1,I()}}}function create_fragment$2q(T){let k,$=T[0]&&T[0]!="."&&create_if_block$_(T);return{c(){$&&$.c(),k=empty()},m(x,I){$&&$.m(x,I),insert(x,k,I)},p(x,[I]){x[0]&&x[0]!="."?$?$.p(x,I):($=create_if_block$_(x),$.c(),$.m(k.parentNode,k)):$&&($.d(1),$=null)},i:noop$1,o:noop$1,d(x){x&&detach(k),$&&$.d(x)}}}function instance$2e(T,k,$){let{crumb:x}=k,{path:I}=k,{setDir:L}=k;function E(){L(I)}return T.$$set=D=>{"crumb"in D&&$(0,x=D.crumb),"path"in D&&$(2,I=D.path),"setDir"in D&&$(3,L=D.setDir)},[x,E,I,L]}class Crumb extends SvelteComponent{constructor(k){super(),init(this,k,instance$2e,create_fragment$2q,safe_not_equal,{crumb:0,path:2,setDir:3})}}function get_each_context$D(T,k,$){const x=T.slice();return x[10]=k[$],x[12]=$,x}function create_each_block$D(T){let k,$;return k=new Crumb({props:{crumb:T[10],path:T[6](T[10],T[12]),setDir:T[3]}}),{c(){create_component(k.$$.fragment)},m(x,I){mount_component(k,x,I),$=!0},p(x,I){const L={};I&16&&(L.crumb=x[10]),I&16&&(L.path=x[6](x[10],x[12])),I&8&&(L.setDir=x[3]),k.$set(L)},i(x){$||(transition_in(k.$$.fragment,x),$=!0)},o(x){transition_out(k.$$.fragment,x),$=!1},d(x){destroy_component(k,x)}}}function create_fragment$2p(T){let k,$,x,I,L,E,D,F,P,U,M,z,N,q,j,W,H,Q,K,G,V,Y=ensure_array_like(T[4]),J=[];for(let Z=0;Z<Y.length;Z+=1)J[Z]=create_each_block$D(get_each_context$D(T,Y,Z));const X=Z=>transition_out(J[Z],1,1,()=>{J[Z]=null});return{c(){k=element("div"),$=element("button"),x=text("arrow_upward"),L=space(),E=element("button"),E.textContent="home",D=space(),F=element("div");for(let Z=0;Z<J.length;Z+=1)J[Z].c();P=space(),U=element("button"),U.textContent="refresh",M=space(),z=element("div"),N=element("button"),q=text("format_list_bulleted"),W=space(),H=element("button"),Q=text("grid_view"),attr($,"class","parentdir material-icons-round"),$.disabled=I=T[4].length==2&&T[4][0]=="."&&!T[4][1],attr(E,"class","home material-icons-round"),attr(F,"class","addressbar"),attr(U,"class","refresh material-icons-round"),attr(N,"class","material-icons-round"),N.disabled=j=!T[0],attr(N,"title","List view"),toggle_class(N,"selected",T[0]),attr(H,"class","material-icons-round"),H.disabled=T[0],attr(H,"title","Tile view"),toggle_class(H,"selected",!T[0]),attr(z,"class","group"),attr(k,"class","topbar")},m(Z,ee){insert(Z,k,ee),append(k,$),append($,x),append(k,L),append(k,E),append(k,D),append(k,F);for(let re=0;re<J.length;re+=1)J[re]&&J[re].m(F,null);append(k,P),append(k,U),append(k,M),append(k,z),append(z,N),append(N,q),append(z,W),append(z,H),append(H,Q),K=!0,G||(V=[listen($,"click",T[7]),listen(E,"click",T[5]),listen(U,"click",function(){is_function(T[2])&&T[2].apply(this,arguments)}),listen(N,"click",T[8]),listen(H,"click",T[8])],G=!0)},p(Z,[ee]){if(T=Z,(!K||ee&16&&I!==(I=T[4].length==2&&T[4][0]=="."&&!T[4][1]))&&($.disabled=I),ee&88){Y=ensure_array_like(T[4]);let re;for(re=0;re<Y.length;re+=1){const ce=get_each_context$D(T,Y,re);J[re]?(J[re].p(ce,ee),transition_in(J[re],1)):(J[re]=create_each_block$D(ce),J[re].c(),transition_in(J[re],1),J[re].m(F,null))}for(group_outros(),re=Y.length;re<J.length;re+=1)X(re);check_outros()}(!K||ee&1&&j!==(j=!T[0]))&&(N.disabled=j),(!K||ee&1)&&toggle_class(N,"selected",T[0]),(!K||ee&1)&&(H.disabled=T[0]),(!K||ee&1)&&toggle_class(H,"selected",!T[0])},i(Z){if(!K){for(let ee=0;ee<Y.length;ee+=1)transition_in(J[ee]);K=!0}},o(Z){J=J.filter(Boolean);for(let ee=0;ee<J.length;ee+=1)transition_out(J[ee]);K=!1},d(Z){Z&&detach(k),destroy_each(J,Z),G=!1,run_all(V)}}}function instance$2d(T,k,$){let x,I=noop$1,L=()=>(I(),I=subscribe(E,j=>$(9,x=j)),E);T.$$.on_destroy.push(()=>I());let{currentPath:E}=k;L();let{refresh:D}=k,{setDir:F}=k,P,{tiled:U}=k;E.subscribe(j=>{$(4,P=j.split("/")),D(),$(0,U=!!getAppPreference("FileManager","tiled"))});function M(){E.set("./")}function z(j,W){let H="";for(let Q=0;Q<W;Q++)H+=`${P[Q]}/`;return`${H}${j}`}function N(){F(getParentDirectory(x))}function q(){$(0,U=!U),setAppPreference("FileManager","tiled",U)}return UserData$2.subscribe(()=>{$(0,U=!!getAppPreference("FileManager","tiled"))}),T.$$set=j=>{"currentPath"in j&&L($(1,E=j.currentPath)),"refresh"in j&&$(2,D=j.refresh),"setDir"in j&&$(3,F=j.setDir),"tiled"in j&&$(0,U=j.tiled)},[U,E,D,F,P,M,z,N,q]}let TopBar$1=class extends SvelteComponent{constructor(k){super(),init(this,k,instance$2d,create_fragment$2p,safe_not_equal,{currentPath:1,refresh:2,setDir:3,tiled:0})}};const chooseroverlay="";function create_fragment$2o(T){let k,$,x,I,L,E,D=T[0].name+"",F,P,U;return{c(){k=element("button"),$=element("img"),L=space(),E=element("p"),F=text(D),src_url_equal($.src,x=folder)||attr($,"src",x),attr($,"alt",I=T[0].name),attr(E,"class","caption"),attr(k,"class","tile dir")},m(M,z){insert(M,k,z),append(k,$),append(k,L),append(k,E),append(E,F),P||(U=listen(k,"dblclick",T[1]),P=!0)},p(M,[z]){z&1&&I!==(I=M[0].name)&&attr($,"alt",I),z&1&&D!==(D=M[0].name+"")&&set_data(F,D)},i:noop$1,o:noop$1,d(M){M&&detach(k),P=!1,U()}}}function instance$2c(T,k,$){let{dir:x}=k,{setDir:I}=k;function L(){I(x.scopedPath)}return T.$$set=E=>{"dir"in E&&$(0,x=E.dir),"setDir"in E&&$(2,I=E.setDir)},[x,L,I]}let Dir$1=class extends SvelteComponent{constructor(k){super(),init(this,k,instance$2c,create_fragment$2o,safe_not_equal,{dir:0,setDir:2})}};function create_fragment$2n(T){let k,$,x,I,L,E,D,F=T[2].filename+"",P,U,M;return{c(){k=element("button"),$=element("div"),x=element("img"),E=space(),D=element("p"),P=text(F),src_url_equal(x.src,I=T[3])||attr(x,"src",I),attr(x,"alt",L=T[2].filename),attr($,"class","image"),attr(D,"class","name"),attr(k,"class","tile file"),toggle_class(k,"selected",T[4]==T[2].filename)},m(z,N){insert(z,k,N),append(k,$),append($,x),append(k,E),append(k,D),append(D,P),U||(M=[listen(k,"dblclick",T[5]),listen(k,"click",T[7])],U=!0)},p(z,[N]){N&8&&!src_url_equal(x.src,I=z[3])&&attr(x,"src",I),N&4&&L!==(L=z[2].filename)&&attr(x,"alt",L),N&4&&F!==(F=z[2].filename+"")&&set_data(P,F),N&20&&toggle_class(k,"selected",z[4]==z[2].filename)},i:noop$1,o:noop$1,d(z){z&&detach(k),U=!1,run_all(M)}}}function instance$2b(T,k,$){let x,I=noop$1,L=()=>(I(),I=subscribe(M,W=>$(8,x=W)),M),E,D=noop$1,F=()=>(D(),D=subscribe(U,W=>$(4,E=W)),U);T.$$.on_destroy.push(()=>I()),T.$$.on_destroy.push(()=>D());let{overlay:P}=k,{selected:U}=k;F();let{processing:M}=k;L();let z="";onMount(()=>{$(3,z=getMimeIcon(q.filename))});async function N(){set_store_value(M,x=!0,x);const W={name:q.filename,path:q.scopedPath,data:await readFile(q.scopedPath),mime:q.mime};setTargetFile(P.id,W),set_store_value(M,x=!1,x)}let{file:q}=k;const j=()=>set_store_value(U,E=q.filename,E);return T.$$set=W=>{"overlay"in W&&$(6,P=W.overlay),"selected"in W&&F($(0,U=W.selected)),"processing"in W&&L($(1,M=W.processing)),"file"in W&&$(2,q=W.file)},[U,M,q,z,E,N,P,j]}class File extends SvelteComponent{constructor(k){super(),init(this,k,instance$2b,create_fragment$2n,safe_not_equal,{overlay:6,selected:0,processing:1,file:2})}}function get_each_context$C(T,k,$){const x=T.slice();return x[5]=k[$],x}function get_each_context_1$8(T,k,$){const x=T.slice();return x[8]=k[$],x}function create_if_block$Z(T){let k,$,x=ensure_array_like(T[3].directories),I=[];for(let E=0;E<x.length;E+=1)I[E]=create_each_block_1$8(get_each_context_1$8(T,x,E));const L=E=>transition_out(I[E],1,1,()=>{I[E]=null});return{c(){k=element("div");for(let E=0;E<I.length;E+=1)I[E].c();attr(k,"class","dirs")},m(E,D){insert(E,k,D);for(let F=0;F<I.length;F+=1)I[F]&&I[F].m(k,null);$=!0},p(E,D){if(D&24){x=ensure_array_like(E[3].directories);let F;for(F=0;F<x.length;F+=1){const P=get_each_context_1$8(E,x,F);I[F]?(I[F].p(P,D),transition_in(I[F],1)):(I[F]=create_each_block_1$8(P),I[F].c(),transition_in(I[F],1),I[F].m(k,null))}for(group_outros(),F=x.length;F<I.length;F+=1)L(F);check_outros()}},i(E){if(!$){for(let D=0;D<x.length;D+=1)transition_in(I[D]);$=!0}},o(E){I=I.filter(Boolean);for(let D=0;D<I.length;D+=1)transition_out(I[D]);$=!1},d(E){E&&detach(k),destroy_each(I,E)}}}function create_each_block_1$8(T){let k,$;return k=new Dir$1({props:{dir:T[8],setDir:T[4]}}),{c(){create_component(k.$$.fragment)},m(x,I){mount_component(k,x,I),$=!0},p(x,I){const L={};I&8&&(L.dir=x[8]),I&16&&(L.setDir=x[4]),k.$set(L)},i(x){$||(transition_in(k.$$.fragment,x),$=!0)},o(x){transition_out(k.$$.fragment,x),$=!1},d(x){destroy_component(k,x)}}}function create_each_block$C(T){let k,$;return k=new File({props:{file:T[5],overlay:T[0],selected:T[1],processing:T[2]}}),{c(){create_component(k.$$.fragment)},m(x,I){mount_component(k,x,I),$=!0},p(x,I){const L={};I&8&&(L.file=x[5]),I&1&&(L.overlay=x[0]),I&2&&(L.selected=x[1]),I&4&&(L.processing=x[2]),k.$set(L)},i(x){$||(transition_in(k.$$.fragment,x),$=!0)},o(x){transition_out(k.$$.fragment,x),$=!1},d(x){destroy_component(k,x)}}}function create_fragment$2m(T){let k,$,x,I,L=T[3].directories.length&&create_if_block$Z(T),E=ensure_array_like(T[3].files),D=[];for(let P=0;P<E.length;P+=1)D[P]=create_each_block$C(get_each_context$C(T,E,P));const F=P=>transition_out(D[P],1,1,()=>{D[P]=null});return{c(){k=element("div"),L&&L.c(),$=space(),x=element("div");for(let P=0;P<D.length;P+=1)D[P].c();attr(x,"class","files"),attr(k,"class","tiled")},m(P,U){insert(P,k,U),L&&L.m(k,null),append(k,$),append(k,x);for(let M=0;M<D.length;M+=1)D[M]&&D[M].m(x,null);I=!0},p(P,[U]){if(P[3].directories.length?L?(L.p(P,U),U&8&&transition_in(L,1)):(L=create_if_block$Z(P),L.c(),transition_in(L,1),L.m(k,$)):L&&(group_outros(),transition_out(L,1,1,()=>{L=null}),check_outros()),U&15){E=ensure_array_like(P[3].files);let M;for(M=0;M<E.length;M+=1){const z=get_each_context$C(P,E,M);D[M]?(D[M].p(z,U),transition_in(D[M],1)):(D[M]=create_each_block$C(z),D[M].c(),transition_in(D[M],1),D[M].m(x,null))}for(group_outros(),M=E.length;M<D.length;M+=1)F(M);check_outros()}},i(P){if(!I){transition_in(L);for(let U=0;U<E.length;U+=1)transition_in(D[U]);I=!0}},o(P){transition_out(L),D=D.filter(Boolean);for(let U=0;U<D.length;U+=1)transition_out(D[U]);I=!1},d(P){P&&detach(k),L&&L.d(),destroy_each(D,P)}}}function instance$2a(T,k,$){let{overlay:x}=k,{selected:I}=k,{processing:L}=k,{data:E}=k,{setDir:D}=k;return T.$$set=F=>{"overlay"in F&&$(0,x=F.overlay),"selected"in F&&$(1,I=F.selected),"processing"in F&&$(2,L=F.processing),"data"in F&&$(3,E=F.data),"setDir"in F&&$(4,D=F.setDir)},[x,I,L,E,D]}class Tiled extends SvelteComponent{constructor(k){super(),init(this,k,instance$2a,create_fragment$2m,safe_not_equal,{overlay:0,selected:1,processing:2,data:3,setDir:4})}}function create_fragment$2l(T){let k,$,x,I,L,E,D=T[0].name+"",F,P,U;return{c(){k=element("button"),$=element("img"),L=space(),E=element("p"),F=text(D),src_url_equal($.src,x=folder)||attr($,"src",x),attr($,"alt",I=T[0].name),attr(E,"class","caption"),attr(k,"class","link"),toggle_class(k,"selected",T[1])},m(M,z){insert(M,k,z),append(k,$),append(k,L),append(k,E),append(E,F),P||(U=listen(k,"click",T[2]),P=!0)},p(M,[z]){z&1&&I!==(I=M[0].name)&&attr($,"alt",I),z&1&&D!==(D=M[0].name+"")&&set_data(F,D),z&2&&toggle_class(k,"selected",M[1])},i:noop$1,o:noop$1,d(M){M&&detach(k),P=!1,U()}}}function instance$29(T,k,$){let{folder:x}=k,{setDir:I}=k,{currentPath:L}=k,E=!1;function D(){I(x.scopedPath)}return L.subscribe(F=>{$(1,E=F==x.scopedPath)}),T.$$set=F=>{"folder"in F&&$(0,x=F.folder),"setDir"in F&&$(3,I=F.setDir),"currentPath"in F&&$(4,L=F.currentPath)},[x,E,D,I,L]}class Link extends SvelteComponent{constructor(k){super(),init(this,k,instance$29,create_fragment$2l,safe_not_equal,{folder:0,setDir:3,currentPath:4})}}function get_each_context$B(T,k,$){const x=T.slice();return x[4]=k[$],x}function create_each_block$B(T){let k,$;return k=new Link({props:{setDir:T[1],currentPath:T[0],folder:T[4]}}),{c(){create_component(k.$$.fragment)},m(x,I){mount_component(k,x,I),$=!0},p(x,I){const L={};I&2&&(L.setDir=x[1]),I&1&&(L.currentPath=x[0]),I&4&&(L.folder=x[4]),k.$set(L)},i(x){$||(transition_in(k.$$.fragment,x),$=!0)},o(x){transition_out(k.$$.fragment,x),$=!1},d(x){destroy_component(k,x)}}}function create_fragment$2k(T){let k,$,x=ensure_array_like(T[2]),I=[];for(let E=0;E<x.length;E+=1)I[E]=create_each_block$B(get_each_context$B(T,x,E));const L=E=>transition_out(I[E],1,1,()=>{I[E]=null});return{c(){k=element("div");for(let E=0;E<I.length;E+=1)I[E].c();attr(k,"class","sidebar")},m(E,D){insert(E,k,D);for(let F=0;F<I.length;F+=1)I[F]&&I[F].m(k,null);$=!0},p(E,[D]){if(D&7){x=ensure_array_like(E[2]);let F;for(F=0;F<x.length;F+=1){const P=get_each_context$B(E,x,F);I[F]?(I[F].p(P,D),transition_in(I[F],1)):(I[F]=create_each_block$B(P),I[F].c(),transition_in(I[F],1),I[F].m(k,null))}for(group_outros(),F=x.length;F<I.length;F+=1)L(F);check_outros()}},i(E){if(!$){for(let D=0;D<x.length;D+=1)transition_in(I[D]);$=!0}},o(E){I=I.filter(Boolean);for(let D=0;D<I.length;D+=1)transition_out(I[D]);$=!1},d(E){E&&detach(k),destroy_each(I,E)}}}function instance$28(T,k,$){let x=[],{currentDir:I}=k,{currentPath:L}=k,{setDir:E}=k;return I.subscribe(async D=>{$(2,x=(await getDirectory("./")).directories)}),T.$$set=D=>{"currentDir"in D&&$(3,I=D.currentDir),"currentPath"in D&&$(0,L=D.currentPath),"setDir"in D&&$(1,E=D.setDir)},[L,E,x,I]}let SideBar$1=class extends SvelteComponent{constructor(k){super(),init(this,k,instance$28,create_fragment$2k,safe_not_equal,{currentDir:3,currentPath:0,setDir:1})}};function get_each_context$A(T,k,$){const x=T.slice();return x[13]=k[$],x}function get_each_context_1$7(T,k,$){const x=T.slice();return x[16]=k[$],x}function create_if_block$Y(T){let k,$,x,I,L,E,D,F,P,U,M,z;function N(K){T[11](K)}let q={currentPath:T[6],refresh:T[10],setDir:T[9]};T[1]!==void 0&&(q.tiled=T[1]),k=new TopBar$1({props:q}),binding_callbacks.push(()=>bind$1(k,"tiled",N)),L=new SideBar$1({props:{currentDir:T[5],setDir:T[9],currentPath:T[6]}});const j=[create_if_block_2$4,create_else_block$f],W=[];function H(K,G){return K[1]?0:1}D=H(T),F=W[D]=j[D](T);let Q=T[3]&&create_if_block_1$i(T);return M=new BottomPane$1({props:{currentDir:T[5],currentPath:T[6],selected:T[7],overlay:T[0],processing:T[8]}}),{c(){create_component(k.$$.fragment),x=space(),I=element("div"),create_component(L.$$.fragment),E=space(),F.c(),P=space(),Q&&Q.c(),U=space(),create_component(M.$$.fragment),attr(I,"class","content")},m(K,G){mount_component(k,K,G),insert(K,x,G),insert(K,I,G),mount_component(L,I,null),append(I,E),W[D].m(I,null),append(I,P),Q&&Q.m(I,null),insert(K,U,G),mount_component(M,K,G),z=!0},p(K,G){const V={};!$&&G&2&&($=!0,V.tiled=K[1],add_flush_callback(()=>$=!1)),k.$set(V);let Y=D;D=H(K),D===Y?W[D].p(K,G):(group_outros(),transition_out(W[Y],1,1,()=>{W[Y]=null}),check_outros(),F=W[D],F?F.p(K,G):(F=W[D]=j[D](K),F.c()),transition_in(F,1),F.m(I,P)),K[3]?Q?(Q.p(K,G),G&8&&transition_in(Q,1)):(Q=create_if_block_1$i(K),Q.c(),transition_in(Q,1),Q.m(I,null)):Q&&(group_outros(),transition_out(Q,1,1,()=>{Q=null}),check_outros());const J={};G&1&&(J.overlay=K[0]),M.$set(J)},i(K){z||(transition_in(k.$$.fragment,K),transition_in(L.$$.fragment,K),transition_in(F),transition_in(Q),transition_in(M.$$.fragment,K),z=!0)},o(K){transition_out(k.$$.fragment,K),transition_out(L.$$.fragment,K),transition_out(F),transition_out(Q),transition_out(M.$$.fragment,K),z=!1},d(K){K&&(detach(x),detach(I),detach(U)),destroy_component(k,K),destroy_component(L),W[D].d(),Q&&Q.d(),destroy_component(M,K)}}}function create_else_block$f(T){let k,$,x,I,L;$=new TopRow({});let E=ensure_array_like(T[2].directories),D=[];for(let z=0;z<E.length;z+=1)D[z]=create_each_block_1$7(get_each_context_1$7(T,E,z));const F=z=>transition_out(D[z],1,1,()=>{D[z]=null});let P=ensure_array_like(T[2].files),U=[];for(let z=0;z<P.length;z+=1)U[z]=create_each_block$A(get_each_context$A(T,P,z));const M=z=>transition_out(U[z],1,1,()=>{U[z]=null});return{c(){k=element("div"),create_component($.$$.fragment),x=space();for(let z=0;z<D.length;z+=1)D[z].c();I=space();for(let z=0;z<U.length;z+=1)U[z].c();attr(k,"class","list")},m(z,N){insert(z,k,N),mount_component($,k,null),append(k,x);for(let q=0;q<D.length;q+=1)D[q]&&D[q].m(k,null);append(k,I);for(let q=0;q<U.length;q+=1)U[q]&&U[q].m(k,null);L=!0},p(z,N){if(N&516){E=ensure_array_like(z[2].directories);let q;for(q=0;q<E.length;q+=1){const j=get_each_context_1$7(z,E,q);D[q]?(D[q].p(j,N),transition_in(D[q],1)):(D[q]=create_each_block_1$7(j),D[q].c(),transition_in(D[q],1),D[q].m(k,I))}for(group_outros(),q=E.length;q<D.length;q+=1)F(q);check_outros()}if(N&389){P=ensure_array_like(z[2].files);let q;for(q=0;q<P.length;q+=1){const j=get_each_context$A(z,P,q);U[q]?(U[q].p(j,N),transition_in(U[q],1)):(U[q]=create_each_block$A(j),U[q].c(),transition_in(U[q],1),U[q].m(k,null))}for(group_outros(),q=P.length;q<U.length;q+=1)M(q);check_outros()}},i(z){if(!L){transition_in($.$$.fragment,z);for(let N=0;N<E.length;N+=1)transition_in(D[N]);for(let N=0;N<P.length;N+=1)transition_in(U[N]);L=!0}},o(z){transition_out($.$$.fragment,z),D=D.filter(Boolean);for(let N=0;N<D.length;N+=1)transition_out(D[N]);U=U.filter(Boolean);for(let N=0;N<U.length;N+=1)transition_out(U[N]);L=!1},d(z){z&&detach(k),destroy_component($),destroy_each(D,z),destroy_each(U,z)}}}function create_if_block_2$4(T){let k,$;return k=new Tiled({props:{data:T[2],setDir:T[9],overlay:T[0],selected:T[7],processing:T[8]}}),{c(){create_component(k.$$.fragment)},m(x,I){mount_component(k,x,I),$=!0},p(x,I){const L={};I&4&&(L.data=x[2]),I&1&&(L.overlay=x[0]),k.$set(L)},i(x){$||(transition_in(k.$$.fragment,x),$=!0)},o(x){transition_out(k.$$.fragment,x),$=!1},d(x){destroy_component(k,x)}}}function create_each_block_1$7(T){let k,$;return k=new Dir$2({props:{setDir:T[9],dir:T[16]}}),{c(){create_component(k.$$.fragment)},m(x,I){mount_component(k,x,I),$=!0},p(x,I){const L={};I&4&&(L.dir=x[16]),k.$set(L)},i(x){$||(transition_in(k.$$.fragment,x),$=!0)},o(x){transition_out(k.$$.fragment,x),$=!1},d(x){destroy_component(k,x)}}}function create_each_block$A(T){let k,$;return k=new File$1({props:{file:T[13],overlay:T[0],selected:T[7],processing:T[8]}}),{c(){create_component(k.$$.fragment)},m(x,I){mount_component(k,x,I),$=!0},p(x,I){const L={};I&4&&(L.file=x[13]),I&1&&(L.overlay=x[0]),k.$set(L)},i(x){$||(transition_in(k.$$.fragment,x),$=!0)},o(x){transition_out(k.$$.fragment,x),$=!1},d(x){destroy_component(k,x)}}}function create_if_block_1$i(T){let k,$,x,I,L,E,D,F,P,U,M,z,N;return z=new Spinner({props:{height:30}}),{c(){k=element("div"),$=element("div"),x=element("div"),I=element("img"),E=space(),D=element("p"),F=text("Opening "),P=text(T[4]),U=text("..."),M=space(),create_component(z.$$.fragment),src_url_equal(I.src,L=icon$4)||attr(I,"src",L),attr(I,"alt",""),attr(D,"class","caption"),attr(x,"class","processing"),attr($,"class","processing-content"),attr(k,"class","processing-overlay")},m(q,j){insert(q,k,j),append(k,$),append($,x),append(x,I),append(x,E),append(x,D),append(D,F),append(D,P),append(D,U),append(x,M),mount_component(z,x,null),N=!0},p(q,j){(!N||j&16)&&set_data(P,q[4])},i(q){N||(transition_in(z.$$.fragment,q),N=!0)},o(q){transition_out(z.$$.fragment,q),N=!1},d(q){q&&detach(k),destroy_component(z)}}}function create_fragment$2j(T){let k,$,x=T[0]&&create_if_block$Y(T);return{c(){x&&x.c(),k=empty()},m(I,L){x&&x.m(I,L),insert(I,k,L),$=!0},p(I,[L]){I[0]?x?(x.p(I,L),L&1&&transition_in(x,1)):(x=create_if_block$Y(I),x.c(),transition_in(x,1),x.m(k.parentNode,k)):x&&(group_outros(),transition_out(x,1,1,()=>{x=null}),check_outros())},i(I){$||(transition_in(x),$=!0)},o(I){transition_out(x),$=!1},d(I){I&&detach(k),x&&x.d(I)}}}function instance$27(T,k,$){let x,I,L,E,{overlay:D}=k,F=!1,P=writable(defaultDirectory);component_subscribe(T,P,W=>$(2,I=W));let U=writable("./");component_subscribe(T,U,W=>$(12,x=W));let M=writable(null);component_subscribe(T,M,W=>$(4,E=W));let z=writable(!1);component_subscribe(T,z,W=>$(3,L=W));async function N(W){set_store_value(U,x=W,x),await q()}async function q(){set_store_value(P,I=defaultDirectory,I),set_store_value(P,I=await getDirectory(x)||null,I)}function j(W){F=W,$(1,F)}return T.$$set=W=>{"overlay"in W&&$(0,D=W.overlay)},[D,F,I,L,E,P,U,M,z,N,q,j]}class ChooserOverlay extends SvelteComponent{constructor(k){super(),init(this,k,instance$27,create_fragment$2j,safe_not_equal,{overlay:0})}}function generateChooserOverlayData(T="Choose File"){return{info:{name:T,author:"ArcOS Generated",version:"1"},size:{w:NaN,h:NaN},show:!0,id:`CHOOSER#${Math.floor(Math.random()*1e6)}`,content:ChooserOverlay}}function showOpenFileDialog(T){const k=get_store_value(WindowStore);let $=null;for(let I=0;I<k.length;I++)if(k[I].id==T){$=I;break}if($==null)return!1;const x=generateChooserOverlayData();assignTarget(x.id,T),k[$].overlays||(k[$].overlays={}),k[$].overlays[x.id]=x,WindowStore.set(k)}const appShortcuts=[];function registerAppShortcuts(T,k){if(Log("keyboard: registerAppShortcuts",`Registering app shortcuts for ${T}`,LogLevel.info),!k.events||!k.events.keyboardShortcuts||isRegistered(T))return!1;appShortcuts.push([T,k.events.keyboardShortcuts])}function registerShortcuts(T,k){appShortcuts.push([k||"",T])}function isRegistered(T){for(let k=0;k<appShortcuts.length;k++)if(appShortcuts[k][0]==T)return!0;return!1}const TextEditorContent=writable(null);async function saveTextEditorFile(T,k){const $=new Blob([T]);await writeFile(k.path,$)}async function setShortcuts(T,k){registerShortcuts([{key:"o",alt:!0,action:()=>{showOpenFileDialog(T.id)}},{key:"m",alt:!0,action:()=>{!T.openedFile||!T.openedFile.name.endsWith(".md")||(openWindow("MarkDownViewer"),closeFile("MarkDownViewer"))}},{key:"s",alt:!0,action:k}],"TextEditor"),T.events.close=()=>{get_store_value(TextEditorContent)&&closeWindow("MarkDownViewer")}}async function doLoadError(T,k){return createOverlayableError({title:T,message:k,buttons:[{caption:"Close",action:()=>closeWindow("TextEditor")}]},"TextEditor")}function tryParse(T){Log("ts/bugrep.ts: tryParse","content");try{return JSON.parse(T)}catch{return!1}}function create_fragment$2i(T){let k,$,x,I,L,E,D,F,P,U,M,z,N,q;return{c(){k=element("div"),$=element("button"),$.textContent="folder_open",x=space(),I=element("button"),L=text("save"),D=space(),F=element("div"),P=element("button"),U=element("img"),attr($,"class","material-icons-round open"),attr(I,"class","material-icons-round save"),I.disabled=E=!T[0].openedFile,src_url_equal(U.src,M=icon$3)||attr(U,"src",M),attr(U,"alt","Markdown Viewer"),attr(P,"title","Open Markdown Viewer"),P.disabled=z=!T[0].openedFile||!T[0].openedFile.name.endsWith(".md"),attr(P,"class","markdown-open"),attr(F,"class","right"),attr(k,"class","actions")},m(j,W){insert(j,k,W),append(k,$),append(k,x),append(k,I),append(I,L),append(k,D),append(k,F),append(F,P),append(P,U),N||(q=[listen($,"click",T[2]),listen(I,"click",function(){is_function(T[1])&&T[1].apply(this,arguments)}),listen(P,"click",T[3])],N=!0)},p(j,[W]){T=j,W&1&&E!==(E=!T[0].openedFile)&&(I.disabled=E),W&1&&z!==(z=!T[0].openedFile||!T[0].openedFile.name.endsWith(".md"))&&(P.disabled=z)},i:noop$1,o:noop$1,d(j){j&&detach(k),N=!1,run_all(q)}}}function instance$26(T,k,$){let{app:x}=k,{saveFile:I}=k;const L=()=>showOpenFileDialog(x.id),E=()=>openWindow("MarkDownViewer");return T.$$set=D=>{"app"in D&&$(0,x=D.app),"saveFile"in D&&$(1,I=D.saveFile)},[x,I,L,E]}let Actions$2=class extends SvelteComponent{constructor(k){super(),init(this,k,instance$26,create_fragment$2i,safe_not_equal,{app:0,saveFile:1})}};function create_fragment$2h(T){let k,$,x,I,L=formatBytes(T[0].length)+"",E,D,F,P=T[1].openedFile.name+"",U,M,z,N=T[1].openedFile.mime.split(";")[0]+"",q;return{c(){k=element("div"),$=element("div"),x=element("div"),I=text("Size: "),E=text(L),D=space(),F=element("div"),U=text(P),M=space(),z=element("div"),q=text(N),attr(x,"class","section"),attr(F,"class","section"),attr(z,"class","section"),attr($,"class","right"),attr(k,"class","bottom")},m(j,W){insert(j,k,W),append(k,$),append($,x),append(x,I),append(x,E),append($,D),append($,F),append(F,U),append($,M),append($,z),append(z,q)},p(j,[W]){W&1&&L!==(L=formatBytes(j[0].length)+"")&&set_data(E,L),W&2&&P!==(P=j[1].openedFile.name+"")&&set_data(U,P),W&2&&N!==(N=j[1].openedFile.mime.split(";")[0]+"")&&set_data(q,N)},i:noop$1,o:noop$1,d(j){j&&detach(k)}}}function instance$25(T,k,$){let{fileContents:x}=k,{app:I}=k;return T.$$set=L=>{"fileContents"in L&&$(0,x=L.fileContents),"app"in L&&$(1,I=L.app)},[x,I]}let Bottom$1=class extends SvelteComponent{constructor(k){super(),init(this,k,instance$25,create_fragment$2h,safe_not_equal,{fileContents:0,app:1})}};const icon=""+new URL("save-f309d0ea.svg",import.meta.url).href;function create_if_block$X(T){let k,$,x,I,L,E,D,F=T[1].openedFile.name+"",P,U,M,z,N;return z=new Spinner({props:{height:24}}),{c(){k=element("div"),$=element("div"),x=element("img"),L=space(),E=element("p"),D=text("Saving "),P=text(F),U=text("..."),M=space(),create_component(z.$$.fragment),src_url_equal(x.src,I=icon)||attr(x,"src",I),attr(x,"alt","Saving"),attr(E,"class","caption"),attr($,"class","saving-content"),attr(k,"class","saving-wrapper")},m(q,j){insert(q,k,j),append(k,$),append($,x),append($,L),append($,E),append(E,D),append(E,P),append(E,U),append($,M),mount_component(z,$,null),N=!0},p(q,j){(!N||j&2)&&F!==(F=q[1].openedFile.name+"")&&set_data(P,F)},i(q){N||(transition_in(z.$$.fragment,q),N=!0)},o(q){transition_out(z.$$.fragment,q),N=!1},d(q){q&&detach(k),destroy_component(z)}}}function create_fragment$2g(T){let k,$,x=T[0]&&T[1].openedFile&&create_if_block$X(T);return{c(){x&&x.c(),k=empty()},m(I,L){x&&x.m(I,L),insert(I,k,L),$=!0},p(I,[L]){I[0]&&I[1].openedFile?x?(x.p(I,L),L&3&&transition_in(x,1)):(x=create_if_block$X(I),x.c(),transition_in(x,1),x.m(k.parentNode,k)):x&&(group_outros(),transition_out(x,1,1,()=>{x=null}),check_outros())},i(I){$||(transition_in(x),$=!0)},o(I){transition_out(x),$=!1},d(I){I&&detach(k),x&&x.d(I)}}}function instance$24(T,k,$){let{saving:x}=k,{app:I}=k;return T.$$set=L=>{"saving"in L&&$(0,x=L.saving),"app"in L&&$(1,I=L.app)},[x,I]}class Saving extends SvelteComponent{constructor(k){super(),init(this,k,instance$24,create_fragment$2g,safe_not_equal,{saving:0,app:1})}}function create_fragment$2f(T){let k,$,x;return{c(){k=element("textarea"),attr(k,"spellcheck",!1)},m(I,L){insert(I,k,L),set_input_value(k,T[0]),$||(x=[listen(k,"input",T[2]),listen(k,"change",function(){is_function(T[1])&&T[1].apply(this,arguments)}),listen(k,"input",function(){is_function(T[1])&&T[1].apply(this,arguments)}),listen(k,"keydown",function(){is_function(T[1])&&T[1].apply(this,arguments)})],$=!0)},p(I,[L]){T=I,L&1&&set_input_value(k,T[0])},i:noop$1,o:noop$1,d(I){I&&detach(k),$=!1,run_all(x)}}}function instance$23(T,k,$){let{onchange:x}=k,{fileContents:I}=k;function L(){I=this.value,$(0,I)}return T.$$set=E=>{"onchange"in E&&$(1,x=E.onchange),"fileContents"in E&&$(0,I=E.fileContents)},[I,x,L]}class TextArea extends SvelteComponent{constructor(k){super(),init(this,k,instance$23,create_fragment$2f,safe_not_equal,{onchange:1,fileContents:0})}}function create_if_block$W(T){let k,$,x,I,L;function E(F){T[6](F)}let D={onchange:T[5]};return T[3]!==void 0&&(D.fileContents=T[3]),k=new TextArea({props:D}),binding_callbacks.push(()=>bind$1(k,"fileContents",E)),I=new Bottom$1({props:{fileContents:T[3],app:T[0]}}),{c(){create_component(k.$$.fragment),x=space(),create_component(I.$$.fragment)},m(F,P){mount_component(k,F,P),insert(F,x,P),mount_component(I,F,P),L=!0},p(F,P){const U={};!$&&P&8&&($=!0,U.fileContents=F[3],add_flush_callback(()=>$=!1)),k.$set(U);const M={};P&8&&(M.fileContents=F[3]),P&1&&(M.app=F[0]),I.$set(M)},i(F){L||(transition_in(k.$$.fragment,F),transition_in(I.$$.fragment,F),L=!0)},o(F){transition_out(k.$$.fragment,F),transition_out(I.$$.fragment,F),L=!1},d(F){F&&detach(x),destroy_component(k,F),destroy_component(I,F)}}}function create_fragment$2e(T){let k,$,x,I,L,E,D;k=new Actions$2({props:{app:T[0],saveFile:T[4]}});let F=T[0].openedFile&&!T[1]&&create_if_block$W(T);function P(M){T[7](M)}let U={saving:T[2]};return T[0]!==void 0&&(U.app=T[0]),L=new Saving({props:U}),binding_callbacks.push(()=>bind$1(L,"app",P)),{c(){create_component(k.$$.fragment),$=space(),x=element("div"),F&&F.c(),I=space(),create_component(L.$$.fragment),attr(x,"class","content"),toggle_class(x,"nofile",!T[0].openedFile)},m(M,z){mount_component(k,M,z),insert(M,$,z),insert(M,x,z),F&&F.m(x,null),insert(M,I,z),mount_component(L,M,z),D=!0},p(M,[z]){const N={};z&1&&(N.app=M[0]),k.$set(N),M[0].openedFile&&!M[1]?F?(F.p(M,z),z&3&&transition_in(F,1)):(F=create_if_block$W(M),F.c(),transition_in(F,1),F.m(x,null)):F&&(group_outros(),transition_out(F,1,1,()=>{F=null}),check_outros()),(!D||z&1)&&toggle_class(x,"nofile",!M[0].openedFile);const q={};z&4&&(q.saving=M[2]),!E&&z&1&&(E=!0,q.app=M[0],add_flush_callback(()=>E=!1)),L.$set(q)},i(M){D||(transition_in(k.$$.fragment,M),transition_in(F),transition_in(L.$$.fragment,M),D=!0)},o(M){transition_out(k.$$.fragment,M),transition_out(F),transition_out(L.$$.fragment,M),D=!1},d(M){M&&(detach($),detach(x),detach(I)),destroy_component(k,M),F&&F.d(),destroy_component(L,M)}}}function instance$22(T,k,$){let x;component_subscribe(T,TextEditorContent,N=>$(9,x=N));let{app:I}=k,L=!1,E=!1,D="";onMount(()=>{$(0,I.events={},I),$(0,I.events.openFile=N=>{if($(1,L=!1),!N.openedFile)return $(3,D="");const q=new TextDecoder().decode(N.openedFile.data);$(3,D=q),N.openedFile.path,TextEditorContent.set(D);const j=tryParse(D);j&&j.error&&j.valid==!1&&($(1,L=!0),doLoadError(j.error.title,j.error.message))},I),$(0,I.events.open=U,I),setShortcuts(I,F)});async function F(){if(!I.openedFile.path){showOverlay("saveNewFile","TextEditor");return}$(2,E=!0),await saveTextEditorFile(D,I.openedFile),$(2,E=!1)}async function P(){x!=D&&TextEditorContent.set(D)}async function U(){I.openedFile||$(0,I.openedFile={name:"Untitled",path:"",data:new ArrayBuffer(0),mime:"text/plain"},I)}function M(N){D=N,$(3,D)}function z(N){I=N,$(0,I)}return T.$$set=N=>{"app"in N&&$(0,I=N.app)},[I,L,E,D,F,P,M,z]}class TextView extends SvelteComponent{constructor(k){super(),init(this,k,instance$22,create_fragment$2e,safe_not_equal,{app:0})}}function setTitleSuffix(T,k){const $=get_store_value(WindowStore);for(let x=0;x<$.length;x++)$[x].id==k&&(Originals[k]||(Originals[k]=`${$[x].info.titleSuffix}`),$[x].info.titleSuffix=T);WindowStore.set($)}const Originals={},ImageViewer={info:{name:"Image Viewer",description:"Display images from the ArcAPI",builtin:!0,version:"2.0.1",author:"Izaak Kuipers",hidden:!0,icon:logo$5,appGroup:"entertainment"},size:{w:500,h:400},pos:{x:30,y:40},minSize:{w:500,h:400},maxSize:{w:1e3,h:700},controls:{min:!0,max:!0,cls:!0},state:{headless:!1,resizable:!0,windowState:{min:!1,max:!1,fll:!1}},content:ImageView,glass:!0,fileMimes:["image/png","image/jpeg","image/svg+xml","image/vnd.microsoft.icon","image/bmp","image/jpeg","image/webp","image/gif"],events:{openFile(T){T.openedFile&&setTitleSuffix(` - ${T.openedFile.name}`,T.id)}},contextMenu:{output:[{caption:"Set as wallpaper",icon:"image",action(T,k,$){const x=get_store_value(UserData$2);x.sh.desktop.wallpaper=`@local:${btoa(k.path)}`,UserData$2.set(x)}}]}},logo$4=""+new URL("lightsoff-d0f0c697.svg",import.meta.url).href,Stats_svelte_svelte_type_style_lang="";function create_fragment$2d(T){let k,$,x,I,L,E,D=T[0]+1+"",F,P,U,M,z,N=T[1]==1?"":"s",q,j,W;return{c(){k=element("div"),$=element("button"),$.textContent="Reset",x=space(),I=element("div"),L=element("div"),E=text("Level "),F=text(D),P=space(),U=element("div"),M=text(T[1]),z=text(" Click"),q=text(N),attr($,"class","reset-game"),attr(L,"class","stat svelte-1gm5381"),attr(U,"class","stat svelte-1gm5381"),attr(I,"class","right svelte-1gm5381"),attr(k,"class","statistics svelte-1gm5381")},m(H,Q){insert(H,k,Q),append(k,$),append(k,x),append(k,I),append(I,L),append(L,E),append(L,F),append(I,P),append(I,U),append(U,M),append(U,z),append(U,q),j||(W=listen($,"click",T[2]),j=!0)},p(H,[Q]){Q&1&&D!==(D=H[0]+1+"")&&set_data(F,D),Q&2&&set_data(M,H[1]),Q&2&&N!==(N=H[1]==1?"":"s")&&set_data(q,N)},i:noop$1,o:noop$1,d(H){H&&detach(k),j=!1,W()}}}function instance$21(T,k,$){let x;component_subscribe(T,UserData$2,P=>$(5,x=P));let{app:I}=k,{runtime:L}=k,E=0,D=0;onMount(()=>{L.LEVEL.subscribe(P=>$(0,E=P)),L.Clicks.subscribe(P=>$(1,D=P))});function F(){set_store_value(UserData$2,x.appdata[I.id]=null,x),L.loadData()}return T.$$set=P=>{"app"in P&&$(3,I=P.app),"runtime"in P&&$(4,L=P.runtime)},[E,D,F,I,L]}class Stats extends SvelteComponent{constructor(k){super(),init(this,k,instance$21,create_fragment$2d,safe_not_equal,{app:3,runtime:4})}}const Light_svelte_svelte_type_style_lang="";function create_fragment$2c(T){let k,$,x,I;return{c(){k=element("button"),attr(k,"id",$="pos-"+T[1]+"x"+T[2]),attr(k,"class","light svelte-11uaj66"),toggle_class(k,"lit",T[0])},m(L,E){insert(L,k,E),x||(I=listen(k,"click",T[3]),x=!0)},p(L,[E]){E&6&&$!==($="pos-"+L[1]+"x"+L[2])&&attr(k,"id",$),E&1&&toggle_class(k,"lit",L[0])},i:noop$1,o:noop$1,d(L){L&&detach(k),x=!1,I()}}}function instance$20(T,k,$){let{light:x=!1}=k,{x:I}=k,{y:L}=k,{runtime:E}=k;function D(){E.ToggleLight(I,L)}return T.$$set=F=>{"light"in F&&$(0,x=F.light),"x"in F&&$(1,I=F.x),"y"in F&&$(2,L=F.y),"runtime"in F&&$(4,E=F.runtime)},[x,I,L,D,E]}class Light extends SvelteComponent{constructor(k){super(),init(this,k,instance$20,create_fragment$2c,safe_not_equal,{light:0,x:1,y:2,runtime:4})}}const LightsOff_svelte_svelte_type_style_lang="";function get_each_context$z(T,k,$){const x=T.slice();return x[3]=k[$],x[5]=$,x}function get_each_context_1$6(T,k,$){const x=T.slice();return x[6]=k[$],x[8]=$,x}function create_each_block_1$6(T){let k,$;return k=new Light({props:{light:T[6],x:T[8],y:T[5],runtime:T[1]}}),{c(){create_component(k.$$.fragment)},m(x,I){mount_component(k,x,I),$=!0},p(x,I){const L={};I&4&&(L.light=x[6]),I&2&&(L.runtime=x[1]),k.$set(L)},i(x){$||(transition_in(k.$$.fragment,x),$=!0)},o(x){transition_out(k.$$.fragment,x),$=!1},d(x){destroy_component(k,x)}}}function create_each_block$z(T){let k,$,x=ensure_array_like(T[3]),I=[];for(let E=0;E<x.length;E+=1)I[E]=create_each_block_1$6(get_each_context_1$6(T,x,E));const L=E=>transition_out(I[E],1,1,()=>{I[E]=null});return{c(){for(let E=0;E<I.length;E+=1)I[E].c();k=empty()},m(E,D){for(let F=0;F<I.length;F+=1)I[F]&&I[F].m(E,D);insert(E,k,D),$=!0},p(E,D){if(D&6){x=ensure_array_like(E[3]);let F;for(F=0;F<x.length;F+=1){const P=get_each_context_1$6(E,x,F);I[F]?(I[F].p(P,D),transition_in(I[F],1)):(I[F]=create_each_block_1$6(P),I[F].c(),transition_in(I[F],1),I[F].m(k.parentNode,k))}for(group_outros(),F=x.length;F<I.length;F+=1)L(F);check_outros()}},i(E){if(!$){for(let D=0;D<x.length;D+=1)transition_in(I[D]);$=!0}},o(E){I=I.filter(Boolean);for(let D=0;D<I.length;D+=1)transition_out(I[D]);$=!1},d(E){E&&detach(k),destroy_each(I,E)}}}function create_fragment$2b(T){let k,$,x,I;k=new Stats({props:{app:T[0],runtime:T[1]}});let L=ensure_array_like(T[2]),E=[];for(let F=0;F<L.length;F+=1)E[F]=create_each_block$z(get_each_context$z(T,L,F));const D=F=>transition_out(E[F],1,1,()=>{E[F]=null});return{c(){create_component(k.$$.fragment),$=space(),x=element("div");for(let F=0;F<E.length;F+=1)E[F].c();attr(x,"class","grid svelte-svdnfe")},m(F,P){mount_component(k,F,P),insert(F,$,P),insert(F,x,P);for(let U=0;U<E.length;U+=1)E[U]&&E[U].m(x,null);I=!0},p(F,[P]){const U={};if(P&1&&(U.app=F[0]),P&2&&(U.runtime=F[1]),k.$set(U),P&6){L=ensure_array_like(F[2]);let M;for(M=0;M<L.length;M+=1){const z=get_each_context$z(F,L,M);E[M]?(E[M].p(z,P),transition_in(E[M],1)):(E[M]=create_each_block$z(z),E[M].c(),transition_in(E[M],1),E[M].m(x,null))}for(group_outros(),M=L.length;M<E.length;M+=1)D(M);check_outros()}},i(F){if(!I){transition_in(k.$$.fragment,F);for(let P=0;P<L.length;P+=1)transition_in(E[P]);I=!0}},o(F){transition_out(k.$$.fragment,F),E=E.filter(Boolean);for(let P=0;P<E.length;P+=1)transition_out(E[P]);I=!1},d(F){F&&(detach($),detach(x)),destroy_component(k,F),destroy_each(E,F)}}}function instance$1$(T,k,$){let{app:x}=k,{runtime:I}=k,L=[];return onMount(()=>{I.Grid.subscribe(E=>$(2,L=E))}),T.$$set=E=>{"app"in E&&$(0,x=E.app),"runtime"in E&&$(1,I=E.runtime)},[x,I,L]}let LightsOff$1=class extends SvelteComponent{constructor(k){super(),init(this,k,instance$1$,create_fragment$2b,safe_not_equal,{app:0,runtime:1})}};class LightsOffLevels{constructor(k){ue(this,"runtime");ue(this,"_store",[[[!1,!1,!1,!1,!0],[!1,!1,!1,!0,!0],[!1,!1,!1,!1,!0],[!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1]],[[!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1],[!0,!1,!1,!1,!0],[!0,!0,!1,!0,!0]],[[!0,!0,!1,!0,!0],[!1,!0,!0,!0,!1],[!1,!0,!0,!0,!1],[!1,!1,!0,!1,!1],[!1,!1,!1,!1,!1]],[[!1,!0,!1,!1,!1],[!0,!0,!1,!1,!1],[!1,!0,!0,!0,!1],[!0,!0,!1,!1,!1],[!1,!0,!1,!1,!1]],[[!0,!1,!1,!1,!0],[!1,!0,!1,!0,!1],[!1,!0,!1,!0,!1],[!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1]],[[!0,!0,!0,!1,!1],[!0,!0,!0,!1,!1],[!0,!1,!0,!0,!1],[!0,!0,!0,!1,!1],[!0,!0,!0,!1,!1]],[[!0,!0,!1,!1,!1],[!1,!1,!0,!0,!1],[!1,!1,!0,!1,!1],[!1,!0,!1,!0,!1],[!0,!0,!1,!0,!0]],[[!0,!1,!1,!1,!0],[!0,!1,!1,!1,!0],[!1,!0,!0,!0,!1],[!1,!1,!0,!1,!1],[!1,!1,!0,!1,!1]]]);this.runtime=k}loadLevel(k){if(k>=this._store.length)return this.runtime.finish();this._store[k]&&(this.runtime.Grid.set(JSON.parse(JSON.stringify(this._store[k]))),this.runtime.LEVEL.set(k),this.runtime.Clicks.set(0))}checkNextLevel(){return this.runtime.containsLights()||get_store_value(this.runtime.Clicks)==0?!1:(this.runtime.LEVEL.set(get_store_value(this.runtime.LEVEL)+1),get_store_value(this.runtime.LEVEL)>this._store.length?this.runtime.finish():(this.loadLevel(get_store_value(this.runtime.LEVEL)),!0))}}class LightsOffRuntime extends AppRuntime{constructor($){super($);ue(this,"xModifiers",[-1,0,1]);ue(this,"yModifiers",[-1,1]);ue(this,"Grid",writable([[!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1]]));ue(this,"Clicks",writable(0));ue(this,"LEVEL",writable(0));ue(this,"Levels");this.Levels=new LightsOffLevels(this),this.Grid.subscribe(x=>{x&&(this.Levels.checkNextLevel(),this.saveData())}),this.LEVEL.subscribe(()=>this.saveData()),this.Clicks.subscribe(()=>this.saveData()),this.loadData()}containsLights(){return this.Log("Checking lights","containsLights"),JSON.stringify(get_store_value(this.Grid)).includes("true")}finish(){this.Log("User has won! Finishing...","finish"),this.LEVEL.set(0),this.Clicks.set(0),this.Levels.loadLevel(get_store_value(this.LEVEL)),createOverlayableError({title:"You Win!",message:"You've managed to complete all 8 levels of Lights Off. The game will be reset so you can play it again in the future.",buttons:[{caption:"OK",action(){}}],image:logo$4},"LightsOff")}ToggleLight($,x){this.Log(`Toggling ${$}x${x}`,"ToggleLight");const I=get_store_value(this.Grid);if(!I[x])throw new Error(`y doesn't exist ${x}`);if(typeof I[x][$]!="boolean")throw new Error(`x doesn't exist ${x} ${$}`);this.Clicks.set(get_store_value(this.Clicks)+1);for(let L=0;L<this.xModifiers.length;L++){const E=I[x][$+this.xModifiers[L]];typeof E=="boolean"&&(I[x][$+this.xModifiers[L]]=!E)}for(let L=0;L<this.yModifiers.length;L++){if(!Array.isArray(I[x+this.yModifiers[L]]))continue;const D=I[x+this.yModifiers[L]][$];typeof D=="boolean"&&(I[x+this.yModifiers[L]][$]=!D)}this.Grid.set(I)}loadData(){this.Log("Loading Data from UserData","loadData");const $=get_store_value(UserData$2).appdata[this.app.id];if($){this.Levels.loadLevel($.level),this.Grid.set($.grid),this.Clicks.set($.clicks);return}this.Levels.loadLevel(0)}saveData(){if(get_store_value(this.LEVEL)==0&&!this.containsLights())return this.Log("Not saving default state!","saveData",LogLevel.warn);const $=get_store_value(UserData$2);$.appdata[this.app.id]={clicks:get_store_value(this.Clicks),level:get_store_value(this.LEVEL),grid:get_store_value(this.Grid)},UserData$2.set($)}}const LightsOff={info:{name:"Lights Off",description:"Turn off all the lights!",builtin:!0,version:"1.0.0",author:"Tim Horton, ported to ArcOS by IzKuipers",hidden:!1,icon:logo$4,appGroup:"entertainment"},size:{w:NaN,h:NaN},pos:{x:80,y:80},minSize:{w:NaN,h:NaN},maxSize:{w:NaN,h:NaN},controls:{min:!0,max:!1,cls:!0},state:{headless:!1,resizable:!1,windowState:{min:!1,max:!1,fll:!1}},content:LightsOff$1,glass:!0,events:{},runtime:LightsOffRuntime},logo$3=""+new URL("logger-42335e24.svg",import.meta.url).href,logger="";function create_fragment$2a(T){let k,$,x=T[0][1]+"",I,L,E,D,F;return{c(){k=element("button"),$=element("span"),I=text(x),attr($,"class","material-icons-round"),attr(k,"class",L="filter "+LogLevel[T[0][0]]),k.disabled=E=!T[1]||T[4],toggle_class(k,"selected",T[0][0]==T[2])},m(P,U){insert(P,k,U),append(k,$),append($,I),D||(F=listen(k,"click",T[5]),D=!0)},p(P,[U]){U&1&&x!==(x=P[0][1]+"")&&set_data(I,x),U&1&&L!==(L="filter "+LogLevel[P[0][0]])&&attr(k,"class",L),U&18&&E!==(E=!P[1]||P[4])&&(k.disabled=E),U&5&&toggle_class(k,"selected",P[0][0]==P[2])},i:noop$1,o:noop$1,d(P){P&&detach(k),D=!1,F()}}}function instance$1_(T,k,$){let x;component_subscribe(T,LogStore,U=>$(6,x=U));let{data:I}=k,{currentSource:L}=k,{currentFilter:E}=k,{filter:D}=k,F=!1;LogStore.subscribe(()=>{setTimeout(()=>{let U=0;for(let M=0;M<x.length;M++)x[M].level==I[0]&&x[M].source==L&&U++;$(4,F=!U)}),$(4,F=!1)});const P=()=>D(I[0]);return T.$$set=U=>{"data"in U&&$(0,I=U.data),"currentSource"in U&&$(1,L=U.currentSource),"currentFilter"in U&&$(2,E=U.currentFilter),"filter"in U&&$(3,D=U.filter)},[I,L,E,D,F,P]}class Filter extends SvelteComponent{constructor(k){super(),init(this,k,instance$1_,create_fragment$2a,safe_not_equal,{data:0,currentSource:1,currentFilter:2,filter:3})}}function get_each_context$y(T,k,$){const x=T.slice();return x[4]=k[$],x}function create_each_block$y(T){let k,$;return k=new Filter({props:{data:T[4],currentSource:T[2],currentFilter:T[0],filter:T[1]}}),{c(){create_component(k.$$.fragment)},m(x,I){mount_component(k,x,I),$=!0},p(x,I){const L={};I&4&&(L.currentSource=x[2]),I&1&&(L.currentFilter=x[0]),I&2&&(L.filter=x[1]),k.$set(L)},i(x){$||(transition_in(k.$$.fragment,x),$=!0)},o(x){transition_out(k.$$.fragment,x),$=!1},d(x){destroy_component(k,x)}}}function create_fragment$29(T){let k,$,x=ensure_array_like(T[3]),I=[];for(let E=0;E<x.length;E+=1)I[E]=create_each_block$y(get_each_context$y(T,x,E));const L=E=>transition_out(I[E],1,1,()=>{I[E]=null});return{c(){k=element("div");for(let E=0;E<I.length;E+=1)I[E].c();attr(k,"class","filters")},m(E,D){insert(E,k,D);for(let F=0;F<I.length;F+=1)I[F]&&I[F].m(k,null);$=!0},p(E,[D]){if(D&15){x=ensure_array_like(E[3]);let F;for(F=0;F<x.length;F+=1){const P=get_each_context$y(E,x,F);I[F]?(I[F].p(P,D),transition_in(I[F],1)):(I[F]=create_each_block$y(P),I[F].c(),transition_in(I[F],1),I[F].m(k,null))}for(group_outros(),F=x.length;F<I.length;F+=1)L(F);check_outros()}},i(E){if(!$){for(let D=0;D<x.length;D+=1)transition_in(I[D]);$=!0}},o(E){I=I.filter(Boolean);for(let D=0;D<I.length;D+=1)transition_out(I[D]);$=!1},d(E){E&&detach(k),destroy_each(I,E)}}}function instance$1Z(T,k,$){let{filter:x}=k,{currentFilter:I}=k,{currentSource:L}=k;const E=[[LogLevel.error,"error"],[LogLevel.warn,"warning"],[LogLevel.info,"info"],[LogLevel.critical,"cancel"]];return LogStore.subscribe(()=>{$(0,I=null)}),T.$$set=D=>{"filter"in D&&$(1,x=D.filter),"currentFilter"in D&&$(0,I=D.currentFilter),"currentSource"in D&&$(2,L=D.currentSource)},[I,x,L,E]}class Filters extends SvelteComponent{constructor(k){super(),init(this,k,instance$1Z,create_fragment$29,safe_not_equal,{filter:1,currentFilter:0,currentSource:2})}}function create_fragment$28(T){let k,$,x,I,L,E,D,F,P,U,M,z,N,q,j,W,H;return{c(){k=element("div"),$=element("button"),x=element("img"),L=text(`\r
    Clear`),D=space(),F=element("div"),P=space(),U=element("button"),M=element("span"),M.textContent="refresh",z=text(`\r
    Refresh`),q=space(),j=element("button"),j.innerHTML=`<span class="material-icons-round">title</span>
    monospace`,src_url_equal(x.src,I=clear$1)||attr(x,"src",I),attr(x,"alt","Clear"),attr($,"class","action"),$.disabled=E=!T[0],attr(F,"class","sep"),attr(M,"class","material-icons-round"),attr(U,"class","action"),U.disabled=N=!T[0],attr(j,"class","action"),attr(k,"class","static")},m(Q,K){insert(Q,k,K),append(k,$),append($,x),append($,L),append(k,D),append(k,F),append(k,P),append(k,U),append(U,M),append(U,z),append(k,q),append(k,j),W||(H=[listen($,"click",T[10]),listen(U,"click",T[2]),listen(j,"click",T[3])],W=!0)},p(Q,[K]){K&1&&E!==(E=!Q[0])&&($.disabled=E),K&1&&N!==(N=!Q[0])&&(U.disabled=N)},i:noop$1,o:noop$1,d(Q){Q&&detach(k),W=!1,run_all(H)}}}function instance$1Y(T,k,$){let x,I;component_subscribe(T,UserData$2,W=>$(11,x=W)),component_subscribe(T,LogStore,W=>$(12,I=W));let{currentSource:L}=k,{currentFilter:E}=k,{logItems:D}=k,{setView:F}=k,{filter:P}=k,{appdata:U}=k,{app:M}=k;function z(W){for(let H=0;H<I.length;H++)I[H].source==W&&I.splice(H,1);$(0,L=""),$(4,D=[]),LogStore.set(I)}function N(){Log("Logger: refresh","Refreshing current view",LogLevel.warn),F(L),E&&P(E)}function q(){$(5,U.monospace=!U.monospace,U),set_store_value(UserData$2,x.appdata[M.id]=U,x)}const j=()=>z(L);return T.$$set=W=>{"currentSource"in W&&$(0,L=W.currentSource),"currentFilter"in W&&$(6,E=W.currentFilter),"logItems"in W&&$(4,D=W.logItems),"setView"in W&&$(7,F=W.setView),"filter"in W&&$(8,P=W.filter),"appdata"in W&&$(5,U=W.appdata),"app"in W&&$(9,M=W.app)},[L,z,N,q,D,U,E,F,P,M,j]}class Static extends SvelteComponent{constructor(k){super(),init(this,k,instance$1Y,create_fragment$28,safe_not_equal,{currentSource:0,currentFilter:6,logItems:4,setView:7,filter:8,appdata:5,app:9})}}function create_fragment$27(T){let k,$,x,I,L,E,D,F;function P(N){T[8](N)}function U(N){T[9](N)}function M(N){T[10](N)}let z={currentFilter:T[5],filter:T[6],setView:T[4],app:T[3]};return T[0]!==void 0&&(z.currentSource=T[0]),T[1]!==void 0&&(z.logItems=T[1]),T[2]!==void 0&&(z.appdata=T[2]),$=new Static({props:z}),binding_callbacks.push(()=>bind$1($,"currentSource",P)),binding_callbacks.push(()=>bind$1($,"logItems",U)),binding_callbacks.push(()=>bind$1($,"appdata",M)),D=new Filters({props:{currentFilter:T[5],currentSource:T[0],filter:T[6]}}),{c(){k=element("div"),create_component($.$$.fragment),E=space(),create_component(D.$$.fragment),attr(k,"class","actions")},m(N,q){insert(N,k,q),mount_component($,k,null),append(k,E),mount_component(D,k,null),F=!0},p(N,[q]){const j={};q&32&&(j.currentFilter=N[5]),q&16&&(j.setView=N[4]),q&8&&(j.app=N[3]),!x&&q&1&&(x=!0,j.currentSource=N[0],add_flush_callback(()=>x=!1)),!I&&q&2&&(I=!0,j.logItems=N[1],add_flush_callback(()=>I=!1)),!L&&q&4&&(L=!0,j.appdata=N[2],add_flush_callback(()=>L=!1)),$.$set(j);const W={};q&32&&(W.currentFilter=N[5]),q&1&&(W.currentSource=N[0]),D.$set(W)},i(N){F||(transition_in($.$$.fragment,N),transition_in(D.$$.fragment,N),F=!0)},o(N){transition_out($.$$.fragment,N),transition_out(D.$$.fragment,N),F=!1},d(N){N&&detach(k),destroy_component($),destroy_component(D)}}}function instance$1X(T,k,$){let{app:x}=k,{currentSource:I}=k,{logItems:L}=k,{setView:E}=k,{updating:D}=k,{appdata:F}=k,P=[],U;LogStore.subscribe(j=>{$(7,D=!0),P=[],$(5,U=null);const W=Object.entries(j);for(let H=0;H<W.length;H++)W[H][0]==I&&P.push(W[H][1]);setTimeout(()=>{$(7,D=!1)})});function M(j){if(U==j){const H=`${I}`;E(null),setTimeout(()=>{E(H)});return}P.length||(P=L);const W=[];for(let H=0;H<P.length;H++)j==P[H].level&&W.push(P[H]);$(1,L=W),$(5,U=j)}function z(j){I=j,$(0,I)}function N(j){L=j,$(1,L)}function q(j){F=j,$(2,F)}return T.$$set=j=>{"app"in j&&$(3,x=j.app),"currentSource"in j&&$(0,I=j.currentSource),"logItems"in j&&$(1,L=j.logItems),"setView"in j&&$(4,E=j.setView),"updating"in j&&$(7,D=j.updating),"appdata"in j&&$(2,F=j.appdata)},[I,L,F,x,E,U,M,D,z,N,q]}let Actions$1=class extends SvelteComponent{constructor(k){super(),init(this,k,instance$1X,create_fragment$27,safe_not_equal,{app:3,currentSource:0,logItems:1,setView:4,updating:7,appdata:2})}};function create_fragment$26(T){let k,$,x=T[1][T[0].level]+"",I,L,E,D,F=dayjs(T[0].timestamp).format("HH:mm:ss.SSS")+"",P,U,M,z=T[0].msg+"",N;return{c(){k=element("div"),$=element("div"),I=text(x),E=space(),D=element("div"),P=text(F),U=space(),M=element("div"),N=text(z),attr($,"class",L="level material-icons-round "+LogLevel[T[0].level]),attr(D,"class","timestamp"),attr(M,"class","msg"),attr(k,"class","logitem")},m(q,j){insert(q,k,j),append(k,$),append($,I),append(k,E),append(k,D),append(D,P),append(k,U),append(k,M),append(M,N)},p(q,[j]){j&1&&x!==(x=q[1][q[0].level]+"")&&set_data(I,x),j&1&&L!==(L="level material-icons-round "+LogLevel[q[0].level])&&attr($,"class",L),j&1&&F!==(F=dayjs(q[0].timestamp).format("HH:mm:ss.SSS")+"")&&set_data(P,F),j&1&&z!==(z=q[0].msg+"")&&set_data(N,z)},i:noop$1,o:noop$1,d(q){q&&detach(k)}}}function instance$1W(T,k,$){let{logItem:x}=k;const I={0:"info",1:"warning",2:"error",3:"cancel"};return T.$$set=L=>{"logItem"in L&&$(0,x=L.logItem)},[x,I]}class LogItem extends SvelteComponent{constructor(k){super(),init(this,k,instance$1W,create_fragment$26,safe_not_equal,{logItem:0})}}function get_each_context$x(T,k,$){const x=T.slice();return x[4]=k[$],x}function create_if_block_1$h(T){let k,$,x=ensure_array_like(T[1]),I=[];for(let E=0;E<x.length;E+=1)I[E]=create_each_block$x(get_each_context$x(T,x,E));const L=E=>transition_out(I[E],1,1,()=>{I[E]=null});return{c(){for(let E=0;E<I.length;E+=1)I[E].c();k=empty()},m(E,D){for(let F=0;F<I.length;F+=1)I[F]&&I[F].m(E,D);insert(E,k,D),$=!0},p(E,D){if(D&2){x=ensure_array_like(E[1]);let F;for(F=0;F<x.length;F+=1){const P=get_each_context$x(E,x,F);I[F]?(I[F].p(P,D),transition_in(I[F],1)):(I[F]=create_each_block$x(P),I[F].c(),transition_in(I[F],1),I[F].m(k.parentNode,k))}for(group_outros(),F=x.length;F<I.length;F+=1)L(F);check_outros()}},i(E){if(!$){for(let D=0;D<x.length;D+=1)transition_in(I[D]);$=!0}},o(E){I=I.filter(Boolean);for(let D=0;D<I.length;D+=1)transition_out(I[D]);$=!1},d(E){E&&detach(k),destroy_each(I,E)}}}function create_each_block$x(T){let k,$;return k=new LogItem({props:{logItem:T[4]}}),{c(){create_component(k.$$.fragment)},m(x,I){mount_component(k,x,I),$=!0},p(x,I){const L={};I&2&&(L.logItem=x[4]),k.$set(L)},i(x){$||(transition_in(k.$$.fragment,x),$=!0)},o(x){transition_out(k.$$.fragment,x),$=!1},d(x){destroy_component(k,x)}}}function create_if_block$V(T){let k,$,x,I,L,E;return{c(){k=element("div"),$=element("img"),L=space(),E=element("p"),E.textContent="No items found.",src_url_equal($.src,x=getAppIcon(T[0]))||attr($,"src",x),attr($,"alt",I=T[0].info.name),attr(k,"class","noitems")},m(D,F){insert(D,k,F),append(k,$),append(k,L),append(k,E)},p(D,F){F&1&&!src_url_equal($.src,x=getAppIcon(D[0]))&&attr($,"src",x),F&1&&I!==(I=D[0].info.name)&&attr($,"alt",I)},d(D){D&&detach(k)}}}function create_fragment$25(T){let k,$,x,I=!T[2]&&create_if_block_1$h(T),L=!T[1].length&&create_if_block$V(T);return{c(){k=element("div"),I&&I.c(),$=space(),L&&L.c(),attr(k,"class","items"),toggle_class(k,"cflex",!T[1].length),toggle_class(k,"monospace",!!T[3].monospace)},m(E,D){insert(E,k,D),I&&I.m(k,null),append(k,$),L&&L.m(k,null),x=!0},p(E,[D]){E[2]?I&&(group_outros(),transition_out(I,1,1,()=>{I=null}),check_outros()):I?(I.p(E,D),D&4&&transition_in(I,1)):(I=create_if_block_1$h(E),I.c(),transition_in(I,1),I.m(k,$)),E[1].length?L&&(L.d(1),L=null):L?L.p(E,D):(L=create_if_block$V(E),L.c(),L.m(k,null)),(!x||D&2)&&toggle_class(k,"cflex",!E[1].length),(!x||D&8)&&toggle_class(k,"monospace",!!E[3].monospace)},i(E){x||(transition_in(I),x=!0)},o(E){transition_out(I),x=!1},d(E){E&&detach(k),I&&I.d(),L&&L.d()}}}function instance$1V(T,k,$){let{app:x}=k,{logItems:I}=k,{updating:L}=k,{appdata:E}=k;return T.$$set=D=>{"app"in D&&$(0,x=D.app),"logItems"in D&&$(1,I=D.logItems),"updating"in D&&$(2,L=D.updating),"appdata"in D&&$(3,E=D.appdata)},[x,I,L,E]}class Items extends SvelteComponent{constructor(k){super(),init(this,k,instance$1V,create_fragment$25,safe_not_equal,{app:0,logItems:1,updating:2,appdata:3})}}function create_fragment$24(T){let k,$,x,I,L,E,D,F,P,U,M,z,N;function q(X){T[6](X)}function j(X){T[7](X)}function W(X){T[8](X)}function H(X){T[9](X)}function Q(X){T[10](X)}function K(X){T[11](X)}let G={};T[1]!==void 0&&(G.currentSource=T[1]),T[2]!==void 0&&(G.logItems=T[2]),T[3]!==void 0&&(G.setView=T[3]),T[5]!==void 0&&(G.updating=T[5]),T[4]!==void 0&&(G.appdata=T[4]),T[0]!==void 0&&(G.app=T[0]),$=new Actions$1({props:G}),binding_callbacks.push(()=>bind$1($,"currentSource",q)),binding_callbacks.push(()=>bind$1($,"logItems",j)),binding_callbacks.push(()=>bind$1($,"setView",W)),binding_callbacks.push(()=>bind$1($,"updating",H)),binding_callbacks.push(()=>bind$1($,"appdata",Q)),binding_callbacks.push(()=>bind$1($,"app",K));function V(X){T[12](X)}function Y(X){T[13](X)}let J={app:T[0],appdata:T[4]};return T[2]!==void 0&&(J.logItems=T[2]),T[5]!==void 0&&(J.updating=T[5]),U=new Items({props:J}),binding_callbacks.push(()=>bind$1(U,"logItems",V)),binding_callbacks.push(()=>bind$1(U,"updating",Y)),{c(){k=element("div"),create_component($.$$.fragment),P=space(),create_component(U.$$.fragment),attr(k,"class","content")},m(X,Z){insert(X,k,Z),mount_component($,k,null),append(k,P),mount_component(U,k,null),N=!0},p(X,[Z]){const ee={};!x&&Z&2&&(x=!0,ee.currentSource=X[1],add_flush_callback(()=>x=!1)),!I&&Z&4&&(I=!0,ee.logItems=X[2],add_flush_callback(()=>I=!1)),!L&&Z&8&&(L=!0,ee.setView=X[3],add_flush_callback(()=>L=!1)),!E&&Z&32&&(E=!0,ee.updating=X[5],add_flush_callback(()=>E=!1)),!D&&Z&16&&(D=!0,ee.appdata=X[4],add_flush_callback(()=>D=!1)),!F&&Z&1&&(F=!0,ee.app=X[0],add_flush_callback(()=>F=!1)),$.$set(ee);const re={};Z&1&&(re.app=X[0]),Z&16&&(re.appdata=X[4]),!M&&Z&4&&(M=!0,re.logItems=X[2],add_flush_callback(()=>M=!1)),!z&&Z&32&&(z=!0,re.updating=X[5],add_flush_callback(()=>z=!1)),U.$set(re)},i(X){N||(transition_in($.$$.fragment,X),transition_in(U.$$.fragment,X),N=!0)},o(X){transition_out($.$$.fragment,X),transition_out(U.$$.fragment,X),N=!1},d(X){X&&detach(k),destroy_component($),destroy_component(U)}}}function instance$1U(T,k,$){let{app:x}=k,{currentSource:I}=k,{logItems:L}=k,{setView:E}=k,{appdata:D}=k,F=!1;function P(H){I=H,$(1,I)}function U(H){L=H,$(2,L)}function M(H){E=H,$(3,E)}function z(H){F=H,$(5,F)}function N(H){D=H,$(4,D)}function q(H){x=H,$(0,x)}function j(H){L=H,$(2,L)}function W(H){F=H,$(5,F)}return T.$$set=H=>{"app"in H&&$(0,x=H.app),"currentSource"in H&&$(1,I=H.currentSource),"logItems"in H&&$(2,L=H.logItems),"setView"in H&&$(3,E=H.setView),"appdata"in H&&$(4,D=H.appdata)},[x,I,L,E,D,F,P,U,M,z,N,q,j,W]}let Content$3=class extends SvelteComponent{constructor(k){super(),init(this,k,instance$1U,create_fragment$24,safe_not_equal,{app:0,currentSource:1,logItems:2,setView:3,appdata:4})}};function create_fragment$23(T){let k,$,x=T[0][0]+"",I,L,E,D=T[0][1].length+"",F,P,U,M;return{c(){k=element("button"),$=element("div"),I=text(x),L=space(),E=element("div"),F=text(D),P=text(" items"),attr($,"class","name"),attr(E,"class","items"),toggle_class(k,"active",T[0][0]==T[1])},m(z,N){insert(z,k,N),append(k,$),append($,I),append(k,L),append(k,E),append(E,F),append(E,P),U||(M=listen(k,"click",T[2]),U=!0)},p(z,[N]){N&1&&x!==(x=z[0][0]+"")&&set_data(I,x),N&1&&D!==(D=z[0][1].length+"")&&set_data(F,D),N&3&&toggle_class(k,"active",z[0][0]==z[1])},i:noop$1,o:noop$1,d(z){z&&detach(k),U=!1,M()}}}function instance$1T(T,k,$){let{category:x}=k,{setView:I}=k,{currentSource:L}=k;function E(){I&&I(x[0])}return T.$$set=D=>{"category"in D&&$(0,x=D.category),"setView"in D&&$(3,I=D.setView),"currentSource"in D&&$(1,L=D.currentSource)},[x,L,E,I]}class Category extends SvelteComponent{constructor(k){super(),init(this,k,instance$1T,create_fragment$23,safe_not_equal,{category:0,setView:3,currentSource:1})}}function get_each_context$w(T,k,$){const x=T.slice();return x[6]=k[$],x[7]=k,x[8]=$,x}function create_each_block$w(T){let k,$,x,I,L;function E(U){T[3](U)}function D(U){T[4](U,T[6],T[7],T[8])}function F(U){T[5](U)}let P={};return T[1]!==void 0&&(P.setView=T[1]),T[6]!==void 0&&(P.category=T[6]),T[2]!==void 0&&(P.currentSource=T[2]),k=new Category({props:P}),binding_callbacks.push(()=>bind$1(k,"setView",E)),binding_callbacks.push(()=>bind$1(k,"category",D)),binding_callbacks.push(()=>bind$1(k,"currentSource",F)),{c(){create_component(k.$$.fragment)},m(U,M){mount_component(k,U,M),L=!0},p(U,M){T=U;const z={};!$&&M&2&&($=!0,z.setView=T[1],add_flush_callback(()=>$=!1)),!x&&M&1&&(x=!0,z.category=T[6],add_flush_callback(()=>x=!1)),!I&&M&4&&(I=!0,z.currentSource=T[2],add_flush_callback(()=>I=!1)),k.$set(z)},i(U){L||(transition_in(k.$$.fragment,U),L=!0)},o(U){transition_out(k.$$.fragment,U),L=!1},d(U){destroy_component(k,U)}}}function create_fragment$22(T){let k,$,x=ensure_array_like(T[0]),I=[];for(let E=0;E<x.length;E+=1)I[E]=create_each_block$w(get_each_context$w(T,x,E));const L=E=>transition_out(I[E],1,1,()=>{I[E]=null});return{c(){k=element("div");for(let E=0;E<I.length;E+=1)I[E].c();attr(k,"class","sidebar")},m(E,D){insert(E,k,D);for(let F=0;F<I.length;F+=1)I[F]&&I[F].m(k,null);$=!0},p(E,[D]){if(D&7){x=ensure_array_like(E[0]);let F;for(F=0;F<x.length;F+=1){const P=get_each_context$w(E,x,F);I[F]?(I[F].p(P,D),transition_in(I[F],1)):(I[F]=create_each_block$w(P),I[F].c(),transition_in(I[F],1),I[F].m(k,null))}for(group_outros(),F=x.length;F<I.length;F+=1)L(F);check_outros()}},i(E){if(!$){for(let D=0;D<x.length;D+=1)transition_in(I[D]);$=!0}},o(E){I=I.filter(Boolean);for(let D=0;D<I.length;D+=1)transition_out(I[D]);$=!1},d(E){E&&detach(k),destroy_each(I,E)}}}function instance$1S(T,k,$){let{logs:x}=k,{setView:I}=k,{currentSource:L}=k;function E(P){I=P,$(1,I)}function D(P,U,M,z){M[z]=P,$(0,x)}function F(P){L=P,$(2,L)}return T.$$set=P=>{"logs"in P&&$(0,x=P.logs),"setView"in P&&$(1,I=P.setView),"currentSource"in P&&$(2,L=P.currentSource)},[x,I,L,E,D,F]}let Sidebar$1=class extends SvelteComponent{constructor(k){super(),init(this,k,instance$1S,create_fragment$22,safe_not_equal,{logs:0,setView:1,currentSource:2})}};function create_if_block$U(T){let k,$,x,I,L,E,D,F,P;function U(H){T[6](H)}function M(H){T[7](H)}let z={setView:T[5]};T[4]!==void 0&&(z.currentSource=T[4]),T[2]!==void 0&&(z.logs=T[2]),k=new Sidebar$1({props:z}),binding_callbacks.push(()=>bind$1(k,"currentSource",U)),binding_callbacks.push(()=>bind$1(k,"logs",M));function N(H){T[8](H)}function q(H){T[9](H)}function j(H){T[10](H)}let W={setView:T[5],app:T[1]};return T[4]!==void 0&&(W.currentSource=T[4]),T[3]!==void 0&&(W.logItems=T[3]),T[0]!==void 0&&(W.appdata=T[0]),L=new Content$3({props:W}),binding_callbacks.push(()=>bind$1(L,"currentSource",N)),binding_callbacks.push(()=>bind$1(L,"logItems",q)),binding_callbacks.push(()=>bind$1(L,"appdata",j)),{c(){create_component(k.$$.fragment),I=space(),create_component(L.$$.fragment)},m(H,Q){mount_component(k,H,Q),insert(H,I,Q),mount_component(L,H,Q),P=!0},p(H,Q){const K={};!$&&Q&16&&($=!0,K.currentSource=H[4],add_flush_callback(()=>$=!1)),!x&&Q&4&&(x=!0,K.logs=H[2],add_flush_callback(()=>x=!1)),k.$set(K);const G={};Q&2&&(G.app=H[1]),!E&&Q&16&&(E=!0,G.currentSource=H[4],add_flush_callback(()=>E=!1)),!D&&Q&8&&(D=!0,G.logItems=H[3],add_flush_callback(()=>D=!1)),!F&&Q&1&&(F=!0,G.appdata=H[0],add_flush_callback(()=>F=!1)),L.$set(G)},i(H){P||(transition_in(k.$$.fragment,H),transition_in(L.$$.fragment,H),P=!0)},o(H){transition_out(k.$$.fragment,H),transition_out(L.$$.fragment,H),P=!1},d(H){H&&detach(I),destroy_component(k,H),destroy_component(L,H)}}}function create_fragment$21(T){let k,$,x=T[1]&&create_if_block$U(T);return{c(){x&&x.c(),k=empty()},m(I,L){x&&x.m(I,L),insert(I,k,L),$=!0},p(I,[L]){I[1]?x?(x.p(I,L),L&2&&transition_in(x,1)):(x=create_if_block$U(I),x.c(),transition_in(x,1),x.m(k.parentNode,k)):x&&(group_outros(),transition_out(x,1,1,()=>{x=null}),check_outros())},i(I){$||(transition_in(x),$=!0)},o(I){transition_out(x),$=!1},d(I){I&&detach(k),x&&x.d(I)}}}function instance$1R(T,k,$){let x;component_subscribe(T,LogStore,j=>$(11,x=j));let I=[],L=[],E="",{app:D}=k,{appdata:F}=k;function P(j){Log("apps/Logger: setView",`Setting source to "${j}"`);for(let W=0;W<I.length;W++)I[W][0]==j&&$(3,L=I[W][1]);L.length||Log("apps/Logger: setView",`Source "${j}" contains no items or could not be found.`,LogLevel.info),$(4,E=j)}LogStore.subscribe(()=>{$(2,I=Object.entries(collectLogsBySource())),setTitleSuffix(` - ${x.length} items`,D.id)});function U(j){E=j,$(4,E)}function M(j){I=j,$(2,I)}function z(j){E=j,$(4,E)}function N(j){L=j,$(3,L)}function q(j){F=j,$(0,F)}return T.$$set=j=>{"app"in j&&$(1,D=j.app),"appdata"in j&&$(0,F=j.appdata)},[F,D,I,L,E,P,U,M,z,N,q]}class Logger extends SvelteComponent{constructor(k){super(),init(this,k,instance$1R,create_fragment$21,safe_not_equal,{app:1,appdata:0})}}const LoggerApp={info:{name:"System Logger",description:"All the ArcOS logs in one place",builtin:!0,version:"1.0.0",author:"ArcOS Team",icon:logo$3,appGroup:"systemTools"},size:{w:900,h:600},pos:{x:30,y:40},minSize:{w:900,h:600},maxSize:{w:901,h:601},controls:{min:!0,max:!0,cls:!0},state:{headless:!1,resizable:!1,windowState:{min:!1,max:!1,fll:!1}},content:Logger,glass:!0},markdownviewer="";function create_fragment$20(T){let k,$,x,I,L,E,D,F;return{c(){k=element("div"),$=element("div"),x=element("img"),L=space(),E=element("h3"),E.textContent="Render failed",D=space(),F=element("p"),F.textContent="The markdown content could not be parsed. The opened file may be empty.",src_url_equal(x.src,I=bugRepIcon)||attr(x,"src",I),attr(x,"alt","Error"),attr($,"class","content"),attr(k,"class","unreadable")},m(P,U){insert(P,k,U),append(k,$),append($,x),append($,L),append($,E),append($,D),append($,F)},p:noop$1,i:noop$1,o:noop$1,d(P){P&&detach(k)}}}class Unreadable extends SvelteComponent{constructor(k){super(),init(this,k,null,create_fragment$20,safe_not_equal,{})}}function create_if_block$T(T){let k,$,x,I;const L=[create_if_block_1$g,create_else_block$e],E=[];function D(F,P){return F[1]?0:1}return k=D(T),$=E[k]=L[k](T),{c(){$.c(),x=empty()},m(F,P){E[k].m(F,P),insert(F,x,P),I=!0},p(F,P){let U=k;k=D(F),k===U?E[k].p(F,P):(group_outros(),transition_out(E[U],1,1,()=>{E[U]=null}),check_outros(),$=E[k],$?$.p(F,P):($=E[k]=L[k](F),$.c()),transition_in($,1),$.m(x.parentNode,x))},i(F){I||(transition_in($),I=!0)},o(F){transition_out($),I=!1},d(F){F&&detach(x),E[k].d(F)}}}function create_else_block$e(T){let k,$;return k=new Unreadable({}),{c(){create_component(k.$$.fragment)},m(x,I){mount_component(k,x,I),$=!0},p:noop$1,i(x){$||(transition_in(k.$$.fragment,x),$=!0)},o(x){transition_out(k.$$.fragment,x),$=!1},d(x){destroy_component(k,x)}}}function create_if_block_1$g(T){let k,$,x;return $=new SvelteMarkdown({props:{source:T[1]}}),{c(){k=element("div"),create_component($.$$.fragment),attr(k,"class","markdownrenderer")},m(I,L){insert(I,k,L),mount_component($,k,null),x=!0},p(I,L){const E={};L&2&&(E.source=I[1]),$.$set(E)},i(I){x||(transition_in($.$$.fragment,I),x=!0)},o(I){transition_out($.$$.fragment,I),x=!1},d(I){I&&detach(k),destroy_component($)}}}function create_fragment$1$(T){let k,$,x=T[0]&&create_if_block$T(T);return{c(){x&&x.c(),k=empty()},m(I,L){x&&x.m(I,L),insert(I,k,L),$=!0},p(I,[L]){I[0]?x?(x.p(I,L),L&1&&transition_in(x,1)):(x=create_if_block$T(I),x.c(),transition_in(x,1),x.m(k.parentNode,k)):x&&(group_outros(),transition_out(x,1,1,()=>{x=null}),check_outros())},i(I){$||(transition_in(x),$=!0)},o(I){transition_out(x),$=!1},d(I){I&&detach(k),x&&x.d(I)}}}function instance$1Q(T,k,$){let x;component_subscribe(T,TextEditorContent,D=>$(3,x=D));let{app:I}=k,L="",E="";return WindowStore.subscribe(()=>{if(getWindow("TextEditor"),!I)return;const D=I.openedFile;!D||!D.mime.startsWith("text/")||(L=new TextDecoder().decode(D.data),$(1,E=I.openedFile?L:x))}),TextEditorContent.subscribe(()=>{closeFile("MarkDownViewer"),setTitleSuffix("","MarkDownViewer"),$(1,E=I.openedFile?L:x)}),T.$$set=D=>{"app"in D&&$(0,I=D.app)},[I,E]}let MarkDownViewer$1=class extends SvelteComponent{constructor(k){super(),init(this,k,instance$1Q,create_fragment$1$,safe_not_equal,{app:0})}};const MarkDownViewer={info:{name:"Markdown Viewer",description:"View .MD files",author:"ArcOS Team",version:"1.0.0",icon:icon$3,builtin:!0,hidden:!0},size:{w:700,h:550},pos:{x:30,y:40},minSize:{w:400,h:300},maxSize:{w:1e3,h:800},controls:{min:!0,max:!0,cls:!0},state:{headless:!1,resizable:!0,windowState:{min:!1,max:!1,fll:!1}},content:MarkDownViewer$1,glass:!1,fileMimes:["text/plain","text/markdown"],events:{openFile(T){T.openedFile&&setTitleSuffix(` - ${T.openedFile.path}`,T.id)}}},logo$2=""+new URL("mediaplayer-2f32981f.svg",import.meta.url).href,mediaplayer="";function create_if_block$S(T){let k,$,x=!1,I,L,E,D,F;function P(){cancelAnimationFrame(I),k.paused||(I=raf(P),x=!0),T[13].call(k)}let U=T[1]&&create_if_block_1$f(T);return{c(){k=element("audio"),L=space(),U&&U.c(),E=empty(),src_url_equal(k.src,$=T[5])||attr(k,"src",$),k.controls=!0,k.autoplay=!0,T[3]===void 0&&add_render_callback(()=>T[12].call(k))},m(M,z){insert(M,k,z),T[11](k),insert(M,L,z),U&&U.m(M,z),insert(M,E,z),D||(F=[listen(k,"durationchange",T[12]),listen(k,"timeupdate",P),listen(k,"timeupdate",T[9])],D=!0)},p(M,z){z&32&&!src_url_equal(k.src,$=M[5])&&attr(k,"src",$),!x&&z&16&&!isNaN(M[4])&&(k.currentTime=M[4]),x=!1,M[1]?U?U.p(M,z):(U=create_if_block_1$f(M),U.c(),U.m(E.parentNode,E)):U&&(U.d(1),U=null)},d(M){M&&(detach(k),detach(L),detach(E)),T[11](null),U&&U.d(M),D=!1,run_all(F)}}}function create_if_block_1$f(T){let k,$,x,I,L,E,D,F,P,U,M,z,N,q,j,W,H,Q,K=formatTime(T[4])+"",G,V,Y=formatTime(T[3])+"",J,X,Z,ee,re,ce,oe,ae,se,ne,ie=T[0].openedFile.path+"",te,le,pe,me;return{c(){k=element("div"),$=element("div"),x=element("div"),I=element("button"),L=text("play_arrow"),D=space(),F=element("button"),P=text("pause"),U=space(),M=element("div"),z=element("button"),z.textContent="fast_rewind",N=space(),q=element("button"),q.textContent="fast_forward",j=space(),W=element("button"),W.textContent="stop",H=space(),Q=element("div"),G=text(K),V=text(" / "),J=text(Y),X=space(),Z=element("div"),ee=element("div"),re=space(),ce=element("div"),oe=element("img"),ne=element("span"),te=text(ie),attr(I,"class","material-icons-round"),I.disabled=E=!T[6]&&T[2]<100,attr(F,"class","material-icons-round"),F.disabled=T[6],attr(x,"class","group"),attr(z,"class","material-icons-round"),attr(q,"class","material-icons-round"),attr(M,"class","group"),attr(W,"class","material-icons-round"),attr(Q,"class","right"),attr($,"class","controls"),attr(ee,"class","inner"),set_style(ee,"width",T[2]+"%"),attr(Z,"class","bar"),src_url_equal(oe.src,ae=getMimeIcon(T[0].openedFile.name))||attr(oe,"src",ae),attr(oe,"alt",se=T[0].openedFile.name),attr(ce,"class","filename"),attr(ce,"title",le=T[0].openedFile.path),attr(k,"class","media-player")},m(fe,de){insert(fe,k,de),append(k,$),append($,x),append(x,I),append(I,L),append(x,D),append(x,F),append(F,P),append($,U),append($,M),append(M,z),append(M,N),append(M,q),append($,j),append($,W),append($,H),append($,Q),append(Q,G),append(Q,V),append(Q,J),append(k,X),append(k,Z),append(Z,ee),append(k,re),append(k,ce),append(ce,oe),append(ce,ne),append(ne,te),pe||(me=[listen(I,"click",T[14]),listen(F,"click",T[15]),listen(z,"click",T[7]),listen(q,"click",T[8]),listen(W,"click",T[10])],pe=!0)},p(fe,de){de&68&&E!==(E=!fe[6]&&fe[2]<100)&&(I.disabled=E),de&64&&(F.disabled=fe[6]),de&16&&K!==(K=formatTime(fe[4])+"")&&set_data(G,K),de&8&&Y!==(Y=formatTime(fe[3])+"")&&set_data(J,Y),de&4&&set_style(ee,"width",fe[2]+"%"),de&1&&!src_url_equal(oe.src,ae=getMimeIcon(fe[0].openedFile.name))&&attr(oe,"src",ae),de&1&&se!==(se=fe[0].openedFile.name)&&attr(oe,"alt",se),de&1&&ie!==(ie=fe[0].openedFile.path+"")&&set_data(te,ie),de&1&&le!==(le=fe[0].openedFile.path)&&attr(ce,"title",le)},d(fe){fe&&detach(k),pe=!1,run_all(me)}}}function create_fragment$1_(T){let k,$=T[0].openedFile&&create_if_block$S(T);return{c(){$&&$.c(),k=empty()},m(x,I){$&&$.m(x,I),insert(x,k,I)},p(x,[I]){x[0].openedFile?$?$.p(x,I):($=create_if_block$S(x),$.c(),$.m(k.parentNode,k)):$&&($.d(1),$=null)},i:noop$1,o:noop$1,d(x){x&&detach(k),$&&$.d(x)}}}function formatTime(T){const k=Math.floor(T/60),$=Math.floor(T%60);return`${k}:${$.toString().padStart(2,"0")}`}function instance$1P(T,k,$){let x,{app:I}=k,L=0,E=0,D=0,F="",P="",U=!0;WindowStore.subscribe(()=>{!I.openedFile||!x||P==I.openedFile.name||(P=I.openedFile.name,$(5,F=URL.createObjectURL(new Blob([I.openedFile.data],{type:I.openedFile.mime}))),setTimeout(()=>{x.play()}))});function M(){$(1,x.currentTime-=10,x)}function z(){$(1,x.currentTime+=10,x)}function N(){$(2,L=x.currentTime/x.duration*100),$(6,U=x.paused)}function q(){$(1,x.currentTime=0,x),x.pause()}onMount(()=>{registerShortcuts([{key:"space",action:()=>{x==null||x.pause()}}])});function j(G){binding_callbacks[G?"unshift":"push"](()=>{x=G,$(1,x)})}function W(){E=this.duration,$(3,E)}function H(){D=this.currentTime,$(4,D)}const Q=()=>x.play(),K=()=>x.pause();return T.$$set=G=>{"app"in G&&$(0,I=G.app)},[I,x,L,E,D,F,U,M,z,N,q,j,W,H,Q,K]}class MediaPlayer extends SvelteComponent{constructor(k){super(),init(this,k,instance$1P,create_fragment$1_,safe_not_equal,{app:0})}}const MediaPlayerApp={info:{name:"Media Player",description:"Play audio files",builtin:!0,version:"2.0.0",author:"Izaak Kuipers",icon:logo$2,hidden:!0,appGroup:"entertainment"},size:{w:442,h:NaN},pos:{x:100,y:100},minSize:{w:442,h:NaN},maxSize:{w:442,h:NaN},controls:{min:!0,max:!1,cls:!0},state:{headless:!1,resizable:!1,windowState:{min:!1,max:!1,fll:!1}},content:MediaPlayer,glass:!0,fileMimes:["audio/x-flac","audio/wave","audio/mpeg"],events:{open:T=>{if(!T.openedFile)return disposeTrayIcon("MediaPlayerApp"),closeWindow("MediaPlayerApp");createTrayIcon({onOpen(){openWindow("MediaPlayerApp")},image:logo$2,identifier:"MediaPlayerApp"})},close(){disposeTrayIcon("MediaPlayerApp")}}},logo$1=""+new URL("messaging-bba3c27d.svg",import.meta.url).href;async function deleteMessage(T){const k=get_store_value(ConnectedServer);return k?!await apiCall(k,"messages/delete",{id:btoa(T)},get_store_value(UserToken)):!1}const MessagingUpdaters=writable([]);function messageSubscribe(T){const k=get_store_value(MessagingUpdaters);k.push(T),MessagingUpdaters.set(k)}function messageUpdateTrigger(){const T=get_store_value(MessagingUpdaters);for(let k=0;k<T.length;k++)T[k]()}const messageSidebarActions=[{icon:"add",name:"New Message",action(){replyMessageId.set(null),creatingMessage.set(!0)}}],messageItemActions=[{icon:"reply",name:"Reply",async action(T){replyMessageId.set(T.id),creatingMessage.set(!0)}},{icon:"save",name:"Save to ArcFS",async action(T){const k=new Blob([T.body],{type:"text/markdown"});await createDirectory("./Messages");const $=`Message from ${T.sender} - ${T.id}.md`,x=`./Messages/${$}`;await writeFile(x,k),openWindow("FileManager"),await fbClass.goToDirectory("./Messages"),setTimeout(()=>{FileBrowserSelectedFilename.set($)})}},{icon:"delete",name:"Delete message for everyone",async action(T){createOverlayableError({title:"Delete message?",message:`Are you sure you want to delete this message from ${T.sender}? This cannot be undone.`,image:bugRepIcon,buttons:[{caption:"Delete",action:async()=>{await deleteMessage(T.id),messageUpdateTrigger(),selectedMessageId.set(null)}},{caption:"Cancel",action:()=>{}}]},"MessagingApp")}}];async function getSentMessages(){const T=await getMessages();let k=[];for(let $=0;$<T.length;$++)T[$].sender==get_store_value(UserName)&&k.push(T[$]);return k}async function getReceivedMessages(){const T=await getMessages();let k=[];for(let $=0;$<T.length;$++)T[$].receiver==get_store_value(UserName)&&T[$].sender!=get_store_value(UserName)&&k.push(T[$]);return k}async function getUnreadMessages(){const T=await getReceivedMessages();let k=[];for(let $=0;$<T.length;$++)T[$].read||k.push(T[$]);return k}const messagingPage=writable(null);messagingPage.subscribe(()=>{setTimeout(messageUpdateTrigger,100)});selectedMessageId.subscribe(()=>{messageUpdateTrigger(),creatingMessage.set(!1)});const MessagingPages={unread:{name:"Unread",icon:"mark_email_unread",msgGetter:getUnreadMessages},inbox:{name:"Inbox",icon:"inbox",msgGetter:getReceivedMessages},sent:{name:"Sent",icon:"send",msgGetter:getSentMessages}};function create_fragment$1Z(T){let k,$=T[0].icon+"",x,I,L,E;return{c(){k=element("button"),x=text($),attr(k,"class","material-icons-round"),attr(k,"title",I=T[0].name)},m(D,F){insert(D,k,F),append(k,x),L||(E=listen(k,"click",function(){is_function(T[0].action)&&T[0].action.apply(this,arguments)}),L=!0)},p(D,[F]){T=D,F&1&&$!==($=T[0].icon+"")&&set_data(x,$),F&1&&I!==(I=T[0].name)&&attr(k,"title",I)},i:noop$1,o:noop$1,d(D){D&&detach(k),L=!1,E()}}}function instance$1O(T,k,$){let{action:x}=k;return T.$$set=I=>{"action"in I&&$(0,x=I.action)},[x]}class Action extends SvelteComponent{constructor(k){super(),init(this,k,instance$1O,create_fragment$1Z,safe_not_equal,{action:0})}}function create_fragment$1Y(T){let k,$=T[0].icon+"",x,I,L,E;return{c(){k=element("button"),x=text($),attr(k,"class","material-icons-round"),attr(k,"title",I=T[0].name),toggle_class(k,"active",T[1]&&T[0].name==T[1].name)},m(D,F){insert(D,k,F),append(k,x),L||(E=listen(k,"click",T[2]),L=!0)},p(D,[F]){F&1&&$!==($=D[0].icon+"")&&set_data(x,$),F&1&&I!==(I=D[0].name)&&attr(k,"title",I),F&3&&toggle_class(k,"active",D[1]&&D[0].name==D[1].name)},i:noop$1,o:noop$1,d(D){D&&detach(k),L=!1,E()}}}function instance$1N(T,k,$){let x;component_subscribe(T,messagingPage,E=>$(1,x=E));let{data:I}=k;function L(){set_store_value(messagingPage,x=I,x)}return T.$$set=E=>{"data"in E&&$(0,I=E.data)},[I,x,L]}let Page$1=class extends SvelteComponent{constructor(k){super(),init(this,k,instance$1N,create_fragment$1Y,safe_not_equal,{data:0})}};function get_each_context$v(T,k,$){const x=T.slice();return x[2]=k[$],x}function get_each_context_1$5(T,k,$){const x=T.slice();return x[5]=k[$],x}function create_each_block_1$5(T){let k,$;return k=new Page$1({props:{data:T[5][1]}}),{c(){create_component(k.$$.fragment)},m(x,I){mount_component(k,x,I),$=!0},p:noop$1,i(x){$||(transition_in(k.$$.fragment,x),$=!0)},o(x){transition_out(k.$$.fragment,x),$=!1},d(x){destroy_component(k,x)}}}function create_each_block$v(T){let k,$;return k=new Action({props:{action:T[2]}}),{c(){create_component(k.$$.fragment)},m(x,I){mount_component(k,x,I),$=!0},p:noop$1,i(x){$||(transition_in(k.$$.fragment,x),$=!0)},o(x){transition_out(k.$$.fragment,x),$=!1},d(x){destroy_component(k,x)}}}function create_fragment$1X(T){let k,$,x,I,L,E,D,F,P,U=ensure_array_like(Object.entries(MessagingPages)),M=[];for(let W=0;W<U.length;W+=1)M[W]=create_each_block_1$5(get_each_context_1$5(T,U,W));const z=W=>transition_out(M[W],1,1,()=>{M[W]=null});let N=ensure_array_like(messageSidebarActions),q=[];for(let W=0;W<N.length;W+=1)q[W]=create_each_block$v(get_each_context$v(T,N,W));const j=W=>transition_out(q[W],1,1,()=>{q[W]=null});return F=new ProfilePicture$1({props:{src:T[0],height:20}}),{c(){k=element("div"),$=element("div");for(let W=0;W<M.length;W+=1)M[W].c();x=space(),I=element("hr"),L=space(),E=element("div");for(let W=0;W<q.length;W+=1)q[W].c();D=space(),create_component(F.$$.fragment),attr($,"class","pages"),attr(E,"class","actions"),attr(k,"class","sidebar")},m(W,H){insert(W,k,H),append(k,$);for(let Q=0;Q<M.length;Q+=1)M[Q]&&M[Q].m($,null);append(k,x),append(k,I),append(k,L),append(k,E);for(let Q=0;Q<q.length;Q+=1)q[Q]&&q[Q].m(E,null);append(k,D),mount_component(F,k,null),P=!0},p(W,[H]){if(H&0){U=ensure_array_like(Object.entries(MessagingPages));let K;for(K=0;K<U.length;K+=1){const G=get_each_context_1$5(W,U,K);M[K]?(M[K].p(G,H),transition_in(M[K],1)):(M[K]=create_each_block_1$5(G),M[K].c(),transition_in(M[K],1),M[K].m($,null))}for(group_outros(),K=U.length;K<M.length;K+=1)z(K);check_outros()}if(H&0){N=ensure_array_like(messageSidebarActions);let K;for(K=0;K<N.length;K+=1){const G=get_each_context$v(W,N,K);q[K]?(q[K].p(G,H),transition_in(q[K],1)):(q[K]=create_each_block$v(G),q[K].c(),transition_in(q[K],1),q[K].m(E,null))}for(group_outros(),K=N.length;K<q.length;K+=1)j(K);check_outros()}const Q={};H&1&&(Q.src=W[0]),F.$set(Q)},i(W){if(!P){for(let H=0;H<U.length;H+=1)transition_in(M[H]);for(let H=0;H<N.length;H+=1)transition_in(q[H]);transition_in(F.$$.fragment,W),P=!0}},o(W){M=M.filter(Boolean);for(let H=0;H<M.length;H+=1)transition_out(M[H]);q=q.filter(Boolean);for(let H=0;H<q.length;H+=1)transition_out(q[H]);transition_out(F.$$.fragment,W),P=!1},d(W){W&&detach(k),destroy_each(M,W),destroy_each(q,W),destroy_component(F)}}}function instance$1M(T,k,$){let x;component_subscribe(T,UserData$2,L=>$(1,x=L));let I;return UserData$2.subscribe(()=>{$(0,I=getProfilePicture(x.acc.profilePicture))}),[I]}class SideBar extends SvelteComponent{constructor(k){super(),init(this,k,instance$1M,create_fragment$1X,safe_not_equal,{})}}const messaging="",partialFilters=["#","](","![","!",">","|","(",")"];function filterPartial(T){let k=T;for(let $=0;$<partialFilters.length;$++)k=k.split(partialFilters[$]).join("");return k}function create_if_block$R(T){let k,$,x;return{c(){k=element("span"),$=text("reply"),attr(k,"class","material-icons-round"),attr(k,"title",x=T[0].replyingTo)},m(I,L){insert(I,k,L),append(k,$)},p(I,L){L&1&&x!==(x=I[0].replyingTo)&&attr(k,"title",x)},d(I){I&&detach(k)}}}function create_fragment$1W(T){let k,$,x,I,L,E=(T[1]?T[0].receiver:T[0].sender)+"",D,F,P,U,M=(filterPartial(T[0].partialBody)||"(no content)")+"",z,N,q,j=dayjs(T[0].timestamp).format("DD-MM HH:mm")+"",W,H,Q,K;$=new ProfilePicture$1({props:{src:T[2],height:26}});let G=T[0].replyingTo&&create_if_block$R(T);return{c(){k=element("button"),create_component($.$$.fragment),x=space(),I=element("div"),L=element("p"),D=text(E),F=space(),G&&G.c(),P=space(),U=element("p"),z=text(M),N=space(),q=element("div"),W=text(j),attr(L,"class","username"),attr(U,"class","partial"),attr(I,"class","content"),attr(q,"class","timestamp"),attr(k,"class","message"),toggle_class(k,"selected",T[3]==T[0].id)},m(V,Y){insert(V,k,Y),mount_component($,k,null),append(k,x),append(k,I),append(I,L),append(L,D),append(L,F),G&&G.m(L,null),append(I,P),append(I,U),append(U,z),append(k,N),append(k,q),append(q,W),H=!0,Q||(K=listen(k,"click",T[4]),Q=!0)},p(V,[Y]){const J={};Y&4&&(J.src=V[2]),$.$set(J),(!H||Y&3)&&E!==(E=(V[1]?V[0].receiver:V[0].sender)+"")&&set_data(D,E),V[0].replyingTo?G?G.p(V,Y):(G=create_if_block$R(V),G.c(),G.m(L,null)):G&&(G.d(1),G=null),(!H||Y&1)&&M!==(M=(filterPartial(V[0].partialBody)||"(no content)")+"")&&set_data(z,M),(!H||Y&1)&&j!==(j=dayjs(V[0].timestamp).format("DD-MM HH:mm")+"")&&set_data(W,j),(!H||Y&9)&&toggle_class(k,"selected",V[3]==V[0].id)},i(V){H||(transition_in($.$$.fragment,V),H=!0)},o(V){transition_out($.$$.fragment,V),H=!1},d(V){V&&detach(k),destroy_component($),G&&G.d(),Q=!1,K()}}}function instance$1L(T,k,$){let x;component_subscribe(T,selectedMessageId,P=>$(3,x=P));let{item:I}=k,L=!1,E="";onMount(F),messageSubscribe(F);function D(){set_store_value(selectedMessageId,x=I.id,x)}async function F(){$(2,E=await getUserPfp(L?I.receiver:I.sender))}return messagingPage.subscribe(P=>{$(1,L=P.name=="Sent")}),T.$$set=P=>{"item"in P&&$(0,I=P.item)},[I,L,E,x,D]}class MessageItem extends SvelteComponent{constructor(k){super(),init(this,k,instance$1L,create_fragment$1W,safe_not_equal,{item:0})}}function get_each_context$u(T,k,$){const x=T.slice();return x[5]=k[$],x}function create_if_block$Q(T){let k,$,x=T[2].name+"",I,L,E,D,F,P,U,M,z,N,q=ensure_array_like(T[0]),j=[];for(let Q=0;Q<q.length;Q+=1)j[Q]=create_each_block$u(get_each_context$u(T,q,Q));const W=Q=>transition_out(j[Q],1,1,()=>{j[Q]=null});let H=!T[0].length&&create_if_block_1$e(T);return{c(){k=element("div"),$=element("p"),I=text(x),L=space(),E=element("button"),D=text("sync"),F=space(),P=element("div");for(let Q=0;Q<j.length;Q+=1)j[Q].c();U=space(),H&&H.c(),attr($,"class","title"),attr(E,"class","material-icons-round refresh"),E.disabled=T[1],attr(k,"class","header"),attr(P,"class","list")},m(Q,K){insert(Q,k,K),append(k,$),append($,I),append(k,L),append(k,E),append(E,D),insert(Q,F,K),insert(Q,P,K);for(let G=0;G<j.length;G+=1)j[G]&&j[G].m(P,null);append(P,U),H&&H.m(P,null),M=!0,z||(N=listen(E,"click",T[3]),z=!0)},p(Q,K){if((!M||K&4)&&x!==(x=Q[2].name+"")&&set_data(I,x),(!M||K&2)&&(E.disabled=Q[1]),K&1){q=ensure_array_like(Q[0]);let G;for(G=0;G<q.length;G+=1){const V=get_each_context$u(Q,q,G);j[G]?(j[G].p(V,K),transition_in(j[G],1)):(j[G]=create_each_block$u(V),j[G].c(),transition_in(j[G],1),j[G].m(P,U))}for(group_outros(),G=q.length;G<j.length;G+=1)W(G);check_outros()}Q[0].length?H&&(H.d(1),H=null):H?H.p(Q,K):(H=create_if_block_1$e(Q),H.c(),H.m(P,null))},i(Q){if(!M){for(let K=0;K<q.length;K+=1)transition_in(j[K]);M=!0}},o(Q){j=j.filter(Boolean);for(let K=0;K<j.length;K+=1)transition_out(j[K]);M=!1},d(Q){Q&&(detach(k),detach(F),detach(P)),destroy_each(j,Q),H&&H.d(),z=!1,N()}}}function create_each_block$u(T){let k,$;return k=new MessageItem({props:{item:T[5]}}),{c(){create_component(k.$$.fragment)},m(x,I){mount_component(k,x,I),$=!0},p(x,I){const L={};I&1&&(L.item=x[5]),k.$set(L)},i(x){$||(transition_in(k.$$.fragment,x),$=!0)},o(x){transition_out(k.$$.fragment,x),$=!1},d(x){destroy_component(k,x)}}}function create_if_block_1$e(T){let k,$=T[1]?"Loading...":"No messages!",x;return{c(){k=element("div"),x=text($),attr(k,"class","noitems")},m(I,L){insert(I,k,L),append(k,x)},p(I,L){L&2&&$!==($=I[1]?"Loading...":"No messages!")&&set_data(x,$)},d(I){I&&detach(k)}}}function create_fragment$1V(T){let k,$,x=T[2]&&create_if_block$Q(T);return{c(){k=element("div"),x&&x.c(),attr(k,"class","listbar")},m(I,L){insert(I,k,L),x&&x.m(k,null),$=!0},p(I,[L]){I[2]?x?(x.p(I,L),L&4&&transition_in(x,1)):(x=create_if_block$Q(I),x.c(),transition_in(x,1),x.m(k,null)):x&&(group_outros(),transition_out(x,1,1,()=>{x=null}),check_outros())},i(I){$||(transition_in(x),$=!0)},o(I){transition_out(x),$=!1},d(I){I&&detach(k),x&&x.d()}}}function sort(T){return T.sort(function(k,$){return new Date($.timestamp).getTime()-new Date(k.timestamp).getTime()})}function isSame(T,k){if(T.length!=k.length)return!1;for(let $=0;$<k.length;$++){let x=!1;for(let I=0;I<T.length;I++)T[I].id==k[$].id&&(x=!0);if(!x)return!1}return!0}function instance$1K(T,k,$){let x;component_subscribe(T,messagingPage,F=>$(2,x=F));let I=[],L=!1;onMount(()=>{messageUpdateTrigger()}),messageSubscribe(E);async function E(){if($(1,L=!0),Busy.set(!0),!x)return;const F=await x.msgGetter();isSame(I,F)||D(sort(F)),$(1,L=!1),Busy.set(!1)}function D(F){$(0,I=[]),setTimeout(()=>{$(0,I=F)})}return[I,L,x,E]}class ListBar extends SvelteComponent{constructor(k){super(),init(this,k,instance$1K,create_fragment$1V,safe_not_equal,{})}}async function sendMessage(T,k){const $=get_store_value(ConnectedServer);return $?(await apiCall($,"messages/send",{target:btoa(T)},get_store_value(UserToken),null,k)).data.id:!1}async function replyToMessage(T,k,$){const x=get_store_value(ConnectedServer);return x?!await apiCall(x,"messages/reply",{target:btoa(k),id:T},get_store_value(UserToken),null,$):!1}function create_fragment$1U(T){let k,$,x,I;return{c(){k=element("button"),$=text("Delete"),k.disabled=T[0]},m(L,E){insert(L,k,E),append(k,$),x||(I=listen(k,"click",T[1]),x=!0)},p(L,[E]){E&1&&(k.disabled=L[0])},i:noop$1,o:noop$1,d(L){L&&detach(k),x=!1,I()}}}function instance$1J(T,k,$){let{loading:x}=k;function I(){$(0,x=!0),createOverlayableError({title:"Delete message?",message:"Are you sure you want to delete this draft? This cannot be undone.",image:bugRepIcon,buttons:[{caption:"Delete",action:()=>{creatingMessage.set(!1),messageUpdateTrigger(),$(0,x=!1)}},{caption:"Cancel",action:()=>{$(0,x=!1)}}]},"MessagingApp")}return T.$$set=L=>{"loading"in L&&$(0,x=L.loading)},[x,I]}class Cancel extends SvelteComponent{constructor(k){super(),init(this,k,instance$1J,create_fragment$1U,safe_not_equal,{loading:0})}}function create_if_block$P(T){let k,$=2e3-T[1].length+"",x;return{c(){k=element("div"),x=text($),attr(k,"class","counter"),toggle_class(k,"critical",T[1].length>1980)},m(I,L){insert(I,k,L),append(k,x)},p(I,L){L&2&&$!==($=2e3-I[1].length+"")&&set_data(x,$),L&2&&toggle_class(k,"critical",I[1].length>1980)},d(I){I&&detach(k)}}}function create_fragment$1T(T){let k,$,x,I,L,E,D,F,P,U,M,z,N=T[3]?"Loading...":T[4]?"Reply":"Send",q,j,W,H,Q,K=T[1].length>1950&&create_if_block$P(T);function G(Y){T[8](Y)}let V={};return T[3]!==void 0&&(V.loading=T[3]),P=new Cancel({props:V}),binding_callbacks.push(()=>bind$1(P,"loading",G)),{c(){k=element("div"),$=element("div"),x=element("button"),x.textContent="remove_red_eye",I=space(),L=element("button"),L.textContent="edit",E=space(),K&&K.c(),D=space(),F=element("div"),create_component(P.$$.fragment),M=space(),z=element("button"),q=text(N),attr(x,"class","material-icons-round"),toggle_class(x,"selected",T[0]),attr(L,"class","material-icons-round"),toggle_class(L,"selected",!T[0]),attr($,"class","view-group"),z.disabled=j=!T[1]||!T[2]||T[3],attr(F,"class","right"),attr(k,"class","editor-send")},m(Y,J){insert(Y,k,J),append(k,$),append($,x),append($,I),append($,L),append(k,E),K&&K.m(k,null),append(k,D),append(k,F),mount_component(P,F,null),append(F,M),append(F,z),append(z,q),W=!0,H||(Q=[listen(x,"click",T[7]),listen(L,"click",T[6]),listen(z,"click",T[5])],H=!0)},p(Y,[J]){(!W||J&1)&&toggle_class(x,"selected",Y[0]),(!W||J&1)&&toggle_class(L,"selected",!Y[0]),Y[1].length>1950?K?K.p(Y,J):(K=create_if_block$P(Y),K.c(),K.m(k,D)):K&&(K.d(1),K=null);const X={};!U&&J&8&&(U=!0,X.loading=Y[3],add_flush_callback(()=>U=!1)),P.$set(X),(!W||J&24)&&N!==(N=Y[3]?"Loading...":Y[4]?"Reply":"Send")&&set_data(q,N),(!W||J&14&&j!==(j=!Y[1]||!Y[2]||Y[3]))&&(z.disabled=j)},i(Y){W||(transition_in(P.$$.fragment,Y),W=!0)},o(Y){transition_out(P.$$.fragment,Y),W=!1},d(Y){Y&&detach(k),K&&K.d(),destroy_component(P),H=!1,run_all(Q)}}}function instance$1I(T,k,$){let x;component_subscribe(T,replyMessageId,z=>$(4,x=z));let{content:I}=k,{target:L}=k,{viewing:E}=k,D=!1;async function F(){if(Busy.set(!0),$(3,D=!0),x)await replyToMessage(x,L,I);else{const z=await sendMessage(L,I);setTimeout(()=>{selectedMessageId.set(z)},50)}creatingMessage.set(!1),messageUpdateTrigger(),$(3,D=!1),Busy.set(!1)}function P(){$(0,E=!1)}function U(){$(0,E=!0)}function M(z){D=z,$(3,D)}return T.$$set=z=>{"content"in z&&$(1,I=z.content),"target"in z&&$(2,L=z.target),"viewing"in z&&$(0,E=z.viewing)},[E,I,L,D,x,F,P,U,M]}class Bottom extends SvelteComponent{constructor(k){super(),init(this,k,instance$1I,create_fragment$1T,safe_not_equal,{content:1,target:2,viewing:0})}}function create_fragment$1S(T){let k,$,x,I,L=(T[0][0]||"<unknown>")+"",E,D,F,P;return $=new ProfilePicture$1({props:{src:T[1]||def$1,height:24}}),{c(){k=element("button"),create_component($.$$.fragment),x=space(),I=element("p"),E=text(L),attr(k,"class","user")},m(U,M){insert(U,k,M),mount_component($,k,null),append(k,x),append(k,I),append(I,E),D=!0,F||(P=listen(k,"click",T[2]),F=!0)},p(U,[M]){const z={};M&2&&(z.src=U[1]||def$1),$.$set(z),(!D||M&1)&&L!==(L=(U[0][0]||"<unknown>")+"")&&set_data(E,L)},i(U){D||(transition_in($.$$.fragment,U),D=!0)},o(U){transition_out($.$$.fragment,U),D=!1},d(U){U&&detach(k),destroy_component($),F=!1,P()}}}function instance$1H(T,k,$){let{selecting:x}=k,{target:I}=k,{entry:L}=k,{pfp:E}=k,D;onMount(async()=>{$(1,D=await getUserPfp(L[0]))});function F(){$(3,x=!1),$(4,I=L[0]),$(5,E=D)}return T.$$set=P=>{"selecting"in P&&$(3,x=P.selecting),"target"in P&&$(4,I=P.target),"entry"in P&&$(0,L=P.entry),"pfp"in P&&$(5,E=P.pfp)},[L,D,F,x,I,E]}class User extends SvelteComponent{constructor(k){super(),init(this,k,instance$1H,create_fragment$1S,safe_not_equal,{selecting:3,target:4,entry:0,pfp:5})}}function get_each_context$t(T,k,$){const x=T.slice();return x[10]=k[$],x}function create_each_block$t(T){let k,$,x,I,L;function E(U){T[6](U)}function D(U){T[7](U)}function F(U){T[8](U)}let P={entry:T[10]};return T[0]!==void 0&&(P.target=T[0]),T[3]!==void 0&&(P.selecting=T[3]),T[2]!==void 0&&(P.pfp=T[2]),k=new User({props:P}),binding_callbacks.push(()=>bind$1(k,"target",E)),binding_callbacks.push(()=>bind$1(k,"selecting",D)),binding_callbacks.push(()=>bind$1(k,"pfp",F)),{c(){create_component(k.$$.fragment)},m(U,M){mount_component(k,U,M),L=!0},p(U,M){const z={};M&2&&(z.entry=U[10]),!$&&M&1&&($=!0,z.target=U[0],add_flush_callback(()=>$=!1)),!x&&M&8&&(x=!0,z.selecting=U[3],add_flush_callback(()=>x=!1)),!I&&M&4&&(I=!0,z.pfp=U[2],add_flush_callback(()=>I=!1)),k.$set(z)},i(U){L||(transition_in(k.$$.fragment,U),L=!0)},o(U){transition_out(k.$$.fragment,U),L=!1},d(U){destroy_component(k,U)}}}function create_fragment$1R(T){let k,$,x,I,L,E,D,F=T[4]?"Reply":"Send",P,U,M,z,N=(T[4]?`#${T[4]} (${T[0]})`:T[0]||"Please select")+"",q,j,W,H,Q,K;I=new ProfilePicture$1({props:{src:T[2]||def$1,height:32}});let G=ensure_array_like(T[1]),V=[];for(let J=0;J<G.length;J+=1)V[J]=create_each_block$t(get_each_context$t(T,G,J));const Y=J=>transition_out(V[J],1,1,()=>{V[J]=null});return{c(){k=element("div"),$=element("div"),x=element("div"),create_component(I.$$.fragment),L=space(),E=element("div"),D=element("p"),P=text(F),U=text(" to:"),M=space(),z=element("p"),q=text(N),j=space(),W=element("div");for(let J=0;J<V.length;J+=1)V[J].c();attr(D,"class","header"),attr(x,"class","current"),attr($,"class","target-selector"),attr(W,"class","target-options"),toggle_class(W,"visible",T[3]),attr(k,"class","target-wrapper")},m(J,X){insert(J,k,X),append(k,$),append($,x),mount_component(I,x,null),append(x,L),append(x,E),append(E,D),append(D,P),append(D,U),append(E,M),append(E,z),append(z,q),append(k,j),append(k,W);for(let Z=0;Z<V.length;Z+=1)V[Z]&&V[Z].m(W,null);H=!0,Q||(K=listen($,"click",T[5]),Q=!0)},p(J,[X]){const Z={};if(X&4&&(Z.src=J[2]||def$1),I.$set(Z),(!H||X&16)&&F!==(F=J[4]?"Reply":"Send")&&set_data(P,F),(!H||X&17)&&N!==(N=(J[4]?`#${J[4]} (${J[0]})`:J[0]||"Please select")+"")&&set_data(q,N),X&15){G=ensure_array_like(J[1]);let ee;for(ee=0;ee<G.length;ee+=1){const re=get_each_context$t(J,G,ee);V[ee]?(V[ee].p(re,X),transition_in(V[ee],1)):(V[ee]=create_each_block$t(re),V[ee].c(),transition_in(V[ee],1),V[ee].m(W,null))}for(group_outros(),ee=G.length;ee<V.length;ee+=1)Y(ee);check_outros()}(!H||X&8)&&toggle_class(W,"visible",J[3])},i(J){if(!H){transition_in(I.$$.fragment,J);for(let X=0;X<G.length;X+=1)transition_in(V[X]);H=!0}},o(J){transition_out(I.$$.fragment,J),V=V.filter(Boolean);for(let X=0;X<V.length;X+=1)transition_out(V[X]);H=!1},d(J){J&&detach(k),destroy_component(I),destroy_each(V,J),Q=!1,K()}}}function instance$1G(T,k,$){let x;component_subscribe(T,replyMessageId,N=>$(4,x=N));let{users:I}=k,{target:L}=k,E="",D=!1;async function F(){$(2,E=await getUserPfp(L))}function P(){if(x)return $(3,D=!1);$(3,D=!D)}replyMessageId.subscribe(()=>setTimeout(F,500));function U(N){L=N,$(0,L)}function M(N){D=N,$(3,D)}function z(N){E=N,$(2,E)}return T.$$set=N=>{"users"in N&&$(1,I=N.users),"target"in N&&$(0,L=N.target)},[L,I,E,D,x,P,U,M,z]}class TargetSelector extends SvelteComponent{constructor(k){super(),init(this,k,instance$1G,create_fragment$1R,safe_not_equal,{users:1,target:0})}}function create_else_block$d(T){let k,$,x;return $=new SvelteMarkdown({props:{source:T[2]}}),{c(){k=element("div"),create_component($.$$.fragment),attr(k,"class","markdownrenderer")},m(I,L){insert(I,k,L),mount_component($,k,null),x=!0},p(I,L){const E={};L&4&&(E.source=I[2]),$.$set(E)},i(I){x||(transition_in($.$$.fragment,I),x=!0)},o(I){transition_out($.$$.fragment,I),x=!1},d(I){I&&detach(k),destroy_component($)}}}function create_if_block$O(T){let k,$,x;return{c(){k=element("textarea"),attr(k,"placeholder","New message"),attr(k,"maxlength","2000")},m(I,L){insert(I,k,L),set_input_value(k,T[2]),$||(x=listen(k,"input",T[5]),$=!0)},p(I,L){L&4&&set_input_value(k,I[2])},i:noop$1,o:noop$1,d(I){I&&detach(k),$=!1,x()}}}function create_fragment$1Q(T){let k,$,x,I,L,E,D,F,P,U;function M(Q){T[4](Q)}let z={users:T[0]};T[1]!==void 0&&(z.target=T[1]),$=new TargetSelector({props:z}),binding_callbacks.push(()=>bind$1($,"target",M));const N=[create_if_block$O,create_else_block$d],q=[];function j(Q,K){return Q[3]?1:0}L=j(T),E=q[L]=N[L](T);function W(Q){T[6](Q)}let H={target:T[1],content:T[2]};return T[3]!==void 0&&(H.viewing=T[3]),F=new Bottom({props:H}),binding_callbacks.push(()=>bind$1(F,"viewing",W)),{c(){k=element("div"),create_component($.$$.fragment),I=space(),E.c(),D=space(),create_component(F.$$.fragment),attr(k,"class","editor")},m(Q,K){insert(Q,k,K),mount_component($,k,null),insert(Q,I,K),q[L].m(Q,K),insert(Q,D,K),mount_component(F,Q,K),U=!0},p(Q,[K]){const G={};K&1&&(G.users=Q[0]),!x&&K&2&&(x=!0,G.target=Q[1],add_flush_callback(()=>x=!1)),$.$set(G);let V=L;L=j(Q),L===V?q[L].p(Q,K):(group_outros(),transition_out(q[V],1,1,()=>{q[V]=null}),check_outros(),E=q[L],E?E.p(Q,K):(E=q[L]=N[L](Q),E.c()),transition_in(E,1),E.m(D.parentNode,D));const Y={};K&2&&(Y.target=Q[1]),K&4&&(Y.content=Q[2]),!P&&K&8&&(P=!0,Y.viewing=Q[3],add_flush_callback(()=>P=!1)),F.$set(Y)},i(Q){U||(transition_in($.$$.fragment,Q),transition_in(E),transition_in(F.$$.fragment,Q),U=!0)},o(Q){transition_out($.$$.fragment,Q),transition_out(E),transition_out(F.$$.fragment,Q),U=!1},d(Q){Q&&(detach(k),detach(I),detach(D)),destroy_component($),q[L].d(Q),destroy_component(F,Q)}}}function instance$1F(T,k,$){let x=[],I="",L="",E=!1;onMount(async()=>{$(0,x=Object.entries(await getUsers()))}),replyMessageId.subscribe(async U=>{if(!U)return;const M=await getMessage(U);M&&$(1,I=M.sender)});function D(U){I=U,$(1,I)}function F(){L=this.value,$(2,L)}function P(U){E=U,$(3,E)}return[x,I,L,E,D,F,P]}class Editor extends SvelteComponent{constructor(k){super(),init(this,k,instance$1F,create_fragment$1Q,safe_not_equal,{})}}function create_fragment$1P(T){let k,$,x,I,L,E,D,F,P,U,M,z,N,q;return{c(){k=element("div"),$=element("div"),x=element("img"),L=space(),E=element("p"),E.textContent="No content.",D=space(),F=element("p"),F.textContent="Please select a message or create a new one.",P=space(),U=element("br"),M=space(),z=element("button"),z.textContent="New Message",src_url_equal(x.src,I=logo$1)||attr(x,"src",I),attr(x,"alt","Messaging"),attr(E,"class","header"),attr($,"class","no-content"),attr(k,"class","no-content-wrapper")},m(j,W){insert(j,k,W),append(k,$),append($,x),append($,L),append($,E),append($,D),append($,F),append($,P),append($,U),append($,M),append($,z),N||(q=listen(z,"click",T[0]),N=!0)},p:noop$1,i:noop$1,o:noop$1,d(j){j&&detach(k),N=!1,q()}}}function instance$1E(T,k,$){let x;component_subscribe(T,creatingMessage,L=>$(1,x=L));function I(){set_store_value(creatingMessage,x=!0,x)}return[I]}class NoContent extends SvelteComponent{constructor(k){super(),init(this,k,instance$1E,create_fragment$1P,safe_not_equal,{})}}const content="";function get_each_context$s(T,k,$){const x=T.slice();return x[4]=k[$],x}function create_if_block$N(T){let k,$,x;return{c(){k=element("button"),$=element("img"),src_url_equal($.src,x=bugRepIcon)||attr($,"src",x),attr($,"alt",""),attr(k,"class","material-icons-round"),attr(k,"title","Receiver no longer exists")},m(I,L){insert(I,k,L),append(k,$)},p:noop$1,d(I){I&&detach(k)}}}function create_each_block$s(T){let k,$=T[4].icon+"",x,I,L;function E(){return T[3](T[4])}return{c(){k=element("button"),x=text($),attr(k,"class","material-icons-round"),attr(k,"title",T[4].name)},m(D,F){insert(D,k,F),append(k,x),I||(L=listen(k,"click",E),I=!0)},p(D,F){T=D},d(D){D&&detach(k),I=!1,L()}}}function create_fragment$1O(T){let k,$,x,I,L,E=T[0].sender+"",D,F,P,U=T[2](T[0].timestamp)+"",M,z,N,q=T[0].receiver.startsWith("deleted#"),j,W;$=new ProfilePicture$1({props:{height:32,src:T[1]}});let H=q&&create_if_block$N(),Q=ensure_array_like(messageItemActions),K=[];for(let G=0;G<Q.length;G+=1)K[G]=create_each_block$s(get_each_context$s(T,Q,G));return{c(){k=element("div"),create_component($.$$.fragment),x=space(),I=element("div"),L=element("p"),D=text(E),F=space(),P=element("p"),M=text(U),z=space(),N=element("div"),H&&H.c(),j=space();for(let G=0;G<K.length;G+=1)K[G].c();attr(L,"class","name"),attr(P,"class","id"),attr(I,"class","context"),attr(N,"class","actions"),attr(k,"class","message-header")},m(G,V){insert(G,k,V),mount_component($,k,null),append(k,x),append(k,I),append(I,L),append(L,D),append(I,F),append(I,P),append(P,M),append(k,z),append(k,N),H&&H.m(N,null),append(N,j);for(let Y=0;Y<K.length;Y+=1)K[Y]&&K[Y].m(N,null);W=!0},p(G,[V]){const Y={};if(V&2&&(Y.src=G[1]),$.$set(Y),(!W||V&1)&&E!==(E=G[0].sender+"")&&set_data(D,E),(!W||V&1)&&U!==(U=G[2](G[0].timestamp)+"")&&set_data(M,U),V&1&&(q=G[0].receiver.startsWith("deleted#")),q?H?H.p(G,V):(H=create_if_block$N(),H.c(),H.m(N,j)):H&&(H.d(1),H=null),V&1){Q=ensure_array_like(messageItemActions);let J;for(J=0;J<Q.length;J+=1){const X=get_each_context$s(G,Q,J);K[J]?K[J].p(X,V):(K[J]=create_each_block$s(X),K[J].c(),K[J].m(N,null))}for(;J<K.length;J+=1)K[J].d(1);K.length=Q.length}},i(G){W||(transition_in($.$$.fragment,G),W=!0)},o(G){transition_out($.$$.fragment,G),W=!1},d(G){G&&detach(k),destroy_component($),H&&H.d(),destroy_each(K,G)}}}function instance$1D(T,k,$){let{message:x}=k,I="";onMount(async()=>{$(1,I=await getUserPfp(x.sender))}),messageSubscribe(async()=>{$(1,I=await getUserPfp(x.sender))});function L(D){return dayjs(D).format("DD MMM, HH:mm")}const E=D=>D.action(x);return T.$$set=D=>{"message"in D&&$(0,x=D.message)},[x,I,L,E]}class Header extends SvelteComponent{constructor(k){super(),init(this,k,instance$1D,create_fragment$1O,safe_not_equal,{message:0})}}async function getPartialTree(T){const k=get_store_value(ConnectedServer);return k?(await apiCall(k,"messages/thread",{id:btoa(T)},get_store_value(UserToken))).data:!1}async function getParentMessage(T){const k=await getMessages();let $;for(let I=0;I<k.length;I++)k[I].id==T&&($=k[I].replyingTo);if(!$)return;const x=await getMessage($);return x.replyingTo?await getParentMessage($):x}function create_if_block$M(T){let k,$,x,I,L,E=T[1]?"Loading...":"View Thread",D,F,P;return{c(){k=element("div"),$=element("p"),$.textContent="Message is part of a thread.",x=space(),I=element("div"),L=element("button"),D=text(E),attr($,"class","caption"),L.disabled=T[1],attr(I,"class","right"),attr(k,"class","reply-wrapper")},m(U,M){insert(U,k,M),append(k,$),append(k,x),append(k,I),append(I,L),append(L,D),F||(P=listen(L,"click",T[2]),F=!0)},p(U,M){M&2&&E!==(E=U[1]?"Loading...":"View Thread")&&set_data(D,E),M&2&&(L.disabled=U[1])},d(U){U&&detach(k),F=!1,P()}}}function create_fragment$1N(T){let k,$=(T[0].replyingTo||T[0].replies.length)&&create_if_block$M(T);return{c(){$&&$.c(),k=empty()},m(x,I){$&&$.m(x,I),insert(x,k,I)},p(x,[I]){x[0].replyingTo||x[0].replies.length?$?$.p(x,I):($=create_if_block$M(x),$.c(),$.m(k.parentNode,k)):$&&($.d(1),$=null)},i:noop$1,o:noop$1,d(x){x&&detach(k),$&&$.d(x)}}}function instance$1C(T,k,$){let{message:x}=k,I=!1;async function L(){$(1,I=!0);const E=x.replies&&!x.replyingTo?x.id:(await getParentMessage(x.id)).id;threadMessageId.set(null),threadMessageId.set(E),showOverlay("thread","MessagingApp"),$(1,I=!1)}return T.$$set=E=>{"message"in E&&$(0,x=E.message)},[x,I,L]}class ThreadNote extends SvelteComponent{constructor(k){super(),init(this,k,instance$1C,create_fragment$1N,safe_not_equal,{message:0})}}function create_fragment$1M(T){let k,$,x,I,L,E,D;return k=new Header({props:{message:T[0]}}),I=new SvelteMarkdown({props:{source:T[0].body}}),E=new ThreadNote({props:{message:T[0]}}),{c(){create_component(k.$$.fragment),$=space(),x=element("div"),create_component(I.$$.fragment),L=space(),create_component(E.$$.fragment),attr(x,"class","markdownrenderer")},m(F,P){mount_component(k,F,P),insert(F,$,P),insert(F,x,P),mount_component(I,x,null),insert(F,L,P),mount_component(E,F,P),D=!0},p(F,[P]){const U={};P&1&&(U.message=F[0]),k.$set(U);const M={};P&1&&(M.source=F[0].body),I.$set(M);const z={};P&1&&(z.message=F[0]),E.$set(z)},i(F){D||(transition_in(k.$$.fragment,F),transition_in(I.$$.fragment,F),transition_in(E.$$.fragment,F),D=!0)},o(F){transition_out(k.$$.fragment,F),transition_out(I.$$.fragment,F),transition_out(E.$$.fragment,F),D=!1},d(F){F&&(detach($),detach(x),detach(L)),destroy_component(k,F),destroy_component(I),destroy_component(E,F)}}}function instance$1B(T,k,$){let{message:x}=k;return T.$$set=I=>{"message"in I&&$(0,x=I.message)},[x]}class Viewer extends SvelteComponent{constructor(k){super(),init(this,k,instance$1B,create_fragment$1M,safe_not_equal,{message:0})}}function create_else_block$c(T){let k,$;return k=new NoContent({}),{c(){create_component(k.$$.fragment)},m(x,I){mount_component(k,x,I),$=!0},p:noop$1,i(x){$||(transition_in(k.$$.fragment,x),$=!0)},o(x){transition_out(k.$$.fragment,x),$=!1},d(x){destroy_component(k,x)}}}function create_if_block_1$d(T){let k,$;return k=new Editor({}),{c(){create_component(k.$$.fragment)},m(x,I){mount_component(k,x,I),$=!0},p:noop$1,i(x){$||(transition_in(k.$$.fragment,x),$=!0)},o(x){transition_out(k.$$.fragment,x),$=!1},d(x){destroy_component(k,x)}}}function create_if_block$L(T){let k,$;return k=new Viewer({props:{message:T[0]}}),{c(){create_component(k.$$.fragment)},m(x,I){mount_component(k,x,I),$=!0},p(x,I){const L={};I&1&&(L.message=x[0]),k.$set(L)},i(x){$||(transition_in(k.$$.fragment,x),$=!0)},o(x){transition_out(k.$$.fragment,x),$=!1},d(x){destroy_component(k,x)}}}function create_fragment$1L(T){let k,$,x,I;const L=[create_if_block$L,create_if_block_1$d,create_else_block$c],E=[];function D(F,P){return F[0]&&!F[1]?0:F[1]?1:2}return $=D(T),x=E[$]=L[$](T),{c(){k=element("div"),x.c(),attr(k,"class","content")},m(F,P){insert(F,k,P),E[$].m(k,null),I=!0},p(F,[P]){let U=$;$=D(F),$===U?E[$].p(F,P):(group_outros(),transition_out(E[U],1,1,()=>{E[U]=null}),check_outros(),x=E[$],x?x.p(F,P):(x=E[$]=L[$](F),x.c()),transition_in(x,1),x.m(k,null))},i(F){I||(transition_in(x),I=!0)},o(F){transition_out(x),I=!1},d(F){F&&detach(k),E[$].d()}}}function instance$1A(T,k,$){let x;component_subscribe(T,creatingMessage,L=>$(1,x=L));let I;return selectedMessageId.subscribe(async L=>{if(!L)return $(0,I=null);const E=await getMessage(L);if(!E)return createOverlayableError({title:"Can't open message",message:`No message with ID ${L} could be found on ArcAPI.`,buttons:[{caption:"OK",action(){}}],image:logo$1},"MessagingApp");$(0,I=null),setTimeout(()=>{$(0,I=E)})}),[I,x]}let Content$2=class extends SvelteComponent{constructor(k){super(),init(this,k,instance$1A,create_fragment$1L,safe_not_equal,{})}};function create_if_block$K(T){let k,$,x,I;return k=new ListBar({}),x=new Content$2({}),{c(){create_component(k.$$.fragment),$=space(),create_component(x.$$.fragment)},m(L,E){mount_component(k,L,E),insert(L,$,E),mount_component(x,L,E),I=!0},i(L){I||(transition_in(k.$$.fragment,L),transition_in(x.$$.fragment,L),I=!0)},o(L){transition_out(k.$$.fragment,L),transition_out(x.$$.fragment,L),I=!1},d(L){L&&detach($),destroy_component(k,L),destroy_component(x,L)}}}function create_fragment$1K(T){let k,$,x,I;k=new SideBar({});let L=T[0]&&create_if_block$K();return{c(){create_component(k.$$.fragment),$=space(),L&&L.c(),x=empty()},m(E,D){mount_component(k,E,D),insert(E,$,D),L&&L.m(E,D),insert(E,x,D),I=!0},p(E,[D]){E[0]?L?D&1&&transition_in(L,1):(L=create_if_block$K(),L.c(),transition_in(L,1),L.m(x.parentNode,x)):L&&(group_outros(),transition_out(L,1,1,()=>{L=null}),check_outros())},i(E){I||(transition_in(k.$$.fragment,E),transition_in(L),I=!0)},o(E){transition_out(k.$$.fragment,E),transition_out(L),I=!1},d(E){E&&(detach($),detach(x)),destroy_component(k,E),L&&L.d(E)}}}function instance$1z(T,k,$){let x;return component_subscribe(T,messagingPage,I=>$(0,x=I)),onMount(()=>{set_store_value(messagingPage,x=MessagingPages.inbox,x)}),[x]}let MessagingApp$1=class extends SvelteComponent{constructor(k){super(),init(this,k,instance$1z,create_fragment$1K,safe_not_equal,{})}};const thread="";function get_each_context$r(T,k,$){const x=T.slice();return x[1]=k[$],x}function create_if_block$J(T){let k,$,x=ensure_array_like(T[0]),I=[];for(let E=0;E<x.length;E+=1)I[E]=create_each_block$r(get_each_context$r(T,x,E));const L=E=>transition_out(I[E],1,1,()=>{I[E]=null});return{c(){for(let E=0;E<I.length;E+=1)I[E].c();k=empty()},m(E,D){for(let F=0;F<I.length;F+=1)I[F]&&I[F].m(E,D);insert(E,k,D),$=!0},p(E,D){if(D&1){x=ensure_array_like(E[0]);let F;for(F=0;F<x.length;F+=1){const P=get_each_context$r(E,x,F);I[F]?(I[F].p(P,D),transition_in(I[F],1)):(I[F]=create_each_block$r(P),I[F].c(),transition_in(I[F],1),I[F].m(k.parentNode,k))}for(group_outros(),F=x.length;F<I.length;F+=1)L(F);check_outros()}},i(E){if(!$){for(let D=0;D<x.length;D+=1)transition_in(I[D]);$=!0}},o(E){I=I.filter(Boolean);for(let D=0;D<I.length;D+=1)transition_out(I[D]);$=!1},d(E){E&&detach(k),destroy_each(I,E)}}}function create_each_block$r(T){let k,$;return k=new Item$2({props:{item:T[1]}}),{c(){create_component(k.$$.fragment)},m(x,I){mount_component(k,x,I),$=!0},p(x,I){const L={};I&1&&(L.item=x[1]),k.$set(L)},i(x){$||(transition_in(k.$$.fragment,x),$=!0)},o(x){transition_out(k.$$.fragment,x),$=!1},d(x){destroy_component(k,x)}}}function create_fragment$1J(T){let k,$,x=T[0]&&create_if_block$J(T);return{c(){k=element("div"),x&&x.c(),attr(k,"class","branch")},m(I,L){insert(I,k,L),x&&x.m(k,null),$=!0},p(I,[L]){I[0]?x?(x.p(I,L),L&1&&transition_in(x,1)):(x=create_if_block$J(I),x.c(),transition_in(x,1),x.m(k,null)):x&&(group_outros(),transition_out(x,1,1,()=>{x=null}),check_outros())},i(I){$||(transition_in(x),$=!0)},o(I){transition_out(x),$=!1},d(I){I&&detach(k),x&&x.d()}}}function instance$1y(T,k,$){let{items:x=[]}=k;return T.$$set=I=>{"items"in I&&$(0,x=I.items)},[x]}class Branch extends SvelteComponent{constructor(k){super(),init(this,k,instance$1y,create_fragment$1J,safe_not_equal,{items:0})}}function create_if_block$I(T){let k,$,x,I,L,E=T[0].sender+"",D,F,P,U=T[0].partialBody+"",M,z=T[0].partialBody.length>29?"...":"",N,q,j,W=T[0].id+"",H,Q,K,G,V,Y;$=new ProfilePicture$1({props:{src:T[1],height:32}});let J=T[0].replies&&create_if_block_1$c(T);return{c(){k=element("button"),create_component($.$$.fragment),x=space(),I=element("div"),L=element("p"),D=text(E),F=space(),P=element("p"),M=text(U),N=text(z),q=space(),j=element("div"),H=text(W),Q=space(),J&&J.c(),K=empty(),attr(L,"class","name"),attr(P,"class","partial"),attr(I,"class","context"),attr(j,"class","id"),attr(k,"class","item")},m(X,Z){insert(X,k,Z),mount_component($,k,null),append(k,x),append(k,I),append(I,L),append(L,D),append(I,F),append(I,P),append(P,M),append(P,N),append(k,q),append(k,j),append(j,H),insert(X,Q,Z),J&&J.m(X,Z),insert(X,K,Z),G=!0,V||(Y=listen(k,"click",T[2]),V=!0)},p(X,Z){const ee={};Z&2&&(ee.src=X[1]),$.$set(ee),(!G||Z&1)&&E!==(E=X[0].sender+"")&&set_data(D,E),(!G||Z&1)&&U!==(U=X[0].partialBody+"")&&set_data(M,U),(!G||Z&1)&&z!==(z=X[0].partialBody.length>29?"...":"")&&set_data(N,z),(!G||Z&1)&&W!==(W=X[0].id+"")&&set_data(H,W),X[0].replies?J?(J.p(X,Z),Z&1&&transition_in(J,1)):(J=create_if_block_1$c(X),J.c(),transition_in(J,1),J.m(K.parentNode,K)):J&&(group_outros(),transition_out(J,1,1,()=>{J=null}),check_outros())},i(X){G||(transition_in($.$$.fragment,X),transition_in(J),G=!0)},o(X){transition_out($.$$.fragment,X),transition_out(J),G=!1},d(X){X&&(detach(k),detach(Q),detach(K)),destroy_component($),J&&J.d(X),V=!1,Y()}}}function create_if_block_1$c(T){let k,$;return k=new Branch({props:{items:T[0].replies}}),{c(){create_component(k.$$.fragment)},m(x,I){mount_component(k,x,I),$=!0},p(x,I){const L={};I&1&&(L.items=x[0].replies),k.$set(L)},i(x){$||(transition_in(k.$$.fragment,x),$=!0)},o(x){transition_out(k.$$.fragment,x),$=!1},d(x){destroy_component(k,x)}}}function create_fragment$1I(T){let k,$,x=T[0]&&create_if_block$I(T);return{c(){x&&x.c(),k=empty()},m(I,L){x&&x.m(I,L),insert(I,k,L),$=!0},p(I,[L]){I[0]?x?(x.p(I,L),L&1&&transition_in(x,1)):(x=create_if_block$I(I),x.c(),transition_in(x,1),x.m(k.parentNode,k)):x&&(group_outros(),transition_out(x,1,1,()=>{x=null}),check_outros())},i(I){$||(transition_in(x),$=!0)},o(I){transition_out(x),$=!1},d(I){I&&detach(k),x&&x.d(I)}}}function instance$1x(T,k,$){let x;component_subscribe(T,selectedMessageId,D=>$(3,x=D));let{item:I}=k,L="";onMount(async()=>{$(1,L=await getUserPfp(I.sender))});function E(){set_store_value(selectedMessageId,x=I.id,x),hideOverlay("thread","MessagingApp"),threadMessageId.set(null)}return T.$$set=D=>{"item"in D&&$(0,I=D.item)},[I,L,E]}let Item$2=class extends SvelteComponent{constructor(k){super(),init(this,k,instance$1x,create_fragment$1I,safe_not_equal,{item:0})}};function create_fragment$1H(T){let k,$,x,I,L,E,D,F;return{c(){k=element("div"),$=element("div"),x=element("img"),L=space(),E=element("h3"),E.textContent="Unable to load thread",D=space(),F=element("p"),F.textContent=`The thread could not be found. Please make sure the owner exists and try\r
      again.`,src_url_equal(x.src,I=bugRepIcon)||attr(x,"src",I),attr(x,"alt","Error"),attr(F,"class","caption"),attr($,"class","content"),attr(k,"class","notfound")},m(P,U){insert(P,k,U),append(k,$),append($,x),append($,L),append($,E),append($,D),append($,F)},p:noop$1,i:noop$1,o:noop$1,d(P){P&&detach(k)}}}class NotFound extends SvelteComponent{constructor(k){super(),init(this,k,null,create_fragment$1H,safe_not_equal,{})}}function create_else_block$b(T){let k,$;return k=new NotFound({}),{c(){create_component(k.$$.fragment)},m(x,I){mount_component(k,x,I),$=!0},p:noop$1,i(x){$||(transition_in(k.$$.fragment,x),$=!0)},o(x){transition_out(k.$$.fragment,x),$=!1},d(x){destroy_component(k,x)}}}function create_if_block$H(T){let k,$,x=T[2].id+"",I,L,E,D;return E=new Item$2({props:{item:T[2]}}),{c(){k=element("h3"),$=text("Thread of #"),I=text(x),L=space(),create_component(E.$$.fragment),attr(k,"class","header")},m(F,P){insert(F,k,P),append(k,$),append(k,I),insert(F,L,P),mount_component(E,F,P),D=!0},p(F,P){(!D||P&4)&&x!==(x=F[2].id+"")&&set_data(I,x);const U={};P&4&&(U.item=F[2]),E.$set(U)},i(F){D||(transition_in(E.$$.fragment,F),D=!0)},o(F){transition_out(E.$$.fragment,F),D=!1},d(F){F&&(detach(k),detach(L)),destroy_component(E,F)}}}function create_fragment$1G(T){let k,$,x,I,L,E;k=new CloseButton({props:{app:T[0],id:T[1]}});const D=[create_if_block$H,create_else_block$b],F=[];function P(U,M){return U[3]&&U[2]?0:1}return x=P(T),I=F[x]=D[x](T),{c(){create_component(k.$$.fragment),$=space(),I.c(),L=empty()},m(U,M){mount_component(k,U,M),insert(U,$,M),F[x].m(U,M),insert(U,L,M),E=!0},p(U,[M]){const z={};M&1&&(z.app=U[0]),M&2&&(z.id=U[1]),k.$set(z);let N=x;x=P(U),x===N?F[x].p(U,M):(group_outros(),transition_out(F[N],1,1,()=>{F[N]=null}),check_outros(),I=F[x],I?I.p(U,M):(I=F[x]=D[x](U),I.c()),transition_in(I,1),I.m(L.parentNode,L))},i(U){E||(transition_in(k.$$.fragment,U),transition_in(I),E=!0)},o(U){transition_out(k.$$.fragment,U),transition_out(I),E=!1},d(U){U&&(detach($),detach(L)),destroy_component(k,U),F[x].d(U)}}}function instance$1w(T,k,$){let x;component_subscribe(T,threadMessageId,D=>$(3,x=D));let I,{app:L}=k,{id:E}=k;return threadMessageId.subscribe(async D=>{if(!D)return;$(2,I=null);const F=await getPartialTree(x);F&&$(2,I=F)}),T.$$set=D=>{"app"in D&&$(0,L=D.app),"id"in D&&$(1,E=D.id)},[L,E,I,x]}class Thread extends SvelteComponent{constructor(k){super(),init(this,k,instance$1w,create_fragment$1G,safe_not_equal,{app:0,id:1})}}const overlays={thread:{info:{name:"Thread View",author:"ArcOS Team",version:"1.0.0"},size:{w:550,h:400},show:!1,content:Thread}},MessagingApp={info:{name:"Messaging",description:"Send messages to other ArcOS users",builtin:!0,version:"1.0.7",author:"ArcOS Team",icon:logo$1,appGroup:"communication"},size:{w:700,h:450},pos:{x:100,y:100},minSize:{w:700,h:450},maxSize:{w:1e3,h:600},controls:{min:!0,max:!0,cls:!0},state:{headless:!1,resizable:!0,windowState:{min:!1,max:!1,fll:!1}},overlays,content:MessagingApp$1,glass:!0},SaveNewFile_svelte_svelte_type_style_lang="";function create_fragment$1F(T){let k,$,x,I,L,E,D,F,P,U,M,z,N,q,j,W,H,Q;return{c(){k=element("div"),$=element("img"),I=space(),L=element("div"),E=element("p"),E.textContent="Enter a path to save this file to:",D=space(),F=element("input"),P=space(),U=element("div"),M=element("div"),z=element("button"),N=text("Save"),j=space(),W=element("button"),W.textContent="Cancel",src_url_equal($.src,x=icon)||attr($,"src",x),attr($,"alt","Save File"),attr($,"class","svelte-demxce"),attr(E,"class","caption svelte-demxce"),attr(F,"type","text"),attr(F,"class","svelte-demxce"),attr(L,"class","inner"),attr(k,"class","wrapper svelte-demxce"),z.disabled=q=!T[0],attr(M,"class","inner svelte-demxce"),attr(U,"class","actions svelte-demxce")},m(K,G){insert(K,k,G),append(k,$),append(k,I),append(k,L),append(L,E),append(L,D),append(L,F),set_input_value(F,T[0]),insert(K,P,G),insert(K,U,G),append(U,M),append(M,z),append(z,N),append(M,j),append(M,W),H||(Q=[listen(F,"input",T[3]),listen(z,"click",T[2]),listen(W,"click",T[1])],H=!0)},p(K,[G]){G&1&&F.value!==K[0]&&set_input_value(F,K[0]),G&1&&q!==(q=!K[0])&&(z.disabled=q)},i:noop$1,o:noop$1,d(K){K&&(detach(k),detach(P),detach(U)),H=!1,run_all(Q)}}}function instance$1v(T,k,$){let x="";function I(){hideOverlay("saveNewFile","TextEditor")}async function L(){await saveTextEditorFile(get_store_value(TextEditorContent),{name:null,path:x,data:null,mime:""});const D=x.split("/");await openUserFile({filename:D[D.length-1],mime:"text/plain",scopedPath:x}),I()}function E(){x=this.value,$(0,x)}return[x,I,L,E]}class SaveNewFile extends SvelteComponent{constructor(k){super(),init(this,k,instance$1v,create_fragment$1F,safe_not_equal,{})}}const TextEditor={info:{name:"Text Editor",description:"Edit plain text files",builtin:!0,version:"1.0.0",author:"Izaak Kuipers",hidden:!1,icon:textEditorIcon,appGroup:"utilities"},size:{w:700,h:550},pos:{x:30,y:40,centered:!0},minSize:{w:400,h:300},maxSize:{w:1e3,h:800},controls:{min:!0,max:!0,cls:!0},state:{headless:!1,resizable:!0,windowState:{min:!1,max:!1,fll:!1}},content:TextView,glass:!0,fileMimes:["text/plain"],overlays:{saveNewFile:{info:{name:"Save file",author:"Izaak Kuipers",version:"1.0.1"},size:{w:NaN,h:NaN},show:!1,content:SaveNewFile}}},logo=""+new URL("settings-ad244b09.svg",import.meta.url).href,SettingsApp$2="",currentSettingsPage=writable(null),currentCollapsibleT=writable(null);function setSettingsPage(T){Log("apps/SettingsApp",`Opening settings page '${T.name}'`,LogLevel.info),currentCollapsibleT.set(null),currentSettingsPage.set(T),hotSwapAppIcon(T.icon,"SettingsApp"),setTitleSuffix(` - ${T.name}`,"SettingsApp")}function create_if_block$G(T){let k,$,x;var I=T[2].content;function L(E){return{}}return I&&(k=construct_svelte_component(I,L())),{c(){k&&create_component(k.$$.fragment),$=empty()},m(E,D){k&&mount_component(k,E,D),insert(E,$,D),x=!0},p(E,D){if(D&4&&I!==(I=E[2].content)){if(k){group_outros();const F=k;transition_out(F.$$.fragment,1,0,()=>{destroy_component(F,1)}),check_outros()}I?(k=construct_svelte_component(I,L()),create_component(k.$$.fragment),transition_in(k.$$.fragment,1),mount_component(k,$.parentNode,$)):k=null}},i(E){x||(k&&transition_in(k.$$.fragment,E),x=!0)},o(E){k&&transition_out(k.$$.fragment,E),x=!1},d(E){E&&detach($),k&&destroy_component(k,E)}}}function create_fragment$1E(T){let k,$,x,I,L=T[2]&&create_if_block$G(T);return{c(){k=element("div"),$=element("div"),L&&L.c(),attr($,"class",x="inner "+T[1]),attr(k,"class","content"),toggle_class(k,"collapsed",T[0].collapsed)},m(E,D){insert(E,k,D),append(k,$),L&&L.m($,null),I=!0},p(E,[D]){E[2]?L?(L.p(E,D),D&4&&transition_in(L,1)):(L=create_if_block$G(E),L.c(),transition_in(L,1),L.m($,null)):L&&(group_outros(),transition_out(L,1,1,()=>{L=null}),check_outros()),(!I||D&2&&x!==(x="inner "+E[1]))&&attr($,"class",x),(!I||D&1)&&toggle_class(k,"collapsed",E[0].collapsed)},i(E){I||(transition_in(L),I=!0)},o(E){transition_out(L),I=!1},d(E){E&&detach(k),L&&L.d()}}}function instance$1u(T,k,$){let x;component_subscribe(T,UserData$2,F=>$(4,x=F));let{appdata:I}=k,L="",E,D;return currentSettingsPage.subscribe(F=>{if(clearTimeout(D),$(1,L="static"),x&&!x.sh.anim&&F)return $(2,E=F);!F||E&&F.name==E.name||($(1,L="slide-out-right"),D=setTimeout(()=>{$(2,E=F),$(1,L="slide-in-left"),D=setTimeout(()=>{$(1,L="static")},301)},500))}),T.$$set=F=>{"appdata"in F&&$(0,I=F.appdata)},[I,L,E]}let Content$1=class extends SvelteComponent{constructor(k){super(),init(this,k,instance$1u,create_fragment$1E,safe_not_equal,{appdata:0})}};const usericon=""+new URL("account-0b108c6c.svg",import.meta.url).href,desktopIcon=""+new URL("desktop-1e6183f6.svg",import.meta.url).href,appearance=""+new URL("loadtheme-9be7f2ef.svg",import.meta.url).href,shellIcon=""+new URL("taskbar-02da4094.svg",import.meta.url).href,windowsIcon=""+new URL("windows-596b15a5.svg",import.meta.url).href,themesIcon=""+new URL("themes-4f882492.svg",import.meta.url).href,about="";function create_else_block$a(T){let k,$;return{c(){k=element("h3"),$=text(T[2]),attr(k,"class","header")},m(x,I){insert(x,k,I),append(k,$)},p(x,I){I&4&&set_data($,x[2])},d(x){x&&detach(k)}}}function create_if_block$F(T){let k,$,x,I;return{c(){k=element("div"),$=text(T[2]),attr(k,"class","header")},m(L,E){insert(L,k,E),append(k,$),x||(I=listen(k,"click",T[4]),x=!0)},p(L,E){E&4&&set_data($,L[2])},d(L){L&&detach(k),x=!1,I()}}}function create_fragment$1D(T){let k,$,x,I;function L(U,M){return U[1]?create_if_block$F:create_else_block$a}let E=L(T),D=E(T);const F=T[6].default,P=create_slot(F,T,T[5],null);return{c(){k=element("div"),D.c(),$=space(),x=element("div"),P&&P.c(),attr(x,"class","section-content"),attr(k,"class","section"),toggle_class(k,"collapsible",T[1]),toggle_class(k,"collapsed",T[0]),toggle_class(k,"opt",T[3])},m(U,M){insert(U,k,M),D.m(k,null),append(k,$),append(k,x),P&&P.m(x,null),I=!0},p(U,[M]){E===(E=L(U))&&D?D.p(U,M):(D.d(1),D=E(U),D&&(D.c(),D.m(k,$))),P&&P.p&&(!I||M&32)&&update_slot_base(P,F,U,U[5],I?get_slot_changes(F,U[5],M,null):get_all_dirty_from_scope(U[5]),null),(!I||M&2)&&toggle_class(k,"collapsible",U[1]),(!I||M&1)&&toggle_class(k,"collapsed",U[0]),(!I||M&8)&&toggle_class(k,"opt",U[3])},i(U){I||(transition_in(P,U),I=!0)},o(U){transition_out(P,U),I=!1},d(U){U&&detach(k),D.d(),P&&P.d(U)}}}function instance$1t(T,k,$){let{$$slots:x={},$$scope:I}=k,{collapsible:L=!1}=k,{header:E}=k,{collapsed:D=!0}=k,{opt:F=!1}=k;currentCollapsibleT.subscribe(U=>{!U||!L||$(0,D=E!=U)});function P(){$(0,D=!D),D||currentCollapsibleT.set(E)}return T.$$set=U=>{"collapsible"in U&&$(1,L=U.collapsible),"header"in U&&$(2,E=U.header),"collapsed"in U&&$(0,D=U.collapsed),"opt"in U&&$(3,F=U.opt),"$$scope"in U&&$(5,I=U.$$scope)},[D,L,E,F,P,I,x]}class Section extends SvelteComponent{constructor(k){super(),init(this,k,instance$1t,create_fragment$1D,safe_not_equal,{collapsible:1,header:2,collapsed:0,opt:3})}}function create_if_block$E(T){let k,$;return k=new Section({props:{header:"Your System",collapsible:!0,$$slots:{default:[create_default_slot$9]},$$scope:{ctx:T}}}),{c(){create_component(k.$$.fragment)},m(x,I){mount_component(k,x,I),$=!0},p(x,I){const L={};I&5&&(L.$$scope={dirty:I,ctx:x}),k.$set(L)},i(x){$||(transition_in(k.$$.fragment,x),$=!0)},o(x){transition_out(k.$$.fragment,x),$=!1},d(x){destroy_component(k,x)}}}function create_default_slot$9(T){let k,$,x,I,L=T[0].cpu.cores+"",E,D,F,P,U,M,z,N,q=formatBytes(T[0].mem.kb)+"",j,W,H,Q,K,G,V,Y,J=T[0].gpu.vendor+"",X,Z,ee=T[0].gpu.model+"",re,ce,oe,ae,se,ne,ie,te;return{c(){k=element("div"),$=element("div"),$.textContent="Processor",x=space(),I=element("div"),E=text(L),D=text(" cores"),F=space(),P=element("div"),U=element("div"),U.textContent="Memory",M=space(),z=element("div"),N=text("~ "),j=text(q),W=space(),H=element("button"),H.textContent="help",Q=space(),K=element("div"),G=element("div"),G.textContent="Graphics card",V=space(),Y=element("div"),X=text(J),Z=space(),re=text(ee),ce=space(),oe=element("div"),ae=element("div"),ae.textContent="ArcOS Mode",se=space(),ne=element("div"),ne.textContent="Browser",attr($,"class","key"),attr(I,"class","value"),attr(k,"class","row"),attr(U,"class","key"),attr(H,"class","material-icons-round info"),attr(z,"class","value"),attr(P,"class","row"),attr(G,"class","key"),attr(Y,"class","value"),attr(K,"class","row"),attr(ae,"class","key"),attr(ne,"class","value"),attr(oe,"class","row")},m(le,pe){insert(le,k,pe),append(k,$),append(k,x),append(k,I),append(I,E),append(I,D),insert(le,F,pe),insert(le,P,pe),append(P,U),append(P,M),append(P,z),append(z,N),append(z,j),append(z,W),append(z,H),insert(le,Q,pe),insert(le,K,pe),append(K,G),append(K,V),append(K,Y),append(Y,X),append(Y,Z),append(Y,re),insert(le,ce,pe),insert(le,oe,pe),append(oe,ae),append(oe,se),append(oe,ne),ie||(te=listen(H,"click",T[1]),ie=!0)},p(le,pe){pe&1&&L!==(L=le[0].cpu.cores+"")&&set_data(E,L),pe&1&&q!==(q=formatBytes(le[0].mem.kb)+"")&&set_data(j,q),pe&1&&J!==(J=le[0].gpu.vendor+"")&&set_data(X,J),pe&1&&ee!==(ee=le[0].gpu.model+"")&&set_data(re,ee)},d(le){le&&(detach(k),detach(F),detach(P),detach(Q),detach(K),detach(ce),detach(oe)),ie=!1,te()}}}function create_fragment$1C(T){let k,$,x=T[0]&&create_if_block$E(T);return{c(){x&&x.c(),k=empty()},m(I,L){x&&x.m(I,L),insert(I,k,L),$=!0},p(I,[L]){I[0]?x?(x.p(I,L),L&1&&transition_in(x,1)):(x=create_if_block$E(I),x.c(),transition_in(x,1),x.m(k.parentNode,k)):x&&(group_outros(),transition_out(x,1,1,()=>{x=null}),check_outros())},i(I){$||(transition_in(x),$=!0)},o(I){transition_out(x),$=!1},d(I){I&&detach(k),x&&x.d(I)}}}function instance$1s(T,k,$){let x;onMount(async()=>{$(0,x=await getDeviceInfo())});function I(){createOverlayableError({title:"Information about system memory",message:"The memory amount visible to ArcOS may be less than you actually have. This is not a bug, but rather a limitation of the browser you are running. Most browsers can only detect up to 8GB of RAM.",buttons:[{caption:"Understood",action(){}}]},"SettingsApp")}return[x,I]}class SystemSection extends SvelteComponent{constructor(k){super(),init(this,k,instance$1s,create_fragment$1C,safe_not_equal,{})}}function create_default_slot_2$4(T){let k,$,x;return{c(){k=text(`The whole ArcOS project is licensed under GPLv3. More information about the\r
    license and the project as a whole can be found in the README file of the\r
    `),$=element("a"),$.textContent="ArcOS project page",x=text("."),attr($,"href","https://github.com/IzK-ArcOS"),attr($,"target","_blank")},m(I,L){insert(I,k,L),insert(I,$,L),insert(I,x,L)},p:noop$1,d(I){I&&(detach(k),detach($),detach(x))}}}function create_default_slot_1$5(T){let k;return{c(){k=text(`Thanks to all the people who helped expand ArcOS to what it is today.\r
    Curious who make ArcOS possible? Go ahead and visit our Frontend GitHub\r
    page, we list our contributors there.`)},m($,x){insert($,k,x)},d($){$&&detach(k)}}}function create_default_slot$8(T){let k,$,x,I;return{c(){k=text(`ArcOS started of as a weekend project, but these days it is a huge project\r
    with tons of amazing features. Every version of this project up to this\r
    point has been lead by me, Izaak Kuipers.`),$=element("br"),x=element("br"),I=text(`Feel free to visit our\r
    GitHub for more information about the project, and how you can contribute to\r
    it.`)},m(L,E){insert(L,k,E),insert(L,$,E),insert(L,x,E),insert(L,I,E)},p:noop$1,d(L){L&&(detach(k),detach($),detach(x),detach(I))}}}function create_fragment$1B(T){let k,$,x,I,L,E,D,F,P,U,M,z,N,q,j,W,H;return U=new SystemSection({}),z=new Section({props:{header:"License Information",collapsible:!0,collapsed:!0,$$slots:{default:[create_default_slot_2$4]},$$scope:{ctx:T}}}),q=new Section({props:{header:"Credits",collapsible:!0,collapsed:!0,$$slots:{default:[create_default_slot_1$5]},$$scope:{ctx:T}}}),W=new Section({props:{header:"About",collapsible:!0,collapsed:!0,$$slots:{default:[create_default_slot$8]},$$scope:{ctx:T}}}),{c(){k=element("div"),$=element("div"),x=element("div"),I=element("img"),E=space(),D=element("div"),F=element("h1"),F.textContent=`ArcOS v${ArcOSVersion}`,P=space(),create_component(U.$$.fragment),M=space(),create_component(z.$$.fragment),N=space(),create_component(q.$$.fragment),j=space(),create_component(W.$$.fragment),src_url_equal(I.src,L=Logo$1())||attr(I,"src",L),attr(I,"alt","ArcOS"),attr(I,"class","logo"),attr(F,"class","name"),attr(D,"class","text"),attr($,"class","product"),attr(k,"class","about-page")},m(Q,K){insert(Q,k,K),append(k,$),append($,x),append(x,I),append($,E),append($,D),append(D,F),append(k,P),mount_component(U,k,null),append(k,M),mount_component(z,k,null),append(k,N),mount_component(q,k,null),append(k,j),mount_component(W,k,null),H=!0},p(Q,[K]){const G={};K&1&&(G.$$scope={dirty:K,ctx:Q}),z.$set(G);const V={};K&1&&(V.$$scope={dirty:K,ctx:Q}),q.$set(V);const Y={};K&1&&(Y.$$scope={dirty:K,ctx:Q}),W.$set(Y)},i(Q){H||(transition_in(U.$$.fragment,Q),transition_in(z.$$.fragment,Q),transition_in(q.$$.fragment,Q),transition_in(W.$$.fragment,Q),H=!0)},o(Q){transition_out(U.$$.fragment,Q),transition_out(z.$$.fragment,Q),transition_out(q.$$.fragment,Q),transition_out(W.$$.fragment,Q),H=!1},d(Q){Q&&detach(k),destroy_component(U),destroy_component(z),destroy_component(q),destroy_component(W)}}}class About extends SvelteComponent{constructor(k){super(),init(this,k,null,create_fragment$1B,safe_not_equal,{})}}const account="";function create_fragment$1A(T){let k,$,x,I,L,E,D,F,P,U;const M=T[3].default,z=create_slot(M,T,T[2],null);return{c(){k=element("div"),$=element("div"),x=element("h3"),I=text(T[0]),L=space(),E=element("p"),D=text(T[1]),F=space(),P=element("div"),z&&z.c(),attr(x,"class","header"),attr(E,"class","context"),attr(P,"class","opt-sel"),attr(k,"class","section opt")},m(N,q){insert(N,k,q),append(k,$),append($,x),append(x,I),append($,L),append($,E),append(E,D),append(k,F),append(k,P),z&&z.m(P,null),U=!0},p(N,[q]){(!U||q&1)&&set_data(I,N[0]),(!U||q&2)&&set_data(D,N[1]),z&&z.p&&(!U||q&4)&&update_slot_base(z,M,N,N[2],U?get_slot_changes(M,N[2],q,null):get_all_dirty_from_scope(N[2]),null)},i(N){U||(transition_in(z,N),U=!0)},o(N){transition_out(z,N),U=!1},d(N){N&&detach(k),z&&z.d(N)}}}function instance$1r(T,k,$){let{$$slots:x={},$$scope:I}=k,{title:L}=k,{context:E}=k;return T.$$set=D=>{"title"in D&&$(0,L=D.title),"context"in D&&$(1,E=D.context),"$$scope"in D&&$(2,I=D.$$scope)},[L,E,I,x]}class OptionSection extends SvelteComponent{constructor(k){super(),init(this,k,instance$1r,create_fragment$1A,safe_not_equal,{title:0,context:1})}}function create_default_slot_2$3(T){let k,$,x;return{c(){k=element("button"),k.textContent="Change..."},m(I,L){insert(I,k,L),$||(x=listen(k,"click",T[1]),$=!0)},p:noop$1,d(I){I&&detach(k),$=!1,x()}}}function create_default_slot_1$4(T){let k,$,x;return{c(){k=element("button"),k.textContent="Change..."},m(I,L){insert(I,k,L),$||(x=listen(k,"click",T[2]),$=!0)},p:noop$1,d(I){I&&detach(k),$=!1,x()}}}function create_default_slot$7(T){let k,$,x;return{c(){k=element("button"),k.textContent="Delete account..."},m(I,L){insert(I,k,L),$||(x=listen(k,"click",T[0]),$=!0)},p:noop$1,d(I){I&&detach(k),$=!1,x()}}}function create_fragment$1z(T){let k,$,x,I,L,E;return k=new OptionSection({props:{title:"Change username",context:"Migrate your userdata to another username.",$$slots:{default:[create_default_slot_2$3]},$$scope:{ctx:T}}}),x=new OptionSection({props:{title:"Change password",context:"Change the password you use to log in.",$$slots:{default:[create_default_slot_1$4]},$$scope:{ctx:T}}}),L=new OptionSection({props:{title:"Delete account",context:"Delete your ArcOS account",$$slots:{default:[create_default_slot$7]},$$scope:{ctx:T}}}),{c(){create_component(k.$$.fragment),$=space(),create_component(x.$$.fragment),I=space(),create_component(L.$$.fragment)},m(D,F){mount_component(k,D,F),insert(D,$,F),mount_component(x,D,F),insert(D,I,F),mount_component(L,D,F),E=!0},p(D,[F]){const P={};F&8&&(P.$$scope={dirty:F,ctx:D}),k.$set(P);const U={};F&8&&(U.$$scope={dirty:F,ctx:D}),x.$set(U);const M={};F&8&&(M.$$scope={dirty:F,ctx:D}),L.$set(M)},i(D){E||(transition_in(k.$$.fragment,D),transition_in(x.$$.fragment,D),transition_in(L.$$.fragment,D),E=!0)},o(D){transition_out(k.$$.fragment,D),transition_out(x.$$.fragment,D),transition_out(L.$$.fragment,D),E=!1},d(D){D&&(detach($),detach(I)),destroy_component(k,D),destroy_component(x,D),destroy_component(L,D)}}}function instance$1q(T){function k(){createOverlayableError({title:"Delete ArcOS Account",message:"Are you sure you want to delete your ArcOS account? This will delete any and all user data associated with this account. These changes cannot be reverted.",image:bugRepIcon,buttons:[{action:()=>deleteUser(),caption:"Proceed"},{action:()=>{},caption:"Back to safety"}]},"SettingsApp")}function $(){showOverlay("changeUsername","SettingsApp")}function x(){showOverlay("changePswd","SettingsApp")}return[k,$,x]}class DangerZone extends SvelteComponent{constructor(k){super(),init(this,k,instance$1q,create_fragment$1z,safe_not_equal,{})}}function create_fragment$1y(T){let k,$,x,I,L,E,D,F,P,U,M,z,N,q,j;return x=new ProfilePicture$1({props:{src:T[0],height:52}}),z=new APIReveal({}),{c(){k=element("div"),$=element("div"),create_component(x.$$.fragment),I=space(),L=element("button"),L.textContent="edit",E=space(),D=element("div"),F=element("p"),P=text(T[1]),U=space(),M=element("p"),create_component(z.$$.fragment),attr(L,"class","change material-icons-round"),attr(F,"class","username"),attr(M,"class","host"),attr(M,"data-caller","accountpage-hostname"),attr(k,"class","info")},m(W,H){insert(W,k,H),append(k,$),mount_component(x,$,null),append($,I),append($,L),append(k,E),append(k,D),append(D,F),append(F,P),append(D,U),append(D,M),mount_component(z,M,null),N=!0,q||(j=listen(L,"click",T[2]),q=!0)},p(W,[H]){const Q={};H&1&&(Q.src=W[0]),x.$set(Q),(!N||H&2)&&set_data(P,W[1])},i(W){N||(transition_in(x.$$.fragment,W),transition_in(z.$$.fragment,W),N=!0)},o(W){transition_out(x.$$.fragment,W),transition_out(z.$$.fragment,W),N=!1},d(W){W&&detach(k),destroy_component(x),destroy_component(z),q=!1,j()}}}function instance$1p(T,k,$){let x;component_subscribe(T,UserName,E=>$(1,x=E));let I="";UserData$2.subscribe(E=>{$(0,I=getProfilePicture(E.acc.profilePicture))});function L(){showOverlay("pfpSel","SettingsApp")}return[I,x,L]}class Profile extends SvelteComponent{constructor(k){super(),init(this,k,instance$1p,create_fragment$1y,safe_not_equal,{})}}function create_fragment$1x(T){let k,$,x,I,L;return $=new Profile({}),I=new DangerZone({}),{c(){k=element("div"),create_component($.$$.fragment),x=space(),create_component(I.$$.fragment),attr(k,"class","settingspage-account")},m(E,D){insert(E,k,D),mount_component($,k,null),append(k,x),mount_component(I,k,null),L=!0},p:noop$1,i(E){L||(transition_in($.$$.fragment,E),transition_in(I.$$.fragment,E),L=!0)},o(E){transition_out($.$$.fragment,E),transition_out(I.$$.fragment,E),L=!1},d(E){E&&detach(k),destroy_component($),destroy_component(I)}}}class Account extends SvelteComponent{constructor(k){super(),init(this,k,null,create_fragment$1x,safe_not_equal,{})}}const apps="";function create_fragment$1w(T){let k,$,x,I,L,E,D,F=T[0].info.name+"",P,U,M,z=T[0].info.description+"",N,q,j;return{c(){k=element("button"),$=element("img"),L=space(),E=element("div"),D=element("p"),P=text(F),U=space(),M=element("p"),N=text(z),src_url_equal($.src,x=getOriginalIcon(T[0].id)||getAppIcon(T[0]))||attr($,"src",x),attr($,"alt",I=T[0].info.name),attr($,"class","icon"),attr(D,"class","title"),attr(M,"class","description"),attr(E,"class","info"),attr(k,"class","appbutton"),toggle_class(k,"disabled",T[0].disabled)},m(W,H){insert(W,k,H),append(k,$),append(k,L),append(k,E),append(E,D),append(D,P),append(E,U),append(E,M),append(M,N),q||(j=listen(k,"click",T[1]),q=!0)},p(W,[H]){H&1&&!src_url_equal($.src,x=getOriginalIcon(W[0].id)||getAppIcon(W[0]))&&attr($,"src",x),H&1&&I!==(I=W[0].info.name)&&attr($,"alt",I),H&1&&F!==(F=W[0].info.name+"")&&set_data(P,F),H&1&&z!==(z=W[0].info.description+"")&&set_data(N,z),H&1&&toggle_class(k,"disabled",W[0].disabled)},i:noop$1,o:noop$1,d(W){W&&detach(k),q=!1,j()}}}function instance$1o(T,k,$){let{app:x}=k;function I(){closeWindow("AppInfo"),setTimeout(()=>{AppInfoId.set(x.id),openWindow("AppInfo")},300)}return T.$$set=L=>{"app"in L&&$(0,x=L.app)},[x,I]}let AppButton$1=class extends SvelteComponent{constructor(k){super(),init(this,k,instance$1o,create_fragment$1w,safe_not_equal,{app:0})}};function get_each_context$q(T,k,$){const x=T.slice();return x[5]=k[$],x}function create_if_block$D(T){let k,$;return k=new AppButton$1({props:{app:T[5]}}),{c(){create_component(k.$$.fragment)},m(x,I){mount_component(k,x,I),$=!0},p(x,I){const L={};I&1&&(L.app=x[5]),k.$set(L)},i(x){$||(transition_in(k.$$.fragment,x),$=!0)},o(x){transition_out(k.$$.fragment,x),$=!1},d(x){destroy_component(k,x)}}}function create_each_block$q(T){let k=isPopulatable(T[5])||T[1].sh.showHiddenApps,$,x,I=k&&create_if_block$D(T);return{c(){I&&I.c(),$=empty()},m(L,E){I&&I.m(L,E),insert(L,$,E),x=!0},p(L,E){E&3&&(k=isPopulatable(L[5])||L[1].sh.showHiddenApps),k?I?(I.p(L,E),E&3&&transition_in(I,1)):(I=create_if_block$D(L),I.c(),transition_in(I,1),I.m($.parentNode,$)):I&&(group_outros(),transition_out(I,1,1,()=>{I=null}),check_outros())},i(L){x||(transition_in(I),x=!0)},o(L){transition_out(I),x=!1},d(L){L&&detach($),I&&I.d(L)}}}function create_fragment$1v(T){let k,$,x,I,L,E,D,F,P,U,M=ensure_array_like(T[0]),z=[];for(let q=0;q<M.length;q+=1)z[q]=create_each_block$q(get_each_context$q(T,M,q));const N=q=>transition_out(z[q],1,1,()=>{z[q]=null});return{c(){k=element("div"),$=element("div");for(let q=0;q<z.length;q+=1)z[q].c();x=space(),I=element("div"),L=element("p"),L.textContent="Show hidden apps",E=space(),D=element("input"),attr($,"class","apps"),attr(L,"class","label"),attr(D,"type","checkbox"),attr(D,"class","switch"),attr(I,"class","apps-hidden-toggle"),attr(k,"class","page-apps")},m(q,j){insert(q,k,j),append(k,$);for(let W=0;W<z.length;W+=1)z[W]&&z[W].m($,null);append(k,x),append(k,I),append(I,L),append(I,E),append(I,D),D.checked=T[1].sh.showHiddenApps,F=!0,P||(U=[listen(D,"change",T[3]),listen(D,"click",T[2])],P=!0)},p(q,[j]){if(j&3){M=ensure_array_like(q[0]);let W;for(W=0;W<M.length;W+=1){const H=get_each_context$q(q,M,W);z[W]?(z[W].p(H,j),transition_in(z[W],1)):(z[W]=create_each_block$q(H),z[W].c(),transition_in(z[W],1),z[W].m($,null))}for(group_outros(),W=M.length;W<z.length;W+=1)N(W);check_outros()}j&2&&(D.checked=q[1].sh.showHiddenApps)},i(q){if(!F){for(let j=0;j<M.length;j+=1)transition_in(z[j]);F=!0}},o(q){z=z.filter(Boolean);for(let j=0;j<z.length;j+=1)transition_out(z[j]);F=!1},d(q){q&&detach(k),destroy_each(z,q),P=!1,run_all(U)}}}function instance$1n(T,k,$){let x,I;component_subscribe(T,WindowStore,F=>$(4,x=F)),component_subscribe(T,UserData$2,F=>$(1,I=F));let L=[];WindowStore.subscribe(F=>$(0,L=[...F].sort((P,U)=>P.id>U.id?0:-1)));function E(){WindowStore.set(x)}function D(){I.sh.showHiddenApps=this.checked,UserData$2.set(I)}return[L,I,E,D]}class Apps extends SvelteComponent{constructor(k){super(),init(this,k,instance$1n,create_fragment$1v,safe_not_equal,{})}}const desktop$1="";async function directSingleUpload(T,k){Log("ts/api/upload.ts: directSingleUpload",`${T}: (${k||"no accept"})`,LogLevel.info),T.endsWith("/")&&T.slice(0,-1);const $=document.createElement("input");$.type="file",$.accept=k;const x=writable();return $.onchange=async()=>{$.files.length||x.set("");const L=$.files[0];x.set(await fileUpload(L,T))},$.click(),new Promise(I=>{x.subscribe(L=>{L&&I(L)})})}async function fileUpload(T,k){Log("ts/api/upload.ts: fileUpload",`Uploading ${T.name} to ${k}`,LogLevel.info);const $=new Blob([new Uint8Array(await T.arrayBuffer())]),x=`${k}/${T.name}`.split("//").join("/"),I=await fileToArcFile(T,x);FileBrowserUploadFile.set(I);const L=await writeFile(x,$);return fbClass.refresh(),L?x:""}const img0="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABIAAAAKICAIAAACHSRZaAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAiSSURBVHhe7cEBDQAAAMKg909tDjcgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALhTAzCGAAGNmWH9AAAAAElFTkSuQmCC",img01=""+new URL("img01-a6458b53.jpeg",import.meta.url).href,img02=""+new URL("img02-b03be002.png",import.meta.url).href,img03=""+new URL("img03-87b2d378.png",import.meta.url).href,img04=""+new URL("img04-9d473c5a.png",import.meta.url).href,img05=""+new URL("img05-3c6c1958.png",import.meta.url).href,img06=""+new URL("img06-e2fa3f96.jpg",import.meta.url).href,img07=""+new URL("img07-788d74d9.jpg",import.meta.url).href,img08=""+new URL("img08-feb75f17.jpg",import.meta.url).href,img11=""+new URL("img11-d41c172b.jpg",import.meta.url).href,img12=""+new URL("img12-c9a4396e.png",import.meta.url).href,img13=""+new URL("img13-0a31c489.png",import.meta.url).href,img14=""+new URL("img14-54c8328b.jpg",import.meta.url).href,img15=""+new URL("img15-ddfd765d.jpg",import.meta.url).href,img16=""+new URL("img16-f0145d13.jpg",import.meta.url).href,img17=""+new URL("img17-ebfd7073.jpg",import.meta.url).href,img18=""+new URL("img18-b02e721d.jpg",import.meta.url).href,img19=""+new URL("img19-b69c5f66.png",import.meta.url).href,Wallpapers={img04:{url:img04,author:"Izaak Kuipers",name:"ArcOS Dark"},img05:{url:img05,author:"Izaak Kuipers",name:"ArcOS Light"},img03:{url:img03,author:"Izaak Kuipers",name:"Stealth Gradient"},img11:{url:img11,author:"Unknown",name:"Legacy Login"},img12:{url:img12,author:"Izaak Kuipers",name:"Gradiented Waves"},img08:{url:img08,author:"SWHFotografie",name:"Wandelbos",source:"Wandelbos, The Netherlands"},img13:{url:img13,author:"SWHFotografie",name:"Agga"},img18:{url:img18,author:"SWHFotografie",name:"Wilhelmina Sunset",source:"Wilheminakanaal, Tilburg, The Netherlands"},img15:{url:img15,author:"Matteo Scaringi",name:"Corfu",source:"Corfu, Greece"},img19:{url:img19,author:"Matteo Scaringi",name:"Long Exposure",source:"Slijpe, West-Flanders, Belgium"},img14:{url:img14,author:"Kees van Voorthuizen",name:"Scheveningen"},img01:{url:img01,author:"Kees van Voorthuizen",name:"Mykonos Seaside",source:"Mykonos, Greece"},img02:{url:img02,author:"Kees van Voorthuizen",name:"Sunset in Mykonos",source:"Mykonos, Greece"},img17:{url:img17,author:"Blocky (Cy)",name:"Sunset Sky",source:"Fairfield Bay, US"},img16:{url:img16,author:"Matteo Scaringi, Izaak Kuipers",name:"Login Background - Blurred",source:"Corfu, Greece"},img06:{url:img06,author:"Izaak Kuipers",name:"ArcOS Beta Dark"},img07:{url:img07,author:"Izaak Kuipers",name:"ArcOS Beta Light"},img0:{url:img0,author:"Izaak Kuipers",name:"Blank"}},getters=[["@local:",async T=>await wallpaperFromFS(atob(T.replace("@local:","")))],["img",T=>Wallpapers[T]||Wallpapers.img04]];async function getWallpaper(T){if(!T)return Wallpapers.img04;if(T.startsWith("http"))return{author:"The Web",name:T,url:T};for(let k=0;k<getters.length;k++)if(T.startsWith(getters[k][0]))return await getters[k][1](T);return Wallpapers.img04}async function wallpaperFromFS(T){Log("wallpapers.ts: wallpaperFromFS",`Reading wallpaper from path "${T}"...`,LogLevel.info);const k=await readFile(T);if(!k)return Log("wallpapers.ts: wallpaperFromFS",`Unable to get wallpaper "${T}"`,LogLevel.error),Wallpapers.img04;const $=URL.createObjectURL(new Blob([new Uint8Array(k)],{type:"image/jpeg"}));return{url:$,author:get_store_value(UserName),name:$,source:""}}function create_fragment$1u(T){let k,$,x,I;return{c(){k=element("div"),$=element("div"),x=space(),I=element("div"),I.innerHTML='<div class="fake-titlebar">Window Title</div> <div class="fake-body">Window body</div>',attr($,"class","fake-taskbar"),toggle_class($,"colored",T[1].sh.taskbar.colored),toggle_class($,"docked",T[1].sh.taskbar.docked),attr(I,"class","fake-window"),attr(k,"class","current"),set_style(k,"background-image","url("+T[0]+")")},m(L,E){insert(L,k,E),append(k,$),append(k,x),append(k,I)},p(L,[E]){E&2&&toggle_class($,"colored",L[1].sh.taskbar.colored),E&2&&toggle_class($,"docked",L[1].sh.taskbar.docked),E&1&&set_style(k,"background-image","url("+L[0]+")")},i:noop$1,o:noop$1,d(L){L&&detach(k)}}}function instance$1m(T,k,$){let x;component_subscribe(T,UserData$2,L=>$(1,x=L));let I="";return UserData$2.subscribe(async()=>{$(0,I=(await getWallpaper(x.sh.desktop.wallpaper)).url)}),[I,x]}class Current extends SvelteComponent{constructor(k){super(),init(this,k,instance$1m,create_fragment$1u,safe_not_equal,{})}}function create_if_block$C(T){let k;return{c(){k=element("span"),k.textContent="block",attr(k,"class","material-icons-round none")},m($,x){insert($,k,x)},d($){$&&detach(k)}}}function create_fragment$1t(T){let k,$,x,I,L=T[0][0]=="img0"&&create_if_block$C();return{c(){k=element("div"),L&&L.c(),attr(k,"class","wallpaper"),set_style(k,"background-image","url("+T[0][1].url+")"),attr(k,"title",$=T[0][0]=="img0"?"(none)":`${T[0][1].name} from ${T[0][1].author}`),toggle_class(k,"selected",T[1].sh.desktop.wallpaper==T[0][0])},m(E,D){insert(E,k,D),L&&L.m(k,null),x||(I=listen(k,"click",T[2]),x=!0)},p(E,[D]){E[0][0]=="img0"?L||(L=create_if_block$C(),L.c(),L.m(k,null)):L&&(L.d(1),L=null),D&1&&set_style(k,"background-image","url("+E[0][1].url+")"),D&1&&$!==($=E[0][0]=="img0"?"(none)":`${E[0][1].name} from ${E[0][1].author}`)&&attr(k,"title",$),D&3&&toggle_class(k,"selected",E[1].sh.desktop.wallpaper==E[0][0])},i:noop$1,o:noop$1,d(E){E&&detach(k),L&&L.d(),x=!1,I()}}}function instance$1l(T,k,$){let x;component_subscribe(T,UserData$2,E=>$(1,x=E));let{wallpaper:I}=k;function L(){set_store_value(UserData$2,x.sh.desktop.wallpaper=I[0],x)}return T.$$set=E=>{"wallpaper"in E&&$(0,I=E.wallpaper)},[I,x,L]}class ImageSelector extends SvelteComponent{constructor(k){super(),init(this,k,instance$1l,create_fragment$1t,safe_not_equal,{wallpaper:0})}}function get_each_context$p(T,k,$){const x=T.slice();return x[2]=k[$],x}function create_each_block$p(T){let k,$;return k=new ImageSelector({props:{wallpaper:T[2]}}),{c(){create_component(k.$$.fragment)},m(x,I){mount_component(k,x,I),$=!0},p:noop$1,i(x){$||(transition_in(k.$$.fragment,x),$=!0)},o(x){transition_out(k.$$.fragment,x),$=!1},d(x){destroy_component(k,x)}}}function create_fragment$1s(T){let k,$,x,I,L,E,D,F,P,U,M;$=new Current({});let z=ensure_array_like(Object.entries(Wallpapers)),N=[];for(let j=0;j<z.length;j+=1)N[j]=create_each_block$p(get_each_context$p(T,z,j));const q=j=>transition_out(N[j],1,1,()=>{N[j]=null});return{c(){k=element("div"),create_component($.$$.fragment),x=space(),I=element("div");for(let j=0;j<N.length;j+=1)N[j].c();L=space(),E=element("div"),E.textContent="upload",D=space(),F=element("div"),F.textContent="travel_explore",attr(E,"class","wallpaper nobg customwp material-icons-round"),attr(E,"title","Upload wallpaper"),attr(F,"class","wallpaper nobg customwp material-icons-round"),attr(F,"title","Wallpaper from URL"),attr(I,"class","wallpapers"),attr(k,"class","desktop-page")},m(j,W){insert(j,k,W),mount_component($,k,null),append(k,x),append(k,I);for(let H=0;H<N.length;H+=1)N[H]&&N[H].m(I,null);append(I,L),append(I,E),append(I,D),append(I,F),P=!0,U||(M=[listen(E,"click",T[1]),listen(F,"click",T[0])],U=!0)},p(j,[W]){if(W&0){z=ensure_array_like(Object.entries(Wallpapers));let H;for(H=0;H<z.length;H+=1){const Q=get_each_context$p(j,z,H);N[H]?(N[H].p(Q,W),transition_in(N[H],1)):(N[H]=create_each_block$p(Q),N[H].c(),transition_in(N[H],1),N[H].m(I,L))}for(group_outros(),H=z.length;H<N.length;H+=1)q(H);check_outros()}},i(j){if(!P){transition_in($.$$.fragment,j);for(let W=0;W<z.length;W+=1)transition_in(N[W]);P=!0}},o(j){transition_out($.$$.fragment,j),N=N.filter(Boolean);for(let W=0;W<N.length;W+=1)transition_out(N[W]);P=!1},d(j){j&&detach(k),destroy_component($),destroy_each(N,j),U=!1,run_all(M)}}}function instance$1k(T){function k(){showOverlay("customWallpaper","SettingsApp")}async function $(){await createDirectory("./Wallpapers");const x=await directSingleUpload("./Wallpapers","image/png, image/jpeg, image/gif, image/svg+xml"),I=get_store_value(UserData$2);I.sh.desktop.wallpaper=`@local:${btoa(x)}`,UserData$2.set(I)}return[k,$]}let Desktop$2=class extends SvelteComponent{constructor(k){super(),init(this,k,instance$1k,create_fragment$1s,safe_not_equal,{})}};function create_default_slot_7(T){let k,$,x;return{c(){k=element("input"),attr(k,"type","checkbox"),attr(k,"id","a"),attr(k,"class","switch")},m(I,L){insert(I,k,L),k.checked=T[0].sh.taskbar.isLauncher,$||(x=listen(k,"change",T[1]),$=!0)},p(I,L){L&1&&(k.checked=I[0].sh.taskbar.isLauncher)},d(I){I&&detach(k),$=!1,x()}}}function create_if_block$B(T){let k,$,x,I,L,E;return k=new OptionSection({props:{title:"Center taskbar buttons",context:"Centers the taskbar app buttons",$$slots:{default:[create_default_slot_6]},$$scope:{ctx:T}}}),x=new OptionSection({props:{title:"Taskbar app labels",context:"Display app names on the taskbar",$$slots:{default:[create_default_slot_5]},$$scope:{ctx:T}}}),L=new OptionSection({props:{title:"Taskbar position",context:"Where do you want the taskbar?",$$slots:{default:[create_default_slot_4$1]},$$scope:{ctx:T}}}),{c(){create_component(k.$$.fragment),$=space(),create_component(x.$$.fragment),I=space(),create_component(L.$$.fragment)},m(D,F){mount_component(k,D,F),insert(D,$,F),mount_component(x,D,F),insert(D,I,F),mount_component(L,D,F),E=!0},p(D,F){const P={};F&513&&(P.$$scope={dirty:F,ctx:D}),k.$set(P);const U={};F&513&&(U.$$scope={dirty:F,ctx:D}),x.$set(U);const M={};F&513&&(M.$$scope={dirty:F,ctx:D}),L.$set(M)},i(D){E||(transition_in(k.$$.fragment,D),transition_in(x.$$.fragment,D),transition_in(L.$$.fragment,D),E=!0)},o(D){transition_out(k.$$.fragment,D),transition_out(x.$$.fragment,D),transition_out(L.$$.fragment,D),E=!1},d(D){D&&(detach($),detach(I)),destroy_component(k,D),destroy_component(x,D),destroy_component(L,D)}}}function create_default_slot_6(T){let k,$,x;return{c(){k=element("input"),attr(k,"type","checkbox"),attr(k,"id","a"),attr(k,"class","switch")},m(I,L){insert(I,k,L),k.checked=T[0].sh.taskbar.centered,$||(x=listen(k,"change",T[2]),$=!0)},p(I,L){L&1&&(k.checked=I[0].sh.taskbar.centered)},d(I){I&&detach(k),$=!1,x()}}}function create_default_slot_5(T){let k,$,x,I;return{c(){k=element("input"),attr(k,"type","checkbox"),attr(k,"id","a"),attr(k,"class","switch"),k.disabled=$=!!T[0].sh.taskbar.pos},m(L,E){insert(L,k,E),k.checked=T[0].sh.taskbar.labels,x||(I=listen(k,"change",T[3]),x=!0)},p(L,E){E&1&&$!==($=!!L[0].sh.taskbar.pos)&&(k.disabled=$),E&1&&(k.checked=L[0].sh.taskbar.labels)},d(L){L&&detach(k),x=!1,I()}}}function create_default_slot_4$1(T){let k,$,x,I,L,E;return{c(){k=element("select"),$=element("option"),$.textContent="Left",x=element("option"),x.textContent="Bottom",I=element("option"),I.textContent="Right",$.__value="vertical",set_input_value($,$.__value),x.__value="",set_input_value(x,x.__value),I.__value="vertical-right",set_input_value(I,I.__value),T[0].sh.taskbar.pos===void 0&&add_render_callback(()=>T[4].call(k))},m(D,F){insert(D,k,F),append(k,$),append(k,x),append(k,I),select_option(k,T[0].sh.taskbar.pos,!0),L||(E=listen(k,"change",T[4]),L=!0)},p(D,F){F&1&&select_option(k,D[0].sh.taskbar.pos)},d(D){D&&detach(k),L=!1,E()}}}function create_default_slot_3$2(T){let k,$,x;return{c(){k=element("input"),attr(k,"type","checkbox"),attr(k,"id","a"),attr(k,"class","switch")},m(I,L){insert(I,k,L),k.checked=T[0].sh.start.small,$||(x=listen(k,"change",T[5]),$=!0)},p(I,L){L&1&&(k.checked=I[0].sh.start.small)},d(I){I&&detach(k),$=!1,x()}}}function create_default_slot_2$2(T){let k,$,x;return{c(){k=element("input"),attr(k,"type","checkbox"),attr(k,"id","a"),attr(k,"class","switch")},m(I,L){insert(I,k,L),k.checked=T[0].sh.taskbar.docked,$||(x=listen(k,"change",T[6]),$=!0)},p(I,L){L&1&&(k.checked=I[0].sh.taskbar.docked)},d(I){I&&detach(k),$=!1,x()}}}function create_default_slot_1$3(T){let k,$,x;return{c(){k=element("input"),attr(k,"type","checkbox"),attr(k,"id","a"),attr(k,"class","switch")},m(I,L){insert(I,k,L),k.checked=T[0].sh.taskbar.colored,$||(x=listen(k,"change",T[7]),$=!0)},p(I,L){L&1&&(k.checked=I[0].sh.taskbar.colored)},d(I){I&&detach(k),$=!1,x()}}}function create_default_slot$6(T){let k,$,x;return{c(){k=element("input"),attr(k,"type","checkbox"),attr(k,"class","switch")},m(I,L){insert(I,k,L),k.checked=T[0].sh.compactContext,$||(x=listen(k,"change",T[8]),$=!0)},p(I,L){L&1&&(k.checked=I[0].sh.compactContext)},d(I){I&&detach(k),$=!1,x()}}}function create_fragment$1r(T){let k,$,x,I,L,E,D,F,P,U,M,z,N,q,j;x=new OptionSection({props:{title:"Launcher Mode",context:"Use a GNOME-style launcher instead of the taskbar",$$slots:{default:[create_default_slot_7]},$$scope:{ctx:T}}});let W=!T[0].sh.taskbar.isLauncher&&create_if_block$B(T);return F=new OptionSection({props:{title:"Small start menu",context:"Make the start menu smaller",$$slots:{default:[create_default_slot_3$2]},$$scope:{ctx:T}}}),U=new OptionSection({props:{title:"Dock shell",context:"Dock the taskbar and action center",$$slots:{default:[create_default_slot_2$2]},$$scope:{ctx:T}}}),z=new OptionSection({props:{title:"Colored shell",context:"Apply the accent color to the shell",$$slots:{default:[create_default_slot_1$3]},$$scope:{ctx:T}}}),q=new OptionSection({props:{title:"Compact context menu",context:"Make the context menu more compact",$$slots:{default:[create_default_slot$6]},$$scope:{ctx:T}}}),{c(){k=element("h1"),k.textContent="Shell",$=space(),create_component(x.$$.fragment),I=space(),W&&W.c(),L=space(),E=element("hr"),D=space(),create_component(F.$$.fragment),P=space(),create_component(U.$$.fragment),M=space(),create_component(z.$$.fragment),N=space(),create_component(q.$$.fragment)},m(H,Q){insert(H,k,Q),insert(H,$,Q),mount_component(x,H,Q),insert(H,I,Q),W&&W.m(H,Q),insert(H,L,Q),insert(H,E,Q),insert(H,D,Q),mount_component(F,H,Q),insert(H,P,Q),mount_component(U,H,Q),insert(H,M,Q),mount_component(z,H,Q),insert(H,N,Q),mount_component(q,H,Q),j=!0},p(H,[Q]){const K={};Q&513&&(K.$$scope={dirty:Q,ctx:H}),x.$set(K),H[0].sh.taskbar.isLauncher?W&&(group_outros(),transition_out(W,1,1,()=>{W=null}),check_outros()):W?(W.p(H,Q),Q&1&&transition_in(W,1)):(W=create_if_block$B(H),W.c(),transition_in(W,1),W.m(L.parentNode,L));const G={};Q&513&&(G.$$scope={dirty:Q,ctx:H}),F.$set(G);const V={};Q&513&&(V.$$scope={dirty:Q,ctx:H}),U.$set(V);const Y={};Q&513&&(Y.$$scope={dirty:Q,ctx:H}),z.$set(Y);const J={};Q&513&&(J.$$scope={dirty:Q,ctx:H}),q.$set(J)},i(H){j||(transition_in(x.$$.fragment,H),transition_in(W),transition_in(F.$$.fragment,H),transition_in(U.$$.fragment,H),transition_in(z.$$.fragment,H),transition_in(q.$$.fragment,H),j=!0)},o(H){transition_out(x.$$.fragment,H),transition_out(W),transition_out(F.$$.fragment,H),transition_out(U.$$.fragment,H),transition_out(z.$$.fragment,H),transition_out(q.$$.fragment,H),j=!1},d(H){H&&(detach(k),detach($),detach(I),detach(L),detach(E),detach(D),detach(P),detach(M),detach(N)),destroy_component(x,H),W&&W.d(H),destroy_component(F,H),destroy_component(U,H),destroy_component(z,H),destroy_component(q,H)}}}function instance$1j(T,k,$){let x;component_subscribe(T,UserData$2,z=>$(0,x=z));function I(){x.sh.taskbar.isLauncher=this.checked,UserData$2.set(x)}function L(){x.sh.taskbar.centered=this.checked,UserData$2.set(x)}function E(){x.sh.taskbar.labels=this.checked,UserData$2.set(x)}function D(){x.sh.taskbar.pos=select_value(this),UserData$2.set(x)}function F(){x.sh.start.small=this.checked,UserData$2.set(x)}function P(){x.sh.taskbar.docked=this.checked,UserData$2.set(x)}function U(){x.sh.taskbar.colored=this.checked,UserData$2.set(x)}function M(){x.sh.compactContext=this.checked,UserData$2.set(x)}return[x,I,L,E,D,F,P,U,M]}let Shell$1=class extends SvelteComponent{constructor(k){super(),init(this,k,instance$1j,create_fragment$1r,safe_not_equal,{})}};const DefaultThemes={arcDark:{author:"ArcOS Team",version:"1.0.0",name:"ArcOS Dark",anim:!0,noGlass:!1,sharp:!1,theme:"dark",wallpaper:"img04",taskbarCentered:!1,taskbarLabels:!1,taskbarPosition:"",docked:!1,accent:"70D6FF",smallStart:!0,titleButtons:"default",titlebarLarge:!1,titlebarLeft:!1,taskbarColored:!1},arcLight:{author:"ArcOS Team",version:"1.0.0",name:"ArcOS Light",anim:!0,noGlass:!1,sharp:!1,theme:"light",wallpaper:"img05",taskbarCentered:!1,taskbarLabels:!1,taskbarPosition:"",docked:!1,accent:"70D6FF",smallStart:!0,titleButtons:"default",titlebarLarge:!1,titlebarLeft:!1,taskbarColored:!1},theHague:{author:"Aron Wagener",version:"1.0.0",name:"The Hague",anim:!0,noGlass:!1,sharp:!1,theme:"dark",wallpaper:"img13",taskbarCentered:!1,taskbarLabels:!0,taskbarPosition:"",docked:!0,accent:"0A0",smallStart:!1,titleButtons:"default",titlebarLarge:!0,titlebarLeft:!1,taskbarColored:!1},wacky:{author:"Izaak Kuipers",version:"1.0.0",name:"Wacky",anim:!0,noGlass:!1,sharp:!1,theme:"dark",wallpaper:"img03",taskbarCentered:!0,taskbarLabels:!0,taskbarPosition:"vertical",docked:!1,accent:"fa0",smallStart:!0,titleButtons:"og",titlebarLarge:!0,titlebarLeft:!0,taskbarColored:!1},performance:{author:"ArcOS Team",version:"1.0.0",name:"Optimal Performance",anim:!1,noGlass:!0,sharp:!0,theme:"dark",wallpaper:"img0",taskbarCentered:!1,taskbarLabels:!1,taskbarPosition:"",docked:!0,accent:"FFF",smallStart:!0,titleButtons:"default",titlebarLarge:!1,titlebarLeft:!1,taskbarColored:!1},wandelbos:{version:"1.0.0",name:"Wandelbos",author:"Izaak",anim:!0,noGlass:!1,sharp:!1,theme:"dark",wallpaper:"img08",accent:"91F5AD",docked:!0,taskbarCentered:!1,taskbarLabels:!1,taskbarPosition:"",smallStart:!0,titleButtons:"default",titlebarLarge:!1,titlebarLeft:!1,taskbarColored:!0},scheveningen:{version:"1.0.0",name:"Scheveningen",author:"Izaak & keesvv",anim:!0,noGlass:!1,sharp:!1,theme:"dark",wallpaper:"img14",accent:"264653",docked:!0,taskbarCentered:!1,taskbarLabels:!1,taskbarPosition:"",smallStart:!0,titleButtons:"default",titlebarLarge:!1,titlebarLeft:!1,taskbarColored:!0}};function create_fragment$1q(T){let k,$,x,I,L,E,D,F,P,U,M;return{c(){k=element("button"),$=element("div"),x=element("div"),attr(x,"class","accent"),set_style(x,"color",T[0][1].accent),attr($,"class",I="mockup-window theme-"+T[0][1].theme),attr(k,"class","themerenderer"),attr(k,"title",L=T[0][1].name+" by "+T[0][1].author),set_style(k,"background-image","url("+T[2]+")"),set_style(k,"--accent","#"+T[0][1].accent),attr(k,"data-id",E=T[0][0]),attr(k,"data-caller",D="themerenderer-"+(T[1]?"user":"system")),attr(k,"data-name",F=T[0][1].name),attr(k,"data-json",P=JSON.stringify(T[0][1])),toggle_class(k,"sharp",T[0][1].sharp)},m(z,N){insert(z,k,N),append(k,$),append($,x),U||(M=listen(k,"click",T[3]),U=!0)},p(z,[N]){N&1&&set_style(x,"color",z[0][1].accent),N&1&&I!==(I="mockup-window theme-"+z[0][1].theme)&&attr($,"class",I),N&1&&L!==(L=z[0][1].name+" by "+z[0][1].author)&&attr(k,"title",L),N&4&&set_style(k,"background-image","url("+z[2]+")"),N&1&&set_style(k,"--accent","#"+z[0][1].accent),N&1&&E!==(E=z[0][0])&&attr(k,"data-id",E),N&2&&D!==(D="themerenderer-"+(z[1]?"user":"system"))&&attr(k,"data-caller",D),N&1&&F!==(F=z[0][1].name)&&attr(k,"data-name",F),N&1&&P!==(P=JSON.stringify(z[0][1]))&&attr(k,"data-json",P),N&1&&toggle_class(k,"sharp",z[0][1].sharp)},i:noop$1,o:noop$1,d(z){z&&detach(k),U=!1,M()}}}function instance$1i(T,k,$){let{theme:x}=k,{user:I=!1}=k,L="";function E(){loadTheme(x[1])}return onMount(async()=>{$(2,L=(await getWallpaper(x[1].wallpaper)).url)}),T.$$set=D=>{"theme"in D&&$(0,x=D.theme),"user"in D&&$(1,I=D.user)},[x,I,L,E]}class ThemeRenderer extends SvelteComponent{constructor(k){super(),init(this,k,instance$1i,create_fragment$1q,safe_not_equal,{theme:0,user:1})}}function get_each_context$o(T,k,$){const x=T.slice();return x[4]=k[$],x}function get_each_context_1$4(T,k,$){const x=T.slice();return x[4]=k[$],x}function create_each_block_1$4(T){let k,$;return k=new ThemeRenderer({props:{theme:T[4]}}),{c(){create_component(k.$$.fragment)},m(x,I){mount_component(k,x,I),$=!0},p:noop$1,i(x){$||(transition_in(k.$$.fragment,x),$=!0)},o(x){transition_out(k.$$.fragment,x),$=!1},d(x){destroy_component(k,x)}}}function create_if_block$A(T){let k,$,x=ensure_array_like(Object.entries(T[1].sh.userThemes)),I=[];for(let E=0;E<x.length;E+=1)I[E]=create_each_block$o(get_each_context$o(T,x,E));const L=E=>transition_out(I[E],1,1,()=>{I[E]=null});return{c(){for(let E=0;E<I.length;E+=1)I[E].c();k=empty()},m(E,D){for(let F=0;F<I.length;F+=1)I[F]&&I[F].m(E,D);insert(E,k,D),$=!0},p(E,D){if(D&2){x=ensure_array_like(Object.entries(E[1].sh.userThemes));let F;for(F=0;F<x.length;F+=1){const P=get_each_context$o(E,x,F);I[F]?(I[F].p(P,D),transition_in(I[F],1)):(I[F]=create_each_block$o(P),I[F].c(),transition_in(I[F],1),I[F].m(k.parentNode,k))}for(group_outros(),F=x.length;F<I.length;F+=1)L(F);check_outros()}},i(E){if(!$){for(let D=0;D<x.length;D+=1)transition_in(I[D]);$=!0}},o(E){I=I.filter(Boolean);for(let D=0;D<I.length;D+=1)transition_out(I[D]);$=!1},d(E){E&&detach(k),destroy_each(I,E)}}}function create_each_block$o(T){let k,$;return k=new ThemeRenderer({props:{theme:T[4],user:!0}}),{c(){create_component(k.$$.fragment)},m(x,I){mount_component(k,x,I),$=!0},p(x,I){const L={};I&2&&(L.theme=x[4]),k.$set(L)},i(x){$||(transition_in(k.$$.fragment,x),$=!0)},o(x){transition_out(k.$$.fragment,x),$=!1},d(x){destroy_component(k,x)}}}function create_fragment$1p(T){let k,$,x,I,L,E,D,F=ensure_array_like(Object.entries(DefaultThemes)),P=[];for(let z=0;z<F.length;z+=1)P[z]=create_each_block_1$4(get_each_context_1$4(T,F,z));const U=z=>transition_out(P[z],1,1,()=>{P[z]=null});let M=!T[0]&&T[1].sh.userThemes&&create_if_block$A(T);return{c(){k=element("div");for(let z=0;z<P.length;z+=1)P[z].c();$=space(),M&&M.c(),x=space(),I=element("button"),I.textContent="save",attr(I,"class","themerenderer save material-icons-round"),attr(I,"title","Save current theme"),attr(k,"class","themes")},m(z,N){insert(z,k,N);for(let q=0;q<P.length;q+=1)P[q]&&P[q].m(k,null);append(k,$),M&&M.m(k,null),append(k,x),append(k,I),L=!0,E||(D=listen(I,"click",T[2]),E=!0)},p(z,[N]){if(N&0){F=ensure_array_like(Object.entries(DefaultThemes));let q;for(q=0;q<F.length;q+=1){const j=get_each_context_1$4(z,F,q);P[q]?(P[q].p(j,N),transition_in(P[q],1)):(P[q]=create_each_block_1$4(j),P[q].c(),transition_in(P[q],1),P[q].m(k,$))}for(group_outros(),q=F.length;q<P.length;q+=1)U(q);check_outros()}!z[0]&&z[1].sh.userThemes?M?(M.p(z,N),N&3&&transition_in(M,1)):(M=create_if_block$A(z),M.c(),transition_in(M,1),M.m(k,x)):M&&(group_outros(),transition_out(M,1,1,()=>{M=null}),check_outros())},i(z){if(!L){for(let N=0;N<F.length;N+=1)transition_in(P[N]);transition_in(M),L=!0}},o(z){P=P.filter(Boolean);for(let N=0;N<P.length;N+=1)transition_out(P[N]);transition_out(M),L=!1},d(z){z&&detach(k),destroy_each(P,z),M&&M.d(),E=!1,D()}}}function instance$1h(T,k,$){let x;component_subscribe(T,UserData$2,D=>$(1,x=D));let I=0,L=!1;return UserData$2.subscribe(D=>{const F=Object.entries(D.sh.userThemes);I!=F.length&&(I=F.length,$(0,L=!0),setTimeout(()=>{$(0,L=!1)}))}),[L,x,()=>showOverlay("saveTheme","SettingsApp")]}class Themes extends SvelteComponent{constructor(k){super(),init(this,k,instance$1h,create_fragment$1p,safe_not_equal,{})}}function create_fragment$1o(T){let k,$,x,I,L,E;return x=new Current({}),L=new Themes({}),{c(){k=element("div"),$=element("div"),create_component(x.$$.fragment),I=space(),create_component(L.$$.fragment),attr($,"class","desktop-page"),attr(k,"class","settingspage-themes")},m(D,F){insert(D,k,F),append(k,$),mount_component(x,$,null),append(k,I),mount_component(L,k,null),E=!0},p:noop$1,i(D){E||(transition_in(x.$$.fragment,D),transition_in(L.$$.fragment,D),E=!0)},o(D){transition_out(x.$$.fragment,D),transition_out(L.$$.fragment,D),E=!1},d(D){D&&detach(k),destroy_component(x),destroy_component(L)}}}class Themes_1 extends SvelteComponent{constructor(k){super(),init(this,k,null,create_fragment$1o,safe_not_equal,{})}}const accentColors=["D62828","F3722C","F49E4C","F8961E","F9C74F","E2C044","E9FF70","C2E812","90BE6D","F1FAEE","61E786","91F5AD","43AA8B","A8DADC","70D6FF","264653","457B9D","577590","1D3557","AFCBFF","03045E","A09BE7","7209B7","F72585","F61067","FF70A6","E63946","F94144"],Color_svelte_svelte_type_style_lang="";function create_fragment$1n(T){let k,$,x,I;return{c(){k=element("button"),attr(k,"class","color ol reset svelte-1wlqbdo"),set_style(k,"background","#"+T[0]),attr(k,"data-caller","appearance-accentselector"),attr(k,"data-hex",T[0]),attr(k,"title",$="#"+T[0].toUpperCase()),toggle_class(k,"selected",T[0]==T[1].sh.desktop.accent)},m(L,E){insert(L,k,E),x||(I=listen(k,"click",T[2]),x=!0)},p(L,[E]){E&1&&set_style(k,"background","#"+L[0]),E&1&&attr(k,"data-hex",L[0]),E&1&&$!==($="#"+L[0].toUpperCase())&&attr(k,"title",$),E&3&&toggle_class(k,"selected",L[0]==L[1].sh.desktop.accent)},i:noop$1,o:noop$1,d(L){L&&detach(k),x=!1,I()}}}function instance$1g(T,k,$){let x;component_subscribe(T,UserData$2,E=>$(1,x=E));let{color:I}=k;function L(){set_store_value(UserData$2,x.sh.desktop.accent=I,x)}return T.$$set=E=>{"color"in E&&$(0,I=E.color)},[I,x,L]}class Color extends SvelteComponent{constructor(k){super(),init(this,k,instance$1g,create_fragment$1n,safe_not_equal,{color:0})}}const AccentColor_svelte_svelte_type_style_lang="";function get_each_context$n(T,k,$){const x=T.slice();return x[0]=k[$],x}function create_each_block$n(T){let k,$;return k=new Color({props:{color:T[0]}}),{c(){create_component(k.$$.fragment)},m(x,I){mount_component(k,x,I),$=!0},p:noop$1,i(x){$||(transition_in(k.$$.fragment,x),$=!0)},o(x){transition_out(k.$$.fragment,x),$=!1},d(x){destroy_component(k,x)}}}function create_fragment$1m(T){let k,$,x,I;k=new OptionSection({props:{title:"Accent Color",context:"Choose an accent color for ArcOS"}});let L=ensure_array_like(accentColors),E=[];for(let F=0;F<L.length;F+=1)E[F]=create_each_block$n(get_each_context$n(T,L,F));const D=F=>transition_out(E[F],1,1,()=>{E[F]=null});return{c(){create_component(k.$$.fragment),$=space(),x=element("div");for(let F=0;F<E.length;F+=1)E[F].c();attr(x,"class","wrapper svelte-1xz38z7")},m(F,P){mount_component(k,F,P),insert(F,$,P),insert(F,x,P);for(let U=0;U<E.length;U+=1)E[U]&&E[U].m(x,null);I=!0},p(F,[P]){if(P&0){L=ensure_array_like(accentColors);let U;for(U=0;U<L.length;U+=1){const M=get_each_context$n(F,L,U);E[U]?(E[U].p(M,P),transition_in(E[U],1)):(E[U]=create_each_block$n(M),E[U].c(),transition_in(E[U],1),E[U].m(x,null))}for(group_outros(),U=L.length;U<E.length;U+=1)D(U);check_outros()}},i(F){if(!I){transition_in(k.$$.fragment,F);for(let P=0;P<L.length;P+=1)transition_in(E[P]);I=!0}},o(F){transition_out(k.$$.fragment,F),E=E.filter(Boolean);for(let P=0;P<E.length;P+=1)transition_out(E[P]);I=!1},d(F){F&&(detach($),detach(x)),destroy_component(k,F),destroy_each(E,F)}}}class AccentColor extends SvelteComponent{constructor(k){super(),init(this,k,null,create_fragment$1m,safe_not_equal,{})}}function create_default_slot_4(T){let k,$,x,I,L,E,D,F,P;return{c(){k=element("select"),$=element("option"),$.textContent="Darkmode",x=element("option"),x.textContent="Lightmode",I=element("option"),I.textContent="Amoled",L=element("option"),L.textContent="Amber Monochrome",E=element("option"),E.textContent="Science Fiction",D=element("option"),D.textContent="High contrast",$.__value="dark",set_input_value($,$.__value),x.__value="light",set_input_value(x,x.__value),I.__value="amoled",set_input_value(I,I.__value),L.__value="amber",set_input_value(L,L.__value),E.__value="scifi",set_input_value(E,E.__value),D.__value="hc",set_input_value(D,D.__value),attr(k,"name","aa"),attr(k,"id","bb"),T[0].sh.desktop.theme===void 0&&add_render_callback(()=>T[1].call(k))},m(U,M){insert(U,k,M),append(k,$),append(k,x),append(k,I),append(k,L),append(k,E),append(k,D),select_option(k,T[0].sh.desktop.theme,!0),F||(P=listen(k,"change",T[1]),F=!0)},p(U,M){M&1&&select_option(k,U[0].sh.desktop.theme)},d(U){U&&detach(k),F=!1,P()}}}function create_default_slot_3$1(T){let k,$,x;return{c(){k=element("input"),attr(k,"type","checkbox"),attr(k,"class","switch")},m(I,L){insert(I,k,L),k.checked=T[0].sh.anim,$||(x=listen(k,"change",T[2]),$=!0)},p(I,L){L&1&&(k.checked=I[0].sh.anim)},d(I){I&&detach(k),$=!1,x()}}}function create_default_slot_2$1(T){let k,$,x;return{c(){k=element("input"),attr(k,"type","checkbox"),attr(k,"class","switch")},m(I,L){insert(I,k,L),k.checked=T[0].sh.noGlass,$||(x=listen(k,"change",T[3]),$=!0)},p(I,L){L&1&&(k.checked=I[0].sh.noGlass)},d(I){I&&detach(k),$=!1,x()}}}function create_default_slot_1$2(T){let k,$,x;return{c(){k=element("input"),attr(k,"type","checkbox"),attr(k,"class","switch")},m(I,L){insert(I,k,L),k.checked=T[0].sh.desktop.sharp,$||(x=listen(k,"change",T[4]),$=!0)},p(I,L){L&1&&(k.checked=I[0].sh.desktop.sharp)},d(I){I&&detach(k),$=!1,x()}}}function create_default_slot$5(T){let k,$,x;return{c(){k=element("input"),attr(k,"type","checkbox"),attr(k,"class","switch")},m(I,L){insert(I,k,L),k.checked=T[0].sh.desktop.noCustomCursor,$||(x=listen(k,"change",T[5]),$=!0)},p(I,L){L&1&&(k.checked=I[0].sh.desktop.noCustomCursor)},d(I){I&&detach(k),$=!1,x()}}}function create_fragment$1l(T){let k,$,x,I,L,E,D,F,P,U,M,z,N,q,j,W,H,Q;return x=new OptionSection({props:{title:"Style",context:"Change the style of the UI",$$slots:{default:[create_default_slot_4]},$$scope:{ctx:T}}}),D=new OptionSection({props:{title:"Animations",context:"Display animations in ArcOS",$$slots:{default:[create_default_slot_3$1]},$$scope:{ctx:T}}}),P=new OptionSection({props:{title:"No glass",context:"Disable glass effects in ArcOS",$$slots:{default:[create_default_slot_2$1]},$$scope:{ctx:T}}}),M=new OptionSection({props:{title:"Sharp corners",context:"Disable rounding in all of ArcOS",$$slots:{default:[create_default_slot_1$2]},$$scope:{ctx:T}}}),N=new OptionSection({props:{title:"No Custom Cursors",context:"Disable the ArcOS custom cursors",$$slots:{default:[create_default_slot$5]},$$scope:{ctx:T}}}),H=new AccentColor({}),{c(){k=element("h1"),k.textContent="Appearance",$=space(),create_component(x.$$.fragment),I=space(),L=element("hr"),E=space(),create_component(D.$$.fragment),F=space(),create_component(P.$$.fragment),U=space(),create_component(M.$$.fragment),z=space(),create_component(N.$$.fragment),q=space(),j=element("hr"),W=space(),create_component(H.$$.fragment)},m(K,G){insert(K,k,G),insert(K,$,G),mount_component(x,K,G),insert(K,I,G),insert(K,L,G),insert(K,E,G),mount_component(D,K,G),insert(K,F,G),mount_component(P,K,G),insert(K,U,G),mount_component(M,K,G),insert(K,z,G),mount_component(N,K,G),insert(K,q,G),insert(K,j,G),insert(K,W,G),mount_component(H,K,G),Q=!0},p(K,[G]){const V={};G&65&&(V.$$scope={dirty:G,ctx:K}),x.$set(V);const Y={};G&65&&(Y.$$scope={dirty:G,ctx:K}),D.$set(Y);const J={};G&65&&(J.$$scope={dirty:G,ctx:K}),P.$set(J);const X={};G&65&&(X.$$scope={dirty:G,ctx:K}),M.$set(X);const Z={};G&65&&(Z.$$scope={dirty:G,ctx:K}),N.$set(Z)},i(K){Q||(transition_in(x.$$.fragment,K),transition_in(D.$$.fragment,K),transition_in(P.$$.fragment,K),transition_in(M.$$.fragment,K),transition_in(N.$$.fragment,K),transition_in(H.$$.fragment,K),Q=!0)},o(K){transition_out(x.$$.fragment,K),transition_out(D.$$.fragment,K),transition_out(P.$$.fragment,K),transition_out(M.$$.fragment,K),transition_out(N.$$.fragment,K),transition_out(H.$$.fragment,K),Q=!1},d(K){K&&(detach(k),detach($),detach(I),detach(L),detach(E),detach(F),detach(U),detach(z),detach(q),detach(j),detach(W)),destroy_component(x,K),destroy_component(D,K),destroy_component(P,K),destroy_component(M,K),destroy_component(N,K),destroy_component(H,K)}}}function instance$1f(T,k,$){let x;component_subscribe(T,UserData$2,P=>$(0,x=P));function I(){x.sh.desktop.theme=select_value(this),UserData$2.set(x)}function L(){x.sh.anim=this.checked,UserData$2.set(x)}function E(){x.sh.noGlass=this.checked,UserData$2.set(x)}function D(){x.sh.desktop.sharp=this.checked,UserData$2.set(x)}function F(){x.sh.desktop.noCustomCursor=this.checked,UserData$2.set(x)}return[x,I,L,E,D,F]}class Visuals extends SvelteComponent{constructor(k){super(),init(this,k,instance$1f,create_fragment$1l,safe_not_equal,{})}}function create_default_slot_3(T){let k,$,x;return{c(){k=element("input"),attr(k,"type","checkbox"),attr(k,"class","switch")},m(I,L){insert(I,k,L),k.checked=T[0].sh.window.bigtb,$||(x=listen(k,"change",T[1]),$=!0)},p(I,L){L&1&&(k.checked=I[0].sh.window.bigtb)},d(I){I&&detach(k),$=!1,x()}}}function create_default_slot_2(T){let k,$,x;return{c(){k=element("input"),attr(k,"type","checkbox"),attr(k,"class","switch")},m(I,L){insert(I,k,L),k.checked=T[0].sh.window.lefttb,$||(x=listen(k,"change",T[2]),$=!0)},p(I,L){L&1&&(k.checked=I[0].sh.window.lefttb)},d(I){I&&detach(k),$=!1,x()}}}function create_default_slot_1$1(T){let k,$,x;return{c(){k=element("input"),attr(k,"type","checkbox"),attr(k,"class","switch")},m(I,L){insert(I,k,L),k.checked=T[0].sh.window.centertb,$||(x=listen(k,"change",T[3]),$=!0)},p(I,L){L&1&&(k.checked=I[0].sh.window.centertb)},d(I){I&&detach(k),$=!1,x()}}}function create_default_slot$4(T){let k,$,x;return{c(){k=element("button"),k.textContent="Change..."},m(I,L){insert(I,k,L),$||(x=listen(k,"click",T[4]),$=!0)},p:noop$1,d(I){I&&detach(k),$=!1,x()}}}function create_fragment$1k(T){let k,$,x,I,L,E,D,F,P,U;return x=new OptionSection({props:{title:"Large titlebar",context:"Make the titlebars larger",$$slots:{default:[create_default_slot_3]},$$scope:{ctx:T}}}),L=new OptionSection({props:{title:"Left titlebar buttons",context:"Swap the title and window controls",$$slots:{default:[create_default_slot_2]},$$scope:{ctx:T}}}),D=new OptionSection({props:{title:"Center window title",context:"Put the window title in the center of the titlebar.",$$slots:{default:[create_default_slot_1$1]},$$scope:{ctx:T}}}),P=new OptionSection({props:{title:"Titlebar Buttons",context:"Change the titlebar controls",$$slots:{default:[create_default_slot$4]},$$scope:{ctx:T}}}),{c(){k=element("h1"),k.textContent="Windows",$=space(),create_component(x.$$.fragment),I=space(),create_component(L.$$.fragment),E=space(),create_component(D.$$.fragment),F=space(),create_component(P.$$.fragment)},m(M,z){insert(M,k,z),insert(M,$,z),mount_component(x,M,z),insert(M,I,z),mount_component(L,M,z),insert(M,E,z),mount_component(D,M,z),insert(M,F,z),mount_component(P,M,z),U=!0},p(M,[z]){const N={};z&33&&(N.$$scope={dirty:z,ctx:M}),x.$set(N);const q={};z&33&&(q.$$scope={dirty:z,ctx:M}),L.$set(q);const j={};z&33&&(j.$$scope={dirty:z,ctx:M}),D.$set(j);const W={};z&32&&(W.$$scope={dirty:z,ctx:M}),P.$set(W)},i(M){U||(transition_in(x.$$.fragment,M),transition_in(L.$$.fragment,M),transition_in(D.$$.fragment,M),transition_in(P.$$.fragment,M),U=!0)},o(M){transition_out(x.$$.fragment,M),transition_out(L.$$.fragment,M),transition_out(D.$$.fragment,M),transition_out(P.$$.fragment,M),U=!1},d(M){M&&(detach(k),detach($),detach(I),detach(E),detach(F)),destroy_component(x,M),destroy_component(L,M),destroy_component(D,M),destroy_component(P,M)}}}function instance$1e(T,k,$){let x;component_subscribe(T,UserData$2,F=>$(0,x=F));function I(){x.sh.window.bigtb=this.checked,UserData$2.set(x)}function L(){x.sh.window.lefttb=this.checked,UserData$2.set(x)}function E(){x.sh.window.centertb=this.checked,UserData$2.set(x)}return[x,I,L,E,()=>showOverlay("changeTitleButtons","SettingsApp")]}class Windows extends SvelteComponent{constructor(k){super(),init(this,k,instance$1e,create_fragment$1k,safe_not_equal,{})}}const SettingsPages=[{name:"Account",icon:usericon,content:Account,sep:!0},{name:"Themes",icon:themesIcon,content:Themes_1},{name:"Wallpaper",icon:desktopIcon,content:Desktop$2},{name:"Visuals",icon:appearance,content:Visuals,sep:!0},{name:"Shell",icon:shellIcon,content:Shell$1},{name:"Windows",icon:windowsIcon,content:Windows},{name:"Apps",icon:appSettings,content:Apps,sep:!0},{name:"About",icon:Logo$1(),content:About}];function getSettingsPage(T){for(let k=0;k<SettingsPages.length;k++)if(SettingsPages[k].name==T)return SettingsPages[k];return null}function openByKey(T){const k=getSettingsPage(T);k&&(openWindow("SettingsApp"),setTimeout(()=>{currentSettingsPage.set(k)}))}function create_if_block_1$b(T){let k,$,x,I,L,E,D=T[0].name+"",F,P,U,M;return{c(){k=element("button"),$=element("img"),L=space(),E=element("span"),F=text(D),src_url_equal($.src,x=T[0].icon)||attr($,"src",x),attr($,"alt",I=T[0].name),attr($,"class","icon"),attr(E,"class","caption"),attr(k,"class","page"),k.disabled=P=T[0].disabled,toggle_class(k,"selected",T[1]&&T[0].name==T[1].name)},m(z,N){insert(z,k,N),append(k,$),append(k,L),append(k,E),append(E,F),U||(M=listen(k,"click",T[2]),U=!0)},p(z,N){N&1&&!src_url_equal($.src,x=z[0].icon)&&attr($,"src",x),N&1&&I!==(I=z[0].name)&&attr($,"alt",I),N&1&&D!==(D=z[0].name+"")&&set_data(F,D),N&1&&P!==(P=z[0].disabled)&&(k.disabled=P),N&3&&toggle_class(k,"selected",z[1]&&z[0].name==z[1].name)},d(z){z&&detach(k),U=!1,M()}}}function create_if_block$z(T){let k;return{c(){k=element("hr")},m($,x){insert($,k,x)},d($){$&&detach(k)}}}function create_fragment$1j(T){let k,$,x=!T[0].hidden&&create_if_block_1$b(T),I=T[0].sep&&create_if_block$z();return{c(){x&&x.c(),k=space(),I&&I.c(),$=empty()},m(L,E){x&&x.m(L,E),insert(L,k,E),I&&I.m(L,E),insert(L,$,E)},p(L,[E]){L[0].hidden?x&&(x.d(1),x=null):x?x.p(L,E):(x=create_if_block_1$b(L),x.c(),x.m(k.parentNode,k)),L[0].sep?I||(I=create_if_block$z(),I.c(),I.m($.parentNode,$)):I&&(I.d(1),I=null)},i:noop$1,o:noop$1,d(L){L&&(detach(k),detach($)),x&&x.d(L),I&&I.d(L)}}}function instance$1d(T,k,$){let x;component_subscribe(T,currentSettingsPage,E=>$(1,x=E));let{page:I}=k;const L=()=>setSettingsPage(I);return T.$$set=E=>{"page"in E&&$(0,I=E.page)},[I,x,L]}class Page extends SvelteComponent{constructor(k){super(),init(this,k,instance$1d,create_fragment$1j,safe_not_equal,{page:0})}}function create_fragment$1i(T){let k,$,x,I,L,E,D,F,P,U,M,z,N;return x=new ProfilePicture$1({props:{src:T[0],height:36}}),U=new APIReveal({}),{c(){k=element("div"),$=element("span"),create_component(x.$$.fragment),I=space(),L=element("div"),E=element("p"),D=text(T[1]),F=space(),P=element("p"),create_component(U.$$.fragment),attr(E,"class","name"),attr(P,"class","hostname"),attr(L,"class","username"),attr(k,"class","userprofile")},m(q,j){insert(q,k,j),append(k,$),mount_component(x,$,null),append(k,I),append(k,L),append(L,E),append(E,D),append(L,F),append(L,P),mount_component(U,P,null),M=!0,z||(N=listen($,"click",T[2]),z=!0)},p(q,[j]){const W={};j&1&&(W.src=q[0]),x.$set(W),(!M||j&2)&&set_data(D,q[1])},i(q){M||(transition_in(x.$$.fragment,q),transition_in(U.$$.fragment,q),M=!0)},o(q){transition_out(x.$$.fragment,q),transition_out(U.$$.fragment,q),M=!1},d(q){q&&detach(k),destroy_component(x),destroy_component(U),z=!1,N()}}}function instance$1c(T,k,$){let x,I;component_subscribe(T,UserData$2,D=>$(3,x=D)),component_subscribe(T,UserName,D=>$(1,I=D));let L="";UserData$2.subscribe(()=>{$(0,L=getProfilePicture(x.acc.profilePicture))});function E(){typeof x.acc.profilePicture=="string"&&showOverlay("largePfp","SettingsApp")}return[L,I,E]}class UserProfile extends SvelteComponent{constructor(k){super(),init(this,k,instance$1c,create_fragment$1i,safe_not_equal,{})}}function get_each_context$m(T,k,$){const x=T.slice();return x[4]=k[$],x}function create_if_block$y(T){let k,$,x;return{c(){k=element("button"),k.innerHTML='<span class="material-icons-round">menu</span>',attr(k,"class","page menu"),toggle_class(k,"active",T[0].collapsed)},m(I,L){insert(I,k,L),$||(x=listen(k,"click",T[1]),$=!0)},p(I,L){L&1&&toggle_class(k,"active",I[0].collapsed)},d(I){I&&detach(k),$=!1,x()}}}function create_each_block$m(T){let k,$;return k=new Page({props:{page:T[4]}}),{c(){create_component(k.$$.fragment)},m(x,I){mount_component(k,x,I),$=!0},p:noop$1,i(x){$||(transition_in(k.$$.fragment,x),$=!0)},o(x){transition_out(k.$$.fragment,x),$=!1},d(x){destroy_component(k,x)}}}function create_fragment$1h(T){let k,$,x,I,L,E,D=T[0]&&create_if_block$y(T),F=ensure_array_like(SettingsPages),P=[];for(let M=0;M<F.length;M+=1)P[M]=create_each_block$m(get_each_context$m(T,F,M));const U=M=>transition_out(P[M],1,1,()=>{P[M]=null});return L=new UserProfile({}),{c(){k=element("div"),$=element("div"),D&&D.c(),x=space();for(let M=0;M<P.length;M+=1)P[M].c();I=space(),create_component(L.$$.fragment),attr($,"class","pages"),attr(k,"class","sidebar"),toggle_class(k,"collapsed",T[0].collapsed)},m(M,z){insert(M,k,z),append(k,$),D&&D.m($,null),append($,x);for(let N=0;N<P.length;N+=1)P[N]&&P[N].m($,null);append(k,I),mount_component(L,k,null),E=!0},p(M,[z]){if(M[0]?D?D.p(M,z):(D=create_if_block$y(M),D.c(),D.m($,x)):D&&(D.d(1),D=null),z&0){F=ensure_array_like(SettingsPages);let N;for(N=0;N<F.length;N+=1){const q=get_each_context$m(M,F,N);P[N]?(P[N].p(q,z),transition_in(P[N],1)):(P[N]=create_each_block$m(q),P[N].c(),transition_in(P[N],1),P[N].m($,null))}for(group_outros(),N=F.length;N<P.length;N+=1)U(N);check_outros()}(!E||z&1)&&toggle_class(k,"collapsed",M[0].collapsed)},i(M){if(!E){for(let z=0;z<F.length;z+=1)transition_in(P[z]);transition_in(L.$$.fragment,M),E=!0}},o(M){P=P.filter(Boolean);for(let z=0;z<P.length;z+=1)transition_out(P[z]);transition_out(L.$$.fragment,M),E=!1},d(M){M&&detach(k),D&&D.d(),destroy_each(P,M),destroy_component(L)}}}function instance$1b(T,k,$){let x;component_subscribe(T,UserData$2,D=>$(3,x=D));let{appdata:I}=k,{app:L}=k;function E(){$(0,I.collapsed=!I.collapsed,I),set_store_value(UserData$2,x.appdata[L.id]=I,x)}return T.$$set=D=>{"appdata"in D&&$(0,I=D.appdata),"app"in D&&$(2,L=D.app)},[I,E,L]}class Sidebar extends SvelteComponent{constructor(k){super(),init(this,k,instance$1b,create_fragment$1h,safe_not_equal,{appdata:0,app:2})}}function create_fragment$1g(T){let k,$,x,I,L;function E(F){T[2](F)}let D={app:T[1]};return T[0]!==void 0&&(D.appdata=T[0]),k=new Sidebar({props:D}),binding_callbacks.push(()=>bind$1(k,"appdata",E)),I=new Content$1({props:{appdata:T[0]}}),{c(){create_component(k.$$.fragment),x=space(),create_component(I.$$.fragment)},m(F,P){mount_component(k,F,P),insert(F,x,P),mount_component(I,F,P),L=!0},p(F,[P]){const U={};P&2&&(U.app=F[1]),!$&&P&1&&($=!0,U.appdata=F[0],add_flush_callback(()=>$=!1)),k.$set(U);const M={};P&1&&(M.appdata=F[0]),I.$set(M)},i(F){L||(transition_in(k.$$.fragment,F),transition_in(I.$$.fragment,F),L=!0)},o(F){transition_out(k.$$.fragment,F),transition_out(I.$$.fragment,F),L=!1},d(F){F&&detach(x),destroy_component(k,F),destroy_component(I,F)}}}function instance$1a(T,k,$){let{appdata:x}=k,{app:I}=k;function L(E){x=E,$(0,x)}return T.$$set=E=>{"appdata"in E&&$(0,x=E.appdata),"app"in E&&$(1,I=E.app)},[x,I,L]}let SettingsApp$1=class extends SvelteComponent{constructor(k){super(),init(this,k,instance$1a,create_fragment$1g,safe_not_equal,{appdata:0,app:1})}};const ProfilePicture_svelte_svelte_type_style_lang="";function get_each_context$l(T,k,$){const x=T.slice();return x[8]=k[$],x[10]=$,x}function create_each_block$l(T){let k,$,x,I,L,E;function D(){return T[7](T[10])}return{c(){k=element("button"),$=element("img"),I=space(),src_url_equal($.src,x=T[8])||attr($,"src",x),attr($,"alt",`${T[10]+1}`),attr($,"class","svelte-2jlx4b"),attr(k,"class","svelte-2jlx4b"),toggle_class(k,"selected",T[10]+1==T[1].acc.profilePicture)},m(F,P){insert(F,k,P),append(k,$),append(k,I),L||(E=listen(k,"click",D),L=!0)},p(F,P){T=F,P&1&&!src_url_equal($.src,x=T[8])&&attr($,"src",x),P&2&&toggle_class(k,"selected",T[10]+1==T[1].acc.profilePicture)},d(F){F&&detach(k),L=!1,E()}}}function create_fragment$1f(T){let k,$,x,I,L,E,D,F,P,U,M=ensure_array_like(T[0]),z=[];for(let N=0;N<M.length;N+=1)z[N]=create_each_block$l(get_each_context$l(T,M,N));return{c(){k=element("div"),k.innerHTML='<h2 class="header">Change Profile Picture</h2> <p class="subheader">Choose one of the following profile pictures:</p>',$=space(),x=element("div");for(let N=0;N<z.length;N+=1)z[N].c();I=space(),L=element("div"),E=element("button"),E.textContent="Custom...",D=space(),F=element("button"),F.textContent="Cancel",attr(k,"class","overlay-head"),attr(x,"class","wrapper svelte-2jlx4b"),attr(F,"class","cancel svelte-2jlx4b"),attr(L,"class","cancel-wrapper svelte-2jlx4b")},m(N,q){insert(N,k,q),insert(N,$,q),insert(N,x,q);for(let j=0;j<z.length;j+=1)z[j]&&z[j].m(x,null);insert(N,I,q),insert(N,L,q),append(L,E),append(L,D),append(L,F),P||(U=[listen(E,"click",T[4]),listen(F,"click",T[3])],P=!0)},p(N,[q]){if(q&7){M=ensure_array_like(N[0]);let j;for(j=0;j<M.length;j+=1){const W=get_each_context$l(N,M,j);z[j]?z[j].p(W,q):(z[j]=create_each_block$l(W),z[j].c(),z[j].m(x,null))}for(;j<z.length;j+=1)z[j].d(1);z.length=M.length}},i:noop$1,o:noop$1,d(N){N&&(detach(k),detach($),detach(x),detach(I),detach(L)),destroy_each(z,N),P=!1,run_all(U)}}}function instance$19(T,k,$){let x;component_subscribe(T,UserData$2,M=>$(1,x=M));let I=[],{id:L}=k,{app:E}=k;onMount(()=>{$(0,I=Object.values(ProfilePictures))});function D(M){set_store_value(UserData$2,x.acc.profilePicture=M,x),F()}function F(){hideOverlay(L,E.id)}function P(){showOverlay("customPfp","SettingsApp")}const U=M=>D(M+1);return T.$$set=M=>{"id"in M&&$(5,L=M.id),"app"in M&&$(6,E=M.app)},[I,x,D,F,P,L,E,U]}class ProfilePicture extends SvelteComponent{constructor(k){super(),init(this,k,instance$19,create_fragment$1f,safe_not_equal,{id:5,app:6})}}const customPfp="";function create_fragment$1e(T){let k,$,x,I,L,E,D,F,P,U,M,z,N,q,j,W,H,Q,K;return x=new ProfilePicture$1({props:{src:T[1]?T[0]:def$1,height:50}}),{c(){k=element("div"),$=element("div"),create_component(x.$$.fragment),I=space(),L=element("div"),E=element("p"),E.textContent="Enter the URL to a custom profile picture:",D=space(),F=element("input"),P=space(),U=element("div"),M=element("div"),z=element("button"),z.textContent="Cancel",N=space(),q=element("button"),j=text("Apply"),attr(F,"type","url"),attr(F,"placeholder","https://example.com/image.png"),q.disabled=W=!T[0]||!T[1],attr(U,"class","apply"),attr(L,"class","field"),attr(k,"class","custompfp-wrapper")},m(G,V){insert(G,k,V),append(k,$),mount_component(x,$,null),append(k,I),append(k,L),append(L,E),append(L,D),append(L,F),set_input_value(F,T[0]),append(L,P),append(L,U),append(U,M),append(M,z),append(M,N),append(M,q),append(q,j),H=!0,Q||(K=[listen(F,"input",T[5]),listen(F,"input",T[2]),listen(z,"click",T[4]),listen(q,"click",T[3])],Q=!0)},p(G,[V]){const Y={};V&3&&(Y.src=G[1]?G[0]:def$1),x.$set(Y),V&1&&F.value!==G[0]&&set_input_value(F,G[0]),(!H||V&3&&W!==(W=!G[0]||!G[1]))&&(q.disabled=W)},i(G){H||(transition_in(x.$$.fragment,G),H=!0)},o(G){transition_out(x.$$.fragment,G),H=!1},d(G){G&&detach(k),destroy_component(x),Q=!1,run_all(K)}}}async function checkImage$1(T){const k=new Image;return k.src=T,new Promise($=>{k.onload=()=>$(!0),k.onerror=()=>$(!1)})}function instance$18(T,k,$){let x="",I=!1;async function L(){const P=await checkImage$1(x);$(1,I=P)}function E(){applyCustomPfp(x),hideOverlay("customPfp","SettingsApp"),hideOverlay("pfpSel","SettingsApp")}function D(){hideOverlay("customPfp","SettingsApp")}UserData$2.subscribe(P=>{typeof P.acc.profilePicture=="string"&&$(0,x=P.acc.profilePicture),L()});function F(){x=this.value,$(0,x)}return[x,I,L,E,D,F]}class CustomProfilePicture extends SvelteComponent{constructor(k){super(),init(this,k,instance$18,create_fragment$1e,safe_not_equal,{})}}const ProfilePictureView_svelte_svelte_type_style_lang="";function create_fragment$1d(T){let k,$,x,I,L,E,D,F,P,U,M,z;return k=new CloseButton({props:{id:T[0],app:T[1]}}),L=new ProfilePicture$1({props:{src:T[2].acc.profilePicture.toString(),height:150}}),M=new APIReveal({}),{c(){create_component(k.$$.fragment),$=space(),x=element("div"),I=element("div"),create_component(L.$$.fragment),E=space(),D=element("h1"),F=text(T[3]),P=space(),U=element("p"),create_component(M.$$.fragment),attr(D,"class","svelte-1hdmb0y"),attr(U,"class","hostname svelte-1hdmb0y"),attr(I,"class","flex-stop"),attr(x,"class","center-flex text-center")},m(N,q){mount_component(k,N,q),insert(N,$,q),insert(N,x,q),append(x,I),mount_component(L,I,null),append(I,E),append(I,D),append(D,F),append(I,P),append(I,U),mount_component(M,U,null),z=!0},p(N,[q]){const j={};q&1&&(j.id=N[0]),q&2&&(j.app=N[1]),k.$set(j);const W={};q&4&&(W.src=N[2].acc.profilePicture.toString()),L.$set(W),(!z||q&8)&&set_data(F,N[3])},i(N){z||(transition_in(k.$$.fragment,N),transition_in(L.$$.fragment,N),transition_in(M.$$.fragment,N),z=!0)},o(N){transition_out(k.$$.fragment,N),transition_out(L.$$.fragment,N),transition_out(M.$$.fragment,N),z=!1},d(N){N&&(detach($),detach(x)),destroy_component(k,N),destroy_component(L),destroy_component(M)}}}function instance$17(T,k,$){let x,I;component_subscribe(T,UserData$2,D=>$(2,x=D)),component_subscribe(T,UserName,D=>$(3,I=D));let{id:L}=k,{app:E}=k;return T.$$set=D=>{"id"in D&&$(0,L=D.id),"app"in D&&$(1,E=D.app)},[L,E,x,I]}class ProfilePictureView extends SvelteComponent{constructor(k){super(),init(this,k,instance$17,create_fragment$1d,safe_not_equal,{id:0,app:1})}}function create_if_block$x(T){let k,$,x,I,L,E,D,F,P;return F=new UserDataExplorer({props:{data:T[2]}}),{c(){k=element("div"),$=element("h2"),x=text("User Data for "),I=text(T[3]),L=space(),E=element("p"),E.textContent="Below is a tree view of your user data:",D=space(),create_component(F.$$.fragment),attr($,"class","header"),attr(E,"class","subheader"),attr(k,"class","overlay-head")},m(U,M){insert(U,k,M),append(k,$),append($,x),append($,I),append(k,L),append(k,E),insert(U,D,M),mount_component(F,U,M),P=!0},p(U,M){(!P||M&8)&&set_data(I,U[3]);const z={};M&4&&(z.data=U[2]),F.$set(z)},i(U){P||(transition_in(F.$$.fragment,U),P=!0)},o(U){transition_out(F.$$.fragment,U),P=!1},d(U){U&&(detach(k),detach(D)),destroy_component(F,U)}}}function create_fragment$1c(T){let k,$,x,I;k=new CloseButton({props:{app:T[0],id:T[1]}});let L=T[2]&&create_if_block$x(T);return{c(){create_component(k.$$.fragment),$=space(),L&&L.c(),x=empty()},m(E,D){mount_component(k,E,D),insert(E,$,D),L&&L.m(E,D),insert(E,x,D),I=!0},p(E,[D]){const F={};D&1&&(F.app=E[0]),D&2&&(F.id=E[1]),k.$set(F),E[2]?L?(L.p(E,D),D&4&&transition_in(L,1)):(L=create_if_block$x(E),L.c(),transition_in(L,1),L.m(x.parentNode,x)):L&&(group_outros(),transition_out(L,1,1,()=>{L=null}),check_outros())},i(E){I||(transition_in(k.$$.fragment,E),transition_in(L),I=!0)},o(E){transition_out(k.$$.fragment,E),transition_out(L),I=!1},d(E){E&&(detach($),detach(x)),destroy_component(k,E),L&&L.d(E)}}}function instance$16(T,k,$){let x,I;component_subscribe(T,UserData$2,D=>$(2,x=D)),component_subscribe(T,UserName,D=>$(3,I=D));let{app:L}=k,{id:E}=k;return T.$$set=D=>{"app"in D&&$(0,L=D.app),"id"in D&&$(1,E=D.id)},[L,E,x,I]}class UserDataExplorer_1 extends SvelteComponent{constructor(k){super(),init(this,k,instance$16,create_fragment$1c,safe_not_equal,{app:0,id:1})}}const passwordIcon=""+new URL("password-542eab32.svg",import.meta.url).href,changePswd="";function create_fragment$1b(T){let k,$,x,I,L,E,D,F,P,U,M,z,N,q,j,W,H,Q,K,G,V,Y,J;return x=new ProfilePicture$1({props:{src:T[0],height:50}}),{c(){k=element("div"),$=element("div"),create_component(x.$$.fragment),I=space(),L=element("div"),E=element("p"),E.textContent="Fill out this form to change your password:",D=space(),F=element("input"),P=space(),U=element("input"),M=space(),z=element("input"),N=space(),q=element("div"),j=element("div"),W=element("button"),W.textContent="Cancel",H=space(),Q=element("button"),K=text("Change"),attr(F,"type","password"),attr(F,"name","current"),attr(F,"placeholder","Current password"),attr(U,"type","password"),attr(U,"name","current"),attr(U,"placeholder","New password"),attr(z,"type","password"),attr(z,"name","current"),attr(z,"placeholder","Confirm new password"),Q.disabled=G=T[2]!=T[3]||!T[2]||!T[3],attr(q,"class","apply"),attr(L,"class","field"),attr(k,"class","changepswd-wrapper")},m(X,Z){insert(X,k,Z),append(k,$),mount_component(x,$,null),append(k,I),append(k,L),append(L,E),append(L,D),append(L,F),set_input_value(F,T[1]),append(L,P),append(L,U),set_input_value(U,T[2]),append(L,M),append(L,z),set_input_value(z,T[3]),append(L,N),append(L,q),append(q,j),append(j,W),append(j,H),append(j,Q),append(Q,K),V=!0,Y||(J=[listen(F,"input",T[8]),listen(U,"input",T[9]),listen(z,"input",T[10]),listen(W,"click",T[4]),listen(Q,"click",T[5])],Y=!0)},p(X,[Z]){const ee={};Z&1&&(ee.src=X[0]),x.$set(ee),Z&2&&F.value!==X[1]&&set_input_value(F,X[1]),Z&4&&U.value!==X[2]&&set_input_value(U,X[2]),Z&8&&z.value!==X[3]&&set_input_value(z,X[3]),(!V||Z&12&&G!==(G=X[2]!=X[3]||!X[2]||!X[3]))&&(Q.disabled=G)},i(X){V||(transition_in(x.$$.fragment,X),V=!0)},o(X){transition_out(x.$$.fragment,X),V=!1},d(X){X&&detach(k),destroy_component(x),Y=!1,run_all(J)}}}function instance$15(T,k,$){let x;component_subscribe(T,UserName,H=>$(11,x=H));let I="",{id:L}=k,{app:E}=k,D="",F="",P="";UserData$2.subscribe(H=>{$(0,I=getProfilePicture(H.acc.profilePicture))});function U(){hideOverlay(L,E.id)}function M(){N(),U()}async function z(){if(!await changePassword(x,D,F,P))return createOverlayableError({title:"Couldn't change password",message:"An error occured while changing your password. Please make sure the entered information is correct, and then try again.",buttons:[{caption:"OK",action:N}],image:passwordIcon},E.id);createOverlayableError({title:"Password changed.",message:"Your password has been updated successfully.",buttons:[{caption:"OK",action:M}],image:passwordIcon},E.id)}function N(){$(1,D=""),$(2,F=""),$(3,P="")}function q(){D=this.value,$(1,D)}function j(){F=this.value,$(2,F)}function W(){P=this.value,$(3,P)}return T.$$set=H=>{"id"in H&&$(6,L=H.id),"app"in H&&$(7,E=H.app)},[I,D,F,P,U,z,L,E,q,j,W]}class ChangePassword extends SvelteComponent{constructor(k){super(),init(this,k,instance$15,create_fragment$1b,safe_not_equal,{id:6,app:7})}}const changeUname="";function create_fragment$1a(T){let k,$,x,I,L,E,D,F,P,U,M,z,N,q,j,W,H,Q,K,G,V,Y;return x=new ProfilePicture$1({props:{src:T[0],height:50}}),{c(){k=element("div"),$=element("div"),create_component(x.$$.fragment),I=space(),L=element("div"),E=element("p"),D=text(T[2]),F=space(),P=element("p"),P.textContent="Enter a new username",U=space(),M=element("input"),z=space(),N=element("div"),q=element("div"),j=element("button"),j.textContent="Cancel",W=space(),H=element("button"),Q=text("Change"),attr(E,"class","username"),attr(M,"type","text"),attr(M,"name","current"),attr(M,"placeholder","New username"),H.disabled=K=!T[1],attr(N,"class","apply"),attr(L,"class","field"),attr(k,"class","changename-wrapper")},m(J,X){insert(J,k,X),append(k,$),mount_component(x,$,null),append(k,I),append(k,L),append(L,E),append(E,D),append(L,F),append(L,P),append(L,U),append(L,M),set_input_value(M,T[1]),append(L,z),append(L,N),append(N,q),append(q,j),append(q,W),append(q,H),append(H,Q),G=!0,V||(Y=[listen(M,"input",T[7]),listen(j,"click",T[4]),listen(H,"click",T[3])],V=!0)},p(J,[X]){const Z={};X&1&&(Z.src=J[0]),x.$set(Z),(!G||X&4)&&set_data(D,J[2]),X&2&&M.value!==J[1]&&set_input_value(M,J[1]),(!G||X&2&&K!==(K=!J[1]))&&(H.disabled=K)},i(J){G||(transition_in(x.$$.fragment,J),G=!0)},o(J){transition_out(x.$$.fragment,J),G=!1},d(J){J&&detach(k),destroy_component(x),V=!1,run_all(Y)}}}function instance$14(T,k,$){let x;component_subscribe(T,UserName,N=>$(2,x=N));let I="",{id:L}=k,{app:E}=k,D="";UserData$2.subscribe(N=>{$(0,I=getProfilePicture(N.acc.profilePicture))});async function F(){if(!await changeUsername(x,D))return createOverlayableError({title:"Can't rename user",message:"An error occured while trying to rename your account. Please make sure the information is correct, and then try again.",buttons:[{caption:"OK",action:U}],image:usericon},"SettingsApp");createOverlayableError({title:"Username changed.",message:"Your username has been updated successfully.",buttons:[{caption:"OK",action:M}],image:usericon},"SettingsApp")}function P(){hideOverlay(L,E.id)}function U(){$(1,D="")}function M(){U(),P()}function z(){D=this.value,$(1,D)}return T.$$set=N=>{"id"in N&&$(5,L=N.id),"app"in N&&$(6,E=N.app)},[I,D,x,F,P,L,E,z]}class ChangeUsername extends SvelteComponent{constructor(k){super(),init(this,k,instance$14,create_fragment$1a,safe_not_equal,{id:5,app:6})}}const changetitlebuttons="",Default_svelte_svelte_type_style_lang="";function create_fragment$19(T){let k,$,x,I,L,E,D,F,P,U,M,z,N;return{c(){k=element("button"),$=text("minimize"),I=space(),L=element("button"),E=text("crop_square"),F=space(),P=element("button"),U=text("close"),attr(k,"class","material-icons-round reset svelte-63zn7"),k.disabled=x=!T[0].controls.min||T[1],attr(L,"class","material-icons-round reset svelte-63zn7"),L.disabled=D=!T[0].controls.max||T[1],attr(P,"class","material-icons-round reset svelte-63zn7"),P.disabled=M=!T[0].controls.cls||T[1]},m(q,j){insert(q,k,j),append(k,$),insert(q,I,j),insert(q,L,j),append(L,E),insert(q,F,j),insert(q,P,j),append(P,U),z||(N=[listen(k,"click",function(){is_function(T[2])&&T[2].apply(this,arguments)}),listen(L,"click",function(){is_function(T[3])&&T[3].apply(this,arguments)}),listen(P,"click",function(){is_function(T[4])&&T[4].apply(this,arguments)})],z=!0)},p(q,[j]){T=q,j&3&&x!==(x=!T[0].controls.min||T[1])&&(k.disabled=x),j&3&&D!==(D=!T[0].controls.max||T[1])&&(L.disabled=D),j&3&&M!==(M=!T[0].controls.cls||T[1])&&(P.disabled=M)},i:noop$1,o:noop$1,d(q){q&&(detach(k),detach(I),detach(L),detach(F),detach(P)),z=!1,run_all(N)}}}function instance$13(T,k,$){let{app:x}=k,{isBoot:I}=k,{min:L}=k,{max:E}=k,{cls:D}=k;return T.$$set=F=>{"app"in F&&$(0,x=F.app),"isBoot"in F&&$(1,I=F.isBoot),"min"in F&&$(2,L=F.min),"max"in F&&$(3,E=F.max),"cls"in F&&$(4,D=F.cls)},[x,I,L,E,D]}class Default extends SvelteComponent{constructor(k){super(),init(this,k,instance$13,create_fragment$19,safe_not_equal,{app:0,isBoot:1,min:2,max:3,cls:4})}}const Traffic_svelte_svelte_type_style_lang="";function create_fragment$18(T){let k,$,x,I,L,E,D,F,P,U;return{c(){k=element("button"),x=space(),I=element("button"),E=space(),D=element("button"),attr(k,"class","traffic-cls reset svelte-1ti4j67"),k.disabled=$=!T[0].controls.cls||T[1],attr(I,"class","traffic-min reset svelte-1ti4j67"),I.disabled=L=!T[0].controls.min||T[1],attr(D,"class","traffic-max reset svelte-1ti4j67"),D.disabled=F=!T[0].controls.max||T[1]},m(M,z){insert(M,k,z),insert(M,x,z),insert(M,I,z),insert(M,E,z),insert(M,D,z),P||(U=[listen(k,"click",function(){is_function(T[4])&&T[4].apply(this,arguments)}),listen(I,"click",function(){is_function(T[2])&&T[2].apply(this,arguments)}),listen(D,"click",function(){is_function(T[3])&&T[3].apply(this,arguments)})],P=!0)},p(M,[z]){T=M,z&3&&$!==($=!T[0].controls.cls||T[1])&&(k.disabled=$),z&3&&L!==(L=!T[0].controls.min||T[1])&&(I.disabled=L),z&3&&F!==(F=!T[0].controls.max||T[1])&&(D.disabled=F)},i:noop$1,o:noop$1,d(M){M&&(detach(k),detach(x),detach(I),detach(E),detach(D)),P=!1,run_all(U)}}}function instance$12(T,k,$){let{app:x}=k,{isBoot:I}=k,{min:L}=k,{max:E}=k,{cls:D}=k;return T.$$set=F=>{"app"in F&&$(0,x=F.app),"isBoot"in F&&$(1,I=F.isBoot),"min"in F&&$(2,L=F.min),"max"in F&&$(3,E=F.max),"cls"in F&&$(4,D=F.cls)},[x,I,L,E,D]}class Traffic extends SvelteComponent{constructor(k){super(),init(this,k,instance$12,create_fragment$18,safe_not_equal,{app:0,isBoot:1,min:2,max:3,cls:4})}}const OG_svelte_svelte_type_style_lang="";function create_fragment$17(T){let k,$,x,I,L,E,D,F,P;return{c(){k=element("button"),$=text("🗕"),I=space(),L=element("button"),E=text("✖"),attr(k,"class","reset svelte-1f14mwt"),k.disabled=x=T[1]||!T[0].controls.min,attr(L,"class","reset close svelte-1f14mwt"),L.disabled=D=T[1]||!T[0].controls.cls},m(U,M){insert(U,k,M),append(k,$),insert(U,I,M),insert(U,L,M),append(L,E),F||(P=[listen(k,"click",function(){is_function(T[2])&&T[2].apply(this,arguments)}),listen(L,"click",function(){is_function(T[3])&&T[3].apply(this,arguments)})],F=!0)},p(U,[M]){T=U,M&3&&x!==(x=T[1]||!T[0].controls.min)&&(k.disabled=x),M&3&&D!==(D=T[1]||!T[0].controls.cls)&&(L.disabled=D)},i:noop$1,o:noop$1,d(U){U&&(detach(k),detach(I),detach(L)),F=!1,run_all(P)}}}function instance$11(T,k,$){let{app:x}=k,{isBoot:I}=k,{min:L}=k,{cls:E}=k;return T.$$set=D=>{"app"in D&&$(0,x=D.app),"isBoot"in D&&$(1,I=D.isBoot),"min"in D&&$(2,L=D.min),"cls"in D&&$(3,E=D.cls)},[x,I,L,E]}class OG extends SvelteComponent{constructor(k){super(),init(this,k,instance$11,create_fragment$17,safe_not_equal,{app:0,isBoot:1,min:2,cls:3})}}const titlebarButtons={default:{caption:"Default",author:"ArcOS Team",content:Default},traffic:{caption:"Traffic Lights",author:"Apple",content:Traffic},og:{caption:"O.G.",author:"WebOSv3 Team",content:OG}},DummyApp={info:{name:"Dummy",description:"I'm a dummy!",builtin:!0,version:"1.0.0",author:"Robots",icon:dummyIcon},pos:{x:0,y:0},minSize:{w:0,h:0},maxSize:{w:0,h:0},size:{w:0,h:0},controls:{min:!0,max:!0,cls:!0},state:{headless:!1,resizable:!0,windowState:{fll:!1,max:!1,min:!1}},glass:!1,content:null};function create_fragment$16(T){let k,$,x,I,L,E,D,F=T[0].caption+"",P,U,M,z,N=T[0].author+"",q,j,W,H=T[2].sh.window.buttons==T[1]?"Applied":"Apply",Q,K,G,V,Y;var J=T[0].content;function X(Z){return{props:{app:DummyApp}}}return J&&(I=construct_svelte_component(J,X())),{c(){k=element("div"),$=element("div"),x=element("div"),I&&create_component(I.$$.fragment),L=space(),E=element("div"),D=element("p"),P=text(F),U=space(),M=element("p"),z=text("By: "),q=text(N),j=space(),W=element("button"),Q=text(H),attr(x,"class","tb"),attr($,"class","preview"),attr(D,"class","title"),attr(M,"class","author"),attr(E,"class","details"),attr(W,"class","apply"),W.disabled=K=T[2].sh.window.buttons==T[1],attr(k,"class","item")},m(Z,ee){insert(Z,k,ee),append(k,$),append($,x),I&&mount_component(I,x,null),append(k,L),append(k,E),append(E,D),append(D,P),append(E,U),append(E,M),append(M,z),append(M,q),append(k,j),append(k,W),append(W,Q),G=!0,V||(Y=listen(W,"click",T[3]),V=!0)},p(Z,[ee]){if(ee&1&&J!==(J=Z[0].content)){if(I){group_outros();const re=I;transition_out(re.$$.fragment,1,0,()=>{destroy_component(re,1)}),check_outros()}J?(I=construct_svelte_component(J,X()),create_component(I.$$.fragment),transition_in(I.$$.fragment,1),mount_component(I,x,null)):I=null}(!G||ee&1)&&F!==(F=Z[0].caption+"")&&set_data(P,F),(!G||ee&1)&&N!==(N=Z[0].author+"")&&set_data(q,N),(!G||ee&6)&&H!==(H=Z[2].sh.window.buttons==Z[1]?"Applied":"Apply")&&set_data(Q,H),(!G||ee&6&&K!==(K=Z[2].sh.window.buttons==Z[1]))&&(W.disabled=K)},i(Z){G||(I&&transition_in(I.$$.fragment,Z),G=!0)},o(Z){I&&transition_out(I.$$.fragment,Z),G=!1},d(Z){Z&&detach(k),I&&destroy_component(I),V=!1,Y()}}}function instance$10(T,k,$){let x;component_subscribe(T,UserData$2,D=>$(2,x=D));let{data:I}=k,{id:L}=k;function E(){set_store_value(UserData$2,x.sh.window.buttons=L,x)}return T.$$set=D=>{"data"in D&&$(0,I=D.data),"id"in D&&$(1,L=D.id)},[I,L,x,E]}let Item$1=class extends SvelteComponent{constructor(k){super(),init(this,k,instance$10,create_fragment$16,safe_not_equal,{data:0,id:1})}};function get_each_context$k(T,k,$){const x=T.slice();return x[2]=k[$],x}function create_each_block$k(T){let k,$;return k=new Item$1({props:{id:T[2][0],data:T[2][1]}}),{c(){create_component(k.$$.fragment)},m(x,I){mount_component(k,x,I),$=!0},p:noop$1,i(x){$||(transition_in(k.$$.fragment,x),$=!0)},o(x){transition_out(k.$$.fragment,x),$=!1},d(x){destroy_component(k,x)}}}function create_fragment$15(T){let k,$,x,I,L,E,D,F;k=new CloseButton({props:{app:T[0],id:T[1]}});let P=ensure_array_like(Object.entries(titlebarButtons)),U=[];for(let z=0;z<P.length;z+=1)U[z]=create_each_block$k(get_each_context$k(T,P,z));const M=z=>transition_out(U[z],1,1,()=>{U[z]=null});return{c(){create_component(k.$$.fragment),$=space(),x=element("h3"),x.textContent="Titlebar buttons",I=space(),L=element("p"),L.textContent="Choose one of the titlebar button styles:",E=space();for(let z=0;z<U.length;z+=1)U[z].c();D=empty(),attr(x,"class","header"),attr(L,"class","subheader")},m(z,N){mount_component(k,z,N),insert(z,$,N),insert(z,x,N),insert(z,I,N),insert(z,L,N),insert(z,E,N);for(let q=0;q<U.length;q+=1)U[q]&&U[q].m(z,N);insert(z,D,N),F=!0},p(z,[N]){const q={};if(N&1&&(q.app=z[0]),N&2&&(q.id=z[1]),k.$set(q),N&0){P=ensure_array_like(Object.entries(titlebarButtons));let j;for(j=0;j<P.length;j+=1){const W=get_each_context$k(z,P,j);U[j]?(U[j].p(W,N),transition_in(U[j],1)):(U[j]=create_each_block$k(W),U[j].c(),transition_in(U[j],1),U[j].m(D.parentNode,D))}for(group_outros(),j=P.length;j<U.length;j+=1)M(j);check_outros()}},i(z){if(!F){transition_in(k.$$.fragment,z);for(let N=0;N<P.length;N+=1)transition_in(U[N]);F=!0}},o(z){transition_out(k.$$.fragment,z),U=U.filter(Boolean);for(let N=0;N<U.length;N+=1)transition_out(U[N]);F=!1},d(z){z&&(detach($),detach(x),detach(I),detach(L),detach(E),detach(D)),destroy_component(k,z),destroy_each(U,z)}}}function instance$$(T,k,$){let{app:x}=k,{id:I}=k;return T.$$set=L=>{"app"in L&&$(0,x=L.app),"id"in L&&$(1,I=L.id)},[x,I]}class ChangeTitleButtons extends SvelteComponent{constructor(k){super(),init(this,k,instance$$,create_fragment$15,safe_not_equal,{app:0,id:1})}}const customWallpaper="";function create_fragment$14(T){let k,$,x,I,L,E,D,F,P,U,M,z,N,q,j,W,H,Q,K;return{c(){k=element("div"),$=element("div"),x=element("img"),L=space(),E=element("div"),D=element("p"),D.textContent="Enter the URL to a custom wallpaper:",F=space(),P=element("input"),U=space(),M=element("div"),z=element("div"),N=element("button"),N.textContent="Cancel",q=space(),j=element("button"),W=text("Apply"),src_url_equal(x.src,I=desktopIcon)||attr(x,"src",I),attr(x,"alt",""),attr(P,"type","url"),attr(P,"placeholder","https://example.com/image.png"),j.disabled=H=!T[1]||!T[0],attr(M,"class","apply"),attr(E,"class","field"),attr(k,"class","customwallpaper-wrapper")},m(G,V){insert(G,k,V),append(k,$),append($,x),append(k,L),append(k,E),append(E,D),append(E,F),append(E,P),set_input_value(P,T[1]),append(E,U),append(E,M),append(M,z),append(z,N),append(z,q),append(z,j),append(j,W),Q||(K=[listen(P,"input",T[5]),listen(P,"input",T[3]),listen(N,"click",T[4]),listen(j,"click",T[2])],Q=!0)},p(G,[V]){V&2&&P.value!==G[1]&&set_input_value(P,G[1]),V&3&&H!==(H=!G[1]||!G[0])&&(j.disabled=H)},i:noop$1,o:noop$1,d(G){G&&detach(k),Q=!1,run_all(K)}}}async function checkImage(T){if(!T)return;const k=new Image;return k.src=T,new Promise($=>{k.onload=()=>$(!0),k.onerror=()=>$(!1)})}function instance$_(T,k,$){let x;component_subscribe(T,UserData$2,U=>$(6,x=U));let I=!1,L;function E(){set_store_value(UserData$2,x.sh.desktop.wallpaper=L,x),F()}onMount(()=>{x.sh.desktop.wallpaper.startsWith("http")&&$(1,L=x.sh.desktop.wallpaper)});async function D(){const U=await checkImage(L);$(0,I=U)}function F(){hideOverlay("customWallpaper","SettingsApp")}UserData$2.subscribe(U=>{typeof U.sh.desktop.wallpaper=="string"&&U.sh.desktop.wallpaper.startsWith("http")&&$(1,L=U.sh.desktop.wallpaper),D()});function P(){L=this.value,$(1,L)}return[I,L,E,D,F,P]}class CustomWallpaper extends SvelteComponent{constructor(k){super(),init(this,k,instance$_,create_fragment$14,safe_not_equal,{})}}const savetheme="";function create_fragment$13(T){let k,$,x,I,L,E,D,F,P,U,M,z,N,q,j,W,H,Q,K;return W=new Current({}),{c(){k=element("div"),$=element("h3"),$.textContent="Save theme",x=space(),I=element("p"),I.textContent="Choose a name for your theme:",L=space(),E=element("input"),D=space(),F=element("div"),P=element("button"),U=text("Save"),z=space(),N=element("button"),N.textContent="Cancel",q=space(),j=element("div"),create_component(W.$$.fragment),attr($,"class","header"),attr(E,"type","text"),P.disabled=M=!T[0],attr(F,"class","actions"),attr(k,"class","form"),attr(j,"class","desktop-page")},m(G,V){insert(G,k,V),append(k,$),append(k,x),append(k,I),append(k,L),append(k,E),set_input_value(E,T[0]),append(k,D),append(k,F),append(F,P),append(P,U),append(F,z),append(F,N),insert(G,q,V),insert(G,j,V),mount_component(W,j,null),H=!0,Q||(K=[listen(E,"input",T[3]),listen(P,"click",T[2]),listen(N,"click",T[1])],Q=!0)},p(G,[V]){V&1&&E.value!==G[0]&&set_input_value(E,G[0]),(!H||V&1&&M!==(M=!G[0]))&&(P.disabled=M)},i(G){H||(transition_in(W.$$.fragment,G),H=!0)},o(G){transition_out(W.$$.fragment,G),H=!1},d(G){G&&(detach(k),detach(q),detach(j)),destroy_component(W),Q=!1,run_all(K)}}}function instance$Z(T,k,$){let x;function I(){hideOverlay("saveTheme","SettingsApp")}function L(){saveCurrentTheme(x),I()}function E(){x=this.value,$(0,x)}return[x,I,L,E]}class SaveTheme extends SvelteComponent{constructor(k){super(),init(this,k,instance$Z,create_fragment$13,safe_not_equal,{})}}const saveToFS={caption:"Save to ArcFS",action:async(T,k)=>{const $=new Blob([JSON.stringify(JSON.parse(k.json),null,2)],{type:"application/json"});await createDirectory("./Themes");const x=`${k.name}.arctheme`,I=`./Themes/${x}`;await writeFile(I,$),openWindow("FileManager"),await fbClass.goToDirectory("./Themes"),setTimeout(()=>{FileBrowserSelectedFilename.set(x)})},icon:"save"},SettingsAppContext={"themerenderer-user":[{caption:"Delete",action:(T,k)=>{createOverlayableError({title:"Delete theme?",message:"Are you sure you want to delete this theme?",image:themesIcon,buttons:[{caption:"Delete",action(){deleteCustomTheme(k.id)}},{caption:"Cancel",action(){}}]},"SettingsApp")},icon:"delete"},saveToFS],"themerenderer-system":[saveToFS],"accountpage-hostname":[{caption:"View user data",action:()=>{showOverlay("udataExplorer","SettingsApp")},icon:"account_tree"},{caption:"Copy server",action:()=>{navigator.clipboard.writeText(getServer()||"localhost")},icon:"copy"}],"appearance-accentselector":[{caption:"Copy color code",action:(T,k)=>{navigator.clipboard.writeText(`#${k.hex}`)},icon:"copy"}]},ProfilePictureOverlays={pfpSel:{info:{name:"Profile Picture Selector",version:"1.0.0",author:"ArcOS Team"},content:ProfilePicture,size:{w:382,h:410},show:!1},customPfp:{info:{name:"Custom Profile Picture",version:"1.0.0",author:"ArcOS Team"},content:CustomProfilePicture,size:{w:350,h:125},show:!1},largePfp:{info:{name:"View Profile Picture",version:"1.0.0",author:"ArcOS Team"},content:ProfilePictureView,size:{w:320,h:360},show:!1},changeTitleButtons:{info:{name:"Change Titlebar Buttons",version:"1.0.0",author:"ArcOS Team"},content:ChangeTitleButtons,size:{w:400,h:300},show:!1}},AccountPageOverlays={udataExplorer:{info:{name:"User Data Explorer",version:"1.0.0",author:"ArcOS Team"},content:UserDataExplorer_1,size:{w:550,h:400},show:!1},changePswd:{info:{name:"Change Password",version:"1.0.0",author:"ArcOS Team"},content:ChangePassword,size:{w:370,h:195},show:!1},changeUsername:{info:{name:"Change Username",version:"1.0.0",author:"ArcOS Team"},content:ChangeUsername,size:{w:370,h:155},show:!1}},DesktopOverlays={customWallpaper:{info:{name:"Custom Wallpaper",version:"1.0.0",author:"ArcOS Team"},content:CustomWallpaper,size:{w:370,h:118},show:!1}},ThemeOverlays={saveTheme:{info:{name:"Save Theme",version:"1.0.0",author:"ArcOS Team"},content:SaveTheme,size:{w:450,h:170},show:!1}},SettingsApp={info:{name:"System Settings",description:"Change the way ArcOS works",builtin:!0,version:"4.0.0",author:"ArcOS Team",icon:logo,appGroup:"systemTools"},size:{w:730,h:500},pos:{x:30,y:40},minSize:{w:730,h:500},maxSize:{w:1100,h:600},controls:{min:!0,max:!0,cls:!0},state:{headless:!1,resizable:!0,windowState:{min:!1,max:!1,fll:!1}},content:SettingsApp$1,glass:!0,overlays:{...ProfilePictureOverlays,...AccountPageOverlays,...DesktopOverlays,...ThemeOverlays},events:{close(){currentSettingsPage.set(SettingsPages[0])},open(){currentSettingsPage.set(SettingsPages[0])}},contextMenu:SettingsAppContext},actioncenter="";function get_each_context$j(T,k,$){const x=T.slice();return x[3]=k[$],x}function create_else_block$9(T){let k,$=T[0][1].icon+"",x;return{c(){k=element("span"),x=text($),attr(k,"class","material-icons-round")},m(I,L){insert(I,k,L),append(k,x)},p(I,L){L&1&&$!==($=I[0][1].icon+"")&&set_data(x,$)},d(I){I&&detach(k)}}}function create_if_block$w(T){let k,$,x;return{c(){k=element("img"),src_url_equal(k.src,$=T[0][1].image)||attr(k,"src",$),attr(k,"alt",x=T[0][1].title)},m(I,L){insert(I,k,L)},p(I,L){L&1&&!src_url_equal(k.src,$=I[0][1].image)&&attr(k,"src",$),L&1&&x!==(x=I[0][1].title)&&attr(k,"alt",x)},d(I){I&&detach(k)}}}function create_each_block$j(T){let k,$=T[3].caption+"",x,I,L;return{c(){k=element("button"),x=text($)},m(E,D){insert(E,k,D),append(k,x),I||(L=listen(k,"click",function(){is_function(T[2](T[3].action))&&T[2](T[3].action).apply(this,arguments)}),I=!0)},p(E,D){T=E,D&1&&$!==($=T[3].caption+"")&&set_data(x,$)},d(E){E&&detach(k),I=!1,L()}}}function create_fragment$12(T){let k,$,x,I=T[0][1].title+"",L,E,D,F,P,U=T[0][1].message+"",M,z,N,q,j;function W(V,Y){return V[0][1].image?create_if_block$w:create_else_block$9}let H=W(T),Q=H(T),K=ensure_array_like(T[0][1].buttons),G=[];for(let V=0;V<K.length;V+=1)G[V]=create_each_block$j(get_each_context$j(T,K,V));return{c(){k=element("div"),$=element("p"),Q.c(),x=space(),L=text(I),E=space(),D=element("button"),D.textContent="close",F=space(),P=element("p"),M=space(),z=element("div"),N=element("div");for(let V=0;V<G.length;V+=1)G[V].c();attr(D,"class","close material-icons-round"),attr($,"class","title"),attr(P,"class","content"),attr(N,"class","inner"),attr(z,"class","buttons"),attr(k,"class","notification ac")},m(V,Y){insert(V,k,Y),append(k,$),Q.m($,null),append($,x),append($,L),append($,E),append($,D),append(k,F),append(k,P),P.innerHTML=U,append(k,M),append(k,z),append(z,N);for(let J=0;J<G.length;J+=1)G[J]&&G[J].m(N,null);q||(j=listen(D,"click",T[1]),q=!0)},p(V,[Y]){if(H===(H=W(V))&&Q?Q.p(V,Y):(Q.d(1),Q=H(V),Q&&(Q.c(),Q.m($,x))),Y&1&&I!==(I=V[0][1].title+"")&&set_data(L,I),Y&1&&U!==(U=V[0][1].message+"")&&(P.innerHTML=U),Y&5){K=ensure_array_like(V[0][1].buttons);let J;for(J=0;J<K.length;J+=1){const X=get_each_context$j(V,K,J);G[J]?G[J].p(X,Y):(G[J]=create_each_block$j(X),G[J].c(),G[J].m(N,null))}for(;J<G.length;J+=1)G[J].d(1);G.length=K.length}},i:noop$1,o:noop$1,d(V){V&&detach(k),Q.d(),destroy_each(G,V),q=!1,j()}}}function instance$Y(T,k,$){let{notification:x}=k;function I(){deleteNotification(x[0]),CurrentNotification.set(null)}function L(E){return()=>{E(),I(),ActionCenterOpened.set(!1)}}return T.$$set=E=>{"notification"in E&&$(0,x=E.notification)},[x,I,L]}class Notification extends SvelteComponent{constructor(k){super(),init(this,k,instance$Y,create_fragment$12,safe_not_equal,{notification:0})}}function get_each_context$i(T,k,$){const x=T.slice();return x[1]=k[$],x}function create_each_block$i(T){let k,$;return k=new Notification({props:{notification:T[1]}}),{c(){create_component(k.$$.fragment)},m(x,I){mount_component(k,x,I),$=!0},p(x,I){const L={};I&1&&(L.notification=x[1]),k.$set(L)},i(x){$||(transition_in(k.$$.fragment,x),$=!0)},o(x){transition_out(k.$$.fragment,x),$=!1},d(x){destroy_component(k,x)}}}function create_if_block$v(T){let k;return{c(){k=element("p"),k.textContent="You have no notifications",attr(k,"class","none")},m($,x){insert($,k,x)},d($){$&&detach(k)}}}function create_fragment$11(T){let k,$,x=Object.entries(T[0]).length==0,I,L=ensure_array_like(Object.entries(T[0])),E=[];for(let P=0;P<L.length;P+=1)E[P]=create_each_block$i(get_each_context$i(T,L,P));const D=P=>transition_out(E[P],1,1,()=>{E[P]=null});let F=x&&create_if_block$v();return{c(){k=element("div");for(let P=0;P<E.length;P+=1)E[P].c();$=space(),F&&F.c(),attr(k,"class","notifications")},m(P,U){insert(P,k,U);for(let M=0;M<E.length;M+=1)E[M]&&E[M].m(k,null);append(k,$),F&&F.m(k,null),I=!0},p(P,[U]){if(U&1){L=ensure_array_like(Object.entries(P[0]));let M;for(M=0;M<L.length;M+=1){const z=get_each_context$i(P,L,M);E[M]?(E[M].p(z,U),transition_in(E[M],1)):(E[M]=create_each_block$i(z),E[M].c(),transition_in(E[M],1),E[M].m(k,$))}for(group_outros(),M=L.length;M<E.length;M+=1)D(M);check_outros()}U&1&&(x=Object.entries(P[0]).length==0),x?F||(F=create_if_block$v(),F.c(),F.m(k,null)):F&&(F.d(1),F=null)},i(P){if(!I){for(let U=0;U<L.length;U+=1)transition_in(E[U]);I=!0}},o(P){E=E.filter(Boolean);for(let U=0;U<E.length;U+=1)transition_out(E[U]);I=!1},d(P){P&&detach(k),destroy_each(E,P),F&&F.d()}}}function instance$X(T,k,$){let x;return component_subscribe(T,NotificationStore,I=>$(0,x=I)),[x]}class Notifications extends SvelteComponent{constructor(k){super(),init(this,k,instance$X,create_fragment$11,safe_not_equal,{})}}function isArray(T){return Array.isArray?Array.isArray(T):getTag(T)==="[object Array]"}const INFINITY=1/0;function baseToString(T){if(typeof T=="string")return T;let k=T+"";return k=="0"&&1/T==-INFINITY?"-0":k}function toString(T){return T==null?"":baseToString(T)}function isString(T){return typeof T=="string"}function isNumber(T){return typeof T=="number"}function isBoolean(T){return T===!0||T===!1||isObjectLike(T)&&getTag(T)=="[object Boolean]"}function isObject(T){return typeof T=="object"}function isObjectLike(T){return isObject(T)&&T!==null}function isDefined(T){return T!=null}function isBlank(T){return!T.trim().length}function getTag(T){return T==null?T===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(T)}const EXTENDED_SEARCH_UNAVAILABLE="Extended search is not available",INCORRECT_INDEX_TYPE="Incorrect 'index' type",LOGICAL_SEARCH_INVALID_QUERY_FOR_KEY=T=>`Invalid value for key ${T}`,PATTERN_LENGTH_TOO_LARGE=T=>`Pattern length exceeds max of ${T}.`,MISSING_KEY_PROPERTY=T=>`Missing ${T} property in key`,INVALID_KEY_WEIGHT_VALUE=T=>`Property 'weight' in key '${T}' must be a positive integer`,hasOwn=Object.prototype.hasOwnProperty;class KeyStore{constructor(k){this._keys=[],this._keyMap={};let $=0;k.forEach(x=>{let I=createKey(x);$+=I.weight,this._keys.push(I),this._keyMap[I.id]=I,$+=I.weight}),this._keys.forEach(x=>{x.weight/=$})}get(k){return this._keyMap[k]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function createKey(T){let k=null,$=null,x=null,I=1,L=null;if(isString(T)||isArray(T))x=T,k=createKeyPath(T),$=createKeyId(T);else{if(!hasOwn.call(T,"name"))throw new Error(MISSING_KEY_PROPERTY("name"));const E=T.name;if(x=E,hasOwn.call(T,"weight")&&(I=T.weight,I<=0))throw new Error(INVALID_KEY_WEIGHT_VALUE(E));k=createKeyPath(E),$=createKeyId(E),L=T.getFn}return{path:k,id:$,weight:I,src:x,getFn:L}}function createKeyPath(T){return isArray(T)?T:T.split(".")}function createKeyId(T){return isArray(T)?T.join("."):T}function get(T,k){let $=[],x=!1;const I=(L,E,D)=>{if(isDefined(L))if(!E[D])$.push(L);else{let F=E[D];const P=L[F];if(!isDefined(P))return;if(D===E.length-1&&(isString(P)||isNumber(P)||isBoolean(P)))$.push(toString(P));else if(isArray(P)){x=!0;for(let U=0,M=P.length;U<M;U+=1)I(P[U],E,D+1)}else E.length&&I(P,E,D+1)}};return I(T,isString(k)?k.split("."):k,0),x?$:$[0]}const MatchOptions={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},BasicOptions={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(T,k)=>T.score===k.score?T.idx<k.idx?-1:1:T.score<k.score?-1:1},FuzzyOptions={location:0,threshold:.6,distance:100},AdvancedOptions={useExtendedSearch:!1,getFn:get,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var Config$1={...BasicOptions,...MatchOptions,...FuzzyOptions,...AdvancedOptions};const SPACE=/[^ ]+/g;function norm(T=1,k=3){const $=new Map,x=Math.pow(10,k);return{get(I){const L=I.match(SPACE).length;if($.has(L))return $.get(L);const E=1/Math.pow(L,.5*T),D=parseFloat(Math.round(E*x)/x);return $.set(L,D),D},clear(){$.clear()}}}class FuseIndex{constructor({getFn:k=Config$1.getFn,fieldNormWeight:$=Config$1.fieldNormWeight}={}){this.norm=norm($,3),this.getFn=k,this.isCreated=!1,this.setIndexRecords()}setSources(k=[]){this.docs=k}setIndexRecords(k=[]){this.records=k}setKeys(k=[]){this.keys=k,this._keysMap={},k.forEach(($,x)=>{this._keysMap[$.id]=x})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,isString(this.docs[0])?this.docs.forEach((k,$)=>{this._addString(k,$)}):this.docs.forEach((k,$)=>{this._addObject(k,$)}),this.norm.clear())}add(k){const $=this.size();isString(k)?this._addString(k,$):this._addObject(k,$)}removeAt(k){this.records.splice(k,1);for(let $=k,x=this.size();$<x;$+=1)this.records[$].i-=1}getValueForItemAtKeyId(k,$){return k[this._keysMap[$]]}size(){return this.records.length}_addString(k,$){if(!isDefined(k)||isBlank(k))return;let x={v:k,i:$,n:this.norm.get(k)};this.records.push(x)}_addObject(k,$){let x={i:$,$:{}};this.keys.forEach((I,L)=>{let E=I.getFn?I.getFn(k):this.getFn(k,I.path);if(isDefined(E)){if(isArray(E)){let D=[];const F=[{nestedArrIndex:-1,value:E}];for(;F.length;){const{nestedArrIndex:P,value:U}=F.pop();if(isDefined(U))if(isString(U)&&!isBlank(U)){let M={v:U,i:P,n:this.norm.get(U)};D.push(M)}else isArray(U)&&U.forEach((M,z)=>{F.push({nestedArrIndex:z,value:M})})}x.$[L]=D}else if(isString(E)&&!isBlank(E)){let D={v:E,n:this.norm.get(E)};x.$[L]=D}}}),this.records.push(x)}toJSON(){return{keys:this.keys,records:this.records}}}function createIndex(T,k,{getFn:$=Config$1.getFn,fieldNormWeight:x=Config$1.fieldNormWeight}={}){const I=new FuseIndex({getFn:$,fieldNormWeight:x});return I.setKeys(T.map(createKey)),I.setSources(k),I.create(),I}function parseIndex(T,{getFn:k=Config$1.getFn,fieldNormWeight:$=Config$1.fieldNormWeight}={}){const{keys:x,records:I}=T,L=new FuseIndex({getFn:k,fieldNormWeight:$});return L.setKeys(x),L.setIndexRecords(I),L}function computeScore$1(T,{errors:k=0,currentLocation:$=0,expectedLocation:x=0,distance:I=Config$1.distance,ignoreLocation:L=Config$1.ignoreLocation}={}){const E=k/T.length;if(L)return E;const D=Math.abs(x-$);return I?E+D/I:D?1:E}function convertMaskToIndices(T=[],k=Config$1.minMatchCharLength){let $=[],x=-1,I=-1,L=0;for(let E=T.length;L<E;L+=1){let D=T[L];D&&x===-1?x=L:!D&&x!==-1&&(I=L-1,I-x+1>=k&&$.push([x,I]),x=-1)}return T[L-1]&&L-x>=k&&$.push([x,L-1]),$}const MAX_BITS=32;function search(T,k,$,{location:x=Config$1.location,distance:I=Config$1.distance,threshold:L=Config$1.threshold,findAllMatches:E=Config$1.findAllMatches,minMatchCharLength:D=Config$1.minMatchCharLength,includeMatches:F=Config$1.includeMatches,ignoreLocation:P=Config$1.ignoreLocation}={}){if(k.length>MAX_BITS)throw new Error(PATTERN_LENGTH_TOO_LARGE(MAX_BITS));const U=k.length,M=T.length,z=Math.max(0,Math.min(x,M));let N=L,q=z;const j=D>1||F,W=j?Array(M):[];let H;for(;(H=T.indexOf(k,q))>-1;){let J=computeScore$1(k,{currentLocation:H,expectedLocation:z,distance:I,ignoreLocation:P});if(N=Math.min(J,N),q=H+U,j){let X=0;for(;X<U;)W[H+X]=1,X+=1}}q=-1;let Q=[],K=1,G=U+M;const V=1<<U-1;for(let J=0;J<U;J+=1){let X=0,Z=G;for(;X<Z;)computeScore$1(k,{errors:J,currentLocation:z+Z,expectedLocation:z,distance:I,ignoreLocation:P})<=N?X=Z:G=Z,Z=Math.floor((G-X)/2+X);G=Z;let ee=Math.max(1,z-Z+1),re=E?M:Math.min(z+Z,M)+U,ce=Array(re+2);ce[re+1]=(1<<J)-1;for(let ae=re;ae>=ee;ae-=1){let se=ae-1,ne=$[T.charAt(se)];if(j&&(W[se]=+!!ne),ce[ae]=(ce[ae+1]<<1|1)&ne,J&&(ce[ae]|=(Q[ae+1]|Q[ae])<<1|1|Q[ae+1]),ce[ae]&V&&(K=computeScore$1(k,{errors:J,currentLocation:se,expectedLocation:z,distance:I,ignoreLocation:P}),K<=N)){if(N=K,q=se,q<=z)break;ee=Math.max(1,2*z-q)}}if(computeScore$1(k,{errors:J+1,currentLocation:z,expectedLocation:z,distance:I,ignoreLocation:P})>N)break;Q=ce}const Y={isMatch:q>=0,score:Math.max(.001,K)};if(j){const J=convertMaskToIndices(W,D);J.length?F&&(Y.indices=J):Y.isMatch=!1}return Y}function createPatternAlphabet(T){let k={};for(let $=0,x=T.length;$<x;$+=1){const I=T.charAt($);k[I]=(k[I]||0)|1<<x-$-1}return k}class BitapSearch{constructor(k,{location:$=Config$1.location,threshold:x=Config$1.threshold,distance:I=Config$1.distance,includeMatches:L=Config$1.includeMatches,findAllMatches:E=Config$1.findAllMatches,minMatchCharLength:D=Config$1.minMatchCharLength,isCaseSensitive:F=Config$1.isCaseSensitive,ignoreLocation:P=Config$1.ignoreLocation}={}){if(this.options={location:$,threshold:x,distance:I,includeMatches:L,findAllMatches:E,minMatchCharLength:D,isCaseSensitive:F,ignoreLocation:P},this.pattern=F?k:k.toLowerCase(),this.chunks=[],!this.pattern.length)return;const U=(z,N)=>{this.chunks.push({pattern:z,alphabet:createPatternAlphabet(z),startIndex:N})},M=this.pattern.length;if(M>MAX_BITS){let z=0;const N=M%MAX_BITS,q=M-N;for(;z<q;)U(this.pattern.substr(z,MAX_BITS),z),z+=MAX_BITS;if(N){const j=M-MAX_BITS;U(this.pattern.substr(j),j)}}else U(this.pattern,0)}searchIn(k){const{isCaseSensitive:$,includeMatches:x}=this.options;if($||(k=k.toLowerCase()),this.pattern===k){let q={isMatch:!0,score:0};return x&&(q.indices=[[0,k.length-1]]),q}const{location:I,distance:L,threshold:E,findAllMatches:D,minMatchCharLength:F,ignoreLocation:P}=this.options;let U=[],M=0,z=!1;this.chunks.forEach(({pattern:q,alphabet:j,startIndex:W})=>{const{isMatch:H,score:Q,indices:K}=search(k,q,j,{location:I+W,distance:L,threshold:E,findAllMatches:D,minMatchCharLength:F,includeMatches:x,ignoreLocation:P});H&&(z=!0),M+=Q,H&&K&&(U=[...U,...K])});let N={isMatch:z,score:z?M/this.chunks.length:1};return z&&x&&(N.indices=U),N}}class BaseMatch{constructor(k){this.pattern=k}static isMultiMatch(k){return getMatch(k,this.multiRegex)}static isSingleMatch(k){return getMatch(k,this.singleRegex)}search(){}}function getMatch(T,k){const $=T.match(k);return $?$[1]:null}class ExactMatch extends BaseMatch{constructor(k){super(k)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(k){const $=k===this.pattern;return{isMatch:$,score:$?0:1,indices:[0,this.pattern.length-1]}}}class InverseExactMatch extends BaseMatch{constructor(k){super(k)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(k){const x=k.indexOf(this.pattern)===-1;return{isMatch:x,score:x?0:1,indices:[0,k.length-1]}}}class PrefixExactMatch extends BaseMatch{constructor(k){super(k)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(k){const $=k.startsWith(this.pattern);return{isMatch:$,score:$?0:1,indices:[0,this.pattern.length-1]}}}class InversePrefixExactMatch extends BaseMatch{constructor(k){super(k)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(k){const $=!k.startsWith(this.pattern);return{isMatch:$,score:$?0:1,indices:[0,k.length-1]}}}class SuffixExactMatch extends BaseMatch{constructor(k){super(k)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(k){const $=k.endsWith(this.pattern);return{isMatch:$,score:$?0:1,indices:[k.length-this.pattern.length,k.length-1]}}}class InverseSuffixExactMatch extends BaseMatch{constructor(k){super(k)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(k){const $=!k.endsWith(this.pattern);return{isMatch:$,score:$?0:1,indices:[0,k.length-1]}}}class FuzzyMatch extends BaseMatch{constructor(k,{location:$=Config$1.location,threshold:x=Config$1.threshold,distance:I=Config$1.distance,includeMatches:L=Config$1.includeMatches,findAllMatches:E=Config$1.findAllMatches,minMatchCharLength:D=Config$1.minMatchCharLength,isCaseSensitive:F=Config$1.isCaseSensitive,ignoreLocation:P=Config$1.ignoreLocation}={}){super(k),this._bitapSearch=new BitapSearch(k,{location:$,threshold:x,distance:I,includeMatches:L,findAllMatches:E,minMatchCharLength:D,isCaseSensitive:F,ignoreLocation:P})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(k){return this._bitapSearch.searchIn(k)}}class IncludeMatch extends BaseMatch{constructor(k){super(k)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(k){let $=0,x;const I=[],L=this.pattern.length;for(;(x=k.indexOf(this.pattern,$))>-1;)$=x+L,I.push([x,$-1]);const E=!!I.length;return{isMatch:E,score:E?0:1,indices:I}}}const searchers=[ExactMatch,IncludeMatch,PrefixExactMatch,InversePrefixExactMatch,InverseSuffixExactMatch,SuffixExactMatch,InverseExactMatch,FuzzyMatch],searchersLen=searchers.length,SPACE_RE=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,OR_TOKEN="|";function parseQuery(T,k={}){return T.split(OR_TOKEN).map($=>{let x=$.trim().split(SPACE_RE).filter(L=>L&&!!L.trim()),I=[];for(let L=0,E=x.length;L<E;L+=1){const D=x[L];let F=!1,P=-1;for(;!F&&++P<searchersLen;){const U=searchers[P];let M=U.isMultiMatch(D);M&&(I.push(new U(M,k)),F=!0)}if(!F)for(P=-1;++P<searchersLen;){const U=searchers[P];let M=U.isSingleMatch(D);if(M){I.push(new U(M,k));break}}}return I})}const MultiMatchSet=new Set([FuzzyMatch.type,IncludeMatch.type]);class ExtendedSearch{constructor(k,{isCaseSensitive:$=Config$1.isCaseSensitive,includeMatches:x=Config$1.includeMatches,minMatchCharLength:I=Config$1.minMatchCharLength,ignoreLocation:L=Config$1.ignoreLocation,findAllMatches:E=Config$1.findAllMatches,location:D=Config$1.location,threshold:F=Config$1.threshold,distance:P=Config$1.distance}={}){this.query=null,this.options={isCaseSensitive:$,includeMatches:x,minMatchCharLength:I,findAllMatches:E,ignoreLocation:L,location:D,threshold:F,distance:P},this.pattern=$?k:k.toLowerCase(),this.query=parseQuery(this.pattern,this.options)}static condition(k,$){return $.useExtendedSearch}searchIn(k){const $=this.query;if(!$)return{isMatch:!1,score:1};const{includeMatches:x,isCaseSensitive:I}=this.options;k=I?k:k.toLowerCase();let L=0,E=[],D=0;for(let F=0,P=$.length;F<P;F+=1){const U=$[F];E.length=0,L=0;for(let M=0,z=U.length;M<z;M+=1){const N=U[M],{isMatch:q,indices:j,score:W}=N.search(k);if(q){if(L+=1,D+=W,x){const H=N.constructor.type;MultiMatchSet.has(H)?E=[...E,...j]:E.push(j)}}else{D=0,L=0,E.length=0;break}}if(L){let M={isMatch:!0,score:D/L};return x&&(M.indices=E),M}}return{isMatch:!1,score:1}}}const registeredSearchers=[];function register(...T){registeredSearchers.push(...T)}function createSearcher(T,k){for(let $=0,x=registeredSearchers.length;$<x;$+=1){let I=registeredSearchers[$];if(I.condition(T,k))return new I(T,k)}return new BitapSearch(T,k)}const LogicalOperator={AND:"$and",OR:"$or"},KeyType={PATH:"$path",PATTERN:"$val"},isExpression=T=>!!(T[LogicalOperator.AND]||T[LogicalOperator.OR]),isPath=T=>!!T[KeyType.PATH],isLeaf=T=>!isArray(T)&&isObject(T)&&!isExpression(T),convertToExplicit=T=>({[LogicalOperator.AND]:Object.keys(T).map(k=>({[k]:T[k]}))});function parse(T,k,{auto:$=!0}={}){const x=I=>{let L=Object.keys(I);const E=isPath(I);if(!E&&L.length>1&&!isExpression(I))return x(convertToExplicit(I));if(isLeaf(I)){const F=E?I[KeyType.PATH]:L[0],P=E?I[KeyType.PATTERN]:I[F];if(!isString(P))throw new Error(LOGICAL_SEARCH_INVALID_QUERY_FOR_KEY(F));const U={keyId:createKeyId(F),pattern:P};return $&&(U.searcher=createSearcher(P,k)),U}let D={children:[],operator:L[0]};return L.forEach(F=>{const P=I[F];isArray(P)&&P.forEach(U=>{D.children.push(x(U))})}),D};return isExpression(T)||(T=convertToExplicit(T)),x(T)}function computeScore(T,{ignoreFieldNorm:k=Config$1.ignoreFieldNorm}){T.forEach($=>{let x=1;$.matches.forEach(({key:I,norm:L,score:E})=>{const D=I?I.weight:null;x*=Math.pow(E===0&&D?Number.EPSILON:E,(D||1)*(k?1:L))}),$.score=x})}function transformMatches(T,k){const $=T.matches;k.matches=[],isDefined($)&&$.forEach(x=>{if(!isDefined(x.indices)||!x.indices.length)return;const{indices:I,value:L}=x;let E={indices:I,value:L};x.key&&(E.key=x.key.src),x.idx>-1&&(E.refIndex=x.idx),k.matches.push(E)})}function transformScore(T,k){k.score=T.score}function format(T,k,{includeMatches:$=Config$1.includeMatches,includeScore:x=Config$1.includeScore}={}){const I=[];return $&&I.push(transformMatches),x&&I.push(transformScore),T.map(L=>{const{idx:E}=L,D={item:k[E],refIndex:E};return I.length&&I.forEach(F=>{F(L,D)}),D})}class Fuse{constructor(k,$={},x){this.options={...Config$1,...$},this.options.useExtendedSearch,this._keyStore=new KeyStore(this.options.keys),this.setCollection(k,x)}setCollection(k,$){if(this._docs=k,$&&!($ instanceof FuseIndex))throw new Error(INCORRECT_INDEX_TYPE);this._myIndex=$||createIndex(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(k){isDefined(k)&&(this._docs.push(k),this._myIndex.add(k))}remove(k=()=>!1){const $=[];for(let x=0,I=this._docs.length;x<I;x+=1){const L=this._docs[x];k(L,x)&&(this.removeAt(x),x-=1,I-=1,$.push(L))}return $}removeAt(k){this._docs.splice(k,1),this._myIndex.removeAt(k)}getIndex(){return this._myIndex}search(k,{limit:$=-1}={}){const{includeMatches:x,includeScore:I,shouldSort:L,sortFn:E,ignoreFieldNorm:D}=this.options;let F=isString(k)?isString(this._docs[0])?this._searchStringList(k):this._searchObjectList(k):this._searchLogical(k);return computeScore(F,{ignoreFieldNorm:D}),L&&F.sort(E),isNumber($)&&$>-1&&(F=F.slice(0,$)),format(F,this._docs,{includeMatches:x,includeScore:I})}_searchStringList(k){const $=createSearcher(k,this.options),{records:x}=this._myIndex,I=[];return x.forEach(({v:L,i:E,n:D})=>{if(!isDefined(L))return;const{isMatch:F,score:P,indices:U}=$.searchIn(L);F&&I.push({item:L,idx:E,matches:[{score:P,value:L,norm:D,indices:U}]})}),I}_searchLogical(k){const $=parse(k,this.options),x=(D,F,P)=>{if(!D.children){const{keyId:M,searcher:z}=D,N=this._findMatches({key:this._keyStore.get(M),value:this._myIndex.getValueForItemAtKeyId(F,M),searcher:z});return N&&N.length?[{idx:P,item:F,matches:N}]:[]}const U=[];for(let M=0,z=D.children.length;M<z;M+=1){const N=D.children[M],q=x(N,F,P);if(q.length)U.push(...q);else if(D.operator===LogicalOperator.AND)return[]}return U},I=this._myIndex.records,L={},E=[];return I.forEach(({$:D,i:F})=>{if(isDefined(D)){let P=x($,D,F);P.length&&(L[F]||(L[F]={idx:F,item:D,matches:[]},E.push(L[F])),P.forEach(({matches:U})=>{L[F].matches.push(...U)}))}}),E}_searchObjectList(k){const $=createSearcher(k,this.options),{keys:x,records:I}=this._myIndex,L=[];return I.forEach(({$:E,i:D})=>{if(!isDefined(E))return;let F=[];x.forEach((P,U)=>{F.push(...this._findMatches({key:P,value:E[U],searcher:$}))}),F.length&&L.push({idx:D,item:E,matches:F})}),L}_findMatches({key:k,value:$,searcher:x}){if(!isDefined($))return[];let I=[];if(isArray($))$.forEach(({v:L,i:E,n:D})=>{if(!isDefined(L))return;const{isMatch:F,score:P,indices:U}=x.searchIn(L);F&&I.push({score:P,key:k,value:L,idx:E,norm:D,indices:U})});else{const{v:L,n:E}=$,{isMatch:D,score:F,indices:P}=x.searchIn(L);D&&I.push({score:F,key:k,value:L,norm:E,indices:P})}return I}}Fuse.version="6.6.2";Fuse.createIndex=createIndex;Fuse.parseIndex=parseIndex;Fuse.config=Config$1;Fuse.parseQuery=parse;register(ExtendedSearch);function compileSearchableApps(){const T=[],k=get_store_value(WindowStore);for(let $=0;$<k.length;$++)isPopulatable(k[$])&&T.push({caption:k[$].info.name,description:k[$].info.description,image:k[$].info.icon,action:()=>{openWindow(k[$].id)}});return T}const searchIcon=""+new URL("arcfind-64345b5f.svg",import.meta.url).href;async function compileSearchableFiles(){const T=get_store_value(ConnectedServer);if(!T)return[];const k=[],x=(await apiCall(T,"fs/tree",{},get_store_value(UserToken))).data;for(let I=0;I<x.length;I++)k.push({caption:x[I].filename,action:async()=>{const L=makeNotification({title:"Loading file",message:`Loading file ${x[I].scopedPath} from the ArcAPI. This can take a while, depending on your internet connection and the size of the file.`,buttons:[],image:searchIcon}),E=x[I].scopedPath;E.startsWith("./")&&(x[I].scopedPath=E.replace("./",""));const D=await openUserFile(x[I]);deleteNotification(L),closeNotification(),WindowStore.set(get_store_value(WindowStore)),D!=!0&&openWithDialog({...D,anymime:!0})},description:x[I].scopedPath.replace(`/${x[I].filename}`,""),image:fileIcon});return k}FileBrowserCurrentDir.subscribe(()=>{});function compileSearchableSettingsPages(){const T=[],k=SettingsPages;for(let $=0;$<k.length;$++){const x=k[$];T.push({image:x.icon,caption:x.name,action:()=>{openWindow("SettingsApp"),setTimeout(()=>{currentSettingsPage.set(x)})}})}return T}const searchProviders=[compileSearchableApps,compileSearchableSettingsPages,compileSearchableFiles],powerOptions=[{caption:"Shutdown",description:"Leave the desktop and turn off ArcOS",action:shutdown,image:shutdownIcon},{caption:"Restart",description:"Leave the desktop and reload ArcOS",action:()=>restart$1(!1),image:shutdownIcon}];async function getSearchItems(){let T=[...powerOptions];for(let k=0;k<searchProviders.length;k++)T.push(...await searchProviders[k]());return T}const showArcFind=writable(!1);async function Search(T){const k=await getSearchItems(),$={includeScore:!0,keys:["caption","description"]};return new Fuse(k,$).search(T)}const QuickSettings=[{icon:"motion_photos_on",iconOff:"motion_photos_off",getter(T){return T.sh.anim},setter(T){return T.sh.anim=!T.sh.anim,UserData$2.set(T),T.sh.anim},caption:"Animations"},{icon:"blur_on",iconOff:"blur_off",getter(T){return!T.sh.noGlass},setter(T){return T.sh.noGlass=!T.sh.noGlass,UserData$2.set(T),!T.sh.noGlass},caption:"Transparency"},{icon:"call_to_action",iconOff:"call_to_action",getter(T){return T.sh.taskbar.docked},setter(T){return T.sh.taskbar.docked=!T.sh.taskbar.docked,UserData$2.set(T),T.sh.taskbar.docked},caption:"Dock Taskbar"},{icon:"dark_mode",iconOff:"light_mode",getter(T){return T.sh.desktop.theme=="dark"},setter(T){const k=T.sh.desktop.theme;return T.sh.desktop.theme=k=="dark"?"light":"dark",UserData$2.set(T),T.sh.desktop.theme=="dark"},caption:"Dark mode"},{icon:"",iconOff:"",getter(){return!1},setter(){return!1},caption:""},{icon:"",iconOff:"",getter(){return!1},setter(){return!1},caption:""},{icon:"",iconOff:"",getter(){return!1},setter(){return!1},caption:""},{icon:"search",iconOff:"search",getter(){return!1},setter(){return showArcFind.set(!0),!1},caption:"Search"},{icon:"logout",iconOff:"logout",getter(){return!1},setter(){return openWindow("Exit"),!1},caption:"Exit"}];function create_fragment$10(T){let k,$=(T[1]?T[0].icon:T[0].iconOff)+"",x,I,L,E=T[0].caption+"",D,F,P;return{c(){k=element("button"),x=text($),I=space(),L=element("p"),D=text(E),attr(L,"class","caption"),attr(k,"class","setting material-icons-round"),toggle_class(k,"active",T[1])},m(U,M){insert(U,k,M),append(k,x),append(k,I),append(k,L),append(L,D),F||(P=listen(k,"click",T[2]),F=!0)},p(U,[M]){M&3&&$!==($=(U[1]?U[0].icon:U[0].iconOff)+"")&&set_data(x,$),M&1&&E!==(E=U[0].caption+"")&&set_data(D,E),M&2&&toggle_class(k,"active",U[1])},i:noop$1,o:noop$1,d(U){U&&detach(k),F=!1,P()}}}function instance$W(T,k,$){let x;component_subscribe(T,UserData$2,D=>$(3,x=D));let I=!1,{setting:L}=k;function E(){L.setter(x),$(1,I=L.getter(x))}return onMount(()=>{$(1,I=L.getter(x))}),UserData$2.subscribe(D=>{$(1,I=L.getter(D))}),T.$$set=D=>{"setting"in D&&$(0,L=D.setting)},[L,I,E]}class Setting extends SvelteComponent{constructor(k){super(),init(this,k,instance$W,create_fragment$10,safe_not_equal,{setting:0})}}function get_each_context$h(T,k,$){const x=T.slice();return x[0]=k[$],x}function create_each_block$h(T){let k,$;return k=new Setting({props:{setting:T[0]}}),{c(){create_component(k.$$.fragment)},m(x,I){mount_component(k,x,I),$=!0},p:noop$1,i(x){$||(transition_in(k.$$.fragment,x),$=!0)},o(x){transition_out(k.$$.fragment,x),$=!1},d(x){destroy_component(k,x)}}}function create_fragment$$(T){let k,$,x=ensure_array_like(QuickSettings),I=[];for(let E=0;E<x.length;E+=1)I[E]=create_each_block$h(get_each_context$h(T,x,E));const L=E=>transition_out(I[E],1,1,()=>{I[E]=null});return{c(){k=element("div");for(let E=0;E<I.length;E+=1)I[E].c();attr(k,"class","quicksettings")},m(E,D){insert(E,k,D);for(let F=0;F<I.length;F+=1)I[F]&&I[F].m(k,null);$=!0},p(E,[D]){if(D&0){x=ensure_array_like(QuickSettings);let F;for(F=0;F<x.length;F+=1){const P=get_each_context$h(E,x,F);I[F]?(I[F].p(P,D),transition_in(I[F],1)):(I[F]=create_each_block$h(P),I[F].c(),transition_in(I[F],1),I[F].m(k,null))}for(group_outros(),F=x.length;F<I.length;F+=1)L(F);check_outros()}},i(E){if(!$){for(let D=0;D<x.length;D+=1)transition_in(I[D]);$=!0}},o(E){I=I.filter(Boolean);for(let D=0;D<I.length;D+=1)transition_out(I[D]);$=!1},d(E){E&&detach(k),destroy_each(I,E)}}}class QuickSettings_1 extends SvelteComponent{constructor(k){super(),init(this,k,null,create_fragment$$,safe_not_equal,{})}}function create_fragment$_(T){let k,$,x=T[0].sh.noQuickSettings?"Expand":"Collapse",I,L,E;return{c(){k=element("div"),$=element("button"),I=text(x),attr($,"class","toggle"),attr(k,"class","quicksettings-toggle")},m(D,F){insert(D,k,F),append(k,$),append($,I),L||(E=listen($,"click",T[1]),L=!0)},p(D,[F]){F&1&&x!==(x=D[0].sh.noQuickSettings?"Expand":"Collapse")&&set_data(I,x)},i:noop$1,o:noop$1,d(D){D&&detach(k),L=!1,E()}}}function instance$V(T,k,$){let x;component_subscribe(T,UserData$2,L=>$(0,x=L));function I(){set_store_value(UserData$2,x.sh.noQuickSettings=!x.sh.noQuickSettings,x)}return[x,I]}class QuickSettingsToggle extends SvelteComponent{constructor(k){super(),init(this,k,instance$V,create_fragment$_,safe_not_equal,{})}}function create_fragment$Z(T){let k,$,x,I,L,E,D,F,P,U,M,z,N,q,j;return F=new Notifications({}),U=new QuickSettingsToggle({}),z=new QuickSettings_1({}),{c(){k=element("div"),$=element("h3"),x=text("Notifications "),I=element("button"),L=text("Clear"),D=space(),create_component(F.$$.fragment),P=space(),create_component(U.$$.fragment),M=space(),create_component(z.$$.fragment),attr(I,"class","clear"),I.disabled=E=!Object.entries(T[3]).length,attr($,"class","title"),attr(k,"class","actioncenter"),set_style(k,"z-index",T[2]+4),toggle_class(k,"docked",T[1].sh.taskbar.docked),toggle_class(k,"launcher",T[1].sh.taskbar.isLauncher),toggle_class(k,"opened",T[0]),toggle_class(k,"noquick",T[1].sh.noQuickSettings),toggle_class(k,"colored",T[1].sh.taskbar.colored)},m(W,H){insert(W,k,H),append(k,$),append($,x),append($,I),append(I,L),append(k,D),mount_component(F,k,null),append(k,P),mount_component(U,k,null),append(k,M),mount_component(z,k,null),N=!0,q||(j=listen(I,"click",T[4]),q=!0)},p(W,[H]){(!N||H&8&&E!==(E=!Object.entries(W[3]).length))&&(I.disabled=E),(!N||H&4)&&set_style(k,"z-index",W[2]+4),(!N||H&2)&&toggle_class(k,"docked",W[1].sh.taskbar.docked),(!N||H&2)&&toggle_class(k,"launcher",W[1].sh.taskbar.isLauncher),(!N||H&1)&&toggle_class(k,"opened",W[0]),(!N||H&2)&&toggle_class(k,"noquick",W[1].sh.noQuickSettings),(!N||H&2)&&toggle_class(k,"colored",W[1].sh.taskbar.colored)},i(W){N||(transition_in(F.$$.fragment,W),transition_in(U.$$.fragment,W),transition_in(z.$$.fragment,W),N=!0)},o(W){transition_out(F.$$.fragment,W),transition_out(U.$$.fragment,W),transition_out(z.$$.fragment,W),N=!1},d(W){W&&detach(k),destroy_component(F),destroy_component(U),destroy_component(z),q=!1,j()}}}function instance$U(T,k,$){let x,I,L;component_subscribe(T,UserData$2,F=>$(1,x=F)),component_subscribe(T,maxZIndex,F=>$(2,I=F)),component_subscribe(T,NotificationStore,F=>$(3,L=F));let E=!1;ActionCenterOpened.subscribe(F=>$(0,E=F));function D(){NotificationStore.set({}),CurrentNotification.set(null)}return[E,x,I,L,D]}class ActionCenter extends SvelteComponent{constructor(k){super(),init(this,k,instance$U,create_fragment$Z,safe_not_equal,{})}}function get_each_context$g(T,k,$){const x=T.slice();return x[8]=k[$],x}function create_if_block$u(T){let k,$,x=T[0].title+"",I,L,E,D,F,P=T[0].message+"",U,M,z,N;function q(K,G){return K[0].image?create_if_block_1$a:create_else_block$8}let j=q(T),W=j(T),H=ensure_array_like(T[0].buttons),Q=[];for(let K=0;K<H.length;K+=1)Q[K]=create_each_block$g(get_each_context$g(T,H,K));return{c(){k=element("p"),W.c(),$=space(),I=text(x),L=space(),E=element("button"),E.textContent="close",D=space(),F=element("p"),U=space(),M=element("div");for(let K=0;K<Q.length;K+=1)Q[K].c();attr(E,"class","close material-icons-round"),attr(k,"class","title"),attr(F,"class","message"),attr(M,"class","buttons")},m(K,G){insert(K,k,G),W.m(k,null),append(k,$),append(k,I),append(k,L),append(k,E),insert(K,D,G),insert(K,F,G),F.innerHTML=P,insert(K,U,G),insert(K,M,G);for(let V=0;V<Q.length;V+=1)Q[V]&&Q[V].m(M,null);z||(N=listen(E,"click",T[4]),z=!0)},p(K,G){if(j===(j=q(K))&&W?W.p(K,G):(W.d(1),W=j(K),W&&(W.c(),W.m(k,$))),G&1&&x!==(x=K[0].title+"")&&set_data(I,x),G&1&&P!==(P=K[0].message+"")&&(F.innerHTML=P),G&33){H=ensure_array_like(K[0].buttons);let V;for(V=0;V<H.length;V+=1){const Y=get_each_context$g(K,H,V);Q[V]?Q[V].p(Y,G):(Q[V]=create_each_block$g(Y),Q[V].c(),Q[V].m(M,null))}for(;V<Q.length;V+=1)Q[V].d(1);Q.length=H.length}},d(K){K&&(detach(k),detach(D),detach(F),detach(U),detach(M)),W.d(),destroy_each(Q,K),z=!1,N()}}}function create_else_block$8(T){let k,$=T[0].icon+"",x;return{c(){k=element("span"),x=text($),attr(k,"class","material-icons-round")},m(I,L){insert(I,k,L),append(k,x)},p(I,L){L&1&&$!==($=I[0].icon+"")&&set_data(x,$)},d(I){I&&detach(k)}}}function create_if_block_1$a(T){let k,$,x;return{c(){k=element("img"),src_url_equal(k.src,$=T[0].image)||attr(k,"src",$),attr(k,"alt",x=T[0].title)},m(I,L){insert(I,k,L)},p(I,L){L&1&&!src_url_equal(k.src,$=I[0].image)&&attr(k,"src",$),L&1&&x!==(x=I[0].title)&&attr(k,"alt",x)},d(I){I&&detach(k)}}}function create_each_block$g(T){let k,$=T[8].caption+"",x,I,L;return{c(){k=element("button"),x=text($)},m(E,D){insert(E,k,D),append(k,x),I||(L=listen(k,"click",function(){is_function(T[5](T[8].action))&&T[5](T[8].action).apply(this,arguments)}),I=!0)},p(E,D){T=E,D&1&&$!==($=T[8].caption+"")&&set_data(x,$)},d(E){E&&detach(k),I=!1,L()}}}function create_fragment$Y(T){let k,$=T[0]&&create_if_block$u(T);return{c(){k=element("div"),$&&$.c(),attr(k,"class","notification"),set_style(k,"z-index",T[3]+4),toggle_class(k,"hidden",!T[0]||T[1]),toggle_class(k,"colored",T[2].sh.taskbar.colored),toggle_class(k,"nobutt",T[0]&&!T[0].buttons.length),toggle_class(k,"launcher",T[2].sh.taskbar.isLauncher)},m(x,I){insert(x,k,I),$&&$.m(k,null)},p(x,[I]){x[0]?$?$.p(x,I):($=create_if_block$u(x),$.c(),$.m(k,null)):$&&($.d(1),$=null),I&8&&set_style(k,"z-index",x[3]+4),I&3&&toggle_class(k,"hidden",!x[0]||x[1]),I&4&&toggle_class(k,"colored",x[2].sh.taskbar.colored),I&1&&toggle_class(k,"nobutt",x[0]&&!x[0].buttons.length),I&4&&toggle_class(k,"launcher",x[2].sh.taskbar.isLauncher)},i:noop$1,o:noop$1,d(x){x&&detach(k),$&&$.d()}}}function instance$T(T,k,$){let x,I,L;component_subscribe(T,NotificationStore,M=>$(7,x=M)),component_subscribe(T,UserData$2,M=>$(2,I=M)),component_subscribe(T,maxZIndex,M=>$(3,L=M));let E=null,D=!1,F;CurrentNotification.subscribe(M=>{if(M){$(1,D=!0),$(0,E=null),F=M,setTimeout(()=>{ArcSoundBus.playSound("arcos.notification"),$(1,D=!1),$(0,E=x[M])},250);return}$(1,D=!0),setTimeout(()=>{$(0,E=null)},300)});function P(){closeNotification()}function U(M){return()=>{M(),P(),deleteNotification(F)}}return[E,D,I,L,P,U]}class PushNotification extends SvelteComponent{constructor(k){super(),init(this,k,instance$T,create_fragment$Y,safe_not_equal,{})}}function getWindowElement(T){return document.querySelector(`window#${T.id}`)}function getWindowElementByEvent(T){const k=T.composedPath();for(let $=0;$<k.length;$++){const x=k[$].tagName;if(x&&x.toLowerCase()=="window")return k[$]}}function create_if_block$t(T){let k,$=T[0].info.name+"",x;return{c(){k=element("span"),x=text($)},m(I,L){insert(I,k,L),append(k,x)},p(I,L){L&1&&$!==($=I[0].info.name+"")&&set_data(x,$)},d(I){I&&detach(k)}}}function create_fragment$X(T){let k,$,x,I,L,E,D,F=T[1]&&create_if_block$t(T);return{c(){k=element("button"),$=element("img"),L=space(),F&&F.c(),src_url_equal($.src,x=getOriginalIcon(T[0].id)||getAppIcon(T[0]))||attr($,"src",x),attr($,"alt",I=T[0].info.name),attr($,"class","icon"),attr(k,"class","appbutton"),toggle_class(k,"minimized",T[2]),toggle_class(k,"activated",T[0].id==T[3])},m(P,U){insert(P,k,U),append(k,$),append(k,L),F&&F.m(k,null),E||(D=listen(k,"click",T[4]),E=!0)},p(P,[U]){U&1&&!src_url_equal($.src,x=getOriginalIcon(P[0].id)||getAppIcon(P[0]))&&attr($,"src",x),U&1&&I!==(I=P[0].info.name)&&attr($,"alt",I),P[1]?F?F.p(P,U):(F=create_if_block$t(P),F.c(),F.m(k,null)):F&&(F.d(1),F=null),U&4&&toggle_class(k,"minimized",P[2]),U&9&&toggle_class(k,"activated",P[0].id==P[3])},i:noop$1,o:noop$1,d(P){P&&detach(k),F&&F.d(),E=!1,D()}}}function instance$S(T,k,$){let x,I;component_subscribe(T,maxZIndex,P=>$(5,x=P)),component_subscribe(T,focusedWindowId,P=>$(3,I=P));let{app:L}=k,E=!1,D=!1;UserData$2.subscribe(P=>{$(1,E=P.sh.taskbar.labels)}),WindowStore.subscribe(()=>{$(2,D=isMinimized(L.id))});function F(){I==L.id?$(0,L.state.windowState.min=!L.state.windowState.min,L):$(0,L.state.windowState.min=!1,L),updateStores(),set_store_value(maxZIndex,x++,x),set_store_value(focusedWindowId,I=L.id,I);const P=getWindowElement(L);P.style.zIndex=x.toString()}return T.$$set=P=>{"app"in P&&$(0,L=P.app)},[L,E,D,I,F]}class TaskbarButton extends SvelteComponent{constructor(k){super(),init(this,k,instance$S,create_fragment$X,safe_not_equal,{app:0})}}const upload=""+new URL("upload-2f1dea4f.svg",import.meta.url).href;function get_each_context$f(T,k,$){const x=T.slice();return x[8]=k[$],x}function create_else_block$7(T){let k,$,x;return{c(){k=element("img"),src_url_equal(k.src,$=T[8].image)||attr(k,"src",$),attr(k,"alt",x=T[8].identifier)},m(I,L){insert(I,k,L)},p(I,L){L&4&&!src_url_equal(k.src,$=I[8].image)&&attr(k,"src",$),L&4&&x!==(x=I[8].identifier)&&attr(k,"alt",x)},d(I){I&&detach(k)}}}function create_if_block_1$9(T){let k,$=T[8].icon+"",x;return{c(){k=element("span"),x=text($),attr(k,"class","material-icons-round")},m(I,L){insert(I,k,L),append(k,x)},p(I,L){L&4&&$!==($=I[8].icon+"")&&set_data(x,$)},d(I){I&&detach(k)}}}function create_each_block$f(T){let k,$,x;function I(F,P){return F[8].icon?create_if_block_1$9:create_else_block$7}let L=I(T),E=L(T);function D(){return T[7](T[8])}return{c(){k=element("button"),E.c(),attr(k,"class","icon")},m(F,P){insert(F,k,P),E.m(k,null),$||(x=listen(k,"click",D),$=!0)},p(F,P){T=F,L===(L=I(T))&&E?E.p(T,P):(E.d(1),E=L(T),E&&(E.c(),E.m(k,null)))},d(F){F&&detach(k),E.d(),$=!1,x()}}}function create_if_block$s(T){let k,$;return{c(){k=element("div"),$=text(T[1]),attr(k,"class","clock")},m(x,I){insert(x,k,I),append(k,$)},p(x,I){I&2&&set_data($,x[1])},d(x){x&&detach(k)}}}function create_fragment$W(T){let k,$,x,I,L,E,D,F,P,U,M,z,N=ensure_array_like(T[2]),q=[];for(let Q=0;Q<N.length;Q+=1)q[Q]=create_each_block$f(get_each_context$f(T,N,Q));let j=T[0]&&create_if_block$s(T);const W=T[6].default,H=create_slot(W,T,T[5],null);return{c(){k=element("div");for(let Q=0;Q<q.length;Q+=1)q[Q].c();$=space(),x=element("button"),I=element("img"),E=space(),j&&j.c(),D=space(),F=element("button"),F.textContent="notifications",P=space(),H&&H.c(),src_url_equal(I.src,L=upload)||attr(I,"src",L),attr(I,"alt","Committing"),attr(x,"class","icon committer"),toggle_class(x,"inactive",!T[3]),attr(F,"class","material-icons-round ac-open"),toggle_class(F,"opened",T[4]),attr(k,"class","tray")},m(Q,K){insert(Q,k,K);for(let G=0;G<q.length;G+=1)q[G]&&q[G].m(k,null);append(k,$),append(k,x),append(x,I),append(k,E),j&&j.m(k,null),append(k,D),append(k,F),append(k,P),H&&H.m(k,null),U=!0,M||(z=listen(F,"click",toggleActionCenter),M=!0)},p(Q,[K]){if(K&4){N=ensure_array_like(Q[2]);let G;for(G=0;G<N.length;G+=1){const V=get_each_context$f(Q,N,G);q[G]?q[G].p(V,K):(q[G]=create_each_block$f(V),q[G].c(),q[G].m(k,$))}for(;G<q.length;G+=1)q[G].d(1);q.length=N.length}(!U||K&8)&&toggle_class(x,"inactive",!Q[3]),Q[0]?j?j.p(Q,K):(j=create_if_block$s(Q),j.c(),j.m(k,D)):j&&(j.d(1),j=null),(!U||K&16)&&toggle_class(F,"opened",Q[4]),H&&H.p&&(!U||K&32)&&update_slot_base(H,W,Q,Q[5],U?get_slot_changes(W,Q[5],K,null):get_all_dirty_from_scope(Q[5]),null)},i(Q){U||(transition_in(H,Q),U=!0)},o(Q){transition_out(H,Q),U=!1},d(Q){Q&&detach(k),destroy_each(q,Q),j&&j.d(),H&&H.d(Q),M=!1,z()}}}function instance$R(T,k,$){let x,I,L;component_subscribe(T,trayIcons,M=>$(2,x=M)),component_subscribe(T,committingUserData,M=>$(3,I=M)),component_subscribe(T,ActionCenterOpened,M=>$(4,L=M));let{$$slots:E={},$$scope:D}=k,{hasClock:F=!0}=k,P="";onMount(()=>{setInterval(()=>{$(1,P=dayjs().format("HH:mm"))})});const U=M=>M.onOpen(M);return T.$$set=M=>{"hasClock"in M&&$(0,F=M.hasClock),"$$scope"in M&&$(5,D=M.$$scope)},[F,P,x,I,L,D,E,U]}class Tray extends SvelteComponent{constructor(k){super(),init(this,k,instance$R,create_fragment$W,safe_not_equal,{hasClock:0})}}const TaskbarContent_svelte_svelte_type_style_lang="";function get_each_context$e(T,k,$){const x=T.slice();return x[2]=k[$],x}function create_if_block_1$8(T){let k,$;return k=new TaskbarButton({props:{app:T[2]}}),{c(){create_component(k.$$.fragment)},m(x,I){mount_component(k,x,I),$=!0},p(x,I){const L={};I&2&&(L.app=x[2]),k.$set(L)},i(x){$||(transition_in(k.$$.fragment,x),$=!0)},o(x){transition_out(k.$$.fragment,x),$=!1},d(x){destroy_component(k,x)}}}function create_each_block$e(T){let k,$,x=!T[2].disabled&&create_if_block_1$8(T);return{c(){x&&x.c(),k=empty()},m(I,L){x&&x.m(I,L),insert(I,k,L),$=!0},p(I,L){I[2].disabled?x&&(group_outros(),transition_out(x,1,1,()=>{x=null}),check_outros()):x?(x.p(I,L),L&2&&transition_in(x,1)):(x=create_if_block_1$8(I),x.c(),transition_in(x,1),x.m(k.parentNode,k))},i(I){$||(transition_in(x),$=!0)},o(I){transition_out(x),$=!1},d(I){I&&detach(k),x&&x.d(I)}}}function create_else_block$6(T){let k,$,x;return $=new Spinner({props:{height:24}}),{c(){k=element("div"),create_component($.$$.fragment),attr(k,"class","tray svelte-1vsr6ui")},m(I,L){insert(I,k,L),mount_component($,k,null),x=!0},i(I){x||(transition_in($.$$.fragment,I),x=!0)},o(I){transition_out($.$$.fragment,I),x=!1},d(I){I&&detach(k),destroy_component($)}}}function create_if_block$r(T){let k,$;return k=new Tray({}),{c(){create_component(k.$$.fragment)},m(x,I){mount_component(k,x,I),$=!0},i(x){$||(transition_in(k.$$.fragment,x),$=!0)},o(x){transition_out(k.$$.fragment,x),$=!1},d(x){destroy_component(k,x)}}}function create_fragment$V(T){let k,$,x,I,L,E,D=ensure_array_like(T[1]),F=[];for(let N=0;N<D.length;N+=1)F[N]=create_each_block$e(get_each_context$e(T,D,N));const P=N=>transition_out(F[N],1,1,()=>{F[N]=null}),U=[create_if_block$r,create_else_block$6],M=[];function z(N,q){return N[0]?0:1}return x=z(T),I=M[x]=U[x](T),{c(){k=element("div");for(let N=0;N<F.length;N+=1)F[N].c();$=space(),I.c(),L=empty(),attr(k,"class","buttons")},m(N,q){insert(N,k,q);for(let j=0;j<F.length;j+=1)F[j]&&F[j].m(k,null);insert(N,$,q),M[x].m(N,q),insert(N,L,q),E=!0},p(N,[q]){if(q&2){D=ensure_array_like(N[1]);let W;for(W=0;W<D.length;W+=1){const H=get_each_context$e(N,D,W);F[W]?(F[W].p(H,q),transition_in(F[W],1)):(F[W]=create_each_block$e(H),F[W].c(),transition_in(F[W],1),F[W].m(k,null))}for(group_outros(),W=D.length;W<F.length;W+=1)P(W);check_outros()}let j=x;x=z(N),x!==j&&(group_outros(),transition_out(M[j],1,1,()=>{M[j]=null}),check_outros(),I=M[x],I||(I=M[x]=U[x](N),I.c()),transition_in(I,1),I.m(L.parentNode,L))},i(N){if(!E){for(let q=0;q<D.length;q+=1)transition_in(F[q]);transition_in(I),E=!0}},o(N){F=F.filter(Boolean);for(let q=0;q<F.length;q+=1)transition_out(F[q]);transition_out(I),E=!1},d(N){N&&(detach(k),detach($),detach(L)),destroy_each(F,N),M[x].d(N)}}}function instance$Q(T,k,$){let x=!1,I=[];return WindowStore.subscribe(()=>{$(1,I=getOpenedStore())}),onMount(()=>{$(0,x=!1),setTimeout(()=>{$(0,x=!0)},3e3)}),[x,I]}class TaskbarContent extends SvelteComponent{constructor(k){super(),init(this,k,instance$Q,create_fragment$V,safe_not_equal,{})}}function create_fragment$U(T){let k,$,x,I;const L=T[4].default,E=create_slot(L,T,T[3],null);return x=new TaskbarContent({}),{c(){k=element("div"),E&&E.c(),$=space(),create_component(x.$$.fragment),attr(k,"class","taskbar-h newtb"),set_style(k,"z-index",T[0]+5),attr(k,"data-caller","shell-taskbar"),toggle_class(k,"docked",T[1].sh.taskbar.docked),toggle_class(k,"centered",T[1].sh.taskbar.centered),toggle_class(k,"colored",T[1].sh.taskbar.colored),toggle_class(k,"visible",T[1].sh.taskbar.pos==""&&!T[2])},m(D,F){insert(D,k,F),E&&E.m(k,null),append(k,$),mount_component(x,k,null),I=!0},p(D,[F]){E&&E.p&&(!I||F&8)&&update_slot_base(E,L,D,D[3],I?get_slot_changes(L,D[3],F,null):get_all_dirty_from_scope(D[3]),null),(!I||F&1)&&set_style(k,"z-index",D[0]+5),(!I||F&2)&&toggle_class(k,"docked",D[1].sh.taskbar.docked),(!I||F&2)&&toggle_class(k,"centered",D[1].sh.taskbar.centered),(!I||F&2)&&toggle_class(k,"colored",D[1].sh.taskbar.colored),(!I||F&6)&&toggle_class(k,"visible",D[1].sh.taskbar.pos==""&&!D[2])},i(D){I||(transition_in(E,D),transition_in(x.$$.fragment,D),I=!0)},o(D){transition_out(E,D),transition_out(x.$$.fragment,D),I=!1},d(D){D&&detach(k),E&&E.d(D),destroy_component(x)}}}function instance$P(T,k,$){let x,I,L;component_subscribe(T,maxZIndex,F=>$(0,x=F)),component_subscribe(T,UserData$2,F=>$(1,I=F)),component_subscribe(T,isFullscreenWindow,F=>$(2,L=F));let{$$slots:E={},$$scope:D}=k;return T.$$set=F=>{"$$scope"in F&&$(3,D=F.$$scope)},[x,I,L,D,E]}class HorizontalTaskbar extends SvelteComponent{constructor(k){super(),init(this,k,instance$P,create_fragment$U,safe_not_equal,{})}}function create_fragment$T(T){let k,$,x,I,L,E,D;return{c(){k=element("button"),$=element("img"),src_url_equal($.src,x=getOriginalIcon(T[0].id)||T[0].info.icon)||attr($,"src",x),attr($,"alt",I=T[0].info.name),attr(k,"title",L=T[0].info.name),toggle_class(k,"minimized",T[1]),toggle_class(k,"activated",T[0].id==T[2])},m(F,P){insert(F,k,P),append(k,$),E||(D=listen(k,"click",T[3]),E=!0)},p(F,[P]){P&1&&!src_url_equal($.src,x=getOriginalIcon(F[0].id)||F[0].info.icon)&&attr($,"src",x),P&1&&I!==(I=F[0].info.name)&&attr($,"alt",I),P&1&&L!==(L=F[0].info.name)&&attr(k,"title",L),P&2&&toggle_class(k,"minimized",F[1]),P&5&&toggle_class(k,"activated",F[0].id==F[2])},i:noop$1,o:noop$1,d(F){F&&detach(k),E=!1,D()}}}function instance$O(T,k,$){let x,I;component_subscribe(T,maxZIndex,F=>$(4,x=F)),component_subscribe(T,focusedWindowId,F=>$(2,I=F));let{app:L}=k,E=!1;WindowStore.subscribe(()=>{$(1,E=isMinimized(L.id))});function D(){I==L.id?$(0,L.state.windowState.min=!L.state.windowState.min,L):$(0,L.state.windowState.min=!1,L),updateStores(),set_store_value(maxZIndex,x++,x),set_store_value(focusedWindowId,I=L.id,I);const F=getWindowElement(L);F.style.zIndex=x.toString(),showArcFind.set(!1)}return T.$$set=F=>{"app"in F&&$(0,L=F.app)},[L,E,I,D]}class AppButton extends SvelteComponent{constructor(k){super(),init(this,k,instance$O,create_fragment$T,safe_not_equal,{app:0})}}function create_fragment$S(T){let k,$,x;return{c(){k=element("div"),attr(k,"class","launcher-bar-trigger"),set_style(k,"z-index",T[0]+32)},m(I,L){insert(I,k,L),$||(x=[listen(k,"mouseenter",T[1]),listen(k,"mouseleave",T[2])],$=!0)},p(I,[L]){L&1&&set_style(k,"z-index",I[0]+32)},i:noop$1,o:noop$1,d(I){I&&detach(k),$=!1,run_all(x)}}}function instance$N(T,k,$){let x;component_subscribe(T,maxZIndex,P=>$(0,x=P));let{visible:I=!1}=k,{dockfocused:L}=k,{interval:E}=k;function D(){$(3,I=!0)}function F(){clearTimeout(E),!L&&$(4,E=setTimeout(()=>{$(3,I=!1)},1e3))}return T.$$set=P=>{"visible"in P&&$(3,I=P.visible),"dockfocused"in P&&$(5,L=P.dockfocused),"interval"in P&&$(4,E=P.interval)},[x,D,F,I,E,L]}class Trigger extends SvelteComponent{constructor(k){super(),init(this,k,instance$N,create_fragment$S,safe_not_equal,{visible:3,dockfocused:5,interval:4})}}function get_each_context$d(T,k,$){const x=T.slice();return x[12]=k[$],x}function create_if_block$q(T){let k,$;return k=new AppButton({props:{app:T[12]}}),{c(){create_component(k.$$.fragment)},m(x,I){mount_component(k,x,I),$=!0},p(x,I){const L={};I&1&&(L.app=x[12]),k.$set(L)},i(x){$||(transition_in(k.$$.fragment,x),$=!0)},o(x){transition_out(k.$$.fragment,x),$=!1},d(x){destroy_component(k,x)}}}function create_each_block$d(T){let k,$,x=!T[12].info.hidden&&create_if_block$q(T);return{c(){x&&x.c(),k=empty()},m(I,L){x&&x.m(I,L),insert(I,k,L),$=!0},p(I,L){I[12].info.hidden?x&&(group_outros(),transition_out(x,1,1,()=>{x=null}),check_outros()):x?(x.p(I,L),L&1&&transition_in(x,1)):(x=create_if_block$q(I),x.c(),transition_in(x,1),x.m(k.parentNode,k))},i(I){$||(transition_in(x),$=!0)},o(I){transition_out(x),$=!1},d(I){I&&detach(k),x&&x.d(I)}}}function create_fragment$R(T){let k,$,x,I,L,E,D,F,P,U,M,z,N,q=ensure_array_like(T[0]),j=[];for(let G=0;G<q.length;G+=1)j[G]=create_each_block$d(get_each_context$d(T,q,G));const W=G=>transition_out(j[G],1,1,()=>{j[G]=null});function H(G){T[9](G)}function Q(G){T[10](G)}let K={dockfocused:T[2]};return T[1]!==void 0&&(K.visible=T[1]),T[3]!==void 0&&(K.interval=T[3]),F=new Trigger({props:K}),binding_callbacks.push(()=>bind$1(F,"visible",H)),binding_callbacks.push(()=>bind$1(F,"interval",Q)),{c(){k=element("div"),$=element("button"),x=element("img"),L=space(),E=element("div");for(let G=0;G<j.length;G+=1)j[G].c();D=space(),create_component(F.$$.fragment),src_url_equal(x.src,I=Logo$1())||attr(x,"src",I),attr(x,"alt","ArcOS"),attr($,"class","apps"),attr(E,"class","opened-apps"),attr(k,"class","launcher-bar"),set_style(k,"z-index",T[5]+31),toggle_class(k,"colored",T[4].sh.taskbar.colored),toggle_class(k,"visible",T[1])},m(G,V){insert(G,k,V),append(k,$),append($,x),append(k,L),append(k,E);for(let Y=0;Y<j.length;Y+=1)j[Y]&&j[Y].m(E,null);insert(G,D,V),mount_component(F,G,V),M=!0,z||(N=[listen($,"click",T[8]),listen(k,"mouseenter",T[6]),listen(k,"mouseleave",T[7])],z=!0)},p(G,[V]){if(V&1){q=ensure_array_like(G[0]);let J;for(J=0;J<q.length;J+=1){const X=get_each_context$d(G,q,J);j[J]?(j[J].p(X,V),transition_in(j[J],1)):(j[J]=create_each_block$d(X),j[J].c(),transition_in(j[J],1),j[J].m(E,null))}for(group_outros(),J=q.length;J<j.length;J+=1)W(J);check_outros()}(!M||V&32)&&set_style(k,"z-index",G[5]+31),(!M||V&16)&&toggle_class(k,"colored",G[4].sh.taskbar.colored),(!M||V&2)&&toggle_class(k,"visible",G[1]);const Y={};V&4&&(Y.dockfocused=G[2]),!P&&V&2&&(P=!0,Y.visible=G[1],add_flush_callback(()=>P=!1)),!U&&V&8&&(U=!0,Y.interval=G[3],add_flush_callback(()=>U=!1)),F.$set(Y)},i(G){if(!M){for(let V=0;V<q.length;V+=1)transition_in(j[V]);transition_in(F.$$.fragment,G),M=!0}},o(G){j=j.filter(Boolean);for(let V=0;V<j.length;V+=1)transition_out(j[V]);transition_out(F.$$.fragment,G),M=!1},d(G){G&&(detach(k),detach(D)),destroy_each(j,G),destroy_component(F,G),z=!1,run_all(N)}}}function instance$M(T,k,$){let x,I,L;component_subscribe(T,showArcFind,j=>$(11,x=j)),component_subscribe(T,UserData$2,j=>$(4,I=j)),component_subscribe(T,maxZIndex,j=>$(5,L=j));let E=[],D=!1,F=!1,P;WindowStore.subscribe(()=>{$(0,E=getOpenedStore())});function U(){$(2,F=!0),clearTimeout(P)}function M(){$(2,F=!1),$(3,P=setTimeout(()=>{$(1,D=!1)},1e3))}function z(){set_store_value(showArcFind,x=!x,x)}function N(j){D=j,$(1,D)}function q(j){P=j,$(3,P)}return[E,D,F,P,I,L,U,M,z,N,q]}class Bar extends SvelteComponent{constructor(k){super(),init(this,k,instance$M,create_fragment$R,safe_not_equal,{})}}function create_default_slot$3(T){let k=Object.entries(T[3]).length+"",$,x;return{c(){$=text(k),x=text(" Notifications")},m(I,L){insert(I,$,L),insert(I,x,L)},p(I,L){L&8&&k!==(k=Object.entries(I[3]).length+"")&&set_data($,k)},d(I){I&&(detach($),detach(x))}}}function create_fragment$Q(T){let k,$,x;return $=new Tray({props:{hasClock:!1,$$slots:{default:[create_default_slot$3]},$$scope:{ctx:T}}}),{c(){k=element("div"),create_component($.$$.fragment),attr(k,"class","launcher-topbar"),set_style(k,"z-index",T[2]+22),toggle_class(k,"docked",T[0].sh.taskbar.docked),toggle_class(k,"colored",T[0].sh.taskbar.colored),toggle_class(k,"visible",!T[1])},m(I,L){insert(I,k,L),mount_component($,k,null),x=!0},p(I,[L]){const E={};L&24&&(E.$$scope={dirty:L,ctx:I}),$.$set(E),(!x||L&4)&&set_style(k,"z-index",I[2]+22),(!x||L&1)&&toggle_class(k,"docked",I[0].sh.taskbar.docked),(!x||L&1)&&toggle_class(k,"colored",I[0].sh.taskbar.colored),(!x||L&2)&&toggle_class(k,"visible",!I[1])},i(I){x||(transition_in($.$$.fragment,I),x=!0)},o(I){transition_out($.$$.fragment,I),x=!1},d(I){I&&detach(k),destroy_component($)}}}function instance$L(T,k,$){let x,I,L,E;return component_subscribe(T,UserData$2,D=>$(0,x=D)),component_subscribe(T,isFullscreenWindow,D=>$(1,I=D)),component_subscribe(T,maxZIndex,D=>$(2,L=D)),component_subscribe(T,NotificationStore,D=>$(3,E=D)),[x,I,L,E]}class TopBar extends SvelteComponent{constructor(k){super(),init(this,k,instance$L,create_fragment$Q,safe_not_equal,{})}}function create_fragment$P(T){let k,$,x,I;return k=new Bar({}),x=new TopBar({}),{c(){create_component(k.$$.fragment),$=space(),create_component(x.$$.fragment)},m(L,E){mount_component(k,L,E),insert(L,$,E),mount_component(x,L,E),I=!0},p:noop$1,i(L){I||(transition_in(k.$$.fragment,L),transition_in(x.$$.fragment,L),I=!0)},o(L){transition_out(k.$$.fragment,L),transition_out(x.$$.fragment,L),I=!1},d(L){L&&detach($),destroy_component(k,L),destroy_component(x,L)}}}class Launcher extends SvelteComponent{constructor(k){super(),init(this,k,null,create_fragment$P,safe_not_equal,{})}}const shade="";function create_fragment$O(T){let k,$,x;return{c(){k=element("div"),attr(k,"class","shellshade"),set_style(k,"z-index",T[1]+3),toggle_class(k,"visible",T[0])},m(I,L){insert(I,k,L),$||(x=listen(k,"click",T[2]),$=!0)},p(I,[L]){L&2&&set_style(k,"z-index",I[1]+3),L&1&&toggle_class(k,"visible",I[0])},i:noop$1,o:noop$1,d(I){I&&detach(k),$=!1,x()}}}function instance$K(T,k,$){let x,I,L,E;component_subscribe(T,ActionCenterOpened,P=>$(3,x=P)),component_subscribe(T,startOpened,P=>$(4,I=P)),component_subscribe(T,showShellShade,P=>$(0,L=P)),component_subscribe(T,maxZIndex,P=>$(1,E=P)),ActionCenterOpened.subscribe(D),startOpened.subscribe(D);function D(){set_store_value(showShellShade,L=I||x,L)}function F(){startOpened.set(!1),ActionCenterOpened.set(!1)}return[L,E,F]}class Shade extends SvelteComponent{constructor(k){super(),init(this,k,instance$K,create_fragment$O,safe_not_equal,{})}}function create_fragment$N(T){let k,$,x,I;const L=T[4].default,E=create_slot(L,T,T[3],null);return x=new TaskbarContent({}),{c(){k=element("div"),E&&E.c(),$=space(),create_component(x.$$.fragment),attr(k,"class","taskbar-v newtb"),set_style(k,"z-index",T[0]+5),attr(k,"data-caller","shell-taskbar"),toggle_class(k,"docked",T[1].sh.taskbar.docked),toggle_class(k,"centered",T[1].sh.taskbar.centered),toggle_class(k,"colored",T[1].sh.taskbar.colored),toggle_class(k,"visible",T[1].sh.taskbar.pos!=""&&!T[2]),toggle_class(k,"right",T[1].sh.taskbar.pos=="vertical-right")},m(D,F){insert(D,k,F),E&&E.m(k,null),append(k,$),mount_component(x,k,null),I=!0},p(D,[F]){E&&E.p&&(!I||F&8)&&update_slot_base(E,L,D,D[3],I?get_slot_changes(L,D[3],F,null):get_all_dirty_from_scope(D[3]),null),(!I||F&1)&&set_style(k,"z-index",D[0]+5),(!I||F&2)&&toggle_class(k,"docked",D[1].sh.taskbar.docked),(!I||F&2)&&toggle_class(k,"centered",D[1].sh.taskbar.centered),(!I||F&2)&&toggle_class(k,"colored",D[1].sh.taskbar.colored),(!I||F&6)&&toggle_class(k,"visible",D[1].sh.taskbar.pos!=""&&!D[2]),(!I||F&2)&&toggle_class(k,"right",D[1].sh.taskbar.pos=="vertical-right")},i(D){I||(transition_in(E,D),transition_in(x.$$.fragment,D),I=!0)},o(D){transition_out(E,D),transition_out(x.$$.fragment,D),I=!1},d(D){D&&detach(k),E&&E.d(D),destroy_component(x)}}}function instance$J(T,k,$){let x,I,L;component_subscribe(T,maxZIndex,F=>$(0,x=F)),component_subscribe(T,UserData$2,F=>$(1,I=F)),component_subscribe(T,isFullscreenWindow,F=>$(2,L=F));let{$$slots:E={},$$scope:D}=k;return T.$$set=F=>{"$$scope"in F&&$(3,D=F.$$scope)},[x,I,L,D,E]}class VerticalTaskbar extends SvelteComponent{constructor(k){super(),init(this,k,instance$J,create_fragment$N,safe_not_equal,{})}}function create_fragment$M(T){let k,$,x,I,L,E,D,F,P,U,M,z,N,q,j,W,H;return x=new ProfilePicture$1({props:{src:T[0],height:21}}),{c(){k=element("div"),$=element("h1"),create_component(x.$$.fragment),I=space(),L=text(T[1]),E=space(),D=element("div"),F=element("button"),F.textContent="search",P=space(),U=element("button"),U.textContent="settings",M=space(),z=element("div"),N=space(),q=element("button"),q.textContent="power_settings_new",attr($,"class","username"),attr(F,"class","material-icons-round"),attr(F,"title","Search (Alt+Shift+S)"),attr(U,"class","material-icons-round"),attr(z,"class","sep"),attr(q,"class","material-icons-round"),attr(D,"class","options"),attr(k,"class","bottom")},m(Q,K){insert(Q,k,K),append(k,$),mount_component(x,$,null),append($,I),append($,L),append(k,E),append(k,D),append(D,F),append(D,P),append(D,U),append(D,M),append(D,z),append(D,N),append(D,q),j=!0,W||(H=[listen(F,"click",T[4]),listen(U,"click",T[3]),listen(q,"click",T[2])],W=!0)},p(Q,[K]){const G={};K&1&&(G.src=Q[0]),x.$set(G),(!j||K&2)&&set_data(L,Q[1])},i(Q){j||(transition_in(x.$$.fragment,Q),j=!0)},o(Q){transition_out(x.$$.fragment,Q),j=!1},d(Q){Q&&detach(k),destroy_component(x),W=!1,run_all(H)}}}function instance$I(T,k,$){let x,I;component_subscribe(T,UserData$2,P=>$(5,x=P)),component_subscribe(T,UserName,P=>$(1,I=P));let L;function E(){openWindow("Exit"),startOpened.set(!1)}function D(){openWindow("SettingsApp"),startOpened.set(!1)}function F(){showArcFind.set(!0),startOpened.set(!1)}return UserData$2.subscribe(()=>{$(0,L=getProfilePicture(x.acc.profilePicture))}),[L,I,E,D,F]}class BottomPane extends SvelteComponent{constructor(k){super(),init(this,k,instance$I,create_fragment$M,safe_not_equal,{})}}const appGroups={communication:{name:"Communication",id:"communication"},coreApps:{name:"Core Apps",id:"coreApps"},entertainment:{name:"Entertainment",id:"entertainment"},utilities:{name:"Utilities",id:"utilities"},support:{name:"Help and Support",id:"support"},systemTools:{name:"System Tools",id:"systemTools"}};function getAppGroups(){const T=get_store_value(WindowStore),k={},$=[];let x=[];for(let I=0;I<T.length;I++){x.push(T[I].id);const L=T[I].info.appGroup;if(appGroups[L]){if(!isPopulatable(T[I])){$.push(T[I].id);continue}if($.push(T[I].id),!k[L]){k[L]={...appGroups[L],apps:[T[I].id]};continue}k[L].apps.push(T[I].id)}}return x=x.filter(I=>!$.includes(I)),{groups:k,rest:x}}function create_fragment$L(T){let k,$,x,I,L,E=T[0].info.name+"",D,F,P,U;return{c(){k=element("button"),$=element("img"),L=space(),D=text(E),src_url_equal($.src,x=getOriginalIcon(T[0].id)||getAppIcon(T[0]))||attr($,"src",x),attr($,"class","icon"),attr($,"alt",I=T[0].info.name),attr(k,"class","item"),k.disabled=F=T[0].opened},m(M,z){insert(M,k,z),append(k,$),append(k,L),append(k,D),P||(U=listen(k,"click",T[1]),P=!0)},p(M,[z]){z&1&&!src_url_equal($.src,x=getOriginalIcon(M[0].id)||getAppIcon(M[0]))&&attr($,"src",x),z&1&&I!==(I=M[0].info.name)&&attr($,"alt",I),z&1&&E!==(E=M[0].info.name+"")&&set_data(D,E),z&1&&F!==(F=M[0].opened)&&(k.disabled=F)},i:noop$1,o:noop$1,d(M){M&&detach(k),P=!1,U()}}}function instance$H(T,k,$){let{app:x}=k,{onopen:I=()=>{}}=k;function L(){openWindow(x.id),updateStores(),startOpened.set(!1),I()}return T.$$set=E=>{"app"in E&&$(0,x=E.app),"onopen"in E&&$(2,I=E.onopen)},[x,L,I]}class AppListItem extends SvelteComponent{constructor(k){super(),init(this,k,instance$H,create_fragment$L,safe_not_equal,{app:0,onopen:2})}}function get_each_context$c(T,k,$){const x=T.slice();return x[3]=k[$],x}function create_if_block$p(T){let k,$,x,I,L,E,D=T[0].name+"",F,P,U,M,z,N,q=ensure_array_like(T[0].apps),j=[];for(let H=0;H<q.length;H+=1)j[H]=create_each_block$c(get_each_context$c(T,q,H));const W=H=>transition_out(j[H],1,1,()=>{j[H]=null});return{c(){k=element("div"),$=element("button"),x=element("img"),L=space(),E=element("span"),F=text(D),P=space(),U=element("div");for(let H=0;H<j.length;H+=1)j[H].c();src_url_equal(x.src,I=folder)||attr(x,"src",I),attr(x,"alt",""),attr(E,"class","capt"),attr($,"class","expander"),attr(U,"class","apps"),attr(k,"class","group"),toggle_class(k,"expand",T[1])},m(H,Q){insert(H,k,Q),append(k,$),append($,x),append($,L),append($,E),append(E,F),append(k,P),append(k,U);for(let K=0;K<j.length;K+=1)j[K]&&j[K].m(U,null);M=!0,z||(N=listen($,"click",T[2]),z=!0)},p(H,Q){if((!M||Q&1)&&D!==(D=H[0].name+"")&&set_data(F,D),Q&1){q=ensure_array_like(H[0].apps);let K;for(K=0;K<q.length;K+=1){const G=get_each_context$c(H,q,K);j[K]?(j[K].p(G,Q),transition_in(j[K],1)):(j[K]=create_each_block$c(G),j[K].c(),transition_in(j[K],1),j[K].m(U,null))}for(group_outros(),K=q.length;K<j.length;K+=1)W(K);check_outros()}(!M||Q&2)&&toggle_class(k,"expand",H[1])},i(H){if(!M){for(let Q=0;Q<q.length;Q+=1)transition_in(j[Q]);M=!0}},o(H){j=j.filter(Boolean);for(let Q=0;Q<j.length;Q+=1)transition_out(j[Q]);M=!1},d(H){H&&detach(k),destroy_each(j,H),z=!1,N()}}}function create_if_block_1$7(T){let k,$;return k=new AppListItem({props:{app:getWindow(T[3])}}),{c(){create_component(k.$$.fragment)},m(x,I){mount_component(k,x,I),$=!0},p(x,I){const L={};I&1&&(L.app=getWindow(x[3])),k.$set(L)},i(x){$||(transition_in(k.$$.fragment,x),$=!0)},o(x){transition_out(k.$$.fragment,x),$=!1},d(x){destroy_component(k,x)}}}function create_each_block$c(T){let k=isPopulatable(getWindow(T[3])),$,x,I=k&&create_if_block_1$7(T);return{c(){I&&I.c(),$=empty()},m(L,E){I&&I.m(L,E),insert(L,$,E),x=!0},p(L,E){E&1&&(k=isPopulatable(getWindow(L[3]))),k?I?(I.p(L,E),E&1&&transition_in(I,1)):(I=create_if_block_1$7(L),I.c(),transition_in(I,1),I.m($.parentNode,$)):I&&(group_outros(),transition_out(I,1,1,()=>{I=null}),check_outros())},i(L){x||(transition_in(I),x=!0)},o(L){transition_out(I),x=!1},d(L){L&&detach($),I&&I.d(L)}}}function create_fragment$K(T){let k,$,x=T[0]&&create_if_block$p(T);return{c(){x&&x.c(),k=empty()},m(I,L){x&&x.m(I,L),insert(I,k,L),$=!0},p(I,[L]){I[0]?x?(x.p(I,L),L&1&&transition_in(x,1)):(x=create_if_block$p(I),x.c(),transition_in(x,1),x.m(k.parentNode,k)):x&&(group_outros(),transition_out(x,1,1,()=>{x=null}),check_outros())},i(I){$||(transition_in(x),$=!0)},o(I){transition_out(x),$=!1},d(I){I&&detach(k),x&&x.d(I)}}}function instance$G(T,k,$){let{group:x}=k,I=!1;const L=()=>$(1,I=!I);return T.$$set=E=>{"group"in E&&$(0,x=E.group)},[x,I,L]}class Group extends SvelteComponent{constructor(k){super(),init(this,k,instance$G,create_fragment$K,safe_not_equal,{group:0})}}function get_each_context$b(T,k,$){const x=T.slice();return x[3]=k[$],x}function get_each_context_1$3(T,k,$){const x=T.slice();return x[6]=k[$],x}function create_each_block_1$3(T){let k,$;return k=new Group({props:{group:T[6]}}),{c(){create_component(k.$$.fragment)},m(x,I){mount_component(k,x,I),$=!0},p(x,I){const L={};I&2&&(L.group=x[6]),k.$set(L)},i(x){$||(transition_in(k.$$.fragment,x),$=!0)},o(x){transition_out(k.$$.fragment,x),$=!1},d(x){destroy_component(k,x)}}}function create_if_block$o(T){let k,$;return k=new AppListItem({props:{app:getWindow(T[3])}}),{c(){create_component(k.$$.fragment)},m(x,I){mount_component(k,x,I),$=!0},p(x,I){const L={};I&1&&(L.app=getWindow(x[3])),k.$set(L)},i(x){$||(transition_in(k.$$.fragment,x),$=!0)},o(x){transition_out(k.$$.fragment,x),$=!1},d(x){destroy_component(k,x)}}}function create_each_block$b(T){let k=isPopulatable(getWindow(T[3])),$,x,I=k&&create_if_block$o(T);return{c(){I&&I.c(),$=empty()},m(L,E){I&&I.m(L,E),insert(L,$,E),x=!0},p(L,E){E&1&&(k=isPopulatable(getWindow(L[3]))),k?I?(I.p(L,E),E&1&&transition_in(I,1)):(I=create_if_block$o(L),I.c(),transition_in(I,1),I.m($.parentNode,$)):I&&(group_outros(),transition_out(I,1,1,()=>{I=null}),check_outros())},i(L){x||(transition_in(I),x=!0)},o(L){transition_out(I),x=!1},d(L){L&&detach($),I&&I.d(L)}}}function create_fragment$J(T){let k,$,x,I=ensure_array_like(Object.values(T[1])),L=[];for(let U=0;U<I.length;U+=1)L[U]=create_each_block_1$3(get_each_context_1$3(T,I,U));const E=U=>transition_out(L[U],1,1,()=>{L[U]=null});let D=ensure_array_like(T[0]),F=[];for(let U=0;U<D.length;U+=1)F[U]=create_each_block$b(get_each_context$b(T,D,U));const P=U=>transition_out(F[U],1,1,()=>{F[U]=null});return{c(){k=element("div");for(let U=0;U<L.length;U+=1)L[U].c();$=space();for(let U=0;U<F.length;U+=1)F[U].c();attr(k,"class","left")},m(U,M){insert(U,k,M);for(let z=0;z<L.length;z+=1)L[z]&&L[z].m(k,null);append(k,$);for(let z=0;z<F.length;z+=1)F[z]&&F[z].m(k,null);x=!0},p(U,[M]){if(M&2){I=ensure_array_like(Object.values(U[1]));let z;for(z=0;z<I.length;z+=1){const N=get_each_context_1$3(U,I,z);L[z]?(L[z].p(N,M),transition_in(L[z],1)):(L[z]=create_each_block_1$3(N),L[z].c(),transition_in(L[z],1),L[z].m(k,$))}for(group_outros(),z=I.length;z<L.length;z+=1)E(z);check_outros()}if(M&1){D=ensure_array_like(U[0]);let z;for(z=0;z<D.length;z+=1){const N=get_each_context$b(U,D,z);F[z]?(F[z].p(N,M),transition_in(F[z],1)):(F[z]=create_each_block$b(N),F[z].c(),transition_in(F[z],1),F[z].m(k,null))}for(group_outros(),z=D.length;z<F.length;z+=1)P(z);check_outros()}},i(U){if(!x){for(let M=0;M<I.length;M+=1)transition_in(L[M]);for(let M=0;M<D.length;M+=1)transition_in(F[M]);x=!0}},o(U){L=L.filter(Boolean);for(let M=0;M<L.length;M+=1)transition_out(L[M]);F=F.filter(Boolean);for(let M=0;M<F.length;M+=1)transition_out(F[M]);x=!1},d(U){U&&detach(k),destroy_each(L,U),destroy_each(F,U)}}}function instance$F(T,k,$){let x,I=writable({});component_subscribe(T,I,E=>$(1,x=E));let L=[];return WindowStore.subscribe(async()=>{set_store_value(I,x={},x),await sleep(0);const E=getAppGroups();set_store_value(I,x=E.groups,x),$(0,L=E.rest)}),[L,x,I]}class LeftPane extends SvelteComponent{constructor(k){super(),init(this,k,instance$F,create_fragment$J,safe_not_equal,{})}}function create_fragment$I(T){let k,$,x,I,L,E,D,F=T[0].name+"",P,U,M;return{c(){k=element("button"),$=element("div"),x=element("img"),E=space(),D=element("div"),P=text(F),src_url_equal(x.src,I=folder)||attr(x,"src",I),attr(x,"alt",L=T[0].name),attr($,"class","image"),attr(D,"class","caption"),attr(k,"class","link dir")},m(z,N){insert(z,k,N),append(k,$),append($,x),append(k,E),append(k,D),append(D,P),U||(M=listen(k,"click",T[1]),U=!0)},p(z,[N]){N&1&&L!==(L=z[0].name)&&attr(x,"alt",L),N&1&&F!==(F=z[0].name+"")&&set_data(P,F)},i:noop$1,o:noop$1,d(z){z&&detach(k),U=!1,M()}}}function instance$E(T,k,$){let{dir:x}=k;function I(){startOpened.set(!1),openWindow("FileManager"),setTimeout(()=>{fbClass.goToDirectory(x.scopedPath)})}return T.$$set=L=>{"dir"in L&&$(0,x=L.dir)},[x,I]}class DirLink extends SvelteComponent{constructor(k){super(),init(this,k,instance$E,create_fragment$I,safe_not_equal,{dir:0})}}function get_each_context$a(T,k,$){const x=T.slice();return x[1]=k[$],x}function create_each_block$a(T){let k,$;return k=new DirLink({props:{dir:T[1]}}),{c(){create_component(k.$$.fragment)},m(x,I){mount_component(k,x,I),$=!0},p(x,I){const L={};I&1&&(L.dir=x[1]),k.$set(L)},i(x){$||(transition_in(k.$$.fragment,x),$=!0)},o(x){transition_out(k.$$.fragment,x),$=!1},d(x){destroy_component(k,x)}}}function create_fragment$H(T){let k,$,x=ensure_array_like(T[0]),I=[];for(let E=0;E<x.length;E+=1)I[E]=create_each_block$a(get_each_context$a(T,x,E));const L=E=>transition_out(I[E],1,1,()=>{I[E]=null});return{c(){k=element("div");for(let E=0;E<I.length;E+=1)I[E].c();attr(k,"class","right")},m(E,D){insert(E,k,D);for(let F=0;F<I.length;F+=1)I[F]&&I[F].m(k,null);$=!0},p(E,[D]){if(D&1){x=ensure_array_like(E[0]);let F;for(F=0;F<x.length;F+=1){const P=get_each_context$a(E,x,F);I[F]?(I[F].p(P,D),transition_in(I[F],1)):(I[F]=create_each_block$a(P),I[F].c(),transition_in(I[F],1),I[F].m(k,null))}for(group_outros(),F=x.length;F<I.length;F+=1)L(F);check_outros()}},i(E){if(!$){for(let D=0;D<x.length;D+=1)transition_in(I[D]);$=!0}},o(E){I=I.filter(Boolean);for(let D=0;D<I.length;D+=1)transition_out(I[D]);$=!1},d(E){E&&detach(k),destroy_each(I,E)}}}function instance$D(T,k,$){let x=[];return FileBrowserDirContents.subscribe(async()=>{$(0,x=(await getDirectory("./")).directories)}),[x]}class RightPane extends SvelteComponent{constructor(k){super(),init(this,k,instance$D,create_fragment$H,safe_not_equal,{})}}function create_if_block$n(T){let k,$,x,I,L,E,D;return $=new LeftPane({}),I=new RightPane({}),E=new BottomPane({}),{c(){k=element("div"),create_component($.$$.fragment),x=space(),create_component(I.$$.fragment),L=space(),create_component(E.$$.fragment),attr(k,"class","startmenu"),set_style(k,"z-index",T[1]+4),toggle_class(k,"open",T[2]),toggle_class(k,"small",T[0].sh.start.small),toggle_class(k,"colored",T[0].sh.taskbar.colored)},m(F,P){insert(F,k,P),mount_component($,k,null),append(k,x),mount_component(I,k,null),append(k,L),mount_component(E,k,null),D=!0},p(F,P){(!D||P&2)&&set_style(k,"z-index",F[1]+4),(!D||P&4)&&toggle_class(k,"open",F[2]),(!D||P&1)&&toggle_class(k,"small",F[0].sh.start.small),(!D||P&1)&&toggle_class(k,"colored",F[0].sh.taskbar.colored)},i(F){D||(transition_in($.$$.fragment,F),transition_in(I.$$.fragment,F),transition_in(E.$$.fragment,F),D=!0)},o(F){transition_out($.$$.fragment,F),transition_out(I.$$.fragment,F),transition_out(E.$$.fragment,F),D=!1},d(F){F&&detach(k),destroy_component($),destroy_component(I),destroy_component(E)}}}function create_fragment$G(T){let k,$,x=T[0]&&create_if_block$n(T);return{c(){x&&x.c(),k=empty()},m(I,L){x&&x.m(I,L),insert(I,k,L),$=!0},p(I,[L]){I[0]?x?(x.p(I,L),L&1&&transition_in(x,1)):(x=create_if_block$n(I),x.c(),transition_in(x,1),x.m(k.parentNode,k)):x&&(group_outros(),transition_out(x,1,1,()=>{x=null}),check_outros())},i(I){$||(transition_in(x),$=!0)},o(I){transition_out(x),$=!1},d(I){I&&detach(k),x&&x.d(I)}}}function instance$C(T,k,$){let x,I,L;return component_subscribe(T,UserData$2,E=>$(0,x=E)),component_subscribe(T,maxZIndex,E=>$(1,I=E)),component_subscribe(T,startOpened,E=>$(2,L=E)),[x,I,L]}class StartMenu extends SvelteComponent{constructor(k){super(),init(this,k,instance$C,create_fragment$G,safe_not_equal,{})}}function create_fragment$F(T){let k,$,x,I,L;return{c(){k=element("button"),$=element("img"),src_url_equal($.src,x=Logo$1())||attr($,"src",x),attr($,"alt","ArcOS Logo"),attr(k,"class","start"),toggle_class(k,"open",T[0])},m(E,D){insert(E,k,D),append(k,$),I||(L=listen(k,"click",T[1]),I=!0)},p(E,[D]){D&1&&toggle_class(k,"open",E[0])},i:noop$1,o:noop$1,d(E){E&&detach(k),I=!1,L()}}}function instance$B(T,k,$){let x;component_subscribe(T,startOpened,L=>$(0,x=L));function I(){set_store_value(startOpened,x=!x,x)}return[x,I]}class StartButton extends SvelteComponent{constructor(k){super(),init(this,k,instance$B,create_fragment$F,safe_not_equal,{})}}function create_else_block$5(T){let k,$;return k=new Launcher({}),{c(){create_component(k.$$.fragment)},m(x,I){mount_component(k,x,I),$=!0},i(x){$||(transition_in(k.$$.fragment,x),$=!0)},o(x){transition_out(k.$$.fragment,x),$=!1},d(x){destroy_component(k,x)}}}function create_if_block$m(T){let k,$,x,I;return k=new HorizontalTaskbar({props:{$$slots:{default:[create_default_slot_1]},$$scope:{ctx:T}}}),x=new VerticalTaskbar({props:{$$slots:{default:[create_default_slot$2]},$$scope:{ctx:T}}}),{c(){create_component(k.$$.fragment),$=space(),create_component(x.$$.fragment)},m(L,E){mount_component(k,L,E),insert(L,$,E),mount_component(x,L,E),I=!0},i(L){I||(transition_in(k.$$.fragment,L),transition_in(x.$$.fragment,L),I=!0)},o(L){transition_out(k.$$.fragment,L),transition_out(x.$$.fragment,L),I=!1},d(L){L&&detach($),destroy_component(k,L),destroy_component(x,L)}}}function create_default_slot_1(T){let k,$;return k=new StartButton({}),{c(){create_component(k.$$.fragment)},m(x,I){mount_component(k,x,I),$=!0},i(x){$||(transition_in(k.$$.fragment,x),$=!0)},o(x){transition_out(k.$$.fragment,x),$=!1},d(x){destroy_component(k,x)}}}function create_default_slot$2(T){let k,$;return k=new StartButton({}),{c(){create_component(k.$$.fragment)},m(x,I){mount_component(k,x,I),$=!0},i(x){$||(transition_in(k.$$.fragment,x),$=!0)},o(x){transition_out(k.$$.fragment,x),$=!1},d(x){destroy_component(k,x)}}}function create_fragment$E(T){let k,$,x,I,L,E,D,F,P,U,M;k=new Shade({}),x=new StartMenu({});const z=[create_if_block$m,create_else_block$5],N=[];function q(j,W){return j[0].sh.taskbar.isLauncher?1:0}return L=q(T),E=N[L]=z[L](T),F=new ActionCenter({}),U=new PushNotification({}),{c(){create_component(k.$$.fragment),$=space(),create_component(x.$$.fragment),I=space(),E.c(),D=space(),create_component(F.$$.fragment),P=space(),create_component(U.$$.fragment)},m(j,W){mount_component(k,j,W),insert(j,$,W),mount_component(x,j,W),insert(j,I,W),N[L].m(j,W),insert(j,D,W),mount_component(F,j,W),insert(j,P,W),mount_component(U,j,W),M=!0},p(j,[W]){let H=L;L=q(j),L!==H&&(group_outros(),transition_out(N[H],1,1,()=>{N[H]=null}),check_outros(),E=N[L],E||(E=N[L]=z[L](j),E.c()),transition_in(E,1),E.m(D.parentNode,D))},i(j){M||(transition_in(k.$$.fragment,j),transition_in(x.$$.fragment,j),transition_in(E),transition_in(F.$$.fragment,j),transition_in(U.$$.fragment,j),M=!0)},o(j){transition_out(k.$$.fragment,j),transition_out(x.$$.fragment,j),transition_out(E),transition_out(F.$$.fragment,j),transition_out(U.$$.fragment,j),M=!1},d(j){j&&(detach($),detach(I),detach(D),detach(P)),destroy_component(k,j),destroy_component(x,j),N[L].d(j),destroy_component(F,j),destroy_component(U,j)}}}function instance$A(T,k,$){let x;return component_subscribe(T,UserData$2,I=>$(0,x=I)),[x]}class Shell extends SvelteComponent{constructor(k){super(),init(this,k,instance$A,create_fragment$E,safe_not_equal,{})}}const ArcShell={info:{name:"ArcShell",description:"The ArcOS Shell",builtin:!0,version:ArcOSVersion,author:"ArcOS Team",icon:Logo$1(),custom:!0,appGroup:"coreApps"},size:{w:NaN,h:NaN},pos:{x:0,y:0},minSize:{w:NaN,h:NaN},maxSize:{w:NaN,h:NaN},controls:{min:!1,max:!1,cls:!1},state:{headless:!0,resizable:!1,windowState:{min:!1,max:!1,fll:!0}},content:Shell,glass:!1,events:{},contextMenu:{"shell-taskbar":[{caption:"Application Manager",action:()=>{openWindow("AppMan")}},SEP_ITEM,{icon:"settings",caption:"Shell settings",action:()=>{openWindow("SettingsApp"),setTimeout(()=>{openByKey("Shell")})}}]},core:!0},showShellShade=writable(!1),desktopicons="";function create_fragment$D(T){let k,$,x,I,L,E,D=T[0].info.name+"",F,P,U;return{c(){k=element("button"),$=element("img"),L=space(),E=element("p"),F=text(D),src_url_equal($.src,x=getOriginalIcon(T[0].id)||T[0].info.icon)||attr($,"src",x),attr($,"alt",I=T[0].info.name),attr(E,"class","name"),attr(k,"class","desktopIcon")},m(M,z){insert(M,k,z),append(k,$),append(k,L),append(k,E),append(E,F),P||(U=listen(k,"dblclick",T[1]),P=!0)},p(M,[z]){z&1&&!src_url_equal($.src,x=getOriginalIcon(M[0].id)||M[0].info.icon)&&attr($,"src",x),z&1&&I!==(I=M[0].info.name)&&attr($,"alt",I),z&1&&D!==(D=M[0].info.name+"")&&set_data(F,D)},i:noop$1,o:noop$1,d(M){M&&detach(k),P=!1,U()}}}function instance$z(T,k,$){let{app:x}=k;function I(){openWindow(x.id)}return T.$$set=L=>{"app"in L&&$(0,x=L.app)},[x,I]}class DesktopIcon extends SvelteComponent{constructor(k){super(),init(this,k,instance$z,create_fragment$D,safe_not_equal,{app:0})}}function get_each_context$9(T,k,$){const x=T.slice();return x[2]=k[$],x}function create_if_block$l(T){let k,$,x=ensure_array_like(T[1]),I=[];for(let E=0;E<x.length;E+=1)I[E]=create_each_block$9(get_each_context$9(T,x,E));const L=E=>transition_out(I[E],1,1,()=>{I[E]=null});return{c(){k=element("div");for(let E=0;E<I.length;E+=1)I[E].c();attr(k,"class","desktopIcons"),toggle_class(k,"launcher",T[0].sh.taskbar.isLauncher),toggle_class(k,"undocked-launcher",T[0].sh.taskbar.isLauncher&&!T[0].sh.taskbar.docked)},m(E,D){insert(E,k,D);for(let F=0;F<I.length;F+=1)I[F]&&I[F].m(k,null);$=!0},p(E,D){if(D&3){x=ensure_array_like(E[1]);let F;for(F=0;F<x.length;F+=1){const P=get_each_context$9(E,x,F);I[F]?(I[F].p(P,D),transition_in(I[F],1)):(I[F]=create_each_block$9(P),I[F].c(),transition_in(I[F],1),I[F].m(k,null))}for(group_outros(),F=x.length;F<I.length;F+=1)L(F);check_outros()}(!$||D&1)&&toggle_class(k,"launcher",E[0].sh.taskbar.isLauncher),(!$||D&1)&&toggle_class(k,"undocked-launcher",E[0].sh.taskbar.isLauncher&&!E[0].sh.taskbar.docked)},i(E){if(!$){for(let D=0;D<x.length;D+=1)transition_in(I[D]);$=!0}},o(E){I=I.filter(Boolean);for(let D=0;D<I.length;D+=1)transition_out(I[D]);$=!1},d(E){E&&detach(k),destroy_each(I,E)}}}function create_if_block_1$6(T){let k,$;return k=new DesktopIcon({props:{app:T[2]}}),{c(){create_component(k.$$.fragment)},m(x,I){mount_component(k,x,I),$=!0},p(x,I){const L={};I&2&&(L.app=x[2]),k.$set(L)},i(x){$||(transition_in(k.$$.fragment,x),$=!0)},o(x){transition_out(k.$$.fragment,x),$=!1},d(x){destroy_component(k,x)}}}function create_each_block$9(T){let k=isPopulatable(T[2])||T[0].sh.showHiddenApps,$,x,I=k&&create_if_block_1$6(T);return{c(){I&&I.c(),$=empty()},m(L,E){I&&I.m(L,E),insert(L,$,E),x=!0},p(L,E){E&3&&(k=isPopulatable(L[2])||L[0].sh.showHiddenApps),k?I?(I.p(L,E),E&3&&transition_in(I,1)):(I=create_if_block_1$6(L),I.c(),transition_in(I,1),I.m($.parentNode,$)):I&&(group_outros(),transition_out(I,1,1,()=>{I=null}),check_outros())},i(L){x||(transition_in(I),x=!0)},o(L){transition_out(I),x=!1},d(L){L&&detach($),I&&I.d(L)}}}function create_fragment$C(T){let k,$,x=T[0].sh.desktop.icons&&create_if_block$l(T);return{c(){x&&x.c(),k=empty()},m(I,L){x&&x.m(I,L),insert(I,k,L),$=!0},p(I,[L]){I[0].sh.desktop.icons?x?(x.p(I,L),L&1&&transition_in(x,1)):(x=create_if_block$l(I),x.c(),transition_in(x,1),x.m(k.parentNode,k)):x&&(group_outros(),transition_out(x,1,1,()=>{x=null}),check_outros())},i(I){$||(transition_in(x),$=!0)},o(I){transition_out(x),$=!1},d(I){I&&detach(k),x&&x.d(I)}}}function instance$y(T,k,$){let x,I;return component_subscribe(T,UserData$2,L=>$(0,x=L)),component_subscribe(T,WindowStore,L=>$(1,I=L)),[x,I]}class DesktopIcons extends SvelteComponent{constructor(k){super(),init(this,k,instance$y,create_fragment$C,safe_not_equal,{})}}const snapzones="",draggingId=writable(),leftZoneTriggered=writable(!1),rightZoneTriggered=writable(!1);function create_fragment$B(T){let k,$,x;return $=new DesktopIcons({}),{c(){k=element("div"),create_component($.$$.fragment),attr(k,"class","wallpaper fullscreen"),set_style(k,"background-image","url("+T[0]+")"),attr(k,"data-caller","shell-wallpaper")},m(I,L){insert(I,k,L),mount_component($,k,null),x=!0},p(I,[L]){(!x||L&1)&&set_style(k,"background-image","url("+I[0]+")")},i(I){x||(transition_in($.$$.fragment,I),x=!0)},o(I){transition_out($.$$.fragment,I),x=!1},d(I){I&&detach(k),destroy_component($)}}}function instance$x(T,k,$){let x;component_subscribe(T,UserData$2,E=>$(2,x=E));let I="",L="";return UserData$2.subscribe(async()=>{const E=x.sh.desktop.wallpaper;if(L==E)return;L=E;const D=(await getWallpaper(E)).url;D!=I&&$(0,I=D)}),[I]}class Wallpaper extends SvelteComponent{constructor(k){super(),init(this,k,instance$x,create_fragment$B,safe_not_equal,{})}}const DesktopWallpaper={info:{name:"Wallpaper",description:"The ArcOS wallpaper",builtin:!0,version:ArcOSVersion,author:"ArcOS Team",icon:desktopIcon,custom:!0,appGroup:"coreApps"},size:{w:NaN,h:NaN},pos:{x:0,y:0},minSize:{w:NaN,h:NaN},maxSize:{w:NaN,h:NaN},controls:{min:!1,max:!1,cls:!1},state:{headless:!0,resizable:!1,windowState:{min:!1,max:!1,fll:!0}},content:Wallpaper,glass:!1,events:{},contextMenu:{"shell-wallpaper":[{caption:"Show desktop icons",action:()=>{const T=get_store_value(UserData$2);T.sh.desktop.icons=!T.sh.desktop.icons,UserData$2.set(T)},icon:"apps",isActive:()=>get_store_value(UserData$2).sh.desktop.icons},SEP_ITEM,{caption:"File Manager",action:()=>{openWindow("FileManager")},image:fileManager},{caption:"Application Manager",action:()=>{openWindow("AppMan")},image:appMan},{caption:"App settings",action:()=>{openByKey("Apps")},image:appSettings},SEP_ITEM,{caption:"Shut down",action:shutdown,icon:"power_settings_new"},{caption:"Restart",action:()=>restart$1(!1),icon:"refresh"},SEP_ITEM,{caption:"Themes",action:()=>{openByKey("Themes")},image:themesIcon},{caption:"Wallpaper",action:()=>{openByKey("Wallpaper")},image:desktopIcon},{caption:"Visuals",action:()=>{openByKey("Visuals")},image:appearance}]},core:!0},DefaultApps={ErrCre:ErrorCreator,FileManager:FileBrowserApp,TextEditor,CalculatorApp,MessagingApp,SettingsApp,AppMan:AppManager,LoggerApp,ArcTerm:ArcTerm$1,DonutApp,LightsOff,ArcShell,Exit:Exit$1,AppInfo:AppInfo$1,ImageViewer,OpenWithApp,MarkDownViewer,MediaPlayerApp,DesktopWallpaper,HelpCenter,BugReports},SystemApps=["AppMan","Exit","SettingsApp","PfpSelector","AppInfo","LoggerApp","FileManager","ArcShell","DesktopWallpaper"];function disableApp(T){if(Log("enabling.ts: disableApp",`Disabling app ${T}`),SystemApps.includes(T))return errorMessage("Can't disable application",`App "${T}" is a system application. System applications are core to ArcOS and cannot be disabled without breaking certain functionality.`,null,"AppLogic",{caption:"OK",action:()=>{}});const k=get_store_value(UserData$2);closeWindow(T),k.disabledApps.includes(T)||k.disabledApps.push(T);const $=get_store_value(WindowStore);for(let x=0;x<$.length;x++)$[x].id==T&&($[x].disabled=!0);UserData$2.set(k),WindowStore.set($),updateStores()}function enableApp(T){Log("enabling.ts: enableApp",`Enabling app ${T}`);const k=get_store_value(UserData$2);for(let x=0;x<k.disabledApps.length;x++)k.disabledApps[x]==T&&k.disabledApps.splice(x,1);const $=get_store_value(WindowStore);for(let x=0;x<$.length;x++)$[x].id==T&&($[x].disabled=!1);WindowStore.set($),UserData$2.set(k),updateStores()}function findAppToOpen(T){Log("fs/open.ts: findAppToOpen",`Compiling a list of file handlers that can open mimtype "${T}"...`,LogLevel.info);const k=[],$=get_store_value(WindowStore);for(let x=0;x<$.length;x++){const I=$[x];if(!I.fileMimes)continue;I.fileMimes.join("||").toLowerCase().includes(T)&&k.push($[x].id)}return k}function findLoaderToOpen(T){let k=[];const $=Object.entries(FileLoaders);for(let x=0;x<$.length;x++){const L=$[x][1];for(let E=0;E<L.extensions.length;E++)T.endsWith(L.extensions[E])&&k.push(L);L.extensions.length||k.push(L)}return k}function getAllFileHandlers(){Log("fs/open.ts: getAllFileHandlers","Compiling a list of file handler IDs...",LogLevel.info);const T=[],k=get_store_value(WindowStore);for(let $=0;$<k.length;$++)k[$].fileMimes&&T.push(k[$].id);return T}function openWithDialog(T){if(isDisabled("OpenWithApp"))return errorMessage("Can't open file",`The OpenWithApp application is disabled, so you can't choose an app to open ${T.name}.`,null,null,{caption:"OK",action(){}},{caption:"Enable OpenWithApp",action(){enableApp("OpenWithApp"),OpenWithFile.set(T),openWindow("OpenWithApp")}});Log("fs/open.ts: openWithDialog",`Opening ArcOS.OpenWith for "${T.name}"`,LogLevel.info),OpenWithFile.set(T),openWindow("OpenWithApp")}function openWith(T,k,$){Log("fs/open.ts: openWith",`Opening ${k.name} with ArcOS.${T}`,LogLevel.info);const x=get_store_value(WindowStore);for(let I=0;I<x.length;I++){const L=x[I];if(!(!L.fileMimes||!L.fileMimes.includes(k.mime)&&!$||T!=L.id))return L.openedFile=k,openWindow(T),focusedWindowId.set(T),L.events&&L.events.openFile&&L.events.openFile(L),!0}return!1}async function openUserFile(T){Log("fs/open.ts: openUserFile",`Converting "${T.filename}": UserFile -> ArcFile: to make openable`,LogLevel.info);let k=await partialFileToComplete(T);const $=findAppToOpen(T.mime),x=findLoaderToOpen(T.filename);return!($.length>0)&&!(x.length>1)?k:$.length>0?openWith($[0],k)||k:(x.length==2&&x[0].loader(k),!0)}const FileLoaders={pdfOpener:{name:"Open In New Tab",description:"Open a PDF file in a new browser tab",icon:pdfOpenerIcon,loader:T=>{const k=new Blob([new Uint8Array(T.data)],{type:"application/pdf"});window.open(URL.createObjectURL(k),"_blank")},extensions:[".pdf"]},loadTheme:{name:"Load theme file",description:"Apply theme file to ArcOS",loader:T=>{const k=String.fromCharCode.apply(null,new Uint8Array(T.data));let $;try{$=JSON.parse(k)}catch{$=!1}if(!$||!verifyTheme($))return errorMessage("Unable to load theme","The theme file is invalid, or it could not be parsed. Please make sure you are trying to load a theme, and then try again.",loadThemeIcon,null,{caption:"OK",action(){}});loadTheme($)},icon:loadThemeIcon,extensions:[".arctheme"]},editFile:{name:"Edit config file",description:"Open file in Text Editor",icon:textEditorIcon,loader(T){openWith("TextEditor",T,!0)},extensions:[".conf"]},openInNew:{name:"Download",description:"Open file in a new tab to download it",loader:T=>{const k=new Blob([new Uint8Array(T.data)],{type:T.mime.split(";")[0]});window.open(URL.createObjectURL(k),"_blank")},icon:openInNewIcon,extensions:[]}},ATConf={keyword:"atconf",async exec(T,k,$){const x={name:"arcterm.conf",path:$.env.config.configPath,data:await readFile($.env.config.configPath),mime:"application/json"};FileLoaders.editFile.loader(x)},description:"Edit ArcTerm configuration"},BugRep={keyword:"bugrep",async exec(T,k,$){const x=k.join(" ").match(/"(.*?)"/),I=!switchExists(k,"no-ud"),L=!switchExists(k,"no-api");if(x&&x.length>1){const E=$.vars.replace(x[1]);$.std.writeColor(`[BugRep]: Creating bug report...

[ReportOptions]
`,"yellow");const D={includeApi:L,includeUserData:I,title:E};$.std.writeLine(JSON.stringify(D,null,2)+`
`);const F=await sendReport(D);$.std.Info(`Created with id [${F}]. Thank you!`);return}$.std.Error("Unable to submit report: syntax invalid!")},description:"Create a bug report.",syntax:'"<[body]>" (--[no-ud]) (--[no-api])',hidden:!0},Cd={keyword:"cd",async exec(T,k,$){const x=`${$.path=="./"?".":$.path}/${k.join(" ")}`,I=await getDirectory(x);if(I==!1)return err($,x);const L=I;if(L.scopedPath.includes(".."))return err($,x);$.path=L.scopedPath.length==1?"./":L.scopedPath},description:"Change directory",syntax:"[<path>]"};function err(T,k){return T.std.Error(`Can't change to "${k}": Path not found`)}const Clear={keyword:"clear",exec(T,k,$){$.input.current=null,setTimeout(()=>{$.std.clear(),$.input.unlock()})},description:"Clears the screen"},Colors={keyword:"colors",exec(T,k,$){const x=k.join(" ").trim()||"The quick brown fox jumps over the lazy dog.",I=["gray","white","red","orange","yellow","green","aqua","blue","purple"];for(let L=0;L<I.length;L++)$.std.writeColor(`${I[L].padEnd(10," ")}: [${x}]`,I[L])},description:"Print out all ArcTerm colors",syntax:"([sample?])",hidden:!0},Config={keyword:"config",exec(T,k,$){const x=Object.entries($.env.config.getConfig());for(let I=0;I<x.length;I++){const L=x[I][1].toString(),E=x[I][0].padEnd(20," ");$.std.writeColor(`# [${E}]: `,"blue","white",!0),$.std.write(`${L}`),$.std.writeLine("")}},description:"List configuration options"},Desktop$1={keyword:"desktop",exec(T,k,$){if($.app)return $.std.Error("You already are in the ArcOS desktop!");if(get_store_value(previouslyLoaded)&&!getSwitches(k).force)return $.std.Error("The desktop may not be initialized twice in one instance. Please use [RESTART].");applyState("desktop")},description:"Switch to Desktop"},Dir={keyword:"dir",async exec(T,k,$){const x=$.path,I=await getDirectory(x),L=I.directories,E=I.files;let D=0;$.std.writeColor(`
Directory contents of [${x}]
`,"blue");for(let U=0;U<L.length;U++){const M=L[U].name,z="     <DIR>";$.std.writeColor(`[${z}] ${M}`,"gray","white")}for(let U=0;U<E.length;U++){const M=E[U].filename,z=`${E[U].size}`.padStart(10," ");D+=E[U].size,$.std.writeColor(`[${z}] ${M}`,"gray","white")}$.std.writeLine("");const F=formatBytes(D).padStart(10," "),P=`(${D} bytes)`;$.std.writeLine(`${F} ${P}`)},description:"List the contents of the current directory",syntax:"<[path]>"},Echo={keyword:"echo",exec(T,k,$){const x=k.join(" ").match(/"(.*?)"/);if(x&&x.length>1){const I=$.vars.replace(x[1]);$.std.writeLine(I);return}$.std.Error("Unable to echo: syntax invalid!")},description:"Echo a string.",syntax:'"<[string]>"'},Exec={keyword:"exec",async exec(T,k,$){const x=$.path,I=k.join(" ").trim(),L=await getDirectory(x);for(let E=0;E<L.files.length;E++){const D=L.files[E];if(D.filename==I){const F=await readFile(D.scopedPath);if(!F)return $.std.Error("Could not read the file.");if(!D.mime.includes("text/"))return $.std.Error("Not attempting to read non-text file.");const M=new TextDecoder("utf-8").decode(new Uint8Array(F)).split(`
`);$.input.processCommands(M);return}}},description:"Execute ArcTerm commands from a file",syntax:"<[filename]>"},Exit={keyword:"exit",exec(T,k,$){if(!$.app)return $.std.Error("can't close ArcTerm: no associated app in constructor");closeWindow($.app.id)},description:"Quit ArcTerm"},Help={keyword:"help",exec(T,k,$){if(switchExists(k,"count"))return $.std.writeColor(`ArcTerm has [${$.commands.length}] commands.`,"aqua");if(k[0])return specific(k[0],$);all($)},description:"Display a list of built-in commands",syntax:"([command?])"};function all(T){const k=T.commands.sort(($,x)=>x.keyword<$.keyword?1:-1);for(let $=0;$<k.length;$++){const x=k[$].keyword.toUpperCase().padEnd(15," "),I=k[$].description;T.std.writeColor(`[${x}]${I}`,k[$].hidden?"purple":"orange")}}function specific(T,k){const $=k.commandHandler.getCommand(T);if(!$||$.keyword==defaultCommand.keyword)return k.std.Error(`${T}: command not found.`);k.std.writeColor(`[${$.keyword.toUpperCase()}]: ${$.description}`,"blue"),k.std.writeLine(`
`),k.std.writeColor(`Usage: [${$.keyword}] ${$.syntax||""}`,"blue")}const History={keyword:"history",exec(T,k,$){if(k.includes("clear"))return clear($);const x=$.commandHandler.history;for(let I=0;I<x.length;I++){const L=`${I}`.padStart(3,"0");$.std.writeColor(`[${L}]: ${x[I]}`,"yellow")}},description:"Show the command history",syntax:"([clear?])"};function clear(T){const k=T.commandHandler.history.length;T.commandHandler.history=[],T.std.writeColor(`[SUCCESS]: History cleared, ${k} items removed.`,"green")}const InDesktop={keyword:"indesktop",async exec(T,k,$){$.std.writeColor("[STATUS]: You are in the Web version","aqua")},description:"Check if you are in the desktop app or not"},Kill={keyword:"kill",exec(T,k,$){const x=k[0];if(!x)return $.std.Error("Missing application ID.");const I=getWindow(x);if(!I)return $.std.Error(`${x}: app not found.`);closeWindow(x),$.std.writeLine(`Closed ${I.info.name}`)},description:"Terminate a program",syntax:'"<[appId]>"'},LogDump={keyword:"logdump",async exec(T,k,$){const x=`LogDump-${Math.floor(Math.random()*1e9)}.txt`;$.std.writeColor(`Writing log to [./${x}]...
`,"purple"),get_store_value(LogStore);let I=`-- [START OF LOG] --
`;I+=compileStringLog().join(`
`);const L=new Blob([I],{type:"text/plain"});await writeFile(`./${x}`,L),$.vars.set("ldout",x),$.std.writeColor(`
Wrote [${I.length}] bytes.`,"purple"),fbClass.refresh()},description:"Dump the log to a file",hidden:!0},Logout={keyword:"logout",exec(T,k,$){if($.app)return $.std.Error("This command requires ArcTerm Mode");localStorage.removeItem("arcos-remembered-token"),UserName.set(void 0),$.dispose(),setTimeout(()=>{$.initialize()})},description:"Logout ArcTerm Mode"},Mkdir={keyword:"mkdir",async exec(T,k,$){const x=$.path,I=k.join(" "),L=(x!="./"?`${x}/${I}`:I).replaceAll("//","/");await createDirectory(L),$.std.writeLine(`Directory '${I}' created.`)},description:"Create a directory",syntax:'"<[name]>"'},oa={keyword:"oa",exec(T,k,$){const x=get_store_value(WindowStore);for(let I=0;I<x.length;I++)x[I].info.custom||($.std.writeColor(`Opening [${x[I].id}]`,"orange"),openWindow(x[I].id,!0))},description:"Open all apps"},Open={keyword:"open",exec(T,k,$){const x=k[0],I=getWindow(x);if(!I)return $.std.Error(`${x}: app not found.`);openWindow(x,!0),$.std.writeLine(`Opened ${I.info.name}`)},description:"Open a window",syntax:'"<[appId]>"'},Read={keyword:"read",async exec(T,k,$){const x=getSwitches(k),I=x.prompt||"?",L=x.var,E=switchExists(k,"mask");L||$.std.Error("Missing variable");const D=await $.std.read(`${I} `,"",100,E);$.vars.set(L,D)||$.std.Error("Unable to set variable: it is read-only!")},description:"Read user input to a variable",syntax:"--[var]=[variable] --[mask]? --[prompt]?=[...]"},Reload={keyword:"reload",async exec(T,k,$){$.reload()},description:"Reload the ArcTerm configuration"},Reset={keyword:"reset",async exec(T,k,$){if($.std.writeLine(`Are you sure you want to reset ArcOS? This will not affect any ArcAPI data.

`),(await $.std.read("Y/N [","]",1)).toLowerCase()!="y")return $.std.Error("Reset aborted.");localStorage.clear(),location.reload(),await sleep(3e3)},description:"Reset local ArcOS instance"},Restart={keyword:"restart",exec(T,k,$){if(get_store_value(CurrentState).key=="desktop")return restart$1(!1);$.std.writeColor("[RESTART]: Terminating NOW.","green"),setTimeout(()=>{location.reload()},1e3)},description:"Restart ArcOS"},Rf={keyword:"rf",async exec(T,k,$){const x=$.path,I=k.join(" ").trim(),L=await getDirectory(x);for(let E=0;E<L.files.length;E++){const D=L.files[E];if(D.filename==I){const F=await readFile(D.scopedPath);if(!F)return $.std.Error("Could not read the file.");if(!D.mime.includes("text/"))return $.std.Error("Not attempting to read non-text file.");const U=new TextDecoder("utf-8").decode(new Uint8Array(F));$.std.writeLine(U);return}}$.std.Error("The file doesn't exist on ArcFS.")},description:"Read a file from ArcFS",syntax:"<[filename]>"},DEFSIZE=20,Ri={keyword:"ri",async exec(T,k,$){const x=getSwitches(k),I=x.file,L=x.url;let E;try{E=parseInt(x.height)}catch{E=DEFSIZE}if($.std.writeLine(`
`),I)return await displayFile($,I,E||DEFSIZE);if(L)return displayUrl($,L,E||DEFSIZE);$.std.Error("Missing parameters.")},description:"Display image from ArcFS or URL",syntax:"(--[file]) <[path]> (--[url]) <[url]> (--[height]) <[height]>"};async function displayFile(T,k,$){const x=T.path,I=await getDirectory(x);for(let L=0;L<I.files.length;L++){const E=I.files[L];if(E.filename==k){const D=await readFile(E.scopedPath);if(!D)return T.std.Error("Could not read the file.");const F=new Blob([new Uint8Array(D)],{type:E.mime}),P=URL.createObjectURL(F);T.std.writeImage(P,$);return}}}function displayUrl(T,k,$){T.std.writeImage(k,$||DEFSIZE)}const Rm={keyword:"rm",async exec(T,k,$){const x=$.path,I=k.join(" "),L=(x!="./"?`${x}/${I}`:I).replaceAll("//","/");if(!I.trim().length)return $.std.Error("Missing filename");try{await deleteItem(L)}catch{$.std.Error(`Unable to delete "${I}"`)}},description:"Delete a file or folder",syntax:'"<[name]>"'},Run={keyword:"run",async exec(T,k,$){const x=$.path,I=k.join(" ").trim(),L=await getDirectory(x);for(let E=0;E<L.files.length;E++){const D=L.files[E];if(D.filename==I){$.std.writeLine(`Opening ${I} (${D.size} Bytes)`),o(D);return}}$.std.Error("The file doesn't exist on ArcFS.")},description:"Run a file from your ArcFS account.",syntax:'"<[filename]>"'};async function o(T){const k=T.scopedPath;k.startsWith("./")&&(T.scopedPath=k.replace("./",""));const $=await openUserFile(T);WindowStore.set(get_store_value(WindowStore)),$!=!0&&openWithDialog({...$,anymime:!0})}const Set$1={keyword:"set",async exec(T,k,$){const x=k[0],I=k.join(" ").match(/"(.*?)"/);if(!I||I.length<2){await $.vars.delete(x)||$.std.Error("Can't delete variable: deletion isn't allowed or the variable is read-only.");return}const L=I[1];await $.vars.set(x,L)||$.std.Error("Can't update variable: the variable is readonly.")},description:"Set a variable",syntax:'<[key]> "<[value]>"'},Shutdown={keyword:"shutdown",exec(T,k,$){if(get_store_value(CurrentState).key=="desktop")return shutdown();$.std.writeColor("[SHUTDOWN]: Terminating NOW.","green"),setTimeout(()=>{applyState("turnedoff")},1e3)},description:"Turn off ArcOS"},SoundBusCommand={keyword:"soundbus",description:"SoundBus CLI",exec(T,k,$){switch(k[0]){case"play":play(T,k,$);break;case"stop":stop(T,k,$);break;case"list":list($);break;default:$.std.Error("Missing or invalid subcommand.")}},syntax:"SOUNDBUS <[subcommand]> <...[arguments]>"};function play(T,k,$){const x=k[1];ArcSoundBus.playSound(x)?$.std.writeColor(`Playing sound [${x}]`,"blue"):$.std.Error(`Can't play sound [${x}]: the sound could not be found.`)}function stop(T,k,$){const x=k[1];ArcSoundBus.stopSound(x)?$.std.writeColor(`Stopping sound [${x}]`,"blue"):$.std.Error(`Can't stop sound [${x}]: the requested sound is not playing.`)}function list(T){const k=ArcSoundBus.getStore();for(let $=0;$<k.length;$++){const x=k[$],I=x[0].padEnd(32," "),L=x[1];T.std.writeColor(`[${I}]${L}`,"blue")}}const StateCommand={keyword:"state",exec(T,k,$){const x=k.join(" ");if(!x){const I=get_store_value(CurrentState);return $.std.writeColor(`Current state: [${I.name}] (ArcOS.state.[${I.key}])`,"purple")}applyState(x)},syntax:"<[stateId]>",description:"for debugging -- forcefully change the state",hidden:!0},UDD={keyword:"udd",async exec(T,k,$){const x=`./UserDump-${Math.floor(Math.random()*1e9)}.txt`;$.std.writeColor(`Writing log to [${x}]...
`,"purple");const I=new Blob([JSON.stringify(get_store_value(UserData$2),null,2)],{type:"text/plain"});await writeFile(x,I)},description:"Dump the userdata to a file",hidden:!0},Users={keyword:"users",async exec(T,k,$){const x=await getUsers(),I=Object.entries(x),L=Object.keys(x);for(let E=0;E<I.length;E++){const D=I[E][1].acc.admin?"Administrator":"Regular user",F=I[E][0].padEnd(getMaxLength(L)," ");$.std.writeColor(`[${F}]: ${D}`,"blue")}},description:"Display ArcAPI users"};function getMaxLength(T){let k=0;for(let $=0;$<T.length;$++)T[$].length>k&&(k=T[$].length);return k+5}const Vars={keyword:"vars",async exec(T,k,$){const x=Object.entries(await $.vars.getAll());for(let I=0;I<x.length;I++){if(!x[I][1].value)continue;const L=x[I][1].value,E=x[I][0].padEnd(20," "),D=x[I][1].readOnly?"#":" ";$.std.writeColor(`${D} [${E}]: `,"aqua","white",!0),$.std.write(`${L}`),$.std.writeLine("")}},description:"List the variables"},Ver={keyword:"ver",exec(T,k,$){$.std.writeColor(`ArcOS & ArcTerm [v${ArcOSVersion}]`,"blue")},description:"Display the version number"},Verbose={keyword:"verbose",exec(T,k,$){const x=switchExists(k,"off"),I=switchExists(k,"on");if(x&&I)return $.std.Error("Can't accept both --on and --off.");if(!x&&!I)return $.std.Error("Missing --on or --off.");I&&($.std.verbose=!0),x&&($.std.verbose=!1)},description:"Set verbose mode on or off.",syntax:"--[on]? --[off]?"},defaultCommand={keyword:"default",exec:(T,k,$)=>{T&&$.std.Error(`${T}: command not found.`)},description:"Default command"},arcCommands=[ArcFetch,Cd,Clear,Dir,Echo,Vars,Exit,Help,History,Logout,Mkdir,Rm,Reload,Restart,Shutdown,InDesktop,Ver,Reset,Rf,Ri,Users,Read,Set$1,SoundBusCommand,Config,Exec,Verbose,Desktop$1],gooseBumpsCommands=[StateCommand,Colors,UDD,LogDump,BugRep],desktopSpecific=[AppList$1,ATConf,Kill,oa,Open,Run];class ArcTermCommandHandler{constructor(k){ue(this,"term");ue(this,"history",[]);Log(`ArcTerm ${k.referenceId}`,"Creating new ArcTermCommandHandler",LogLevel.info),this.term=k}async evaluate(k,$){this.history.push(`${k} ${$.join(" ")}`.trim());const x=this.getCommand(k);this.term.input&&(this.term.input.current.disabled=!0),await x.exec(k,$,this.term),!(!this.term.std||!this.term.input)&&(this.term.std.verbose&&this.term.std.writeLine(`
`),this.term.input.unlock())}getCommand(k){const $=k.toLowerCase();for(let x=0;x<this.term.commands.length;x++)if(this.term.commands[x].keyword.toLowerCase()==$)return this.term.commands[x];return defaultCommand}}class ArcTermConfig{constructor(k,$){ue(this,"env");ue(this,"configPath","./arcterm.conf");ue(this,"configKeys",["prompt","greeting","logo","promptColor","gooseBumps"]);Log(`ArcTerm ${$.referenceId}`,"Creating new ArcTermConfig",LogLevel.info),this.env=k,this.loadConfigFile()}getConfig(){const k={};for(let $=0;$<this.configKeys.length;$++){const x=this.configKeys[$];k[x]=this.env[x]}return k}loadConfig(k){for(let $=0;$<this.configKeys.length;$++){const x=this.configKeys[$],I=this.env[x]!=null&&k,L=typeof this.env[x]==typeof k[x];I&&L&&(this.env[x]=k[x])}}async loadConfigFile(){if(!get_store_value(UserData$2))return;const k=await readFile(this.configPath);if(!k)return this.writeConfig();const x=new TextDecoder("utf-8").decode(new Uint8Array(k));let I;try{I=JSON.parse(x)}catch{I={}}this.loadConfig(I)}async writeConfig(){const k={};for(let x=0;x<this.configKeys.length-1;x++){const I=this.configKeys[x];k[I]=this.env[I]}const $=new Blob([JSON.stringify(k,null,2)],{type:"application/json"});await writeFile(this.configPath,$)}}class ArcTermEnv{constructor(k){ue(this,"config");ue(this,"prompt","[&u]: [~/&p] $ ");ue(this,"promptColor","green");ue(this,"greeting",`ArcTerm & ArcOS v${ArcOSVersion}

Licensed under GPLv3. Created by the ArcOS team.`);ue(this,"logo",!0);ue(this,"gooseBumps",!1);Log(`ArcTerm ${k.referenceId}`,"Creating new ArcTermEnv",LogLevel.info),this.config=new ArcTermConfig(this,k)}}function initError(T){createOverlayableError({title:"Can't initialize terminal",message:"The terminal instance is missing a valid target element. Please restart and try again.",buttons:[{caption:"Close",action(){closeWindow(T)}}],image:icon$5},T)}class ArcTermInput{constructor(k){ue(this,"lockInput",!1);ue(this,"target");ue(this,"env");ue(this,"term");ue(this,"current");Log(`ArcTerm ${k.referenceId}`,"Creating new ArcTermInput"),this.target=k.target,this.env=k.env,this.term=k,this.commandLoop()}commandLoop(){setInterval(()=>{if(this.lockInput)return;this.lock();const k=this.createPrompt();k&&this.target.append(k)})}lock(){this.lockInput=!0}unlock(){this.lockInput=!1}getPrompt(){const k=get_store_value(UserName),$=getServer(),x=(this.term.path||"./").replace("./","");return this.env.prompt.replace("&u",k).replace("&s",$).replace("&p",x)}createPrompt(){if(this.current&&(this.current.disabled=!0),!this.term.std)return;const k=document.createElement("div"),$=document.createElement("div"),x=document.createElement("input");return k.className="prompt",this.term.std.writeColor(this.getPrompt(),this.env.promptColor,"white",!0,k),x.id=`input#${Math.floor(Math.random()*1e9)}`,x.spellcheck=!1,x.addEventListener("keydown",I=>this.processInputEvent(I,x)),this.current=x,$.className="inner",$.append(x),k.append($),setTimeout(()=>{this.term.app&&get_store_value(focusedWindowId)==this.term.app.id&&x.focus()}),k}async processInputEvent(k,$){const x=$.value.split("&&");switch(k.key.toLowerCase()){case"enter":this.processCommands(x);break;case"f2":this.restorePreviousCommand();break}}restorePreviousCommand(){const k=this.term.commandHandler.history,$=k[k.length-1];!this.current||!$||(this.current.value=$)}async processCommands(k){for(let $=0;$<k.length;$++){const I=this.term.vars.replace(k[$].trim()).split(" "),L=I[0];I.shift(),await this.term.commandHandler.evaluate(L,I),this.lock()}this.unlock()}}class ArcTermStd{constructor(k){ue(this,"target");ue(this,"app");ue(this,"term");ue(this,"env");ue(this,"verbose",!0);Log(`ArcTerm ${k.referenceId}`,"Creating new ArcTermStd",LogLevel.info),this.target=k.target,this.app=k.app,this.term=k,this.env=k.env}write(k,$=this.target){return this.writeLine(k,!0,$)}writeLine(k,$=!1,x=this.target){const I=document.createElement("div");return I.className="part",$&&(I.className+=" inline"),I.innerText=k,x.appendChild(I),I}writeSeperator(k){this.writeLine("".padEnd(k,"-"))}writeColor(k,$,x="white",I=!1,L=this.target){const E=k.split(/(\[[^\]]*\])/),D=document.createElement("div");D.className="part ",I&&(D.className+=" inline");for(let F=0;F<E.length;F++){const P=document.createElement("span"),U=E[F].startsWith("[")&&E[F].endsWith("]"),M=E[F].replaceAll("[","").replaceAll("]","");P.className=`clr-${U?$:x}`,P.innerText=M,D.append(P)}return L.append(D),D}writeImage(k,$){const x=document.createElement("img");x.className="image",x.style.height=`${$}em`,x.src=k,this.target.append(x)}update(k,$){if(!k)return!1;k.innerText="",this.write($,this.target)}updateColor(k,$,x){if(!k)return!1;k.innerText="",this.writeColor($,x,"white",!1,k)}Error(k){this.verbose&&this.writeColor(`[Error]: ${k}`,"red")}Warning(k){this.verbose&&this.writeColor(`[Warning]: ${k}`,"orange")}Info(k){this.verbose&&this.writeColor(`[Info]: ${k}`,"blue")}async read(k,$,x,I=!1,L=""){if(!this.target)return"";const E=this.term.input.current,D=writable(!1),F=document.createElement("div"),P=document.createElement("input");return I&&(P.type="password"),P.style.width=`${x*8.41}px`,P.maxLength=x,P.value=L,F.className="userinput",F.append(k,P,$),this.target.append(F),this.term.input.current=P,P.addEventListener("keydown",U=>{U.key.toLowerCase()=="enter"&&(P.disabled=!0,D.set(!0))}),new Promise(U=>{D.subscribe(M=>{M&&(this.term.input.current=E,U(P.value))})})}clear(){this.target.innerText=""}}function ArcTermIntro(T){if(!T.env.logo)return;const k=["   [_]         _____            ","  [/_\\]  _ _ _|_   _|__ _ _ _ __ "," [/ _ \\]| '_/ _|| |/ -_) '_| '  \\","[/_/ \\_\\]_| \\__||_|\\___|_| |_|_|_|"];for(let $=0;$<k.length;$++)T.std.writeColor(k[$],"blue");T.std.writeLine(`
`)}class ArcTermUtil{constructor(k){ue(this,"term");ue(this,"reference","");this.setReference(),Log(`ArcTerm ${this.reference}`,"Creating new ArcTermUtil"),this.term=k}getReference(){return this.reference}setReference(){const k=()=>Math.floor(Math.random()*1e6);this.reference=`${k()}-${k()}-${k()}-${k()}`}flushAccent(){this.term.app||this.term.target.setAttribute("style",`--terminal-accent: var(--clr-${this.term.env.promptColor}-fg);`)}intro(){if(!this.term||!this.term.std)return;ArcTermIntro(this.term);const k=get_store_value(UserName),$=getServer(),x=(this.term.path||"./").replace("./",""),I=this.term.env.greeting.replace("&u",k).replace("&s",$).replace("&p",x);this.term.std.writeColor(`${I}

`,this.term.env.promptColor)}}function getArcTermStore(T){return Log(`ArcTerm ${T.referenceId}`,"Creating new ArcTermVariableStore",LogLevel.info),{prompt:{get:()=>T.env.prompt,set:async k=>{T.env.prompt=k,await T.env.config.writeConfig()},canDelete:!1,readOnly:!1},server:{get:()=>getServer(),readOnly:!0,canDelete:!1},username:{get:()=>get_store_value(UserName),readOnly:!0,canDelete:!1},version:{get:()=>ArcOSVersion,readOnly:!0,canDelete:!1},pwd:{get:()=>T.path,set:async k=>{if(!await getDirectory(k))return T.std.Error("pwd: Directory doesn't exist, falling back.");T.path=k},canDelete:!1,readOnly:!1},color:{get:()=>T.env.promptColor,set:async k=>{if(!colors.includes(k))return T.std.Error("color is invalid, falling back.");T.env.promptColor=k,await T.env.config.writeConfig(),T.util.flushAccent()},canDelete:!1,readOnly:!1},ref:{get:()=>T.referenceId,readOnly:!0,canDelete:!1}}}class ArcTermVariables{constructor(k){ue(this,"term");ue(this,"store",{});Log(`ArcTerm ${k.referenceId}`,"Creating new ArcTermVariables",LogLevel.info),this.term=k,this.store=getArcTermStore(this.term)}async getAll(){const k={},$=Object.entries(this.store);for(let x=0;x<$.length;x++){const I=$[x][0],L=this.get(I),E=$[x][1].readOnly;k[I]={value:L,readOnly:E}}return k}get(k){return this.store[k]?this.store[k].get():k}async set(k,$){if(!this.store[k]){const I={get:()=>I.value,set:L=>I.value=L,readOnly:!1,canDelete:!0,value:$};return this.store[k]=I,!0}if(this.store[k].readOnly)return!1;const x=this.store[k];return x?(await x.set($),!0):!1}async delete(k){return!this.store[k]||this.store[k].readOnly?!1:(await this.set(k,""),!0)}replace(k){const $=this.parseInlineNames(k);if(!$.length)return k;for(let x=0;x<$.length;x++){const I=`$${$[x]}`,L=this.get($[x]);k=k.replace(I,L==$[x]&&I?I:L)}return k}parseInlineNames(k){const $=/\$([a-zA-Z_][a-zA-Z0-9_]*)/g,x=[];let I;for(;I=$.exec(k);)x.push(I[1]);return x}}class ArcTerm{constructor(k,$,x,I){ue(this,"target");ue(this,"commands");ue(this,"app");ue(this,"std");ue(this,"util");ue(this,"env");ue(this,"vars");ue(this,"input");ue(this,"path");ue(this,"commandHandler");ue(this,"referenceId");ue(this,"onload");this.target=k,this.commands=$,this.app=x,this.onload=I,this.initialize()}async initialize(){if(this.util=new ArcTermUtil(this),this.referenceId=this.util.getReference(),Log(`ArcTerm ${this.referenceId}`,"Initializing new ArcTerm",LogLevel.info),!this.target)return initError(this.app.id);this.target.innerText=`Starting ArcTerm v${ArcOSVersion}...`,this.target.removeAttribute("style"),this.path="./",this.commandHandler=new ArcTermCommandHandler(this),this.env=new ArcTermEnv(this),this.vars=new ArcTermVariables(this),setTimeout(async()=>{this.std=new ArcTermStd(this),this.input=new ArcTermInput(this),this.input.lock(),this.onload&&await this.onload(this),await sleep(100),this.env.gooseBumps&&(this.commands={a:[...this.commands,...gooseBumpsCommands]}.a),this.input.unlock(),this.util.intro(),this.util.flushAccent(),this.env.gooseBumps&&this.std.Warning(`GooseBumps 👀

`)},1e3)}dispose(){this.target&&(this.std.clear(),this.std=null,this.env=null,this.input.lock(),this.input=null)}reload(){this.dispose(),setTimeout(async()=>{await this.initialize()})}}function ttlFetch(T,k,$=3e3){return Log("ts/ttlFetch.ts: default",`${T}`),new Promise((x,I)=>{const L=setTimeout(()=>{I(new Error("TIMEOUT"))},$);fetch(T,k).then(E=>{clearTimeout(L),x(E)}).catch(E=>{clearTimeout(L),I(E)})})}const TEST_MODES=[[!0,443],[!1,3333],[!0,80],[!1,80],[!0,3333]];async function testConnection(T,k=""){for(let $=0;$<TEST_MODES.length;$++){const x=`http${TEST_MODES[$][0]?"s":""}`,I=TEST_MODES[$][1],L=`${x}://${T}:${I}/connect?ac=${k}`;Log("api/test.ts: testConnection",`Testing ${T} on port ${I} and protocol ${x}...`,LogLevel.info);try{const E=await(await ttlFetch(L,{})).json();return Log("api/test.ts: testConnection",`Got a response from URL ${L}`,LogLevel.warn),(E.revision||0)<minArcAPI?!1:(ConnectedServer.set(`${x}://${T}:${I}`),ServerAuthCode.set(k),E&&!!E.valid)}catch{Log("api/test.ts: testConnection",`Did not get a valid response from ${L}`,LogLevel.error);continue}}return Log("api/test.ts: testConnection",`Can't connect to server ${T}: none of the modes match`,LogLevel.critical),!1}async function authPrompt(T,k=""){if(get_store_value(UserName))return!0;let x=getServer();if(x||(x=await serverConnect(T)),await rememberedLogin(),await sleep(250),get_store_value(UserName))return await T.env.config.loadConfigFile(),!0;T.std.clear(),T.std.writeLine(`ArcTerm ${ArcOSVersion} - ${x}

`);const I=await T.std.read(`${x} login: `,"",100,!1,k),L=await T.std.read("Password: ","",100,!0),E=generateCredToken({username:I,password:L});return localStorage.setItem("arcos-remembered-token",E),await rememberedLogin(),get_store_value(UserName)?(await T.env.config.loadConfigFile(),!0):await authPrompt(T,I)}async function serverConnect(T){T.std.clear(),T.std.writeLine(`ArcTerm ${ArcOSVersion} - Connect to server

`);const k=await T.std.read("Server: ","",50),$=await T.std.read("Code (optional): ","",64,!0);return T.std.writeLine(`Connecting to ${k}...`),await testConnection(k,$)?(addServer(k),setAuthcode(k,$),k):await serverConnect(T)}async function arcTermModeIntro(T){if(!await authPrompt(T))return;const k=getServer(),$=get_store_value(UserName),x=await getFSQuota(),I=formatBytes(x.used),L=formatBytes(x.max),E=(100/x.max*x.used).toFixed(2),F=(await apiCall(get_store_value(ConnectedServer),"connect",{})).platform;disclaimer(T),auth(T,$,F),api(T,k),usage(T,I,L,E)}function disclaimer(T){T.std.clear(),T.std.writeColor(`[█] You are currently in [ArcTerm mode].
[█] Commands that require the ArcOS desktop have been disabled.

`,"orange"),T.std.writeColor(`ArcTerm reference ID: [${T.referenceId}]`,"blue")}function auth(T,k,$){T.std.writeColor(`
Authenticated as [${k}] at [${$}]`,"aqua","white",!0)}function api(T,k){T.std.writeColor(` [(${k})]`,"gray","white",!0)}function usage(T,k,$,x){T.std.writeColor(`
[ArcFS]: You are using [${k}] of [${$}] total (${x}%)
`,"yellow")}function create_fragment$A(T){let k,$,x;return{c(){k=element("div"),k.textContent="authenticating with ArcAPI...",attr(k,"id","target"),attr(k,"class","terminal-renderer")},m(I,L){insert(I,k,L),T[2](k),$||(x=listen(k,"click",T[1]),$=!0)},p:noop$1,i:noop$1,o:noop$1,d(I){I&&detach(k),T[2](null),$=!1,x()}}}function instance$w(T,k,$){let x,I;onMount(async()=>{x=new ArcTerm(I,arcCommands,null,arcTermModeIntro)});function L(){!x||!x.input||!x.input.current||(x.input.current.focus(),I&&I.scrollTo(0,I.scrollHeight))}setInterval(L,10);function E(D){binding_callbacks[D?"unshift":"push"](()=>{I=D,$(0,I)})}return[I,L,E]}class ArcTerm_1 extends SvelteComponent{constructor(k){super(),init(this,k,instance$w,create_fragment$A,safe_not_equal,{})}}const Blank_svelte_svelte_type_style_lang="";function create_fragment$z(T){let k;return{c(){k=element("div"),attr(k,"class","fullscreen svelte-1b10uke")},m($,x){insert($,k,x)},p:noop$1,i:noop$1,o:noop$1,d($){$&&detach(k)}}}class Blank extends SvelteComponent{constructor(k){super(),init(this,k,null,create_fragment$z,safe_not_equal,{})}}const boot="";function BootFail(T){BugReportData.set([!0,{title:"Boot failed",icon:"warning",message:"ArcOS can't connect to the remote server. Please ensure<br>the server is online, or try again at a later date.",button:{caption:"Retry",action:()=>location.reload()},source:"Boot",details:`Can't connect to server ${T}: none of the modes match`}])}function create_if_block$k(T){let k,$,x,I,L;return{c(){k=element("div"),$=space(),x=element("div"),I=space(),L=element("div"),attr(k,"class","line dark"),attr(x,"class","subline dark inc"),attr(L,"class","subline dark dec")},m(E,D){insert(E,k,D),insert(E,$,D),insert(E,x,D),insert(E,I,D),insert(E,L,D)},d(E){E&&(detach(k),detach($),detach(x),detach(I),detach(L))}}}function create_fragment$y(T){let k,$,x,I,L,E,D,F,P=T[2]=="serverselect"?"Please wait...":"Press F8 to select server",U,M,z,N,q,j,W,H,Q,K,G,V,Y;E=new APIReveal({});let J=T[3]&&create_if_block$k();return{c(){k=element("div"),$=element("div"),x=text("v"),I=text(ArcOSVersion),L=text(" - "),create_component(E.$$.fragment),D=space(),F=element("div"),U=text(P),M=space(),z=element("div"),N=element("img"),j=space(),W=element("div"),J&&J.c(),H=space(),Q=element("p"),attr($,"class","arcterm-load visible"),attr(F,"class","ssnotice visible"),attr(N,"alt","Logo"),attr(N,"class","logo"),src_url_equal(N.src,q=Logo$1())||attr(N,"src",q),attr(W,"class","slider userdefined"),attr(Q,"class","status"),attr(z,"class","center"),attr(k,"class",K=T[1]+" boot fullscreen")},m(X,Z){insert(X,k,Z),append(k,$),append($,x),append($,I),append($,L),mount_component(E,$,null),append(k,D),append(k,F),append(F,U),append(k,M),append(k,z),append(z,N),append(z,j),append(z,W),J&&J.m(W,null),append(z,H),append(z,Q),Q.innerHTML=T[0],G=!0,V||(Y=listen(F,"click",T[4]),V=!0)},p(X,[Z]){(!G||Z&4)&&P!==(P=X[2]=="serverselect"?"Please wait...":"Press F8 to select server")&&set_data(U,P),X[3]?J||(J=create_if_block$k(),J.c(),J.m(W,null)):J&&(J.d(1),J=null),(!G||Z&1)&&(Q.innerHTML=X[0]),(!G||Z&2&&K!==(K=X[1]+" boot fullscreen"))&&attr(k,"class",K)},i(X){G||(transition_in(E.$$.fragment,X),G=!0)},o(X){transition_out(E.$$.fragment,X),G=!1},d(X){X&&detach(k),destroy_component(E),J&&J.d(),V=!1,Y()}}}function instance$v(T,k,$){let x="",I="",L="login",E=!1,D=!1;onMount(async()=>{$(0,x="Press a key or click to start"),document.addEventListener("click",F,{once:!0}),document.addEventListener("keydown",F,{once:!0}),document.addEventListener("keydown",P),await sleep(500),$(1,I="fadein")});async function F(){if(!D){if(D=!0,$(0,x="&nbsp;"),$(3,E=!0),Busy.set(!0),L=="serverselect")return await M();!await U()&&!getAllServers()&&$(0,x="Preparing ArcOS"),await M()}}function P(N){if(!N.key)return;const q=N.key.toLowerCase();if(q=="f8"||L=="serverselect")return $(2,L="serverselect");!N.altKey||q!="a"||($(2,L="arcterm"),$(0,x="Loading ArcTerm"))}async function U(){const N=getServer(),q=getAuthcode(N);if(!N)return;q&&$(0,x="Connecting Securely");const j=await testConnection(N,q);return j||($(1,I="fadeout"),L=="serverselect"?!1:BootFail(N))}async function M(){Log("Boot.svelte","Redirecting"),await sleep(2e3),$(1,I="fadeout"),await sleep(750),applyState(L),Busy.set(!1)}return[x,I,L,E,()=>$(2,L="serverselect")]}class Boot extends SvelteComponent{constructor(k){super(),init(this,k,instance$v,create_fragment$y,safe_not_equal,{})}}const desktop="";function centerWindow(T){Log("applogic/center.ts: centerWindow",`Centering ${T}`);const k=get_store_value(WindowStore);for(let $=0;$<k.length;$++)k[$].id==T&&(k[$].pos=calculatePos(k[$]),WindowStore.set(k))}function calculatePos(T){Log("applogic/center.ts: calculatePos",`Calculating position for ${T.id}`);const k=getWindowElement(T),$=k.offsetWidth,x=k.offsetHeight,I=document.body.offsetWidth,L=document.body.offsetHeight,E=(I-$)/2,D=(L-x)/2;return k.style.left=`${E}px`,k.style.top=`${D}px`,{x:E,y:D,centered:!0}}function loadWindow(T,k){if(isLoaded(T))return Log("AppLogic: loadWindow",`Window ${T} already exists in WindowStore.`,LogLevel.error);const $=get_store_value(WindowStore),x={...k,id:T},I=getChildren(k,T),L=get_store_value(UserData$2),E=L?L.disabledApps:[];L&&!L.disabledApps&&(L.disabledApps=[],UserData$2.set(L)),E.includes(T)&&!SystemApps.includes(T)&&(x.disabled=!0),$.push(x);for(let D=0;D<I.length;D++)$.push(I[D]);WindowStore.set($),registerAppShortcuts(T,k),k.disabledWarning&&E.includes(T)&&makeNotification({...k.disabledWarning,buttons:[],image:k.info.icon,timeout:6e3}),setTimeout(()=>{k.pos.centered&&centerWindow(T)},300),Log("AppLogic: loadWindow",`Loaded ${T} into WindowStore.`)}function getChildren(T,k){const $=Object.entries(T.children||{}),x=[];for(let I=0;I<$.length;I++)x.push({...$[I][1],id:$[I][0],parentId:k,opened:!1,info:{...$[I][1].info,hidden:!0}});return x}async function importDefault(T=!1){Log("imports.ts: importDefault","Importing default applications",LogLevel.info);const k=Object.entries(DefaultApps);for(let $=0;$<k.length;$++)Log("imports.ts: importDefault",`Importing default application "${k[$][0]}"...`,LogLevel.info),await loadWindow(k[$][0],k[$][1]),T&&openWindow(k[$][0]);updateStores()}const banned=["tab","pagedown","pageup"];function startKeyListener(){Log("keyboard/listener.ts: startKeyListener","Starting key listener",LogLevel.info),document.addEventListener("keydown",processEvent)}function processEvent(T){if(T.key){if(banned.includes(T.key.toLowerCase()))return T.preventDefault(),!1;if(unfocusActiveElement(),get_store_value(CurrentState).key=="desktop")for(let k=0;k<appShortcuts.length;k++){const $=appShortcuts[k],x=$[1];for(let I=0;I<x.length;I++){const L=x[I].alt?T.altKey:!0,E=x[I].ctrl?T.ctrlKey:!0,D=x[I].shift?T.shiftKey:!0,F=L&&E&&D,P=T.key.toLowerCase().trim(),U=x[I].key.trim().toLowerCase(),M=get_store_value(focusedWindowId)==$[0]||x[I].global;if(!F||U!=P&&U||!M)continue;const z=x[I].global?null:getWindow($[0]);x[I].action(z)}}}}function unfocusActiveElement(){const T=document.activeElement;!T||T instanceof HTMLInputElement||T instanceof HTMLTextAreaElement||T.blur()}let interval;const pollBlockList=[];function startMessageCheckInterval(){interval=setInterval(tick,1e3*60),tick()}async function tick(){if(!get_store_value(UserName))return stopMessageCheckInterval();messageUpdateTrigger();const T=(await getUnreadMessages()).sort(($,x)=>x.timestamp-$.timestamp);if(!T.length)return;const k=T[0];!k||isOpened("MessagingApp")||pollBlockList.includes(k.id)||(pollBlockList.push(k.id),makeNotification({title:`New message from ${k.sender}`,message:`${k.partialBody}`,image:await getUserPfp(k.sender),buttons:[{caption:"Open Messages",action:()=>{messageUpdateTrigger(),openWindow("MessagingApp")}}]}))}function stopMessageCheckInterval(){clearInterval(interval)}const arcfind="";function create_fragment$x(T){let k,$,x,I;return $=new Spinner({props:{height:30}}),{c(){k=element("div"),create_component($.$$.fragment),x=element("span"),x.textContent="Searching...",attr(x,"class","caption"),attr(k,"class","loading")},m(L,E){insert(L,k,E),mount_component($,k,null),append(k,x),I=!0},p:noop$1,i(L){I||(transition_in($.$$.fragment,L),I=!0)},o(L){transition_out($.$$.fragment,L),I=!1},d(L){L&&detach(k),destroy_component($)}}}class Loading extends SvelteComponent{constructor(k){super(),init(this,k,null,create_fragment$x,safe_not_equal,{})}}function create_fragment$w(T){let k;return{c(){k=element("div"),k.textContent="No items matched your search.",attr(k,"class","no-results")},m($,x){insert($,k,x)},p:noop$1,i:noop$1,o:noop$1,d($){$&&detach(k)}}}class NoResults extends SvelteComponent{constructor(k){super(),init(this,k,null,create_fragment$w,safe_not_equal,{})}}function create_if_block$j(T){let k,$=T[0].description+"",x;return{c(){k=element("p"),x=text($),attr(k,"class","description")},m(I,L){insert(I,k,L),append(k,x)},p(I,L){L&1&&$!==($=I[0].description+"")&&set_data(x,$)},d(I){I&&detach(k)}}}function create_fragment$v(T){let k,$,x,I,L,E,D,F,P=T[0].caption+"",U,M,z,N,q=T[0].description&&create_if_block$j(T);return{c(){k=element("button"),$=element("div"),x=element("img"),E=space(),D=element("div"),F=element("p"),U=text(P),M=space(),q&&q.c(),src_url_equal(x.src,I=T[0].image||searchIcon)||attr(x,"src",I),attr(x,"alt",L=T[0].caption),attr($,"class","image"),attr(F,"class","title"),attr(D,"class","context"),attr(k,"class","result"),toggle_class(k,"selected",T[1]==T[2])},m(j,W){insert(j,k,W),append(k,$),append($,x),append(k,E),append(k,D),append(D,F),append(F,U),append(D,M),q&&q.m(D,null),z||(N=listen(k,"click",T[3]),z=!0)},p(j,[W]){W&1&&!src_url_equal(x.src,I=j[0].image||searchIcon)&&attr(x,"src",I),W&1&&L!==(L=j[0].caption)&&attr(x,"alt",L),W&1&&P!==(P=j[0].caption+"")&&set_data(U,P),j[0].description?q?q.p(j,W):(q=create_if_block$j(j),q.c(),q.m(D,null)):q&&(q.d(1),q=null),W&6&&toggle_class(k,"selected",j[1]==j[2])},i:noop$1,o:noop$1,d(j){j&&detach(k),q&&q.d(),z=!1,N()}}}function instance$u(T,k,$){let{result:x}=k,{index:I}=k,{resultIndex:L}=k;function E(){x.action(x),showArcFind.set(!1)}return T.$$set=D=>{"result"in D&&$(0,x=D.result),"index"in D&&$(1,I=D.index),"resultIndex"in D&&$(2,L=D.resultIndex)},[x,I,L,E]}class Result extends SvelteComponent{constructor(k){super(),init(this,k,instance$u,create_fragment$v,safe_not_equal,{result:0,index:1,resultIndex:2})}}function get_each_context$8(T,k,$){const x=T.slice();return x[18]=k[$],x}function get_each_context_1$2(T,k,$){const x=T.slice();return x[21]=k[$],x[23]=$,x}function create_if_block_5(T){let k,$,x;return{c(){k=element("input"),attr(k,"type","text"),attr(k,"placeholder","Search ArcOS")},m(I,L){insert(I,k,L),set_input_value(k,T[1]),T[15](k),$||(x=[listen(k,"input",T[14]),listen(k,"input",T[10]),listen(k,"keydown",T[13])],$=!0)},p(I,L){L&2&&k.value!==I[1]&&set_input_value(k,I[1])},d(I){I&&detach(k),T[15](null),$=!1,run_all(x)}}}function create_if_block_2$3(T){let k,$,x,I;const L=[create_if_block_3,create_if_block_4,create_else_block$4],E=[];function D(F,P){return F[6].length?0:F[3]?1:2}return $=D(T),x=E[$]=L[$](T),{c(){k=element("div"),x.c(),attr(k,"class","results")},m(F,P){insert(F,k,P),E[$].m(k,null),I=!0},p(F,P){let U=$;$=D(F),$===U?E[$].p(F,P):(group_outros(),transition_out(E[U],1,1,()=>{E[U]=null}),check_outros(),x=E[$],x?x.p(F,P):(x=E[$]=L[$](F),x.c()),transition_in(x,1),x.m(k,null))},i(F){I||(transition_in(x),I=!0)},o(F){transition_out(x),I=!1},d(F){F&&detach(k),E[$].d()}}}function create_else_block$4(T){let k,$;return k=new NoResults({}),{c(){create_component(k.$$.fragment)},m(x,I){mount_component(k,x,I),$=!0},p:noop$1,i(x){$||(transition_in(k.$$.fragment,x),$=!0)},o(x){transition_out(k.$$.fragment,x),$=!1},d(x){destroy_component(k,x)}}}function create_if_block_4(T){let k,$;return k=new Loading({}),{c(){create_component(k.$$.fragment)},m(x,I){mount_component(k,x,I),$=!0},p:noop$1,i(x){$||(transition_in(k.$$.fragment,x),$=!0)},o(x){transition_out(k.$$.fragment,x),$=!1},d(x){destroy_component(k,x)}}}function create_if_block_3(T){let k,$,x=ensure_array_like(T[6]),I=[];for(let E=0;E<x.length;E+=1)I[E]=create_each_block_1$2(get_each_context_1$2(T,x,E));const L=E=>transition_out(I[E],1,1,()=>{I[E]=null});return{c(){for(let E=0;E<I.length;E+=1)I[E].c();k=empty()},m(E,D){for(let F=0;F<I.length;F+=1)I[F]&&I[F].m(E,D);insert(E,k,D),$=!0},p(E,D){if(D&68){x=ensure_array_like(E[6]);let F;for(F=0;F<x.length;F+=1){const P=get_each_context_1$2(E,x,F);I[F]?(I[F].p(P,D),transition_in(I[F],1)):(I[F]=create_each_block_1$2(P),I[F].c(),transition_in(I[F],1),I[F].m(k.parentNode,k))}for(group_outros(),F=x.length;F<I.length;F+=1)L(F);check_outros()}},i(E){if(!$){for(let D=0;D<x.length;D+=1)transition_in(I[D]);$=!0}},o(E){I=I.filter(Boolean);for(let D=0;D<I.length;D+=1)transition_out(I[D]);$=!1},d(E){E&&detach(k),destroy_each(I,E)}}}function create_each_block_1$2(T){let k,$;return k=new Result({props:{index:T[2],result:T[21],resultIndex:T[23]}}),{c(){create_component(k.$$.fragment)},m(x,I){mount_component(k,x,I),$=!0},p(x,I){const L={};I&4&&(L.index=x[2]),I&64&&(L.result=x[21]),k.$set(L)},i(x){$||(transition_in(k.$$.fragment,x),$=!0)},o(x){transition_out(k.$$.fragment,x),$=!1},d(x){destroy_component(k,x)}}}function create_if_block_1$5(T){let k,$;return k=new AppListItem({props:{app:T[18],onopen:T[16]}}),{c(){create_component(k.$$.fragment)},m(x,I){mount_component(k,x,I),$=!0},p(x,I){const L={};I&512&&(L.app=x[18]),I&256&&(L.onopen=x[16]),k.$set(L)},i(x){$||(transition_in(k.$$.fragment,x),$=!0)},o(x){transition_out(k.$$.fragment,x),$=!1},d(x){destroy_component(k,x)}}}function create_each_block$8(T){let k=isPopulatable(T[18]),$,x,I=k&&create_if_block_1$5(T);return{c(){I&&I.c(),$=empty()},m(L,E){I&&I.m(L,E),insert(L,$,E),x=!0},p(L,E){E&512&&(k=isPopulatable(L[18])),k?I?(I.p(L,E),E&512&&transition_in(I,1)):(I=create_if_block_1$5(L),I.c(),transition_in(I,1),I.m($.parentNode,$)):I&&(group_outros(),transition_out(I,1,1,()=>{I=null}),check_outros())},i(L){x||(transition_in(I),x=!0)},o(L){transition_out(I),x=!1},d(L){L&&detach($),I&&I.d(L)}}}function create_if_block$i(T){let k,$,x;return{c(){k=element("button"),k.textContent="close",attr(k,"class","material-icons-round close")},m(I,L){insert(I,k,L),$||(x=listen(k,"click",T[12]),$=!0)},p:noop$1,d(I){I&&detach(k),$=!1,x()}}}function create_fragment$u(T){let k,$,x,I,L,E,D,F,P,U,M,z,N=T[8]&&create_if_block_5(T),q=T[4]&&create_if_block_2$3(T),j=ensure_array_like(T[9]),W=[];for(let K=0;K<j.length;K+=1)W[K]=create_each_block$8(get_each_context$8(T,j,K));const H=K=>transition_out(W[K],1,1,()=>{W[K]=null});let Q=!T[0]&&create_if_block$i(T);return{c(){k=element("div"),$=element("div"),x=element("form"),N&&N.c(),I=space(),L=element("button"),L.textContent="search",E=space(),q&&q.c(),D=space(),F=element("div");for(let K=0;K<W.length;K+=1)W[K].c();P=space(),Q&&Q.c(),attr(L,"class","material-icons-round"),attr($,"class","arcfind"),attr(F,"class","apps"),toggle_class(F,"hide",!!T[1]),attr(k,"class","arcfind-wrapper"),set_style(k,"z-index",T[7]+30),toggle_class(k,"inlined",T[0]),toggle_class(k,"show",T[8]||T[0])},m(K,G){insert(K,k,G),append(k,$),append($,x),N&&N.m(x,null),append($,I),append($,L),append(k,E),q&&q.m(k,null),append(k,D),append(k,F);for(let V=0;V<W.length;V+=1)W[V]&&W[V].m(F,null);append(k,P),Q&&Q.m(k,null),U=!0,M||(z=listen(x,"submit",T[11]),M=!0)},p(K,[G]){if(K[8]?N?N.p(K,G):(N=create_if_block_5(K),N.c(),N.m(x,null)):N&&(N.d(1),N=null),K[4]?q?(q.p(K,G),G&16&&transition_in(q,1)):(q=create_if_block_2$3(K),q.c(),transition_in(q,1),q.m(k,D)):q&&(group_outros(),transition_out(q,1,1,()=>{q=null}),check_outros()),G&768){j=ensure_array_like(K[9]);let V;for(V=0;V<j.length;V+=1){const Y=get_each_context$8(K,j,V);W[V]?(W[V].p(Y,G),transition_in(W[V],1)):(W[V]=create_each_block$8(Y),W[V].c(),transition_in(W[V],1),W[V].m(F,null))}for(group_outros(),V=j.length;V<W.length;V+=1)H(V);check_outros()}(!U||G&2)&&toggle_class(F,"hide",!!K[1]),K[0]?Q&&(Q.d(1),Q=null):Q?Q.p(K,G):(Q=create_if_block$i(K),Q.c(),Q.m(k,null)),(!U||G&128)&&set_style(k,"z-index",K[7]+30),(!U||G&1)&&toggle_class(k,"inlined",K[0]),(!U||G&257)&&toggle_class(k,"show",K[8]||K[0])},i(K){if(!U){transition_in(q);for(let G=0;G<j.length;G+=1)transition_in(W[G]);U=!0}},o(K){transition_out(q),W=W.filter(Boolean);for(let G=0;G<W.length;G+=1)transition_out(W[G]);U=!1},d(K){K&&detach(k),N&&N.d(),q&&q.d(),destroy_each(W,K),Q&&Q.d(),M=!1,z()}}}function instance$t(T,k,$){let x,I,L;component_subscribe(T,maxZIndex,V=>$(7,x=V)),component_subscribe(T,showArcFind,V=>$(8,I=V)),component_subscribe(T,WindowStore,V=>$(9,L=V));let{inlined:E=!1}=k,D="",F=0,P=!1,U=!1,M,z=[];async function N(){if(!D)return $(4,U=!1);$(4,U=!0),$(3,P=!0),Busy.set(!0);const V=[],Y=await Search(D);for(let J=0;J<Y.length;J++)V.push(Y[J].item);$(2,F=-1),$(6,z=V.slice(0,6)),$(3,P=!1),Busy.set(!1)}function q(V){if(V.preventDefault(),!!z.length){if($(1,D=""),F!=-1){z[F].action(z[F]),j(),showArcFind.set(!1);return}z[0].action(z[0]),j(),showArcFind.set(!1)}}function j(){$(6,z=[]),$(1,D=""),$(2,F=-1),$(4,U=!1)}function W(){j(),showArcFind.set(!1)}showArcFind.subscribe(async V=>{j(),V&&(await sleep(500),M.focus(),await sleep(200),M.focus())});function H(V){const Y=V.key.toLowerCase();if(Y=="escape"){j(),showArcFind.set(!1);return}if(!z.length)return $(2,F=-1);let J=z.length-1;switch(Y){case"arrowup":$(2,F--,F),F<0&&$(2,F=J);break;case"arrowdown":$(2,F++,F),F>J&&$(2,F=0);break}}function Q(){D=this.value,$(1,D)}function K(V){binding_callbacks[V?"unshift":"push"](()=>{M=V,$(5,M)})}const G=()=>set_store_value(showArcFind,I=!1,I);return T.$$set=V=>{"inlined"in V&&$(0,E=V.inlined)},[E,D,F,P,U,M,z,x,I,L,N,q,W,H,Q,K,G]}class ArcFind extends SvelteComponent{constructor(k){super(),init(this,k,instance$t,create_fragment$u,safe_not_equal,{inlined:0})}}const contextmenu="";function create_else_block$3(T){let k,$,x,I=T[0].caption+"",L,E,D;function F(M,z){if(M[0].icon)return create_if_block_1$4;if(M[0].image)return create_if_block_2$2}let P=F(T),U=P&&P(T);return{c(){k=element("button"),$=element("div"),U&&U.c(),x=space(),L=text(I),attr($,"class","icon"),attr(k,"class","contextmenu-item"),toggle_class(k,"active",T[1])},m(M,z){insert(M,k,z),append(k,$),U&&U.m($,null),append(k,x),append(k,L),E||(D=listen(k,"click",T[2]),E=!0)},p(M,z){P===(P=F(M))&&U?U.p(M,z):(U&&U.d(1),U=P&&P(M),U&&(U.c(),U.m($,null))),z&1&&I!==(I=M[0].caption+"")&&set_data(L,I),z&2&&toggle_class(k,"active",M[1])},d(M){M&&detach(k),U&&U.d(),E=!1,D()}}}function create_if_block$h(T){let k;return{c(){k=element("hr")},m($,x){insert($,k,x)},p:noop$1,d($){$&&detach(k)}}}function create_if_block_2$2(T){let k,$,x;return{c(){k=element("img"),src_url_equal(k.src,$=T[0].image)||attr(k,"src",$),attr(k,"alt",x=T[0].caption)},m(I,L){insert(I,k,L)},p(I,L){L&1&&!src_url_equal(k.src,$=I[0].image)&&attr(k,"src",$),L&1&&x!==(x=I[0].caption)&&attr(k,"alt",x)},d(I){I&&detach(k)}}}function create_if_block_1$4(T){let k,$=T[0].icon+"",x;return{c(){k=element("span"),x=text($),attr(k,"class","material-icons-round")},m(I,L){insert(I,k,L),append(k,x)},p(I,L){L&1&&$!==($=I[0].icon+"")&&set_data(x,$)},d(I){I&&detach(k)}}}function create_fragment$t(T){let k;function $(L,E){return L[0].sep?create_if_block$h:create_else_block$3}let x=$(T),I=x(T);return{c(){I.c(),k=empty()},m(L,E){I.m(L,E),insert(L,k,E)},p(L,[E]){x===(x=$(L))&&I?I.p(L,E):(I.d(1),I=x(L),I&&(I.c(),I.m(k.parentNode,k)))},i:noop$1,o:noop$1,d(L){L&&detach(k),I.d(L)}}}function instance$s(T,k,$){let{data:x}=k,{scope:I}=k,{scopeMap:L}=k,{window:E}=k,{show:D}=k,F=!1;function P(){x.action&&x.action(E,L,I),$(3,D=!1),U()}onMount(U);async function U(){if(!x.isActive)return $(1,F=!1);$(1,F=await x.isActive())}return T.$$set=M=>{"data"in M&&$(0,x=M.data),"scope"in M&&$(4,I=M.scope),"scopeMap"in M&&$(5,L=M.scopeMap),"window"in M&&$(6,E=M.window),"show"in M&&$(3,D=M.show)},[x,F,P,D,I,L,E]}class Item extends SvelteComponent{constructor(k){super(),init(this,k,instance$s,create_fragment$t,safe_not_equal,{data:0,scope:4,scopeMap:5,window:6,show:3})}}function get_each_context$7(T,k,$){const x=T.slice();return x[13]=k[$],x}function create_each_block$7(T){let k,$,x;function I(E){T[10](E)}let L={window:T[4],scope:T[5],scopeMap:T[6],data:T[13]};return T[2]!==void 0&&(L.show=T[2]),k=new Item({props:L}),binding_callbacks.push(()=>bind$1(k,"show",I)),{c(){create_component(k.$$.fragment)},m(E,D){mount_component(k,E,D),x=!0},p(E,D){const F={};D&16&&(F.window=E[4]),D&32&&(F.scope=E[5]),D&64&&(F.scopeMap=E[6]),D&8&&(F.data=E[13]),!$&&D&4&&($=!0,F.show=E[2],add_flush_callback(()=>$=!1)),k.$set(F)},i(E){x||(transition_in(k.$$.fragment,E),x=!0)},o(E){transition_out(k.$$.fragment,E),x=!1},d(E){destroy_component(k,E)}}}function create_fragment$s(T){let k,$,x=ensure_array_like(T[3]),I=[];for(let E=0;E<x.length;E+=1)I[E]=create_each_block$7(get_each_context$7(T,x,E));const L=E=>transition_out(I[E],1,1,()=>{I[E]=null});return{c(){k=element("div");for(let E=0;E<I.length;E+=1)I[E].c();attr(k,"class","contextmenu"),set_style(k,"top",T[1]+"px"),set_style(k,"left",T[0]+"px"),set_style(k,"z-index",T[9]+10),toggle_class(k,"show",T[2]),toggle_class(k,"compact",T[8].sh.compactContext),toggle_class(k,"colored",T[8].sh.taskbar.colored)},m(E,D){insert(E,k,D);for(let F=0;F<I.length;F+=1)I[F]&&I[F].m(k,null);T[11](k),$=!0},p(E,[D]){if(D&124){x=ensure_array_like(E[3]);let F;for(F=0;F<x.length;F+=1){const P=get_each_context$7(E,x,F);I[F]?(I[F].p(P,D),transition_in(I[F],1)):(I[F]=create_each_block$7(P),I[F].c(),transition_in(I[F],1),I[F].m(k,null))}for(group_outros(),F=x.length;F<I.length;F+=1)L(F);check_outros()}(!$||D&2)&&set_style(k,"top",E[1]+"px"),(!$||D&1)&&set_style(k,"left",E[0]+"px"),(!$||D&512)&&set_style(k,"z-index",E[9]+10),(!$||D&4)&&toggle_class(k,"show",E[2]),(!$||D&256)&&toggle_class(k,"compact",E[8].sh.compactContext),(!$||D&256)&&toggle_class(k,"colored",E[8].sh.taskbar.colored)},i(E){if(!$){for(let D=0;D<x.length;D+=1)transition_in(I[D]);$=!0}},o(E){I=I.filter(Boolean);for(let D=0;D<I.length;D+=1)transition_out(I[D]);$=!1},d(E){E&&detach(k),destroy_each(I,E),T[11](null)}}}function instance$r(T,k,$){let x,I;component_subscribe(T,UserData$2,W=>$(8,x=W)),component_subscribe(T,maxZIndex,W=>$(9,I=W));let L=0,E=0,D=!1,F=[],P,U,M,z;onMount(()=>{document.addEventListener("contextmenu",N),document.addEventListener("mousedown",W=>{W.button!=0||W.composedPath().includes(z)||$(2,D=!1)})});function N(W){$(2,D=!1),$(3,F=[]),W.preventDefault();const H=getWindowElementByEvent(W);if(!H)return;const Q=getWindow(H.id),K=getCallerScope(W);if(!K)return;const G=K==null?void 0:K.dataset.caller;setTimeout(()=>{$(3,F=getContextEntry(H.id,G)||[]),F.length&&($(5,U=G),$(4,P=Q),$(6,M=K.dataset),$(2,D=!0),setTimeout(()=>{const V=z.offsetWidth,Y=z.offsetHeight;$(0,[L,E]=composePosition(W,V,Y),L,$(1,E))}))})}function q(W){D=W,$(2,D)}function j(W){binding_callbacks[W?"unshift":"push"](()=>{z=W,$(7,z)})}return[L,E,D,F,P,U,M,z,x,I,q,j]}class ContextMenu extends SvelteComponent{constructor(k){super(),init(this,k,instance$r,create_fragment$s,safe_not_equal,{})}}function create_fragment$r(T){let k,$=T[0].caption+"",x,I,L;return{c(){k=element("button"),x=text($)},m(E,D){insert(E,k,D),append(k,x),I||(L=listen(k,"click",T[1]),I=!0)},p(E,[D]){D&1&&$!==($=E[0].caption+"")&&set_data(x,$)},i:noop$1,o:noop$1,d(E){E&&detach(k),I=!1,L()}}}function instance$q(T,k,$){let{button:x}=k,{msg:I}=k;function L(){x.action(),E()}function E(){closeError(I.id)}return T.$$set=D=>{"button"in D&&$(0,x=D.button),"msg"in D&&$(2,I=D.msg)},[x,L,I]}class Button extends SvelteComponent{constructor(k){super(),init(this,k,instance$q,create_fragment$r,safe_not_equal,{button:0,msg:2})}}function generateCSS(T,k){let $="";return $+=`min-width: ${T.minSize.w}px;`,$+=`min-height: ${T.minSize.h}px;`,$+=`max-width: ${T.maxSize.w}px;`,$+=`max-height: ${T.maxSize.h}px;`,k&&($+=`left: ${T.pos.x}px;`,$+=`top: ${T.pos.y}px;`),$+=`width: ${T.size.w}px;`,$+=`height: ${T.size.h}px;`,$}function generateOverlayCSS(T){let k="";return k+=`min-width: ${T.size.w}px;`,k+=`min-height: ${T.size.h}px;`,k+=`max-width: ${T.size.w}px;`,k+=`max-height: ${T.size.h}px;`,k+=`width: ${T.size.w}px;`,k+=`height: ${T.size.h}px;`,k}function checkZones(T,k,$){const x=getBounds(),I=getWindow($);if($.startsWith("error_"))return;const L=I.state.resizable||I.controls.max;if(!I||!x)return;const E=x.lTrig,D=x.rTrig,F=L&&T>E.xStart&&T<E.xEnd&&k>E.yStart&&k<E.yEnd,P=L&&T>D.xStart&&T<D.xEnd&&k>D.yStart&&k<D.yEnd;leftZoneTriggered.set(F),rightZoneTriggered.set(P),draggingId.set(F||P?$:null)}function getBounds(){const[T,k,$,x]=getZoneElements();if(!T||!k||!$||!x)return!1;const I=document.body.offsetWidth;return{lTrig:{xStart:T.offsetLeft,xEnd:T.offsetLeft+T.offsetWidth,yStart:T.offsetTop,yEnd:T.offsetTop+T.offsetHeight},rTrig:{xStart:I-k.offsetWidth,xEnd:I,yStart:k.offsetTop,yEnd:k.offsetTop+k.offsetHeight},lZone:{xStart:$.offsetLeft,xEnd:$.offsetLeft+$.offsetWidth,yStart:$.offsetTop,yEnd:$.offsetTop+$.offsetHeight},rZone:{xStart:I-x.offsetWidth,xEnd:I,yStart:x.offsetTop,yEnd:x.offsetTop+x.offsetHeight}}}function getZoneElements(){const T=document.querySelector("div.snapzones #snapTriggerLeft"),k=document.querySelector("div.snapzones #snapTriggerRight"),$=document.querySelector("div.snapzones #snapZoneLeft"),x=document.querySelector("div.snapzones #snapZoneRight"),I=[T,k,$,x];for(let L=0;L<I.length;L++)if(!I[L])return[null,null,null,null];return I}function snapWindow(T){const k=get_store_value(leftZoneTriggered),$=get_store_value(rightZoneTriggered);(k||$)&&draggingId.set(T),k&&snapLeft(),$&&snapRight()}function snapLeft(){const[T,k,$]=getData();if(!$||!T)return;let[x,I,L,E]=[0,0,0,0];const D=get_store_value(WindowStore);for(let F=0;F<D.length;F++){const P=D[F];P.id==k&&(P.pos.x=x=T.lZone.xStart,P.pos.y=I=T.lZone.yStart,P.size.w=L=T.lZone.xEnd,P.size.h=E=T.lZone.yEnd,P.snapped=!0)}WindowStore.set(D),commitWindow($,x,I,L,E)}function getData(){const T=getBounds(),k=get_store_value(draggingId),$=getWindowElement(getWindow(k));return[T,k,$]}function snapRight(){const[T,k,$]=getData();if(!$||!T)return;let[x,I,L,E]=[0,0,0,0];const D=get_store_value(WindowStore);for(let F=0;F<D.length;F++){const P=D[F];P.id==k&&(P.pos.x=x=T.rZone.xStart,P.pos.y=I=T.rZone.yStart,P.size.w=L=T.rZone.xEnd-T.rZone.xStart,P.size.h=E=T.rZone.yEnd-T.rZone.yStart,P.snapped=!0)}WindowStore.set(D),commitWindow($,x,I,L,E)}function commitWindow(T,k,$,x,I){setTimeout(()=>{T.style.left=k+"px",T.style.top=$+"px",T.style.width=x+"px",T.style.height=I+"px",openWindow(get_store_value(draggingId))},5)}function dragWindow(T,k,$){!T||!k||!$||["mousedown","touchstart"].forEach(x=>k.addEventListener(x,I=>{let L,E;if(!T.info.custom&&(focusedWindowId.set(T.id),I.composedPath().includes($))){let D=function(z,N){F=U-z,P=M-N,U=z,M=N;let q=k.offsetTop-P;const j=k.offsetLeft-F;q<0&&(q=0),k.style.top=q+"px",k.style.left=j+"px",T.pos.x=j,T.pos.y=q,checkZones(U,M,T.id),[z,N]=[U,M]},F,P,U,M;document.onmousemove=z=>{T.snapped=!1,WindowStore.set(get_store_value(WindowStore)),D(z.clientX,z.clientY)},document.ontouchmove=z=>{T.snapped=!1,WindowStore.set(get_store_value(WindowStore)),!(!z.touches.length||x=="mousedown")&&D(z.touches[0].clientX,z.touches[0].clientY)},document.onmouseup=document.ontouchend=()=>{checkZones(L,E,T.id),snapWindow(T.id),leftZoneTriggered.set(!1),rightZoneTriggered.set(!1),document.onmouseup=null,document.onmousemove=null,document.ontouchend=null,document.ontouchmove=null}}},{passive:!0}))}const error="";function get_each_context$6(T,k,$){const x=T.slice();return x[6]=k[$],x}function create_if_block$g(T){let k,$,x,I;return{c(){k=element("div"),$=element("img"),src_url_equal($.src,x=T[0].image)||attr($,"src",x),attr($,"alt",I=T[0].title),attr(k,"class","errimg")},m(L,E){insert(L,k,E),append(k,$)},p(L,E){E&1&&!src_url_equal($.src,x=L[0].image)&&attr($,"src",x),E&1&&I!==(I=L[0].title)&&attr($,"alt",I)},d(L){L&&detach(k)}}}function create_each_block$6(T){let k,$=T[6].caption+"",x,I,L;function E(){return T[4](T[6])}return{c(){k=element("button"),x=text($)},m(D,F){insert(D,k,F),append(k,x),I||(L=listen(k,"click",E),I=!0)},p(D,F){T=D,F&1&&$!==($=T[6].caption+"")&&set_data(x,$)},d(D){D&&detach(k),I=!1,L()}}}function create_fragment$q(T){let k,$,x,I,L,E,D,F=T[0].title+"",P,U,M,z=T[0].message+"",N,q,j,W,H=T[0].image&&create_if_block$g(T),Q=ensure_array_like(T[0].buttons),K=[];for(let G=0;G<Q.length;G+=1)K[G]=create_each_block$6(get_each_context$6(T,Q,G));return{c(){k=element("div"),$=element("window"),x=element("div"),I=element("div"),H&&H.c(),L=space(),E=element("div"),D=element("h3"),P=text(F),U=space(),M=element("p"),N=text(z),q=space(),j=element("div"),W=element("div");for(let G=0;G<K.length;G+=1)K[G].c();attr(D,"class","error-title"),attr(M,"class","error-message"),attr(E,"class","error-content"),attr(I,"class","error-overlay"),attr(W,"class","inner"),attr(j,"class","error-overlay-buttons"),attr(x,"class","body overlay"),attr($,"class","window headless overlay overlayable-error"),toggle_class($,"visible",T[1]),attr(k,"class","overlay-wrapper"),toggle_class(k,"show",T[1])},m(G,V){insert(G,k,V),append(k,$),append($,x),append(x,I),H&&H.m(I,null),append(I,L),append(I,E),append(E,D),append(D,P),append(E,U),append(E,M),append(M,N),append(x,q),append(x,j),append(j,W);for(let Y=0;Y<K.length;Y+=1)K[Y]&&K[Y].m(W,null)},p(G,[V]){if(G[0].image?H?H.p(G,V):(H=create_if_block$g(G),H.c(),H.m(I,L)):H&&(H.d(1),H=null),V&1&&F!==(F=G[0].title+"")&&set_data(P,F),V&1&&z!==(z=G[0].message+"")&&set_data(N,z),V&5){Q=ensure_array_like(G[0].buttons);let Y;for(Y=0;Y<Q.length;Y+=1){const J=get_each_context$6(G,Q,Y);K[Y]?K[Y].p(J,V):(K[Y]=create_each_block$6(J),K[Y].c(),K[Y].m(W,null))}for(;Y<K.length;Y+=1)K[Y].d(1);K.length=Q.length}V&2&&toggle_class($,"visible",G[1]),V&2&&toggle_class(k,"show",G[1])},i:noop$1,o:noop$1,d(G){G&&detach(k),H&&H.d(),destroy_each(K,G)}}}function instance$p(T,k,$){let{app:x}=k,{error:I}=k,L=!1;function E(){$(1,L=!1),setTimeout(()=>{destroyOverlayableError(I.id,x.id)},100)}onMount(()=>{setTimeout(()=>{$(1,L=!0)},100)});function D(P){P(),E()}const F=P=>D(P.action);return T.$$set=P=>{"app"in P&&$(3,x=P.app),"error"in P&&$(0,I=P.error)},[I,L,D,x,F]}class OverlayableErrorWindow extends SvelteComponent{constructor(k){super(),init(this,k,instance$p,create_fragment$q,safe_not_equal,{app:3,error:0})}}function create_if_block$f(T){let k,$,x,I,L;var E=T[0].content;function D(F){return{props:{overlay:F[0],app:F[1],id:F[2],runtime:F[3]}}}return E&&(I=construct_svelte_component(E,D(T))),{c(){k=element("div"),$=element("window"),x=element("div"),I&&create_component(I.$$.fragment),attr(x,"class","body overlay"),attr($,"class","window headless overlay"),attr($,"style",T[5]),attr($,"id",T[2]),toggle_class($,"visible",T[4]),attr(k,"class","overlay-wrapper"),toggle_class(k,"show",T[4])},m(F,P){insert(F,k,P),append(k,$),append($,x),I&&mount_component(I,x,null),L=!0},p(F,P){const U={};if(P&1&&(U.overlay=F[0]),P&2&&(U.app=F[1]),P&4&&(U.id=F[2]),P&8&&(U.runtime=F[3]),P&1&&E!==(E=F[0].content)){if(I){group_outros();const M=I;transition_out(M.$$.fragment,1,0,()=>{destroy_component(M,1)}),check_outros()}E?(I=construct_svelte_component(E,D(F)),create_component(I.$$.fragment),transition_in(I.$$.fragment,1),mount_component(I,x,null)):I=null}else E&&I.$set(U);(!L||P&32)&&attr($,"style",F[5]),(!L||P&4)&&attr($,"id",F[2]),(!L||P&16)&&toggle_class($,"visible",F[4]),(!L||P&16)&&toggle_class(k,"show",F[4])},i(F){L||(I&&transition_in(I.$$.fragment,F),L=!0)},o(F){I&&transition_out(I.$$.fragment,F),L=!1},d(F){F&&detach(k),I&&destroy_component(I)}}}function create_fragment$p(T){let k,$,x=T[0]&&T[1]&&create_if_block$f(T);return{c(){x&&x.c(),k=empty()},m(I,L){x&&x.m(I,L),insert(I,k,L),$=!0},p(I,[L]){I[0]&&I[1]?x?(x.p(I,L),L&3&&transition_in(x,1)):(x=create_if_block$f(I),x.c(),transition_in(x,1),x.m(k.parentNode,k)):x&&(group_outros(),transition_out(x,1,1,()=>{x=null}),check_outros())},i(I){$||(transition_in(x),$=!0)},o(I){transition_out(x),$=!1},d(I){I&&detach(k),x&&x.d(I)}}}function instance$o(T,k,$){let{overlay:x}=k,{app:I}=k,{id:L}=k,{runtime:E}=k,D=!1,F="";return onMount(()=>{$(5,F=generateOverlayCSS(x))}),WindowStore.subscribe(()=>{$(5,F=generateOverlayCSS(x)),$(4,D=I.overlays[L]?I.overlays[L].show:!1)}),T.$$set=P=>{"overlay"in P&&$(0,x=P.overlay),"app"in P&&$(1,I=P.app),"id"in P&&$(2,L=P.id),"runtime"in P&&$(3,E=P.runtime)},[x,I,L,E,D,F]}class OverlayableWindow extends SvelteComponent{constructor(k){super(),init(this,k,instance$o,create_fragment$p,safe_not_equal,{overlay:0,app:1,id:2,runtime:3})}}function create_fragment$o(T){let k,$,x,I;var L=T[0].content;function E(P){return{props:{app:P[0],runtime:P[1],appdata:P[2]?P[2].appdata[P[0].id]||{}:{}}}}L&&($=construct_svelte_component(L,E(T)));const D=T[4].default,F=create_slot(D,T,T[3],null);return{c(){k=element("div"),$&&create_component($.$$.fragment),x=space(),F&&F.c(),attr(k,"class","body")},m(P,U){insert(P,k,U),$&&mount_component($,k,null),append(k,x),F&&F.m(k,null),I=!0},p(P,[U]){const M={};if(U&1&&(M.app=P[0]),U&2&&(M.runtime=P[1]),U&5&&(M.appdata=P[2]?P[2].appdata[P[0].id]||{}:{}),U&1&&L!==(L=P[0].content)){if($){group_outros();const z=$;transition_out(z.$$.fragment,1,0,()=>{destroy_component(z,1)}),check_outros()}L?($=construct_svelte_component(L,E(P)),create_component($.$$.fragment),transition_in($.$$.fragment,1),mount_component($,k,x)):$=null}else L&&$.$set(M);F&&F.p&&(!I||U&8)&&update_slot_base(F,D,P,P[3],I?get_slot_changes(D,P[3],U,null):get_all_dirty_from_scope(P[3]),null)},i(P){I||($&&transition_in($.$$.fragment,P),transition_in(F,P),I=!0)},o(P){$&&transition_out($.$$.fragment,P),transition_out(F,P),I=!1},d(P){P&&detach(k),$&&destroy_component($),F&&F.d(P)}}}function instance$n(T,k,$){let x;component_subscribe(T,UserData$2,F=>$(2,x=F));let{$$slots:I={},$$scope:L}=k,{app:E}=k,{runtime:D}=k;return T.$$set=F=>{"app"in F&&$(0,E=F.app),"runtime"in F&&$(1,D=F.runtime),"$$scope"in F&&$(3,L=F.$$scope)},[E,D,x,L,I]}class Content extends SvelteComponent{constructor(k){super(),init(this,k,instance$n,create_fragment$o,safe_not_equal,{app:0,runtime:1})}}function create_else_block$2(T){let k,$;return k=new Default({props:{app:T[1],cls:T[6],min:T[4],max:T[5],isBoot:T[2]}}),{c(){create_component(k.$$.fragment)},m(x,I){mount_component(k,x,I),$=!0},p(x,I){const L={};I&2&&(L.app=x[1]),I&4&&(L.isBoot=x[2]),k.$set(L)},i(x){$||(transition_in(k.$$.fragment,x),$=!0)},o(x){transition_out(k.$$.fragment,x),$=!1},d(x){destroy_component(k,x)}}}function create_if_block$e(T){let k,$,x;var I=titlebarButtons[T[3].sh.window.buttons].content;function L(E){return{props:{cls:E[6],min:E[4],max:E[5],app:E[1],isBoot:E[2]}}}return I&&(k=construct_svelte_component(I,L(T))),{c(){k&&create_component(k.$$.fragment),$=empty()},m(E,D){k&&mount_component(k,E,D),insert(E,$,D),x=!0},p(E,D){const F={};if(D&2&&(F.app=E[1]),D&4&&(F.isBoot=E[2]),D&8&&I!==(I=titlebarButtons[E[3].sh.window.buttons].content)){if(k){group_outros();const P=k;transition_out(P.$$.fragment,1,0,()=>{destroy_component(P,1)}),check_outros()}I?(k=construct_svelte_component(I,L(E)),create_component(k.$$.fragment),transition_in(k.$$.fragment,1),mount_component(k,$.parentNode,$)):k=null}else I&&k.$set(F)},i(E){x||(k&&transition_in(k.$$.fragment,E),x=!0)},o(E){k&&transition_out(k.$$.fragment,E),x=!1},d(E){E&&detach($),k&&destroy_component(k,E)}}}function create_fragment$n(T){let k,$,x=T[1].info.name+"",I,L=(T[1].info.titleSuffix||"")+"",E,D,F,P,U,M,z,N,q=T[1].info.name+"",j,W=(T[1].info.titleSuffix||"")+"",H,Q,K,G,V,Y,J,X;const Z=[create_if_block$e,create_else_block$2],ee=[];function re(ce,oe){return ce[3]&&ce[3].sh.window.buttons?0:1}return G=re(T),V=ee[G]=Z[G](T),{c(){k=element("div"),$=element("div"),I=text(x),E=text(L),D=space(),F=element("p"),P=element("img"),z=space(),N=element("span"),j=text(q),H=text(W),Q=space(),K=element("div"),V.c(),attr($,"class","centeredtitle"),attr(P,"class","icon"),src_url_equal(P.src,U=getAppIcon(T[1]))||attr(P,"src",U),attr(P,"alt",M=T[1].info.name),attr(F,"class","title"),attr(K,"class","controls"),attr(k,"class","titlebar"),toggle_class(k,"centered",T[3]&&T[3].sh.window.centertb)},m(ce,oe){insert(ce,k,oe),append(k,$),append($,I),append($,E),append(k,D),append(k,F),append(F,P),append(F,z),append(F,N),append(N,j),append(N,H),append(k,Q),append(k,K),ee[G].m(K,null),T[8](k),Y=!0,J||(X=listen(k,"dblclick",T[5]),J=!0)},p(ce,[oe]){(!Y||oe&2)&&x!==(x=ce[1].info.name+"")&&set_data(I,x),(!Y||oe&2)&&L!==(L=(ce[1].info.titleSuffix||"")+"")&&set_data(E,L),(!Y||oe&2&&!src_url_equal(P.src,U=getAppIcon(ce[1])))&&attr(P,"src",U),(!Y||oe&2&&M!==(M=ce[1].info.name))&&attr(P,"alt",M),(!Y||oe&2)&&q!==(q=ce[1].info.name+"")&&set_data(j,q),(!Y||oe&2)&&W!==(W=(ce[1].info.titleSuffix||"")+"")&&set_data(H,W);let ae=G;G=re(ce),G===ae?ee[G].p(ce,oe):(group_outros(),transition_out(ee[ae],1,1,()=>{ee[ae]=null}),check_outros(),V=ee[G],V?V.p(ce,oe):(V=ee[G]=Z[G](ce),V.c()),transition_in(V,1),V.m(K,null)),(!Y||oe&8)&&toggle_class(k,"centered",ce[3]&&ce[3].sh.window.centertb)},i(ce){Y||(transition_in(V),Y=!0)},o(ce){transition_out(V),Y=!1},d(ce){ce&&detach(k),ee[G].d(),T[8](null),J=!1,X()}}}function instance$m(T,k,$){let x;component_subscribe(T,UserData$2,z=>$(3,x=z));let{exttransition:I=!1}=k,{titlebar:L}=k,{app:E}=k,{isBoot:D=!1}=k;function F(){$(1,E.state.windowState.min=!E.state.windowState.min,E),updateStores()}function P(){E.controls.max&&($(1,E.state.windowState.max=!E.state.windowState.max,E),E.state.windowState.max?$(7,I=!0):setTimeout(()=>{$(7,I=!1)},200),updateStores())}function U(){const z=E.id,N=z.startsWith("error_")?parseInt(z.replace("error_","")):-1;N>0?closeError(N):closeWindow(E.id),D&&$(1,E.opened=!1,E)}function M(z){binding_callbacks[z?"unshift":"push"](()=>{L=z,$(0,L)})}return T.$$set=z=>{"exttransition"in z&&$(7,I=z.exttransition),"titlebar"in z&&$(0,L=z.titlebar),"app"in z&&$(1,E=z.app),"isBoot"in z&&$(2,D=z.isBoot)},[L,E,D,x,F,P,U,I,M]}class Titlebar extends SvelteComponent{constructor(k){super(),init(this,k,instance$m,create_fragment$n,safe_not_equal,{exttransition:7,titlebar:0,app:1,isBoot:2})}}function get_each_context$5(T,k,$){const x=T.slice();return x[22]=k[$],x}function get_each_context_1$1(T,k,$){const x=T.slice();return x[25]=k[$],x}function create_if_block_2$1(T){let k,$;return k=new Content({props:{app:T[1],runtime:T[8],$$slots:{default:[create_default_slot$1]},$$scope:{ctx:T}}}),{c(){create_component(k.$$.fragment)},m(x,I){mount_component(k,x,I),$=!0},p(x,I){const L={};I&2&&(L.app=x[1]),I&256&&(L.runtime=x[8]),I&524288&&(L.$$scope={dirty:I,ctx:x}),k.$set(L)},i(x){$||(transition_in(k.$$.fragment,x),$=!0)},o(x){transition_out(k.$$.fragment,x),$=!1},d(x){destroy_component(k,x)}}}function create_default_slot$1(T){let k;const $=T[15].default,x=create_slot($,T,T[19],null);return{c(){x&&x.c()},m(I,L){x&&x.m(I,L),k=!0},p(I,L){x&&x.p&&(!k||L&524288)&&update_slot_base(x,$,I,I[19],k?get_slot_changes($,I[19],L,null):get_all_dirty_from_scope(I[19]),null)},i(I){k||(transition_in(x,I),k=!0)},o(I){transition_out(x,I),k=!1},d(I){x&&x.d(I)}}}function create_if_block_1$3(T){let k,$,x=ensure_array_like(Object.entries(T[1].overlays)),I=[];for(let E=0;E<x.length;E+=1)I[E]=create_each_block_1$1(get_each_context_1$1(T,x,E));const L=E=>transition_out(I[E],1,1,()=>{I[E]=null});return{c(){for(let E=0;E<I.length;E+=1)I[E].c();k=empty()},m(E,D){for(let F=0;F<I.length;F+=1)I[F]&&I[F].m(E,D);insert(E,k,D),$=!0},p(E,D){if(D&258){x=ensure_array_like(Object.entries(E[1].overlays));let F;for(F=0;F<x.length;F+=1){const P=get_each_context_1$1(E,x,F);I[F]?(I[F].p(P,D),transition_in(I[F],1)):(I[F]=create_each_block_1$1(P),I[F].c(),transition_in(I[F],1),I[F].m(k.parentNode,k))}for(group_outros(),F=x.length;F<I.length;F+=1)L(F);check_outros()}},i(E){if(!$){for(let D=0;D<x.length;D+=1)transition_in(I[D]);$=!0}},o(E){I=I.filter(Boolean);for(let D=0;D<I.length;D+=1)transition_out(I[D]);$=!1},d(E){E&&detach(k),destroy_each(I,E)}}}function create_each_block_1$1(T){let k,$;return k=new OverlayableWindow({props:{runtime:T[8],app:T[1],overlay:T[25][1],id:T[25][0]}}),{c(){create_component(k.$$.fragment)},m(x,I){mount_component(k,x,I),$=!0},p(x,I){const L={};I&256&&(L.runtime=x[8]),I&2&&(L.app=x[1]),I&2&&(L.overlay=x[25][1]),I&2&&(L.id=x[25][0]),k.$set(L)},i(x){$||(transition_in(k.$$.fragment,x),$=!0)},o(x){transition_out(k.$$.fragment,x),$=!1},d(x){destroy_component(k,x)}}}function create_if_block$d(T){let k,$,x=ensure_array_like(T[1].errorOverlays),I=[];for(let E=0;E<x.length;E+=1)I[E]=create_each_block$5(get_each_context$5(T,x,E));const L=E=>transition_out(I[E],1,1,()=>{I[E]=null});return{c(){for(let E=0;E<I.length;E+=1)I[E].c();k=empty()},m(E,D){for(let F=0;F<I.length;F+=1)I[F]&&I[F].m(E,D);insert(E,k,D),$=!0},p(E,D){if(D&2){x=ensure_array_like(E[1].errorOverlays);let F;for(F=0;F<x.length;F+=1){const P=get_each_context$5(E,x,F);I[F]?(I[F].p(P,D),transition_in(I[F],1)):(I[F]=create_each_block$5(P),I[F].c(),transition_in(I[F],1),I[F].m(k.parentNode,k))}for(group_outros(),F=x.length;F<I.length;F+=1)L(F);check_outros()}},i(E){if(!$){for(let D=0;D<x.length;D+=1)transition_in(I[D]);$=!0}},o(E){I=I.filter(Boolean);for(let D=0;D<I.length;D+=1)transition_out(I[D]);$=!1},d(E){E&&detach(k),destroy_each(I,E)}}}function create_each_block$5(T){let k,$;return k=new OverlayableErrorWindow({props:{error:T[22],app:T[1]}}),{c(){create_component(k.$$.fragment)},m(x,I){mount_component(k,x,I),$=!0},p(x,I){const L={};I&2&&(L.error=x[22]),I&2&&(L.app=x[1]),k.$set(L)},i(x){$||(transition_in(k.$$.fragment,x),$=!0)},o(x){transition_out(k.$$.fragment,x),$=!1},d(x){destroy_component(k,x)}}}function create_fragment$m(T){let k,$,x,I,L,E,D,F,P,U,M;function z(Q){T[16](Q)}function N(Q){T[17](Q)}let q={app:T[1],isBoot:T[4]};T[0]!==void 0&&(q.exttransition=T[0]),T[7]!==void 0&&(q.titlebar=T[7]),$=new Titlebar({props:q}),binding_callbacks.push(()=>bind$1($,"exttransition",z)),binding_callbacks.push(()=>bind$1($,"titlebar",N));let j=(T[1].runtime?T[8]:!0)&&create_if_block_2$1(T),W=T[1]&&T[1].overlays&&(T[1].runtime?T[8]:!0)&&create_if_block_1$3(T),H=T[1]&&T[1].errorOverlays&&create_if_block$d(T);return{c(){k=element("window"),create_component($.$$.fragment),L=space(),j&&j.c(),E=space(),W&&W.c(),D=space(),H&&H.c(),attr(k,"style",T[5]),attr(k,"id",F=T[1].id),toggle_class(k,"window",!T[1].info.custom),toggle_class(k,"focused",T[1].id==T[9]),toggle_class(k,"headless",T[1].state.headless||T[1].state.windowState.fll),toggle_class(k,"resizable",T[1].state.resizable),toggle_class(k,"min",T[1].state.windowState.min),toggle_class(k,"max",T[1].state.windowState.max||T[3]),toggle_class(k,"visible",T[1].opened||T[2]),toggle_class(k,"exttransition",T[0]),toggle_class(k,"fullscreen",T[1].state.windowState.fll||T[1].info.custom),toggle_class(k,"glass",T[1].glass),toggle_class(k,"lefttb",T[10]&&T[10].sh.window.lefttb),toggle_class(k,"custom",T[1].info.custom),toggle_class(k,"child",!!T[1].parentId),toggle_class(k,"snapped",T[1].snapped),toggle_class(k,"snapping",T[1].id==T[11]&&(T[12]||T[13]))},m(Q,K){insert(Q,k,K),mount_component($,k,null),append(k,L),j&&j.m(k,null),append(k,E),W&&W.m(k,null),append(k,D),H&&H.m(k,null),T[18](k),P=!0,U||(M=listen(k,"mousedown",T[14]),U=!0)},p(Q,[K]){const G={};K&2&&(G.app=Q[1]),K&16&&(G.isBoot=Q[4]),!x&&K&1&&(x=!0,G.exttransition=Q[0],add_flush_callback(()=>x=!1)),!I&&K&128&&(I=!0,G.titlebar=Q[7],add_flush_callback(()=>I=!1)),$.$set(G),!Q[1].runtime||Q[8]?j?(j.p(Q,K),K&258&&transition_in(j,1)):(j=create_if_block_2$1(Q),j.c(),transition_in(j,1),j.m(k,E)):j&&(group_outros(),transition_out(j,1,1,()=>{j=null}),check_outros()),Q[1]&&Q[1].overlays&&(!Q[1].runtime||Q[8])?W?(W.p(Q,K),K&258&&transition_in(W,1)):(W=create_if_block_1$3(Q),W.c(),transition_in(W,1),W.m(k,D)):W&&(group_outros(),transition_out(W,1,1,()=>{W=null}),check_outros()),Q[1]&&Q[1].errorOverlays?H?(H.p(Q,K),K&2&&transition_in(H,1)):(H=create_if_block$d(Q),H.c(),transition_in(H,1),H.m(k,null)):H&&(group_outros(),transition_out(H,1,1,()=>{H=null}),check_outros()),(!P||K&32)&&attr(k,"style",Q[5]),(!P||K&2&&F!==(F=Q[1].id))&&attr(k,"id",F),(!P||K&2)&&toggle_class(k,"window",!Q[1].info.custom),(!P||K&514)&&toggle_class(k,"focused",Q[1].id==Q[9]),(!P||K&2)&&toggle_class(k,"headless",Q[1].state.headless||Q[1].state.windowState.fll),(!P||K&2)&&toggle_class(k,"resizable",Q[1].state.resizable),(!P||K&2)&&toggle_class(k,"min",Q[1].state.windowState.min),(!P||K&10)&&toggle_class(k,"max",Q[1].state.windowState.max||Q[3]),(!P||K&6)&&toggle_class(k,"visible",Q[1].opened||Q[2]),(!P||K&1)&&toggle_class(k,"exttransition",Q[0]),(!P||K&2)&&toggle_class(k,"fullscreen",Q[1].state.windowState.fll||Q[1].info.custom),(!P||K&2)&&toggle_class(k,"glass",Q[1].glass),(!P||K&1024)&&toggle_class(k,"lefttb",Q[10]&&Q[10].sh.window.lefttb),(!P||K&2)&&toggle_class(k,"custom",Q[1].info.custom),(!P||K&2)&&toggle_class(k,"child",!!Q[1].parentId),(!P||K&2)&&toggle_class(k,"snapped",Q[1].snapped),(!P||K&14338)&&toggle_class(k,"snapping",Q[1].id==Q[11]&&(Q[12]||Q[13]))},i(Q){P||(transition_in($.$$.fragment,Q),transition_in(j),transition_in(W),transition_in(H),P=!0)},o(Q){transition_out($.$$.fragment,Q),transition_out(j),transition_out(W),transition_out(H),P=!1},d(Q){Q&&detach(k),destroy_component($),j&&j.d(),W&&W.d(),H&&H.d(),T[18](null),U=!1,M()}}}function instance$l(T,k,$){let x,I,L,E,D;component_subscribe(T,focusedWindowId,Z=>$(9,x=Z)),component_subscribe(T,UserData$2,Z=>$(10,I=Z)),component_subscribe(T,draggingId,Z=>$(11,L=Z)),component_subscribe(T,leftZoneTriggered,Z=>$(12,E=Z)),component_subscribe(T,rightZoneTriggered,Z=>$(13,D=Z));let{$$slots:F={},$$scope:P}=k,{app:U=null}=k,{visible:M=!1}=k,{max:z=!1}=k,{isBoot:N=!1}=k,q="",j,W=!1,H,Q,{exttransition:K=!1}=k;onMount(()=>{focusedWindowId.set(U.id),G(),U.id.startsWith("error_")&&ArcSoundBus.playSound("arcos.dialog.info")});function G(){U.minSize.w>U.size.w||U.minSize.h>U.size.h||U.maxSize.w<U.minSize.w||U.maxSize.h<U.minSize.h||($(5,q=generateCSS(U,!W)),W||(W=!0),U.info.custom||dragWindow(U,j,H))}WindowStore.subscribe(()=>{U.opened&&!U.info.custom&&dragWindow(U,j,H),G()});function V(){set_store_value(focusedWindowId,x=U.id,x)}focusedWindowId.subscribe(Z=>{!U||!U.events||(Z==U.id&&U.events.focus&&U.events.focus(U),Z!=U.id&&U.events.blur&&U.events.blur(U))}),onMount(()=>{U.runtime&&$(8,Q=new U.runtime(U))});function Y(Z){K=Z,$(0,K)}function J(Z){H=Z,$(7,H)}function X(Z){binding_callbacks[Z?"unshift":"push"](()=>{j=Z,$(6,j)})}return T.$$set=Z=>{"app"in Z&&$(1,U=Z.app),"visible"in Z&&$(2,M=Z.visible),"max"in Z&&$(3,z=Z.max),"isBoot"in Z&&$(4,N=Z.isBoot),"exttransition"in Z&&$(0,K=Z.exttransition),"$$scope"in Z&&$(19,P=Z.$$scope)},[K,U,M,z,N,q,j,H,Q,x,I,L,E,D,V,F,Y,J,X,P]}class Window extends SvelteComponent{constructor(k){super(),init(this,k,instance$l,create_fragment$m,safe_not_equal,{app:1,visible:2,max:3,isBoot:4,exttransition:0})}}function get_each_context$4(T,k,$){const x=T.slice();return x[2]=k[$],x}function get_each_context_1(T,k,$){const x=T.slice();return x[5]=k[$],x}function get_each_context_2(T,k,$){const x=T.slice();return x[8]=k[$],x}function create_if_block$c(T){let k,$=T[5].message+"",x,I,L,E,D,F,P,U=ensure_array_like(T[5].buttons),M=[];for(let N=0;N<U.length;N+=1)M[N]=create_each_block_2(get_each_context_2(T,U,N));const z=N=>transition_out(M[N],1,1,()=>{M[N]=null});return{c(){k=element("p"),x=space(),I=element("center"),L=element("br"),E=space();for(let N=0;N<M.length;N+=1)M[N].c();D=space(),F=element("br")},m(N,q){insert(N,k,q),k.innerHTML=$,insert(N,x,q),insert(N,I,q),append(I,L),append(I,E);for(let j=0;j<M.length;j+=1)M[j]&&M[j].m(I,null);append(I,D),append(I,F),P=!0},p(N,q){if((!P||q&2)&&$!==($=N[5].message+"")&&(k.innerHTML=$),q&2){U=ensure_array_like(N[5].buttons);let j;for(j=0;j<U.length;j+=1){const W=get_each_context_2(N,U,j);M[j]?(M[j].p(W,q),transition_in(M[j],1)):(M[j]=create_each_block_2(W),M[j].c(),transition_in(M[j],1),M[j].m(I,D))}for(group_outros(),j=U.length;j<M.length;j+=1)z(j);check_outros()}},i(N){if(!P){for(let q=0;q<U.length;q+=1)transition_in(M[q]);P=!0}},o(N){M=M.filter(Boolean);for(let q=0;q<M.length;q+=1)transition_out(M[q]);P=!1},d(N){N&&(detach(k),detach(x),detach(I)),destroy_each(M,N)}}}function create_each_block_2(T){let k,$;return k=new Button({props:{button:T[8],msg:T[5]}}),{c(){create_component(k.$$.fragment)},m(x,I){mount_component(k,x,I),$=!0},p(x,I){const L={};I&2&&(L.button=x[8]),I&2&&(L.msg=x[5]),k.$set(L)},i(x){$||(transition_in(k.$$.fragment,x),$=!0)},o(x){transition_out(k.$$.fragment,x),$=!1},d(x){destroy_component(k,x)}}}function create_each_block_1(T){let k,$,x=`error_${T[5].id}`==T[2].id&&create_if_block$c(T);return{c(){x&&x.c(),k=empty()},m(I,L){x&&x.m(I,L),insert(I,k,L),$=!0},p(I,L){`error_${I[5].id}`==I[2].id?x?(x.p(I,L),L&3&&transition_in(x,1)):(x=create_if_block$c(I),x.c(),transition_in(x,1),x.m(k.parentNode,k)):x&&(group_outros(),transition_out(x,1,1,()=>{x=null}),check_outros())},i(I){$||(transition_in(x),$=!0)},o(I){transition_out(x),$=!1},d(I){I&&detach(k),x&&x.d(I)}}}function create_default_slot(T){let k,$,x=ensure_array_like(T[1]),I=[];for(let E=0;E<x.length;E+=1)I[E]=create_each_block_1(get_each_context_1(T,x,E));const L=E=>transition_out(I[E],1,1,()=>{I[E]=null});return{c(){for(let E=0;E<I.length;E+=1)I[E].c();k=space()},m(E,D){for(let F=0;F<I.length;F+=1)I[F]&&I[F].m(E,D);insert(E,k,D),$=!0},p(E,D){if(D&3){x=ensure_array_like(E[1]);let F;for(F=0;F<x.length;F+=1){const P=get_each_context_1(E,x,F);I[F]?(I[F].p(P,D),transition_in(I[F],1)):(I[F]=create_each_block_1(P),I[F].c(),transition_in(I[F],1),I[F].m(k.parentNode,k))}for(group_outros(),F=x.length;F<I.length;F+=1)L(F);check_outros()}},i(E){if(!$){for(let D=0;D<x.length;D+=1)transition_in(I[D]);$=!0}},o(E){I=I.filter(Boolean);for(let D=0;D<I.length;D+=1)transition_out(I[D]);$=!1},d(E){E&&detach(k),destroy_each(I,E)}}}function create_each_block$4(T){let k,$;return k=new Window({props:{app:T[2],$$slots:{default:[create_default_slot]},$$scope:{ctx:T}}}),{c(){create_component(k.$$.fragment)},m(x,I){mount_component(k,x,I),$=!0},p(x,I){const L={};I&1&&(L.app=x[2]),I&2051&&(L.$$scope={dirty:I,ctx:x}),k.$set(L)},i(x){$||(transition_in(k.$$.fragment,x),$=!0)},o(x){transition_out(k.$$.fragment,x),$=!1},d(x){destroy_component(k,x)}}}function create_fragment$l(T){let k,$,x=ensure_array_like(T[0]),I=[];for(let E=0;E<x.length;E+=1)I[E]=create_each_block$4(get_each_context$4(T,x,E));const L=E=>transition_out(I[E],1,1,()=>{I[E]=null});return{c(){k=element("div");for(let E=0;E<I.length;E+=1)I[E].c();attr(k,"class","winstore")},m(E,D){insert(E,k,D);for(let F=0;F<I.length;F+=1)I[F]&&I[F].m(k,null);$=!0},p(E,[D]){if(D&3){x=ensure_array_like(E[0]);let F;for(F=0;F<x.length;F+=1){const P=get_each_context$4(E,x,F);I[F]?(I[F].p(P,D),transition_in(I[F],1)):(I[F]=create_each_block$4(P),I[F].c(),transition_in(I[F],1),I[F].m(k,null))}for(group_outros(),F=x.length;F<I.length;F+=1)L(F);check_outros()}},i(E){if(!$){for(let D=0;D<x.length;D+=1)transition_in(I[D]);$=!0}},o(E){I=I.filter(Boolean);for(let D=0;D<I.length;D+=1)transition_out(I[D]);$=!1},d(E){E&&detach(k),destroy_each(I,E)}}}function instance$k(T,k,$){let x,I;return component_subscribe(T,ErrorWindowStore,L=>$(0,x=L)),component_subscribe(T,ErrorMessages,L=>$(1,I=L)),[x,I]}class ErrorDialogStore extends SvelteComponent{constructor(k){super(),init(this,k,instance$k,create_fragment$l,safe_not_equal,{})}}function get_each_context$3(T,k,$){const x=T.slice();return x[2]=k[$],x}function create_if_block$b(T){let k,$;return k=new Window({props:{app:T[2]}}),{c(){create_component(k.$$.fragment)},m(x,I){mount_component(k,x,I),$=!0},p(x,I){const L={};I&1&&(L.app=x[2]),k.$set(L)},i(x){$||(transition_in(k.$$.fragment,x),$=!0)},o(x){transition_out(k.$$.fragment,x),$=!1},d(x){destroy_component(k,x)}}}function create_each_block$3(T){let k,$,x=T[2]&&create_if_block$b(T);return{c(){x&&x.c(),k=empty()},m(I,L){x&&x.m(I,L),insert(I,k,L),$=!0},p(I,L){I[2]?x?(x.p(I,L),L&1&&transition_in(x,1)):(x=create_if_block$b(I),x.c(),transition_in(x,1),x.m(k.parentNode,k)):x&&(group_outros(),transition_out(x,1,1,()=>{x=null}),check_outros())},i(I){$||(transition_in(x),$=!0)},o(I){transition_out(x),$=!1},d(I){I&&detach(k),x&&x.d(I)}}}function create_fragment$k(T){let k,$,x=ensure_array_like(T[0]),I=[];for(let E=0;E<x.length;E+=1)I[E]=create_each_block$3(get_each_context$3(T,x,E));const L=E=>transition_out(I[E],1,1,()=>{I[E]=null});return{c(){k=element("div");for(let E=0;E<I.length;E+=1)I[E].c();attr(k,"class","winstore")},m(E,D){insert(E,k,D);for(let F=0;F<I.length;F+=1)I[F]&&I[F].m(k,null);$=!0},p(E,[D]){if(D&1){x=ensure_array_like(E[0]);let F;for(F=0;F<x.length;F+=1){const P=get_each_context$3(E,x,F);I[F]?(I[F].p(P,D),transition_in(I[F],1)):(I[F]=create_each_block$3(P),I[F].c(),transition_in(I[F],1),I[F].m(k,null))}for(group_outros(),F=x.length;F<I.length;F+=1)L(F);check_outros()}},i(E){if(!$){for(let D=0;D<x.length;D+=1)transition_in(I[D]);$=!0}},o(E){I=I.filter(Boolean);for(let D=0;D<I.length;D+=1)transition_out(I[D]);$=!1},d(E){E&&detach(k),destroy_each(I,E)}}}function instance$j(T,k,$){let x;component_subscribe(T,maxZIndex,L=>$(1,x=L));let I=[];return WindowStore.subscribe(L=>{$(0,I=[]),L&&$(0,I=L);const E=getOpenedStore();for(let D=0;D<E.length;D++)if(E[D].state.windowState.fll)return isFullscreenWindow.set(!0);isFullscreenWindow.set(!1)}),focusedWindowId.subscribe(L=>{var F;if((F=getWindow(L))!=null&&F.info.custom)return;if(set_store_value(maxZIndex,x++,x),!L||L.startsWith("error_")){if(!L)return;const P=document.querySelector(`#${L}`);if(!P)return;P.style.zIndex=`${x}`;return}const E=getWindow(L);if(!E)return;const D=getWindowElement(E);D&&(D.style.zIndex=`${x}`)}),[I]}class WindowStore_1 extends SvelteComponent{constructor(k){super(),init(this,k,instance$j,create_fragment$k,safe_not_equal,{})}}function create_if_block$a(T){let k,$,x,I,L,E,D,F,P,U;return $=new WindowStore_1({}),I=new ErrorDialogStore({}),E=new ContextMenu({}),F=new ArcFind({}),{c(){k=element("div"),create_component($.$$.fragment),x=space(),create_component(I.$$.fragment),L=space(),create_component(E.$$.fragment),D=space(),create_component(F.$$.fragment),attr(k,"class",P="desktop fullscreen "+T[1]+" theme-"+T[2].sh.desktop.theme+" tb-"+T[2].sh.taskbar.pos+" cursor-"+(T[2].sh.desktop.noCustomCursor?"":"custom")),set_style(k,"--accent","#"+(T[2].sh.desktop.accent||"70D6FF"),1),toggle_class(k,"show",T[0])},m(M,z){insert(M,k,z),mount_component($,k,null),append(k,x),mount_component(I,k,null),append(k,L),mount_component(E,k,null),append(k,D),mount_component(F,k,null),U=!0},p(M,z){(!U||z&6&&P!==(P="desktop fullscreen "+M[1]+" theme-"+M[2].sh.desktop.theme+" tb-"+M[2].sh.taskbar.pos+" cursor-"+(M[2].sh.desktop.noCustomCursor?"":"custom")))&&attr(k,"class",P),(!U||z&4)&&set_style(k,"--accent","#"+(M[2].sh.desktop.accent||"70D6FF"),1),(!U||z&7)&&toggle_class(k,"show",M[0])},i(M){U||(transition_in($.$$.fragment,M),transition_in(I.$$.fragment,M),transition_in(E.$$.fragment,M),transition_in(F.$$.fragment,M),U=!0)},o(M){transition_out($.$$.fragment,M),transition_out(I.$$.fragment,M),transition_out(E.$$.fragment,M),transition_out(F.$$.fragment,M),U=!1},d(M){M&&detach(k),destroy_component($),destroy_component(I),destroy_component(E),destroy_component(F)}}}function create_fragment$j(T){let k,$,x=T[2]&&T[3]&&create_if_block$a(T);return{c(){x&&x.c(),k=empty()},m(I,L){x&&x.m(I,L),insert(I,k,L),$=!0},p(I,[L]){I[2]&&I[3]?x?(x.p(I,L),L&12&&transition_in(x,1)):(x=create_if_block$a(I),x.c(),transition_in(x,1),x.m(k.parentNode,k)):x&&(group_outros(),transition_out(x,1,1,()=>{x=null}),check_outros())},i(I){$||(transition_in(x),$=!0)},o(I){transition_out(x),$=!1},d(I){I&&detach(k),x&&x.d(I)}}}function instance$i(T,k,$){let x,I,L;component_subscribe(T,previouslyLoaded,P=>$(4,x=P)),component_subscribe(T,UserData$2,P=>$(2,I=P)),component_subscribe(T,UserName,P=>$(3,L=P));let E=!1,D="";desktopClassNames.subscribe(P=>$(1,D=P)),showDesktop.subscribe(P=>$(0,E=P)),onMount(async()=>{if(ArcSoundBus.playSound("arcos.system.logon"),x){restart$1(!1);return}set_store_value(previouslyLoaded,x=!0,x),await sleep(0),assignDesktopListeners(),importDefault(),F(),startKeyListener(),setTimeout(()=>$(0,E=!0),250),startMessageCheckInterval(),checkForUpdates(),window.asdf.asdasd});function F(){WindowStore.set([]),isFullscreenWindow.set(!1),updateStores(),startOpened.set(!1),ErrorMessages.set([])}return[E,D,I,L]}class Desktop extends SvelteComponent{constructor(k){super(),init(this,k,instance$i,create_fragment$j,safe_not_equal,{})}}const fts="",Logo=""+new URL("connect-2b81ef02.svg",import.meta.url).href,finish=""+new URL("finish-c26e046c.svg",import.meta.url).href,license=""+new URL("license-1508728a.svg",import.meta.url).href,wave=""+new URL("wave-d6fa0c59.svg",import.meta.url).href,connecttocloud="";function create_fragment$i(T){let k,$,x,I,L,E,D,F,P,U,M,z;return{c(){k=element("div"),$=element("div"),x=element("button"),I=element("span"),I.textContent="arrow_back_ios_new",E=space(),D=element("div"),F=element("button"),P=element("span"),P.textContent="arrow_forward_ios",attr(I,"class","material-icons-round"),attr(x,"class","nopad"),x.disabled=L=T[0].back.disabled,attr(P,"class","material-icons-round"),attr(F,"class","nopad"),F.disabled=U=T[0].forw.disabled,attr(D,"class","alnr"),attr(k,"class","nav")},m(N,q){insert(N,k,q),append(k,$),append($,x),append(x,I),append(k,E),append(k,D),append(D,F),append(F,P),M||(z=[listen(x,"click",T[1]),listen(F,"click",T[2])],M=!0)},p(N,[q]){q&1&&L!==(L=N[0].back.disabled)&&(x.disabled=L),q&1&&U!==(U=N[0].forw.disabled)&&(F.disabled=U)},i:noop$1,o:noop$1,d(N){N&&detach(k),M=!1,run_all(z)}}}function instance$h(T,k,$){let{data:x}=k;function I(){applyFTSState(x.back.redir)}function L(){applyFTSState(x.forw.redir)}return T.$$set=E=>{"data"in E&&$(0,x=E.data)},[x,I,L]}class Nav extends SvelteComponent{constructor(k){super(),init(this,k,instance$h,create_fragment$i,safe_not_equal,{data:0})}}function create_else_block$1(T){let k;return{c(){k=text("Connecting...")},m($,x){insert($,k,x)},d($){$&&detach(k)}}}function create_if_block_1$2(T){let k;return{c(){k=text("Connect to server")},m($,x){insert($,k,x)},d($){$&&detach(k)}}}function create_if_block$9(T){let k;return{c(){k=element("p"),k.innerHTML='<span class="material-icons-round">error</span>Connection to ArcAPI failed!',attr(k,"class","fullwidth centered connect-error")},m($,x){insert($,k,x)},d($){$&&detach(k)}}}function create_fragment$h(T){let k,$,x,I,L,E,D,F,P,U,M,z,N,q,j,W,H,Q,K,G;function V(Z,ee){return Z[1]?create_else_block$1:create_if_block_1$2}let Y=V(T),J=Y(T),X=T[2]&&create_if_block$9();return H=new Nav({props:{data:{back:{disabled:!1,redir:"license"},forw:{disabled:!0,redir:"authform"},prog:{max:4,val:3}}}}),{c(){k=element("div"),$=element("img"),I=space(),L=element("h1"),L.textContent="Time to get connected",E=space(),D=element("p"),D.textContent="Enter the hostname of your ArcAPI:",F=space(),P=element("input"),U=space(),M=element("input"),z=space(),N=element("button"),J.c(),j=space(),X&&X.c(),W=space(),create_component(H.$$.fragment),src_url_equal($.src,x=Logo)||attr($,"src",x),attr($,"alt","Mode"),attr(D,"class","subtitle"),attr(k,"class","header centered"),attr(P,"class","fullwidth centered"),attr(P,"placeholder","Server name"),attr(M,"class","fullwidth centered"),attr(M,"placeholder","Server authentication code (optional)"),attr(N,"class","fullwidth option centered"),N.disabled=q=!T[0]||T[1]},m(Z,ee){insert(Z,k,ee),append(k,$),append(k,I),append(k,L),append(k,E),append(k,D),insert(Z,F,ee),insert(Z,P,ee),set_input_value(P,T[0]),insert(Z,U,ee),insert(Z,M,ee),set_input_value(M,T[3]),insert(Z,z,ee),insert(Z,N,ee),J.m(N,null),insert(Z,j,ee),X&&X.m(Z,ee),insert(Z,W,ee),mount_component(H,Z,ee),Q=!0,K||(G=[listen(P,"input",T[5]),listen(M,"input",T[6]),listen(N,"click",T[4])],K=!0)},p(Z,[ee]){ee&1&&P.value!==Z[0]&&set_input_value(P,Z[0]),ee&8&&M.value!==Z[3]&&set_input_value(M,Z[3]),Y!==(Y=V(Z))&&(J.d(1),J=Y(Z),J&&(J.c(),J.m(N,null))),(!Q||ee&3&&q!==(q=!Z[0]||Z[1]))&&(N.disabled=q),Z[2]?X||(X=create_if_block$9(),X.c(),X.m(W.parentNode,W)):X&&(X.d(1),X=null)},i(Z){Q||(transition_in(H.$$.fragment,Z),Q=!0)},o(Z){transition_out(H.$$.fragment,Z),Q=!1},d(Z){Z&&(detach(k),detach(F),detach(P),detach(U),detach(M),detach(z),detach(N),detach(j),detach(W)),J.d(),X&&X.d(Z),destroy_component(H,Z),K=!1,run_all(G)}}}function instance$g(T,k,$){let x="",I=!1,L=!1,E="";async function D(){$(1,I=!0),$(2,L=!1),await testConnection(x.trim(),E.trim())?(addServer(x.trim()),setAuthcode(x.trim(),E.trim()),applyFTSState("finish")):(ArcSoundBus.playSound("arcos.dialog.error"),$(2,L=!0)),$(1,I=!1)}function F(){x=this.value,$(0,x)}function P(){E=this.value,$(3,E)}return[x,I,L,E,D,F,P]}class ConnectToCloud extends SvelteComponent{constructor(k){super(),init(this,k,instance$g,create_fragment$h,safe_not_equal,{})}}function create_fragment$g(T){let k,$,x,I,L,E,D,F,P,U,M,z,N,q,j;return{c(){k=element("div"),$=element("img"),I=space(),L=element("h1"),L.textContent="Thank you!",E=space(),D=element("p"),D.textContent="We greatly appreciate it.",F=space(),P=element("p"),P.textContent=`Thank you for checking out ArcOS! We hope you'll enjoy it as much as we love\r
  making it. Please restart ArcOS to use your ArcOS instance.`,U=space(),M=element("br"),z=space(),N=element("button"),N.textContent="Restart",src_url_equal($.src,x=finish)||attr($,"src",x),attr($,"alt","Mode"),attr(D,"class","subtitle"),attr(k,"class","header centered"),attr(P,"class","fullwidth centered justified"),attr(N,"class","fullwidth option centered")},m(W,H){insert(W,k,H),append(k,$),append(k,I),append(k,L),append(k,E),append(k,D),insert(W,F,H),insert(W,P,H),insert(W,U,H),insert(W,M,H),insert(W,z,H),insert(W,N,H),q||(j=listen(N,"click",T[0]),q=!0)},p:noop$1,i:noop$1,o:noop$1,d(W){W&&(detach(k),detach(F),detach(P),detach(U),detach(M),detach(z),detach(N)),q=!1,j()}}}function instance$f(T){async function k(){ArcSoundBus.playSound("arcos.system.logoff"),await sleep(1e3),location.reload()}return[k]}class Finish extends SvelteComponent{constructor(k){super(),init(this,k,instance$f,create_fragment$g,safe_not_equal,{})}}function create_fragment$f(T){let k,$,x,I,L,E,D,F,P,U,M,z,N;return{c(){k=element("div"),$=element("img"),I=space(),L=element("h1"),L.textContent="License agreement",E=space(),D=element("p"),D.textContent="By using ArcOS, you agree to the GPLv3 License.",F=space(),P=element("button"),P.textContent="Open license",U=space(),M=element("button"),M.textContent="I Agree",src_url_equal($.src,x=license)||attr($,"src",x),attr($,"alt","Mode"),attr(D,"class","subtitle"),attr(k,"class","header centered"),attr(P,"class","fullwidth option centered"),attr(M,"class","fullwidth option centered")},m(q,j){insert(q,k,j),append(k,$),append(k,I),append(k,L),append(k,E),append(k,D),insert(q,F,j),insert(q,P,j),insert(q,U,j),insert(q,M,j),z||(N=[listen(P,"click",openIt),listen(M,"click",T[0])],z=!0)},p:noop$1,i:noop$1,o:noop$1,d(q){q&&(detach(k),detach(F),detach(P),detach(U),detach(M)),z=!1,run_all(N)}}}function openIt(){window.open("https://www.gnu.org/licenses/gpl-3.0-standalone.html","_blank")}function instance$e(T){return[()=>applyFTSState("connecttocloud")]}class License extends SvelteComponent{constructor(k){super(),init(this,k,instance$e,create_fragment$f,safe_not_equal,{})}}const welcome="";function create_fragment$e(T){let k,$,x,I,L,E,D,F,P,U,M,z;return{c(){k=element("div"),$=element("div"),x=element("img"),L=space(),E=element("h1"),E.textContent="Welcome",D=space(),F=element("p"),F.textContent="Time to set-up ArcOS.",P=space(),U=element("button"),U.textContent="Let's begin",src_url_equal(x.src,I=Logo$1())||attr(x,"src",I),attr(x,"alt","ArcOS"),attr(x,"class","logo"),attr(E,"class","center-header"),attr(F,"class","center"),attr(k,"class","center-flex")},m(N,q){insert(N,k,q),append(k,$),append($,x),append($,L),append($,E),append($,D),append($,F),append($,P),append($,U),M||(z=listen(U,"click",T[0]),M=!0)},p:noop$1,i:noop$1,o:noop$1,d(N){N&&detach(k),M=!1,z()}}}function instance$d(T){return[()=>applyFTSState("license")]}class Welcome extends SvelteComponent{constructor(k){super(),init(this,k,instance$d,create_fragment$e,safe_not_equal,{})}}const FTSStates=new Map([["welcome",{name:"Welcome",content:Welcome,attribs:{},key:"welcome",image:wave}],["license",{name:"License",content:License,attribs:{},key:"license",image:license}],["connecttocloud",{name:"Connect to ArcOS",content:ConnectToCloud,attribs:{},key:"connecttocloud",image:Logo}],["finish",{name:"Finish",content:Finish,attribs:{},key:"finish",image:finish}]]),CurrentFTSState=writable();function applyFTSState(T){if(FTSStates.has(T)){Log("applyFTSState",`Applying state ${T}`);const k=FTSStates.get(T);CurrentFTSState.set(k),ArcSoundBus.playSound("arcos.click");return}InvalidStateBugrep("FirstTimeSetup",T)}function create_else_block(T){let k,$,x;return $=new Spinner({props:{height:60}}),{c(){k=element("div"),create_component($.$$.fragment),attr(k,"class","center-absolute centertext")},m(I,L){insert(I,k,L),mount_component($,k,null),x=!0},p:noop$1,i(I){x||(transition_in($.$$.fragment,I),x=!0)},o(I){transition_out($.$$.fragment,I),x=!1},d(I){I&&detach(k),destroy_component($)}}}function create_if_block$8(T){let k,$,x,I;var L=T[1].content;function E(D){return{}}return L&&($=construct_svelte_component(L,E())),{c(){k=element("div"),$&&create_component($.$$.fragment),attr(k,"class",x="page "+T[0])},m(D,F){insert(D,k,F),$&&mount_component($,k,null),I=!0},p(D,F){if(F&2&&L!==(L=D[1].content)){if($){group_outros();const P=$;transition_out(P.$$.fragment,1,0,()=>{destroy_component(P,1)}),check_outros()}L?($=construct_svelte_component(L,E()),create_component($.$$.fragment),transition_in($.$$.fragment,1),mount_component($,k,null)):$=null}(!I||F&1&&x!==(x="page "+D[0]))&&attr(k,"class",x)},i(D){I||($&&transition_in($.$$.fragment,D),I=!0)},o(D){$&&transition_out($.$$.fragment,D),I=!1},d(D){D&&detach(k),$&&destroy_component($)}}}function create_fragment$d(T){let k,$,x,I,L;const E=[create_if_block$8,create_else_block],D=[];function F(P,U){return P[1]?0:1}return $=F(T),x=D[$]=E[$](T),{c(){k=element("div"),x.c(),attr(k,"class",I="right "+(T[1]?T[1].key:""))},m(P,U){insert(P,k,U),D[$].m(k,null),L=!0},p(P,[U]){let M=$;$=F(P),$===M?D[$].p(P,U):(group_outros(),transition_out(D[M],1,1,()=>{D[M]=null}),check_outros(),x=D[$],x?x.p(P,U):(x=D[$]=E[$](P),x.c()),transition_in(x,1),x.m(k,null)),(!L||U&2&&I!==(I="right "+(P[1]?P[1].key:"")))&&attr(k,"class",I)},i(P){L||(transition_in(x),L=!0)},o(P){transition_out(x),L=!1},d(P){P&&detach(k),D[$].d()}}}function instance$c(T,k,$){let x;component_subscribe(T,CurrentFTSState,E=>$(1,x=E));let I="",L=[];return CurrentFTSState.subscribe(E=>{E&&$(0,I=E.name.split(" ")[0].toLowerCase())}),onMount(()=>{L=[];for(const E of FTSStates)L.push(E[0])}),[I,x]}class Right extends SvelteComponent{constructor(k){super(),init(this,k,instance$c,create_fragment$d,safe_not_equal,{})}}function get_each_context$2(T,k,$){const x=T.slice();return x[2]=k[$][0],x[3]=k[$][1],x}function create_each_block$2(T){let k,$,x,I,L=T[3].name+"",E,D;return{c(){k=element("div"),$=element("img"),I=space(),E=text(L),D=space(),src_url_equal($.src,x=T[3].image)||attr($,"src",x),attr($,"alt",T[3].name),attr(k,"class","state"),toggle_class(k,"activated",T[1]&&T[1].key==T[2])},m(F,P){insert(F,k,P),append(k,$),append(k,I),append(k,E),append(k,D)},p(F,P){P&2&&toggle_class(k,"activated",F[1]&&F[1].key==F[2])},d(F){F&&detach(k)}}}function create_fragment$c(T){let k,$,x,I,L,E,D=ensure_array_like([...FTSStates]),F=[];for(let P=0;P<D.length;P+=1)F[P]=create_each_block$2(get_each_context$2(T,D,P));return L=new Right({}),{c(){k=element("div"),$=element("div"),x=element("div");for(let P=0;P<F.length;P+=1)F[P].c();I=space(),create_component(L.$$.fragment),attr(x,"class","left"),attr($,"class","center-absolute"),attr(k,"class","fts fullscreen"),toggle_class(k,"show",T[0])},m(P,U){insert(P,k,U),append(k,$),append($,x);for(let M=0;M<F.length;M+=1)F[M]&&F[M].m(x,null);append($,I),mount_component(L,$,null),E=!0},p(P,[U]){if(U&2){D=ensure_array_like([...FTSStates]);let M;for(M=0;M<D.length;M+=1){const z=get_each_context$2(P,D,M);F[M]?F[M].p(z,U):(F[M]=create_each_block$2(z),F[M].c(),F[M].m(x,null))}for(;M<F.length;M+=1)F[M].d(1);F.length=D.length}(!E||U&1)&&toggle_class(k,"show",P[0])},i(P){E||(transition_in(L.$$.fragment,P),E=!0)},o(P){transition_out(L.$$.fragment,P),E=!1},d(P){P&&detach(k),destroy_each(F,P),destroy_component(L)}}}function instance$b(T,k,$){let x;component_subscribe(T,CurrentFTSState,L=>$(1,x=L));let I=!1;return onMount(async()=>{await sleep(500),$(0,I=!0),ArcSoundBus.playSound("arcos.system.logon"),await sleep(500),applyFTSState("welcome")}),[I,x]}class FirstTimeSetup extends SvelteComponent{constructor(k){super(),init(this,k,instance$b,create_fragment$c,safe_not_equal,{})}}const login="";function create_if_block$7(T){let k;return{c(){k=element("div"),attr(k,"class","background fullscreen"),toggle_class(k,"zoom",T[0].attribs.darken)},m($,x){insert($,k,x)},p($,x){x&1&&toggle_class(k,"zoom",$[0].attribs.darken)},d($){$&&detach(k)}}}function create_fragment$b(T){let k,$=T[0]&&create_if_block$7(T);return{c(){$&&$.c(),k=empty()},m(x,I){$&&$.m(x,I),insert(x,k,I)},p(x,[I]){x[0]?$?$.p(x,I):($=create_if_block$7(x),$.c(),$.m(k.parentNode,k)):$&&($.d(1),$=null)},i:noop$1,o:noop$1,d(x){x&&detach(k),$&&$.d(x)}}}function instance$a(T,k,$){let x;return component_subscribe(T,CurrentLoginState,I=>$(0,x=I)),[x]}class Background extends SvelteComponent{constructor(k){super(),init(this,k,instance$a,create_fragment$b,safe_not_equal,{})}}function create_if_block$6(T){let k,$,x;var I=T[0].content;function L(E){return{}}return I&&($=construct_svelte_component(I,L())),{c(){k=element("div"),$&&create_component($.$$.fragment),attr(k,"class","center-absolute")},m(E,D){insert(E,k,D),$&&mount_component($,k,null),x=!0},p(E,D){if(D&1&&I!==(I=E[0].content)){if($){group_outros();const F=$;transition_out(F.$$.fragment,1,0,()=>{destroy_component(F,1)}),check_outros()}I?($=construct_svelte_component(I,L()),create_component($.$$.fragment),transition_in($.$$.fragment,1),mount_component($,k,null)):$=null}},i(E){x||($&&transition_in($.$$.fragment,E),x=!0)},o(E){$&&transition_out($.$$.fragment,E),x=!1},d(E){E&&detach(k),$&&destroy_component($)}}}function create_fragment$a(T){let k,$,x=T[0]&&create_if_block$6(T);return{c(){x&&x.c(),k=empty()},m(I,L){x&&x.m(I,L),insert(I,k,L),$=!0},p(I,[L]){I[0]?x?(x.p(I,L),L&1&&transition_in(x,1)):(x=create_if_block$6(I),x.c(),transition_in(x,1),x.m(k.parentNode,k)):x&&(group_outros(),transition_out(x,1,1,()=>{x=null}),check_outros())},i(I){$||(transition_in(x),$=!0)},o(I){transition_out(x),$=!1},d(I){I&&detach(k),x&&x.d(I)}}}function instance$9(T,k,$){let x;return component_subscribe(T,CurrentLoginState,I=>$(0,x=I)),[x]}class Center extends SvelteComponent{constructor(k){super(),init(this,k,instance$9,create_fragment$a,safe_not_equal,{})}}function create_if_block$5(T){let k;return{c(){k=element("div"),attr(k,"class","fullscreen darken"),toggle_class(k,"show",T[0].attribs.darken)},m($,x){insert($,k,x)},p($,x){x&1&&toggle_class(k,"show",$[0].attribs.darken)},d($){$&&detach(k)}}}function create_fragment$9(T){let k,$=T[0]&&create_if_block$5(T);return{c(){$&&$.c(),k=empty()},m(x,I){$&&$.m(x,I),insert(x,k,I)},p(x,[I]){x[0]?$?$.p(x,I):($=create_if_block$5(x),$.c(),$.m(k.parentNode,k)):$&&($.d(1),$=null)},i:noop$1,o:noop$1,d(x){x&&detach(k),$&&$.d(x)}}}function instance$8(T,k,$){let x;return component_subscribe(T,CurrentLoginState,I=>$(0,x=I)),[x]}class Darken extends SvelteComponent{constructor(k){super(),init(this,k,instance$8,create_fragment$9,safe_not_equal,{})}}function get_each_context$1(T,k,$){const x=T.slice();return x[9]=k[$],x}function create_if_block$4(T){let k,$,x,I,L,E,D,F,P,U,M,z,N,q=ensure_array_like(T[3]),j=[];for(let W=0;W<q.length;W+=1)j[W]=create_each_block$1(get_each_context$1(T,q,W));return{c(){k=element("div"),$=element("select");for(let W=0;W<j.length;W+=1)j[W].c();x=element("option"),x.textContent="Add Server...",I=space(),L=element("div"),E=text(T[0]),D=space(),F=element("div"),P=element("button"),P.innerHTML='<span class="material-icons-round">power_settings_new</span>',U=space(),M=element("button"),M.innerHTML='<span class="material-icons-round">restart_alt</span>',x.__value="$new",set_input_value(x,x.__value),attr($,"class","host"),T[1]===void 0&&add_render_callback(()=>T[8].call($)),attr(L,"class","clock"),attr(P,"class","nopad"),attr(M,"class","nopad"),attr(F,"class","right"),attr(k,"class","topbar"),toggle_class(k,"show",(T[4].attribs.topbar||!1)&&T[2])},m(W,H){insert(W,k,H),append(k,$);for(let Q=0;Q<j.length;Q+=1)j[Q]&&j[Q].m($,null);append($,x),select_option($,T[1],!0),append(k,I),append(k,L),append(L,E),append(k,D),append(k,F),append(F,P),append(F,U),append(F,M),z||(N=[listen($,"change",T[7]),listen($,"change",T[8]),listen(P,"click",T[5]),listen(M,"click",T[6])],z=!0)},p(W,H){if(H&8){q=ensure_array_like(W[3]);let Q;for(Q=0;Q<q.length;Q+=1){const K=get_each_context$1(W,q,Q);j[Q]?j[Q].p(K,H):(j[Q]=create_each_block$1(K),j[Q].c(),j[Q].m($,x))}for(;Q<j.length;Q+=1)j[Q].d(1);j.length=q.length}H&10&&select_option($,W[1]),H&1&&set_data(E,W[0]),H&20&&toggle_class(k,"show",(W[4].attribs.topbar||!1)&&W[2])},d(W){W&&detach(k),destroy_each(j,W),z=!1,run_all(N)}}}function create_each_block$1(T){let k,$=T[9]+"",x,I;return{c(){k=element("option"),x=text($),k.__value=I=T[9],set_input_value(k,k.__value)},m(L,E){insert(L,k,E),append(k,x)},p(L,E){E&8&&$!==($=L[9]+"")&&set_data(x,$),E&8&&I!==(I=L[9])&&(k.__value=I,set_input_value(k,k.__value))},d(L){L&&detach(k)}}}function create_fragment$8(T){let k,$=T[4]&&create_if_block$4(T);return{c(){$&&$.c(),k=empty()},m(x,I){$&&$.m(x,I),insert(x,k,I)},p(x,[I]){x[4]?$?$.p(x,I):($=create_if_block$4(x),$.c(),$.m(k.parentNode,k)):$&&($.d(1),$=null)},i:noop$1,o:noop$1,d(x){x&&detach(k),$&&$.d(x)}}}function instance$7(T,k,$){let x;component_subscribe(T,CurrentLoginState,z=>$(4,x=z));let I="",L=getServer(),E=!1,D=[];onMount(()=>{setInterval(()=>$(0,I=dayjs().format("HH:mm")),500),setTimeout(()=>$(2,E=!0),750),$(3,D=getAllServers())});function F(){loginUsername.set("ArcOS"),applyLoginState("shutdown")}function P(){loginUsername.set("ArcOS"),applyLoginState("restart")}function U(){setTimeout(()=>{if(L=="$new")return applyState("fts");localStorage.setItem("arcos-current-server",L),P()})}function M(){L=select_value(this),$(1,L),$(3,D)}return[I,L,E,D,x,F,P,U,M]}class Topbar extends SvelteComponent{constructor(k){super(),init(this,k,instance$7,create_fragment$8,safe_not_equal,{})}}function create_fragment$7(T){let k,$,x,I,L,E,D,F,P;return $=new Background({}),I=new Darken({}),E=new Topbar({}),F=new Center({}),{c(){k=element("div"),create_component($.$$.fragment),x=space(),create_component(I.$$.fragment),L=space(),create_component(E.$$.fragment),D=space(),create_component(F.$$.fragment),attr(k,"class","login fullscreen"),toggle_class(k,"show",T[0])},m(U,M){insert(U,k,M),mount_component($,k,null),append(k,x),mount_component(I,k,null),append(k,L),mount_component(E,k,null),append(k,D),mount_component(F,k,null),P=!0},p(U,[M]){(!P||M&1)&&toggle_class(k,"show",U[0])},i(U){P||(transition_in($.$$.fragment,U),transition_in(I.$$.fragment,U),transition_in(E.$$.fragment,U),transition_in(F.$$.fragment,U),P=!0)},o(U){transition_out($.$$.fragment,U),transition_out(I.$$.fragment,U),transition_out(E.$$.fragment,U),transition_out(F.$$.fragment,U),P=!1},d(U){U&&detach(k),destroy_component($),destroy_component(I),destroy_component(E),destroy_component(F)}}}function instance$6(T,k,$){let x=!1;return onMount(async()=>{$(0,x=!1),await loginOnMount(),$(0,x=!0)}),[x]}class Login extends SvelteComponent{constructor(k){super(),init(this,k,instance$6,create_fragment$7,safe_not_equal,{})}}const serverselect="";function create_if_block$3(T){let k;return{c(){k=element("span"),k.textContent="lock",attr(k,"class","material-icons-round")},m($,x){insert($,k,x)},d($){$&&detach(k)}}}function create_fragment$6(T){let k,$,x,I,L,E=T[1].hostname+"",D,F,P,U,M=T[1].private&&create_if_block$3();return{c(){k=element("button"),$=element("img"),I=space(),L=element("p"),D=text(E),F=space(),M&&M.c(),src_url_equal($.src,x=Logo)||attr($,"src",x),attr($,"alt",""),attr($,"class","icon"),attr(L,"class","caption"),attr(k,"class","option"),toggle_class(k,"selected",T[0]==T[1].hostname)},m(z,N){insert(z,k,N),append(k,$),append(k,I),append(k,L),append(L,D),append(k,F),M&&M.m(k,null),P||(U=listen(k,"click",T[2]),P=!0)},p(z,[N]){N&2&&E!==(E=z[1].hostname+"")&&set_data(D,E),z[1].private?M||(M=create_if_block$3(),M.c(),M.m(k,null)):M&&(M.d(1),M=null),N&3&&toggle_class(k,"selected",z[0]==z[1].hostname)},i:noop$1,o:noop$1,d(z){z&&detach(k),M&&M.d(),P=!1,U()}}}function instance$5(T,k,$){let{server:x}=k,{selected:I}=k;function L(){$(0,I=x.hostname)}return T.$$set=E=>{"server"in E&&$(1,x=E.server),"selected"in E&&$(0,I=E.selected)},[I,x,L]}class Option extends SvelteComponent{constructor(k){super(),init(this,k,instance$5,create_fragment$6,safe_not_equal,{server:1,selected:0})}}function create_if_block$2(T){let k,$,x,I,L,E,D,F;return{c(){k=element("div"),$=element("button"),$.innerHTML='<span>Add Server</span> <span class="material-icons-round">add</span>',x=space(),I=element("button"),I.innerHTML='<span>Restart</span> <span class="material-icons-round">sync</span>',L=space(),E=element("button"),E.innerHTML='<span>Continue</span> <span class="material-icons-round">arrow_forward_ios</span>',attr(E,"class","clr-blue"),attr(k,"class","actions")},m(P,U){insert(P,k,U),append(k,$),append(k,x),append(k,I),append(k,L),append(k,E),D||(F=[listen($,"click",T[1]),listen(I,"click",restart),listen(E,"click",T[2])],D=!0)},p:noop$1,d(P){P&&detach(k),D=!1,run_all(F)}}}function create_fragment$5(T){let k,$=T[0]&&T[0].length&&create_if_block$2(T);return{c(){$&&$.c(),k=empty()},m(x,I){$&&$.m(x,I),insert(x,k,I)},p(x,[I]){x[0]&&x[0].length?$?$.p(x,I):($=create_if_block$2(x),$.c(),$.m(k.parentNode,k)):$&&($.d(1),$=null)},i:noop$1,o:noop$1,d(x){x&&detach(k),$&&$.d(x)}}}function restart(){location.reload()}function instance$4(T,k,$){let{servers:x=[]}=k,{selected:I=""}=k;function L(){applyState("fts")}function E(){localStorage.setItem("arcos-current-server",I),restart()}return T.$$set=D=>{"servers"in D&&$(0,x=D.servers),"selected"in D&&$(3,I=D.selected)},[x,L,E,I]}class Actions extends SvelteComponent{constructor(k){super(),init(this,k,instance$4,create_fragment$5,safe_not_equal,{servers:0,selected:3})}}function get_each_context(T,k,$){const x=T.slice();return x[4]=k[$],x}function create_each_block(T){let k,$,x;function I(E){T[2](E)}let L={server:T[4]};return T[0]!==void 0&&(L.selected=T[0]),k=new Option({props:L}),binding_callbacks.push(()=>bind$1(k,"selected",I)),{c(){create_component(k.$$.fragment)},m(E,D){mount_component(k,E,D),x=!0},p(E,D){const F={};D&2&&(F.server=E[4]),!$&&D&1&&($=!0,F.selected=E[0],add_flush_callback(()=>$=!1)),k.$set(F)},i(E){x||(transition_in(k.$$.fragment,E),x=!0)},o(E){transition_out(k.$$.fragment,E),x=!1},d(E){destroy_component(k,E)}}}function create_fragment$4(T){let k,$,x,I,L,E=ensure_array_like(T[1]),D=[];for(let P=0;P<E.length;P+=1)D[P]=create_each_block(get_each_context(T,E,P));const F=P=>transition_out(D[P],1,1,()=>{D[P]=null});return I=new Actions({props:{selected:T[0],servers:T[1]}}),{c(){k=element("div"),$=element("div");for(let P=0;P<D.length;P+=1)D[P].c();x=space(),create_component(I.$$.fragment),attr($,"class","options"),attr(k,"class","selector")},m(P,U){insert(P,k,U),append(k,$);for(let M=0;M<D.length;M+=1)D[M]&&D[M].m($,null);append(k,x),mount_component(I,k,null),L=!0},p(P,[U]){if(U&3){E=ensure_array_like(P[1]);let z;for(z=0;z<E.length;z+=1){const N=get_each_context(P,E,z);D[z]?(D[z].p(N,U),transition_in(D[z],1)):(D[z]=create_each_block(N),D[z].c(),transition_in(D[z],1),D[z].m($,null))}for(group_outros(),z=E.length;z<D.length;z+=1)F(z);check_outros()}const M={};U&1&&(M.selected=P[0]),U&2&&(M.servers=P[1]),I.$set(M)},i(P){if(!L){for(let U=0;U<E.length;U+=1)transition_in(D[U]);transition_in(I.$$.fragment,P),L=!0}},o(P){D=D.filter(Boolean);for(let U=0;U<D.length;U+=1)transition_out(D[U]);transition_out(I.$$.fragment,P),L=!1},d(P){P&&detach(k),destroy_each(D,P),destroy_component(I)}}}function instance$3(T,k,$){let{selected:x=""}=k,{servers:I=[]}=k;function L(){$(1,I=[]);const D=getAllServers().sort();for(let F=0;F<D.length;F++){const P=getAuthcode(D[F]);I.push({hostname:D[F],private:!!P,authCode:P})}}onMount(L);function E(D){x=D,$(0,x)}return T.$$set=D=>{"selected"in D&&$(0,x=D.selected),"servers"in D&&$(1,I=D.servers)},[x,I,E]}class Selector extends SvelteComponent{constructor(k){super(),init(this,k,instance$3,create_fragment$4,safe_not_equal,{selected:0,servers:1})}}function create_fragment$3(T){let k,$,x,I,L,E,D,F,P,U,M,z;function N(W){T[3](W)}function q(W){T[4](W)}let j={};return T[0]!==void 0&&(j.selected=T[0]),T[1]!==void 0&&(j.servers=T[1]),P=new Selector({props:j}),binding_callbacks.push(()=>bind$1(P,"selected",N)),binding_callbacks.push(()=>bind$1(P,"servers",q)),{c(){k=element("div"),$=element("div"),x=element("div"),I=element("img"),E=space(),D=element("h1"),D.textContent="Select Server",F=space(),create_component(P.$$.fragment),src_url_equal(I.src,L=Logo)||attr(I,"src",L),attr(I,"alt",""),attr(I,"class","logo"),attr(D,"class","header"),attr(x,"class","left"),attr($,"class","ss-inner"),attr(k,"class","serverselect"),toggle_class(k,"show",T[2])},m(W,H){insert(W,k,H),append(k,$),append($,x),append(x,I),append(x,E),append(x,D),append($,F),mount_component(P,$,null),z=!0},p(W,[H]){const Q={};!U&&H&1&&(U=!0,Q.selected=W[0],add_flush_callback(()=>U=!1)),!M&&H&2&&(M=!0,Q.servers=W[1],add_flush_callback(()=>M=!1)),P.$set(Q),(!z||H&4)&&toggle_class(k,"show",W[2])},i(W){z||(transition_in(P.$$.fragment,W),z=!0)},o(W){transition_out(P.$$.fragment,W),z=!1},d(W){W&&detach(k),destroy_component(P)}}}function instance$2(T,k,$){let x="",I=[],L=!1;onMount(async()=>{$(0,x=getServer()),await sleep(500),$(2,L=!0)});function E(F){x=F,$(0,x)}function D(F){I=F,$(1,I)}return[x,I,L,E,D]}class ServerSelect extends SvelteComponent{constructor(k){super(),init(this,k,instance$2,create_fragment$3,safe_not_equal,{})}}const safetoturnoff=""+new URL("safetoturnoff-1aac1218.png",import.meta.url).href,TurnedOff_svelte_svelte_type_style_lang="";function create_fragment$2(T){let k,$,x;return{c(){k=element("div"),$=element("img"),src_url_equal($.src,x=safetoturnoff)||attr($,"src",x),attr($,"alt","It's now safe to turn off your computer."),attr($,"class","svelte-1kzg8gn"),attr(k,"class","svelte-1kzg8gn")},m(I,L){insert(I,k,L),append(k,$)},p:noop$1,i:noop$1,o:noop$1,d(I){I&&detach(k)}}}class TurnedOff extends SvelteComponent{constructor(k){super(),init(this,k,null,create_fragment$2,safe_not_equal,{})}}const States=new Map([["boot",{name:"Booting...",content:Boot,attribs:{},key:"boot"}],["serverselect",{name:"Server Select",content:ServerSelect,attribs:{},key:"serverselect"}],["login",{name:"Login",content:Login,attribs:{},key:"login"}],["fts",{name:"First Time Setup",content:FirstTimeSetup,attribs:{},key:"fts"}],["desktop",{name:"Desktop",content:Desktop,attribs:{},key:"desktop"}],["logoff",{name:"Logoff",content:Login,attribs:{},onload:()=>{applyLoginState("logoff"),loginUsername.set(null)},key:"logoff"}],["restart",{name:"Restart",content:Login,attribs:{},onload:()=>{applyLoginState("restart"),loginUsername.set(null)},key:"restart"}],["shutdown",{name:"Shutdown",content:Login,attribs:{},onload:()=>{applyLoginState("shutdown"),loginUsername.set(null)},key:"shutdown"}],["arcterm",{name:"ArcTerm",content:ArcTerm_1,attribs:{},key:"arcterm"}],["blank",{name:"",content:Blank,attribs:{},key:"blank"}],["turnedoff",{name:"Turned off",content:TurnedOff,attribs:{},key:"turnedoff",onload(){window.close()}}]]),CurrentState=writable(States[0]);function applyState(T){if(States.has(T)){Log("state/main.ts: applyState",`Applying state ${T}`,LogLevel.info);const k=States.get(T);k.onload&&k.onload(),CurrentState.set(k);const $=`ArcOS | ${k.name}`;document.title=$,T!="desktop"&&logoffToken();return}InvalidStateBugrep("ArcOS State Switcher",T)}function setPowerListeners(){const T=(k,$)=>{k.subscribe(x=>{x&&(showDesktop.set(!1),setTimeout(()=>{ArcSoundBus.playSound("arcos.system.logoff"),applyState($),k.set(!1)}))})};T(shuttingDown,"shutdown"),T(restarting,"restart")}function registerDesktopShortcuts(){registerShortcuts([{key:"q",alt:!0,action(){getOpenedStore().length?(getWindow(get_store_value(focusedWindowId)).state.windowState.fll&&isFullscreenWindow.set(!1),closeWindow(get_store_value(focusedWindowId))):openWindow("Exit"),startOpened.set(!1),ActionCenterOpened.set(!1),CurrentNotification.set(null),focusedWindowId.set(null)},global:!0},{key:"s",shift:!0,alt:!0,global:!0,action:()=>{showArcFind.set(!get_store_value(showArcFind))}},{key:"n",alt:!0,global:!0,action:()=>{ActionCenterOpened.set(!get_store_value(ActionCenterOpened))}},{key:"z",alt:!0,shift:!0,global:!0,action:()=>{openWindow("AppMan")}}])}const previouslyLoaded=writable(!1),startOpened=writable(!1),shuttingDown=writable(!1),restarting=writable(!1),showDesktop=writable(!1),desktopClassNames=writable("");function assignDesktopListeners(){setDesktopClassNameListener(),setPowerListeners(),registerDesktopShortcuts()}function openWindow(T,k=!1){Log("events.ts: openWindow",`Opening ${T}`);const $=getWindow(T);if($&&$.core)return;if(!isLoaded(T)||isOpened(T)){const I=getWindowElement($);if(!I)return;maxZIndex.set(get_store_value(maxZIndex)+1),I.style.zIndex=`${get_store_value(maxZIndex)}`,unminimizeWindow($);return}if($.parentId&&!isOpened($.parentId)){if(!k)return Log("events.ts: openWindow",`The parent "${$.parentId}" of child window "${$.id}" must be opened before the child can be opened.`,LogLevel.error),!1;openWindow($.parentId)}const x=get_store_value(WindowStore);for(let I=0;I<x.length;I++)x[I].id==T&&(x[I].opened=!0);return WindowStore.set(x),setTimeout(()=>{const I=getWindowElement($);I&&(maxZIndex.set(get_store_value(maxZIndex)+1),I.style.zIndex=`${get_store_value(maxZIndex)}`,focusedWindowId.set(T))},10),startOpened.set(!1),ActionCenterOpened.set(!1),updateStores(),focusedWindowId.set(T),$.events&&$.events.open&&$.events.open($),!0}function closeChildWindow(T,k){const $=get_store_value(WindowStore);for(let x=0;x<$.length;x++)if($[x].parentId==T.id&&$[x].id==k)return closeWindow(k),!0;return!1}function closeWindow(T){if(Log("events.ts: closeWindow",`Closing ${T}`),!isOpened(T))return!1;const k=get_store_value(WindowStore),$=getWindow(T);if(!($&&$.core)){for(let x=0;x<k.length;x++)if(k[x]&&k[x].id==T){k[x].opened=!1,k[x].openedFile=null;break}if($.children){const x=Object.entries($.children);for(let I=0;I<x.length;I++)closeChildWindow($,x[I][0])}if($.errorOverlays)for(let x=0;x<$.errorOverlays.length;x++)destroyOverlayableError($.errorOverlays[x].id,$.id);if($.overlays){const x=Object.entries($.overlays);for(let I=0;I<x.length;I++)hideOverlay(x[I][0],T)}return $.snapped=!1,WindowStore.set(k),$.events&&$.events.close&&$.events.close($),!0}}function unminimizeWindow(T){if(Log("events.ts: unminimizeWindow",`Disabling minimized state of ${T.id}`,LogLevel.info),T.core)return;const k=get_store_value(WindowStore);for(let $=0;$<k.length;$++)k[$].id==T.id&&(k[$].state.windowState.min=!1);focusedWindowId.set(T.id),WindowStore.set(k)}function fullscreenToggle(T){Log("events.ts: fullscreenToggle",`Switching fullscreen state of ${T}`,LogLevel.info);const k=get_store_value(WindowStore);for(let $=0;$<k.length;$++)k[$].id==T&&(k[$].core||(k[$].state.windowState.fll=!k[$].state.windowState.fll));WindowStore.set(k)}const pb=new O("https://pb.arcapi.nl/");async function sendReport(T=defaultReportOptions){const k=createReport(T),$=(await pb.collection("bugrep").create(k)).id;return k.author&&saveToUser($),$}function saveToUser(T){const k=getAppPreference("Reporting","reports")||[];k.push({id:T,timestamp:new Date().getTime()}),setAppPreference("Reporting","reports",k),makeNotification({title:"Bug Reported",message:`Bug Report ${T} has been sent to ArcOS. You can view the sent data at any time in Settings.`,buttons:[{caption:"Open Bug Reports",action(){openWindow("BugReports")}}],image:bugRepIcon})}function createReport(T=defaultReportOptions){const k=()=>Math.floor(Math.random()*1e6);return{author:get_store_value(UserName),title:T.title,body:T.body||"No body",version:ArcOSVersion,log:removeApiSensitive(compileStringLog().join(`
`)),userdata:T.includeUserData?get_store_value(UserData$2):null,api:T.includeApi?getServer():null,issueid:`${k()}-${k()}-${k()}-${k()}`,resolved:!1,closed:!1,desktop:isDesktop(),mode_file:ARCOS_MODE,useragent:navigator.userAgent,frontend:location.host,location}}async function getReport(T){try{return await pb.collection("bugrep").getOne(T,{$autoCancel:!1})}catch{return null}}async function reportExists(T){return!!await getReport(T)}const LogStore=writable([]);function Log(T,k,$=LogLevel.info){const x={source:T,msg:k,level:$};x.timestamp=new Date().getTime();const I=get_store_value(LogStore),L=LogLevelData[LogLevel[x.level]].capt,E=dayjs(x.timestamp||0).format("HH:mm:ss.mmm");I.push(x),LogStore.set(I),x.level==LogLevel.critical&&sendReport(),console.log(`ArcOS: ${E} [${L}] ${x.source}: ${x.msg}`)}const OpenedStore=writable([]),WindowStore=writable([]),isFullscreenWindow=writable(!1),maxZIndex=writable(1e9),focusedWindowId=writable(null);function getWindow(T){const k=get_store_value(WindowStore);for(let $=0;$<k.length;$++)if(k[$]&&k[$].id==T)return k[$];return null}function getOpenedStore(){const T=get_store_value(WindowStore),k=[];for(let $=0;$<T.length;$++)T[$].opened&&k.push(T[$]);return k}function updateStores(){Log("store.ts: updateStores","Flushing all stores");const T=get_store_value(WindowStore),k=getOpenedStore();isFullscreenWindow.set(!1);for(let $=0;$<k.length;$++){const x=getWindow(k[$].id);x&&(k[$]=x),k[$]&&k[$]&&k[$].state.windowState.fll&&!k[$].state.windowState.min&&isFullscreenWindow.set(!0)}WindowStore.set(T)}WindowStore.subscribe(()=>{OpenedStore.set(getOpenedStore())});function create_if_block$1(T){let k,$,x,I,L,E,D,F,P=T[1].icon+"",U,M=T[1].title+"",z,N,q,j=T[1].message+"",W,H,Q,K=T[1].button&&create_if_block_2(T),G=T[1].details&&create_if_block_1$1(T);return{c(){k=element("div"),$=element("div"),x=element("div"),I=element("img"),E=space(),D=element("h3"),F=element("span"),U=text(P),z=text(M),N=space(),q=element("p"),W=space(),K&&K.c(),H=space(),Q=element("div"),G&&G.c(),attr(I,"class","logo"),src_url_equal(I.src,L=Logo$1())||attr(I,"src",L),attr(I,"alt","ArcOS"),attr(F,"class","material-icons-round"),attr($,"class","content"),attr(Q,"class","details"),attr(k,"class","bugrep fullscreen"),set_style(k,"z-index",T[2]*10),toggle_class(k,"show",T[0])},m(V,Y){insert(V,k,Y),append(k,$),append($,x),append(x,I),append(x,E),append(x,D),append(D,F),append(F,U),append(D,z),append(x,N),append(x,q),q.innerHTML=j,append(k,W),K&&K.m(k,null),append(k,H),append(k,Q),G&&G.m(Q,null)},p(V,Y){Y&2&&P!==(P=V[1].icon+"")&&set_data(U,P),Y&2&&M!==(M=V[1].title+"")&&set_data(z,M),Y&2&&j!==(j=V[1].message+"")&&(q.innerHTML=j),V[1].button?K?K.p(V,Y):(K=create_if_block_2(V),K.c(),K.m(k,H)):K&&(K.d(1),K=null),V[1].details?G?G.p(V,Y):(G=create_if_block_1$1(V),G.c(),G.m(Q,null)):G&&(G.d(1),G=null),Y&4&&set_style(k,"z-index",V[2]*10),Y&1&&toggle_class(k,"show",V[0])},d(V){V&&detach(k),K&&K.d(),G&&G.d()}}}function create_if_block_2(T){let k,$=T[1].button.caption+"",x,I,L;return{c(){k=element("button"),x=text($)},m(E,D){insert(E,k,D),append(k,x),I||(L=listen(k,"click",T[3]),I=!0)},p(E,D){D&2&&$!==($=E[1].button.caption+"")&&set_data(x,$)},d(E){E&&detach(k),I=!1,L()}}}function create_if_block_1$1(T){let k,$,x,I=(T[1].source||"<anonymous>")+"",L,E,D,F,P,U,M=(T[1].details||"<anonymous>")+"",z;return{c(){k=element("p"),$=element("span"),$.textContent="Source :",x=space(),L=text(I),E=space(),D=element("p"),F=element("span"),F.textContent="Details:",P=space(),U=element("code"),z=text(M),attr($,"class","title"),attr(F,"class","title")},m(N,q){insert(N,k,q),append(k,$),append(k,x),append(k,L),insert(N,E,q),insert(N,D,q),append(D,F),append(D,P),append(D,U),append(U,z)},p(N,q){q&2&&I!==(I=(N[1].source||"<anonymous>")+"")&&set_data(L,I),q&2&&M!==(M=(N[1].details||"<anonymous>")+"")&&set_data(z,M)},d(N){N&&(detach(k),detach(E),detach(D))}}}function create_fragment$1(T){let k,$=T[0]&&create_if_block$1(T);return{c(){$&&$.c(),k=empty()},m(x,I){$&&$.m(x,I),insert(x,k,I)},p(x,[I]){x[0]?$?$.p(x,I):($=create_if_block$1(x),$.c(),$.m(k.parentNode,k)):$&&($.d(1),$=null)},i:noop$1,o:noop$1,d(x){x&&detach(k),$&&$.d(x)}}}function instance$1(T,k,$){let x;component_subscribe(T,maxZIndex,D=>$(2,x=D));let I=!1,L;function E(){L.button.action(),BugReportData.set([!1,null])}return BugReportData.subscribe(D=>{D&&($(0,I=D[0]),$(1,L=D[1]))}),[I,L,x,E]}class BugReport extends SvelteComponent{constructor(k){super(),init(this,k,instance$1,create_fragment$1,safe_not_equal,{})}}const{window:window_1}=globals;function create_if_block(T){let k,$,x,I,L=T[4]&&create_if_block_1(T);return x=new BugReport({}),{c(){k=element("div"),L&&L.c(),$=space(),create_component(x.$$.fragment),attr(k,"class","app fullscreen"),toggle_class(k,"cursor-busy",T[2]||T[3])},m(E,D){insert(E,k,D),L&&L.m(k,null),append(k,$),mount_component(x,k,null),I=!0},p(E,D){E[4]?L?(L.p(E,D),D&16&&transition_in(L,1)):(L=create_if_block_1(E),L.c(),transition_in(L,1),L.m(k,$)):L&&(group_outros(),transition_out(L,1,1,()=>{L=null}),check_outros()),(!I||D&12)&&toggle_class(k,"cursor-busy",E[2]||E[3])},i(E){I||(transition_in(L),transition_in(x.$$.fragment,E),I=!0)},o(E){transition_out(L),transition_out(x.$$.fragment,E),I=!1},d(E){E&&detach(k),L&&L.d(),destroy_component(x)}}}function create_if_block_1(T){let k,$,x;var I=T[4].content;function L(E){return{}}return I&&(k=construct_svelte_component(I,L())),{c(){k&&create_component(k.$$.fragment),$=empty()},m(E,D){k&&mount_component(k,E,D),insert(E,$,D),x=!0},p(E,D){if(D&16&&I!==(I=E[4].content)){if(k){group_outros();const F=k;transition_out(F.$$.fragment,1,0,()=>{destroy_component(F,1)}),check_outros()}I?(k=construct_svelte_component(I,L()),create_component(k.$$.fragment),transition_in(k.$$.fragment,1),mount_component(k,$.parentNode,$)):k=null}},i(E){x||(k&&transition_in(k.$$.fragment,E),x=!0)},o(E){k&&transition_out(k.$$.fragment,E),x=!1},d(E){E&&detach($),k&&destroy_component(k,E)}}}function create_fragment(T){let k,$,x,I,L,E,D=T[0]&&create_if_block(T);return{c(){k=element("link"),$=space(),D&&D.c(),x=empty(),attr(k,"rel","icon"),attr(k,"href",T[1])},m(F,P){append(document.head,k),insert(F,$,P),D&&D.m(F,P),insert(F,x,P),I=!0,L||(E=listen(window_1,"error",T[6]),L=!0)},p(F,[P]){(!I||P&2)&&attr(k,"href",F[1]),F[0]?D?(D.p(F,P),P&1&&transition_in(D,1)):(D=create_if_block(F),D.c(),transition_in(D,1),D.m(x.parentNode,x)):D&&(group_outros(),transition_out(D,1,1,()=>{D=null}),check_outros())},i(F){I||(transition_in(D),I=!0)},o(F){transition_out(D),I=!1},d(F){F&&(detach($),detach(x)),detach(k),D&&D.d(F),L=!1,E()}}}function instance(T,k,$){let x,I,L;component_subscribe(T,committingUserData,U=>$(2,x=U)),component_subscribe(T,Busy,U=>$(3,I=U)),component_subscribe(T,CurrentState,U=>$(4,L=U));let E=!1,D="";onMount(async()=>{await getMode(),await getDesktopMode(),applyState("boot"),window.addEventListener("beforeunload",logoffToken),$(1,D=Logo$1()),$(0,E=!0)});function F(U){const M=U;console.log(U),sendReport({includeUserData:!0,includeApi:!0,title:"Svelte:Window auto-generated error",body:`File: ${M.filename} (${M.lineno}:${M.colno})

${M.message}`})}return[E,D,x,I,L,F,U=>F(U)]}class App extends SvelteComponent{constructor(k){super(),init(this,k,instance,create_fragment,safe_not_equal,{})}}const observer=new MutationObserver(mutationCallback);function attachDisableAnchorRedirection(){const T=document.querySelectorAll("a");for(let k=0;k<T.length;k++)T[k].addEventListener("click",$=>$.preventDefault())}function mutationCallback(T){for(let k=0;k<T.length;k++)T[k].type==="childList"&&attachDisableAnchorRedirection()}function preventAnchorRedirects(){observer.observe(document.body,{childList:!0,subtree:!0})}migrateToMulti();preventAnchorRedirects();document.addEventListener("contextmenu",T=>T.preventDefault());console.warn=(T,...k)=>!T.includes("unknown prop")&&Log("Console",T+k.join(" "),LogLevel.warn);console.error=(T,...k)=>Log("Console",T+k.join(" "),LogLevel.error);new App({target:document.getElementById("app")});
