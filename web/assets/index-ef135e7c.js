var Tt=Object.defineProperty;var It=($,r,p)=>r in $?Tt($,r,{enumerable:!0,configurable:!0,writable:!0,value:p}):$[r]=p;var me=($,r,p)=>(It($,typeof r!="symbol"?r+"":r,p),p);(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const k of document.querySelectorAll('link[rel="modulepreload"]'))v(k);new MutationObserver(k=>{for(const x of k)if(x.type==="childList")for(const S of x.addedNodes)S.tagName==="LINK"&&S.rel==="modulepreload"&&v(S)}).observe(document,{childList:!0,subtree:!0});function p(k){const x={};return k.integrity&&(x.integrity=k.integrity),k.referrerpolicy&&(x.referrerPolicy=k.referrerpolicy),k.crossorigin==="use-credentials"?x.credentials="include":k.crossorigin==="anonymous"?x.credentials="omit":x.credentials="same-origin",x}function v(k){if(k.ep)return;k.ep=!0;const x=p(k);fetch(k.href,x)}})();function noop$1(){}function assign($,r){for(const p in r)$[p]=r[p];return $}function run($){return $()}function blank_object(){return Object.create(null)}function run_all($){$.forEach(run)}function is_function($){return typeof $=="function"}function safe_not_equal($,r){return $!=$?r==r:$!==r||$&&typeof $=="object"||typeof $=="function"}let src_url_equal_anchor;function src_url_equal($,r){return src_url_equal_anchor||(src_url_equal_anchor=document.createElement("a")),src_url_equal_anchor.href=r,$===src_url_equal_anchor.href}function is_empty($){return Object.keys($).length===0}function subscribe($,...r){if($==null)return noop$1;const p=$.subscribe(...r);return p.unsubscribe?()=>p.unsubscribe():p}function get_store_value($){let r;return subscribe($,p=>r=p)(),r}function component_subscribe($,r,p){$.$$.on_destroy.push(subscribe(r,p))}function create_slot($,r,p,v){if($){const k=get_slot_context($,r,p,v);return $[0](k)}}function get_slot_context($,r,p,v){return $[1]&&v?assign(p.ctx.slice(),$[1](v(r))):p.ctx}function get_slot_changes($,r,p,v){if($[2]&&v){const k=$[2](v(p));if(r.dirty===void 0)return k;if(typeof k=="object"){const x=[],S=Math.max(r.dirty.length,k.length);for(let L=0;L<S;L+=1)x[L]=r.dirty[L]|k[L];return x}return r.dirty|k}return r.dirty}function update_slot_base($,r,p,v,k,x){if(k){const S=get_slot_context(r,p,v,x);$.p(S,k)}}function get_all_dirty_from_scope($){if($.ctx.length>32){const r=[],p=$.ctx.length/32;for(let v=0;v<p;v++)r[v]=-1;return r}return-1}function exclude_internal_props($){const r={};for(const p in $)p[0]!=="$"&&(r[p]=$[p]);return r}function compute_rest_props($,r){const p={};r=new Set(r);for(const v in $)!r.has(v)&&v[0]!=="$"&&(p[v]=$[v]);return p}function set_store_value($,r,p){return $.set(p),r}const is_client=typeof window<"u";let raf=is_client?$=>requestAnimationFrame($):noop$1;function append($,r){$.appendChild(r)}function insert($,r,p){$.insertBefore(r,p||null)}function detach($){$.parentNode&&$.parentNode.removeChild($)}function destroy_each($,r){for(let p=0;p<$.length;p+=1)$[p]&&$[p].d(r)}function element($){return document.createElement($)}function svg_element($){return document.createElementNS("http://www.w3.org/2000/svg",$)}function text($){return document.createTextNode($)}function space(){return text(" ")}function empty(){return text("")}function listen($,r,p,v){return $.addEventListener(r,p,v),()=>$.removeEventListener(r,p,v)}function attr($,r,p){p==null?$.removeAttribute(r):$.getAttribute(r)!==p&&$.setAttribute(r,p)}function children($){return Array.from($.childNodes)}function set_data($,r){r=""+r,$.wholeText!==r&&($.data=r)}function set_input_value($,r){$.value=r??""}function set_style($,r,p,v){p===null?$.style.removeProperty(r):$.style.setProperty(r,p,v?"important":"")}function select_option($,r,p){for(let v=0;v<$.options.length;v+=1){const k=$.options[v];if(k.__value===r){k.selected=!0;return}}(!p||r!==void 0)&&($.selectedIndex=-1)}function select_value($){const r=$.querySelector(":checked");return r&&r.__value}function toggle_class($,r,p){$.classList[p?"add":"remove"](r)}function custom_event($,r,{bubbles:p=!1,cancelable:v=!1}={}){const k=document.createEvent("CustomEvent");return k.initCustomEvent($,p,v,r),k}class HtmlTag{constructor(r=!1){this.is_svg=!1,this.is_svg=r,this.e=this.n=null}c(r){this.h(r)}m(r,p,v=null){this.e||(this.is_svg?this.e=svg_element(p.nodeName):this.e=element(p.nodeType===11?"TEMPLATE":p.nodeName),this.t=p.tagName!=="TEMPLATE"?p:p.content,this.c(r)),this.i(v)}h(r){this.e.innerHTML=r,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(r){for(let p=0;p<this.n.length;p+=1)insert(this.t,this.n[p],r)}p(r){this.d(),this.h(r),this.i(this.a)}d(){this.n.forEach(detach)}}function construct_svelte_component($,r){return new $(r)}let current_component;function set_current_component($){current_component=$}function get_current_component(){if(!current_component)throw new Error("Function called outside component initialization");return current_component}function onMount($){get_current_component().$$.on_mount.push($)}function createEventDispatcher(){const $=get_current_component();return(r,p,{cancelable:v=!1}={})=>{const k=$.$$.callbacks[r];if(k){const x=custom_event(r,p,{cancelable:v});return k.slice().forEach(S=>{S.call($,x)}),!x.defaultPrevented}return!0}}function setContext($,r){return get_current_component().$$.context.set($,r),r}function getContext($){return get_current_component().$$.context.get($)}const dirty_components=[],binding_callbacks=[];let render_callbacks=[];const flush_callbacks=[],resolved_promise=Promise.resolve();let update_scheduled=!1;function schedule_update(){update_scheduled||(update_scheduled=!0,resolved_promise.then(flush$1))}function add_render_callback($){render_callbacks.push($)}function add_flush_callback($){flush_callbacks.push($)}const seen_callbacks=new Set;let flushidx=0;function flush$1(){if(flushidx!==0)return;const $=current_component;do{try{for(;flushidx<dirty_components.length;){const r=dirty_components[flushidx];flushidx++,set_current_component(r),update(r.$$)}}catch(r){throw dirty_components.length=0,flushidx=0,r}for(set_current_component(null),dirty_components.length=0,flushidx=0;binding_callbacks.length;)binding_callbacks.pop()();for(let r=0;r<render_callbacks.length;r+=1){const p=render_callbacks[r];seen_callbacks.has(p)||(seen_callbacks.add(p),p())}render_callbacks.length=0}while(dirty_components.length);for(;flush_callbacks.length;)flush_callbacks.pop()();update_scheduled=!1,seen_callbacks.clear(),set_current_component($)}function update($){if($.fragment!==null){$.update(),run_all($.before_update);const r=$.dirty;$.dirty=[-1],$.fragment&&$.fragment.p($.ctx,r),$.after_update.forEach(add_render_callback)}}function flush_render_callbacks($){const r=[],p=[];render_callbacks.forEach(v=>$.indexOf(v)===-1?r.push(v):p.push(v)),p.forEach(v=>v()),render_callbacks=r}const outroing=new Set;let outros;function group_outros(){outros={r:0,c:[],p:outros}}function check_outros(){outros.r||run_all(outros.c),outros=outros.p}function transition_in($,r){$&&$.i&&(outroing.delete($),$.i(r))}function transition_out($,r,p,v){if($&&$.o){if(outroing.has($))return;outroing.add($),outros.c.push(()=>{outroing.delete($),v&&(p&&$.d(1),v())}),$.o(r)}else v&&v()}function get_spread_update($,r){const p={},v={},k={$$scope:1};let x=$.length;for(;x--;){const S=$[x],L=r[x];if(L){for(const I in S)I in L||(v[I]=1);for(const I in L)k[I]||(p[I]=L[I],k[I]=1);$[x]=L}else for(const I in S)k[I]=1}for(const S in v)S in p||(p[S]=void 0);return p}function get_spread_object($){return typeof $=="object"&&$!==null?$:{}}function bind$1($,r,p){const v=$.$$.props[r];v!==void 0&&($.$$.bound[v]=p,p($.$$.ctx[v]))}function create_component($){$&&$.c()}function mount_component($,r,p,v){const{fragment:k,after_update:x}=$.$$;k&&k.m(r,p),v||add_render_callback(()=>{const S=$.$$.on_mount.map(run).filter(is_function);$.$$.on_destroy?$.$$.on_destroy.push(...S):run_all(S),$.$$.on_mount=[]}),x.forEach(add_render_callback)}function destroy_component($,r){const p=$.$$;p.fragment!==null&&(flush_render_callbacks(p.after_update),run_all(p.on_destroy),p.fragment&&p.fragment.d(r),p.on_destroy=p.fragment=null,p.ctx=[])}function make_dirty($,r){$.$$.dirty[0]===-1&&(dirty_components.push($),schedule_update(),$.$$.dirty.fill(0)),$.$$.dirty[r/31|0]|=1<<r%31}function init($,r,p,v,k,x,S,L=[-1]){const I=current_component;set_current_component($);const O=$.$$={fragment:null,ctx:[],props:x,update:noop$1,not_equal:k,bound:blank_object(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(r.context||(I?I.$$.context:[])),callbacks:blank_object(),dirty:L,skip_bound:!1,root:r.target||I.$$.root};S&&S(O.root);let F=!1;if(O.ctx=p?p($,r.props||{},(U,R,...N)=>{const j=N.length?N[0]:R;return O.ctx&&k(O.ctx[U],O.ctx[U]=j)&&(!O.skip_bound&&O.bound[U]&&O.bound[U](j),F&&make_dirty($,U)),R}):[],O.update(),F=!0,run_all(O.before_update),O.fragment=v?v(O.ctx):!1,r.target){if(r.hydrate){const U=children(r.target);O.fragment&&O.fragment.l(U),U.forEach(detach)}else O.fragment&&O.fragment.c();r.intro&&transition_in($.$$.fragment),mount_component($,r.target,r.anchor,r.customElement),flush$1()}set_current_component(I)}class SvelteComponent{$destroy(){destroy_component(this,1),this.$destroy=noop$1}$on(r,p){if(!is_function(p))return noop$1;const v=this.$$.callbacks[r]||(this.$$.callbacks[r]=[]);return v.push(p),()=>{const k=v.indexOf(p);k!==-1&&v.splice(k,1)}}$set(r){this.$$set&&!is_empty(r)&&(this.$$.skip_bound=!0,this.$$set(r),this.$$.skip_bound=!1)}}const main$1="",logo$c=""+new URL("systemIcon-393c5507.svg",import.meta.url).href,bugrep="",subscriber_queue=[];function writable($,r=noop$1){let p;const v=new Set;function k(L){if(safe_not_equal($,L)&&($=L,p)){const I=!subscriber_queue.length;for(const O of v)O[1](),subscriber_queue.push(O,$);if(I){for(let O=0;O<subscriber_queue.length;O+=2)subscriber_queue[O][0](subscriber_queue[O+1]);subscriber_queue.length=0}}}function x(L){k(L($))}function S(L,I=noop$1){const O=[L,I];return v.add(O),v.size===1&&(p=r(k)||noop$1),L($),()=>{v.delete(O),v.size===0&&p&&(p(),p=null)}}return{set:k,update:x,subscribe:S}}var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getAugmentedNamespace($){if($.__esModule)return $;var r=$.default;if(typeof r=="function"){var p=function v(){if(this instanceof v){var k=[null];k.push.apply(k,arguments);var x=Function.bind.apply(r,k);return new x}return r.apply(this,arguments)};p.prototype=r.prototype}else p={};return Object.defineProperty(p,"__esModule",{value:!0}),Object.keys($).forEach(function(v){var k=Object.getOwnPropertyDescriptor($,v);Object.defineProperty(p,v,k.get?k:{enumerable:!0,get:function(){return $[v]}})}),p}var dayjs_minExports={},dayjs_min={get exports(){return dayjs_minExports},set exports($){dayjs_minExports=$}};(function($,r){(function(p,v){$.exports=v()})(commonjsGlobal,function(){var p=1e3,v=6e4,k=36e5,x="millisecond",S="second",L="minute",I="hour",O="day",F="week",U="month",R="quarter",N="year",j="date",q="Invalid Date",H=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,Q=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,V={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(ae){var oe=["th","st","nd","rd"],se=ae%100;return"["+ae+(oe[(se-20)%10]||oe[se]||oe[0])+"]"}},K=function(ae,oe,se){var re=String(ae);return!re||re.length>=oe?ae:""+Array(oe+1-re.length).join(se)+ae},G={s:K,z:function(ae){var oe=-ae.utcOffset(),se=Math.abs(oe),re=Math.floor(se/60),ie=se%60;return(oe<=0?"+":"-")+K(re,2,"0")+":"+K(ie,2,"0")},m:function ae(oe,se){if(oe.date()<se.date())return-ae(se,oe);var re=12*(se.year()-oe.year())+(se.month()-oe.month()),ie=oe.clone().add(re,U),ne=se-ie<0,ce=oe.clone().add(re+(ne?-1:1),U);return+(-(re+(se-ie)/(ne?ie-ce:ce-ie))||0)},a:function(ae){return ae<0?Math.ceil(ae)||0:Math.floor(ae)},p:function(ae){return{M:U,y:N,w:F,d:O,D:j,h:I,m:L,s:S,ms:x,Q:R}[ae]||String(ae||"").toLowerCase().replace(/s$/,"")},u:function(ae){return ae===void 0}},Y="en",J={};J[Y]=V;var Z=function(ae){return ae instanceof le},X=function ae(oe,se,re){var ie;if(!oe)return Y;if(typeof oe=="string"){var ne=oe.toLowerCase();J[ne]&&(ie=ne),se&&(J[ne]=se,ie=ne);var ce=oe.split("-");if(!ie&&ce.length>1)return ae(ce[0])}else{var de=oe.name;J[de]=oe,ie=de}return!re&&ie&&(Y=ie),ie||!re&&Y},ee=function(ae,oe){if(Z(ae))return ae.clone();var se=typeof oe=="object"?oe:{};return se.date=ae,se.args=arguments,new le(se)},te=G;te.l=X,te.i=Z,te.w=function(ae,oe){return ee(ae,{locale:oe.$L,utc:oe.$u,x:oe.$x,$offset:oe.$offset})};var le=function(){function ae(se){this.$L=X(se.locale,null,!0),this.parse(se)}var oe=ae.prototype;return oe.parse=function(se){this.$d=function(re){var ie=re.date,ne=re.utc;if(ie===null)return new Date(NaN);if(te.u(ie))return new Date;if(ie instanceof Date)return new Date(ie);if(typeof ie=="string"&&!/Z$/i.test(ie)){var ce=ie.match(H);if(ce){var de=ce[2]-1||0,fe=(ce[7]||"0").substring(0,3);return ne?new Date(Date.UTC(ce[1],de,ce[3]||1,ce[4]||0,ce[5]||0,ce[6]||0,fe)):new Date(ce[1],de,ce[3]||1,ce[4]||0,ce[5]||0,ce[6]||0,fe)}}return new Date(ie)}(se),this.$x=se.x||{},this.init()},oe.init=function(){var se=this.$d;this.$y=se.getFullYear(),this.$M=se.getMonth(),this.$D=se.getDate(),this.$W=se.getDay(),this.$H=se.getHours(),this.$m=se.getMinutes(),this.$s=se.getSeconds(),this.$ms=se.getMilliseconds()},oe.$utils=function(){return te},oe.isValid=function(){return this.$d.toString()!==q},oe.isSame=function(se,re){var ie=ee(se);return this.startOf(re)<=ie&&ie<=this.endOf(re)},oe.isAfter=function(se,re){return ee(se)<this.startOf(re)},oe.isBefore=function(se,re){return this.endOf(re)<ee(se)},oe.$g=function(se,re,ie){return te.u(se)?this[re]:this.set(ie,se)},oe.unix=function(){return Math.floor(this.valueOf()/1e3)},oe.valueOf=function(){return this.$d.getTime()},oe.startOf=function(se,re){var ie=this,ne=!!te.u(re)||re,ce=te.p(se),de=function(ve,be){var ye=te.w(ie.$u?Date.UTC(ie.$y,be,ve):new Date(ie.$y,be,ve),ie);return ne?ye:ye.endOf(O)},fe=function(ve,be){return te.w(ie.toDate()[ve].apply(ie.toDate("s"),(ne?[0,0,0,0]:[23,59,59,999]).slice(be)),ie)},pe=this.$W,_e=this.$M,he=this.$D,Ae="set"+(this.$u?"UTC":"");switch(ce){case N:return ne?de(1,0):de(31,11);case U:return ne?de(1,_e):de(0,_e+1);case F:var $e=this.$locale().weekStart||0,ke=(pe<$e?pe+7:pe)-$e;return de(ne?he-ke:he+(6-ke),_e);case O:case j:return fe(Ae+"Hours",0);case I:return fe(Ae+"Minutes",1);case L:return fe(Ae+"Seconds",2);case S:return fe(Ae+"Milliseconds",3);default:return this.clone()}},oe.endOf=function(se){return this.startOf(se,!1)},oe.$set=function(se,re){var ie,ne=te.p(se),ce="set"+(this.$u?"UTC":""),de=(ie={},ie[O]=ce+"Date",ie[j]=ce+"Date",ie[U]=ce+"Month",ie[N]=ce+"FullYear",ie[I]=ce+"Hours",ie[L]=ce+"Minutes",ie[S]=ce+"Seconds",ie[x]=ce+"Milliseconds",ie)[ne],fe=ne===O?this.$D+(re-this.$W):re;if(ne===U||ne===N){var pe=this.clone().set(j,1);pe.$d[de](fe),pe.init(),this.$d=pe.set(j,Math.min(this.$D,pe.daysInMonth())).$d}else de&&this.$d[de](fe);return this.init(),this},oe.set=function(se,re){return this.clone().$set(se,re)},oe.get=function(se){return this[te.p(se)]()},oe.add=function(se,re){var ie,ne=this;se=Number(se);var ce=te.p(re),de=function(_e){var he=ee(ne);return te.w(he.date(he.date()+Math.round(_e*se)),ne)};if(ce===U)return this.set(U,this.$M+se);if(ce===N)return this.set(N,this.$y+se);if(ce===O)return de(1);if(ce===F)return de(7);var fe=(ie={},ie[L]=v,ie[I]=k,ie[S]=p,ie)[ce]||1,pe=this.$d.getTime()+se*fe;return te.w(pe,this)},oe.subtract=function(se,re){return this.add(-1*se,re)},oe.format=function(se){var re=this,ie=this.$locale();if(!this.isValid())return ie.invalidDate||q;var ne=se||"YYYY-MM-DDTHH:mm:ssZ",ce=te.z(this),de=this.$H,fe=this.$m,pe=this.$M,_e=ie.weekdays,he=ie.months,Ae=function(be,ye,Ce,Te){return be&&(be[ye]||be(re,ne))||Ce[ye].slice(0,Te)},$e=function(be){return te.s(de%12||12,be,"0")},ke=ie.meridiem||function(be,ye,Ce){var Te=be<12?"AM":"PM";return Ce?Te.toLowerCase():Te},ve={YY:String(this.$y).slice(-2),YYYY:this.$y,M:pe+1,MM:te.s(pe+1,2,"0"),MMM:Ae(ie.monthsShort,pe,he,3),MMMM:Ae(he,pe),D:this.$D,DD:te.s(this.$D,2,"0"),d:String(this.$W),dd:Ae(ie.weekdaysMin,this.$W,_e,2),ddd:Ae(ie.weekdaysShort,this.$W,_e,3),dddd:_e[this.$W],H:String(de),HH:te.s(de,2,"0"),h:$e(1),hh:$e(2),a:ke(de,fe,!0),A:ke(de,fe,!1),m:String(fe),mm:te.s(fe,2,"0"),s:String(this.$s),ss:te.s(this.$s,2,"0"),SSS:te.s(this.$ms,3,"0"),Z:ce};return ne.replace(Q,function(be,ye){return ye||ve[be]||ce.replace(":","")})},oe.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},oe.diff=function(se,re,ie){var ne,ce=te.p(re),de=ee(se),fe=(de.utcOffset()-this.utcOffset())*v,pe=this-de,_e=te.m(this,de);return _e=(ne={},ne[N]=_e/12,ne[U]=_e,ne[R]=_e/3,ne[F]=(pe-fe)/6048e5,ne[O]=(pe-fe)/864e5,ne[I]=pe/k,ne[L]=pe/v,ne[S]=pe/p,ne)[ce]||pe,ie?_e:te.a(_e)},oe.daysInMonth=function(){return this.endOf(U).$D},oe.$locale=function(){return J[this.$L]},oe.locale=function(se,re){if(!se)return this.$L;var ie=this.clone(),ne=X(se,re,!0);return ne&&(ie.$L=ne),ie},oe.clone=function(){return te.w(this.$d,this)},oe.toDate=function(){return new Date(this.valueOf())},oe.toJSON=function(){return this.isValid()?this.toISOString():null},oe.toISOString=function(){return this.$d.toISOString()},oe.toString=function(){return this.$d.toUTCString()},ae}(),ue=le.prototype;return ee.prototype=ue,[["$ms",x],["$s",S],["$m",L],["$H",I],["$W",O],["$M",U],["$y",N],["$D",j]].forEach(function(ae){ue[ae[1]]=function(oe){return this.$g(oe,ae[0],ae[1])}}),ee.extend=function(ae,oe){return ae.$i||(ae(oe,le,ee),ae.$i=!0),ee},ee.locale=X,ee.isDayjs=Z,ee.unix=function(ae){return ee(1e3*ae)},ee.en=J[Y],ee.Ls=J,ee.p={},ee})})(dayjs_min);const dayjs=dayjs_minExports;var LogLevel=($=>($[$.info=0]="info",$[$.warn=1]="warn",$[$.error=2]="error",$[$.critical=3]="critical",$))(LogLevel||{});const LogLevelData={info:{capt:"INFO"},warn:{capt:"WARN"},error:{capt:"ERRR"},critical:{capt:"CRIT"}},log=writable([]);function Log($){$.timestamp=new Date().getTime();const r=get_store_value(log),p=dayjs($.timestamp||0).format("HH:mm:ss.mmm");r.push($),log.set(r);const v=LogLevelData[LogLevel[$.level]];console.log(`ArcOS: ${p} [${v.capt}] ${$.source}: ${$.msg}`)}const OpenedStore=writable([]),WindowStore=writable([]),isFullscreenWindow=writable(!1),maxZIndex=writable(1e9),focusedWindowId=writable(null);function getWindow($){const r=get_store_value(WindowStore);for(let p=0;p<r.length;p++)if(r[p]&&r[p].id==$)return r[p];return null}function getOpenedStore(){const $=get_store_value(WindowStore),r=[];for(let p=0;p<$.length;p++)$[p].opened&&r.push($[p]);return r}function updateStores(){Log({msg:"Flushing all stores",source:"store.ts: updateStores",level:LogLevel.info});const $=get_store_value(WindowStore),r=getOpenedStore();isFullscreenWindow.set(!1);for(let p=0;p<r.length;p++){const v=getWindow(r[p].id);v&&(r[p]=v),r[p]&&r[p]&&r[p].state.windowState.fll&&!r[p].state.windowState.min&&isFullscreenWindow.set(!0)}WindowStore.set($)}WindowStore.subscribe(()=>{OpenedStore.set(getOpenedStore())});var d$1=Object.defineProperty,e=($,r)=>{for(var p in r)d$1($,p,{get:r[p],enumerable:!0})},f$1={};e(f$1,{convertFileSrc:()=>w,invoke:()=>c$3,transformCallback:()=>s$4});function u$4(){return window.crypto.getRandomValues(new Uint32Array(1))[0]}function s$4($,r=!1){let p=u$4(),v=`_${p}`;return Object.defineProperty(window,v,{value:k=>(r&&Reflect.deleteProperty(window,v),$==null?void 0:$(k)),writable:!1,configurable:!0}),p}async function c$3($,r={}){return new Promise((p,v)=>{let k=s$4(S=>{p(S),Reflect.deleteProperty(window,`_${x}`)},!0),x=s$4(S=>{v(S),Reflect.deleteProperty(window,`_${k}`)},!0);window.__TAURI_IPC__({cmd:$,callback:k,error:x,...r})})}function w($,r="asset"){let p=encodeURIComponent($);return navigator.userAgent.includes("Windows")?`https://${r}.localhost/${p}`:`${r}://localhost/${p}`}async function a$1($){return c$3("tauri",$)}var W$1={};e(W$1,{TauriEvent:()=>c$2,emit:()=>D,listen:()=>E$1,once:()=>_});async function s$3($,r){return a$1({__tauriModule:"Event",message:{cmd:"unlisten",event:$,eventId:r}})}async function m$1($,r,p){await a$1({__tauriModule:"Event",message:{cmd:"emit",event:$,windowLabel:r,payload:p}})}async function o$3($,r,p){return a$1({__tauriModule:"Event",message:{cmd:"listen",event:$,windowLabel:r,handler:s$4(p)}}).then(v=>async()=>s$3($,v))}async function u$3($,r,p){return o$3($,r,v=>{p(v),s$3($,v.id).catch(()=>{})})}var c$2=($=>($.WINDOW_RESIZED="tauri://resize",$.WINDOW_MOVED="tauri://move",$.WINDOW_CLOSE_REQUESTED="tauri://close-requested",$.WINDOW_CREATED="tauri://window-created",$.WINDOW_DESTROYED="tauri://destroyed",$.WINDOW_FOCUS="tauri://focus",$.WINDOW_BLUR="tauri://blur",$.WINDOW_SCALE_FACTOR_CHANGED="tauri://scale-change",$.WINDOW_THEME_CHANGED="tauri://theme-changed",$.WINDOW_FILE_DROP="tauri://file-drop",$.WINDOW_FILE_DROP_HOVER="tauri://file-drop-hover",$.WINDOW_FILE_DROP_CANCELLED="tauri://file-drop-cancelled",$.MENU="tauri://menu",$.CHECK_UPDATE="tauri://update",$.UPDATE_AVAILABLE="tauri://update-available",$.INSTALL_UPDATE="tauri://update-install",$.STATUS_UPDATE="tauri://update-status",$.DOWNLOAD_PROGRESS="tauri://update-download-progress",$))(c$2||{});async function E$1($,r){return o$3($,null,r)}async function _($,r){return u$3($,null,r)}async function D($,r){return m$1($,void 0,r)}var C={};e(C,{CloseRequestedEvent:()=>y,LogicalPosition:()=>c$1,LogicalSize:()=>m,PhysicalPosition:()=>o$2,PhysicalSize:()=>l$1,UserAttentionType:()=>W,WebviewWindow:()=>s$2,WebviewWindowHandle:()=>u$2,WindowManager:()=>h,appWindow:()=>b,availableMonitors:()=>T,currentMonitor:()=>E,getAll:()=>M,getCurrent:()=>f,primaryMonitor:()=>z});var m=class{constructor($,r){this.type="Logical",this.width=$,this.height=r}},l$1=class{constructor(r,p){this.type="Physical",this.width=r,this.height=p}toLogical(r){return new m(this.width/r,this.height/r)}},c$1=class{constructor(r,p){this.type="Logical",this.x=r,this.y=p}},o$2=class{constructor(r,p){this.type="Physical",this.x=r,this.y=p}toLogical(r){return new c$1(this.x/r,this.y/r)}},W=($=>($[$.Critical=1]="Critical",$[$.Informational=2]="Informational",$))(W||{});function f(){return new s$2(window.__TAURI_METADATA__.__currentWindow.label,{skip:!0})}function M(){return window.__TAURI_METADATA__.__windows.map($=>new s$2($.label,{skip:!0}))}var P=["tauri://created","tauri://error"],u$2=class{constructor(r){this.label=r,this.listeners=Object.create(null)}async listen(r,p){return this._handleTauriEvent(r,p)?Promise.resolve(()=>{let v=this.listeners[r];v.splice(v.indexOf(p),1)}):o$3(r,this.label,p)}async once(r,p){return this._handleTauriEvent(r,p)?Promise.resolve(()=>{let v=this.listeners[r];v.splice(v.indexOf(p),1)}):u$3(r,this.label,p)}async emit(r,p){if(P.includes(r)){for(let v of this.listeners[r]||[])v({event:r,id:-1,windowLabel:this.label,payload:p});return Promise.resolve()}return m$1(r,this.label,p)}_handleTauriEvent(r,p){return P.includes(r)?(r in this.listeners?this.listeners[r].push(p):this.listeners[r]=[p],!0):!1}},h=class extends u$2{async scaleFactor(){return a$1({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"scaleFactor"}}}})}async innerPosition(){return a$1({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"innerPosition"}}}}).then(({x:$,y:r})=>new o$2($,r))}async outerPosition(){return a$1({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"outerPosition"}}}}).then(({x:$,y:r})=>new o$2($,r))}async innerSize(){return a$1({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"innerSize"}}}}).then(({width:$,height:r})=>new l$1($,r))}async outerSize(){return a$1({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"outerSize"}}}}).then(({width:$,height:r})=>new l$1($,r))}async isFullscreen(){return a$1({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"isFullscreen"}}}})}async isMaximized(){return a$1({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"isMaximized"}}}})}async isDecorated(){return a$1({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"isDecorated"}}}})}async isResizable(){return a$1({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"isResizable"}}}})}async isVisible(){return a$1({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"isVisible"}}}})}async theme(){return a$1({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"theme"}}}})}async center(){return a$1({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"center"}}}})}async requestUserAttention($){let r=null;return $&&($===1?r={type:"Critical"}:r={type:"Informational"}),a$1({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"requestUserAttention",payload:r}}}})}async setResizable($){return a$1({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setResizable",payload:$}}}})}async setTitle($){return a$1({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setTitle",payload:$}}}})}async maximize(){return a$1({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"maximize"}}}})}async unmaximize(){return a$1({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"unmaximize"}}}})}async toggleMaximize(){return a$1({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"toggleMaximize"}}}})}async minimize(){return a$1({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"minimize"}}}})}async unminimize(){return a$1({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"unminimize"}}}})}async show(){return a$1({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"show"}}}})}async hide(){return a$1({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"hide"}}}})}async close(){return a$1({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"close"}}}})}async setDecorations($){return a$1({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setDecorations",payload:$}}}})}async setAlwaysOnTop($){return a$1({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setAlwaysOnTop",payload:$}}}})}async setSize($){if(!$||$.type!=="Logical"&&$.type!=="Physical")throw new Error("the `size` argument must be either a LogicalSize or a PhysicalSize instance");return a$1({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setSize",payload:{type:$.type,data:{width:$.width,height:$.height}}}}}})}async setMinSize($){if($&&$.type!=="Logical"&&$.type!=="Physical")throw new Error("the `size` argument must be either a LogicalSize or a PhysicalSize instance");return a$1({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setMinSize",payload:$?{type:$.type,data:{width:$.width,height:$.height}}:null}}}})}async setMaxSize($){if($&&$.type!=="Logical"&&$.type!=="Physical")throw new Error("the `size` argument must be either a LogicalSize or a PhysicalSize instance");return a$1({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setMaxSize",payload:$?{type:$.type,data:{width:$.width,height:$.height}}:null}}}})}async setPosition($){if(!$||$.type!=="Logical"&&$.type!=="Physical")throw new Error("the `position` argument must be either a LogicalPosition or a PhysicalPosition instance");return a$1({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setPosition",payload:{type:$.type,data:{x:$.x,y:$.y}}}}}})}async setFullscreen($){return a$1({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setFullscreen",payload:$}}}})}async setFocus(){return a$1({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setFocus"}}}})}async setIcon($){return a$1({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setIcon",payload:{icon:typeof $=="string"?$:Array.from($)}}}}})}async setSkipTaskbar($){return a$1({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setSkipTaskbar",payload:$}}}})}async setCursorGrab($){return a$1({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setCursorGrab",payload:$}}}})}async setCursorVisible($){return a$1({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setCursorVisible",payload:$}}}})}async setCursorIcon($){return a$1({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setCursorIcon",payload:$}}}})}async setCursorPosition($){if(!$||$.type!=="Logical"&&$.type!=="Physical")throw new Error("the `position` argument must be either a LogicalPosition or a PhysicalPosition instance");return a$1({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setCursorPosition",payload:{type:$.type,data:{x:$.x,y:$.y}}}}}})}async setIgnoreCursorEvents($){return a$1({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setIgnoreCursorEvents",payload:$}}}})}async startDragging(){return a$1({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"startDragging"}}}})}async onResized($){return this.listen("tauri://resize",$)}async onMoved($){return this.listen("tauri://move",$)}async onCloseRequested($){return this.listen("tauri://close-requested",r=>{let p=new y(r);Promise.resolve($(p)).then(()=>{if(!p.isPreventDefault())return this.close()})})}async onFocusChanged($){let r=await this.listen("tauri://focus",v=>{$({...v,payload:!0})}),p=await this.listen("tauri://blur",v=>{$({...v,payload:!1})});return()=>{r(),p()}}async onScaleChanged($){return this.listen("tauri://scale-change",$)}async onMenuClicked($){return this.listen("tauri://menu",$)}async onFileDropEvent($){let r=await this.listen("tauri://file-drop",k=>{$({...k,payload:{type:"drop",paths:k.payload}})}),p=await this.listen("tauri://file-drop-hover",k=>{$({...k,payload:{type:"hover",paths:k.payload}})}),v=await this.listen("tauri://file-drop-cancelled",k=>{$({...k,payload:{type:"cancel"}})});return()=>{r(),p(),v()}}async onThemeChanged($){return this.listen("tauri://theme-changed",$)}},y=class{constructor($){this._preventDefault=!1,this.event=$.event,this.windowLabel=$.windowLabel,this.id=$.id}preventDefault(){this._preventDefault=!0}isPreventDefault(){return this._preventDefault}},s$2=class extends h{constructor(r,p={}){super(r),p!=null&&p.skip||a$1({__tauriModule:"Window",message:{cmd:"createWebview",data:{options:{label:r,...p}}}}).then(async()=>this.emit("tauri://created")).catch(async v=>this.emit("tauri://error",v))}static getByLabel(r){return M().some(p=>p.label===r)?new s$2(r,{skip:!0}):null}},b;"__TAURI_METADATA__"in window?b=new s$2(window.__TAURI_METADATA__.__currentWindow.label,{skip:!0}):(console.warn(`Could not find "window.__TAURI_METADATA__". The "appWindow" value will reference the "main" window label.
Note that this is not an issue if running this frontend on a browser instead of a Tauri window.`),b=new s$2("main",{skip:!0}));function g($){return $===null?null:{name:$.name,scaleFactor:$.scaleFactor,position:new o$2($.position.x,$.position.y),size:new l$1($.size.width,$.size.height)}}async function E(){return a$1({__tauriModule:"Window",message:{cmd:"manage",data:{cmd:{type:"currentMonitor"}}}}).then(g)}async function z(){return a$1({__tauriModule:"Window",message:{cmd:"manage",data:{cmd:{type:"primaryMonitor"}}}}).then(g)}async function T(){return a$1({__tauriModule:"Window",message:{cmd:"manage",data:{cmd:{type:"availableMonitors"}}}}).then($=>$.map(g))}const UserData=writable(),UserName=writable(),UserToken=writable(),trayIcons=writable([]);function createTrayIcon($){if(trayExists($.identifier))return!1;const r=get_store_value(trayIcons);r.push($),trayIcons.set(r)}function disposeTrayIcon($){const r=get_store_value(trayIcons);for(let p=0;p<r.length;p++)r[p].identifier==$&&r.splice(p,1);trayIcons.set(r)}function trayExists($){const r=get_store_value(trayIcons);for(let p=0;p<r.length;p++)if(r[p].identifier==$)return!0;return!1}const icon$5=""+new URL("errordialog-744772f4.svg",import.meta.url).href,ArcOSVersion="5.0.6",minArcAPI=0,ErrorMessages=writable([]),ErrorWindowStore=writable([]);function errorMessage($,r,p,v,...k){Log({msg:`Generating "${$}"`,source:"errorlogic/main.ts: errorMessage",level:LogLevel.info});const x={title:$,message:r,opened:!1,buttons:k,id:Math.floor(Math.random()*1e10),image:p,parentId:v},S=get_store_value(ErrorMessages);S.push(x),ErrorMessages.set(S),createErrorAppData(x)}function closeError($){Log({msg:`Closing error ${$}`,source:"errorlogic/main.ts: closeError",level:LogLevel.info});const r=get_store_value(ErrorWindowStore);for(let p=0;p<r.length;p++)r[p].id==`error_${$}`&&(r[p].opened=!1,setTimeout(()=>{r.splice(p,1),ErrorWindowStore.set(r)},500));ErrorWindowStore.set(r)}function openError($){Log({msg:`Opening error ${$}`,source:"errorlogic/main.ts: openError",level:LogLevel.info});const r=get_store_value(ErrorWindowStore);for(let p=0;p<r.length;p++)r[p].id==`error_${$}`&&(r[p].opened=!0);ErrorWindowStore.set(r)}function createErrorAppData($){Log({msg:`Generating error appData for ${$.title}`,source:"errorlogic/main.ts: createErrorAppData",level:LogLevel.info});const r={info:{name:$.title,description:"ArcOS.Desktop.ErrorLogicwindow",builtin:!0,version:ArcOSVersion,author:"Generated by ArcOS",icon:$.image||icon$5},size:{w:NaN,h:NaN},pos:{x:60,y:60},minSize:{w:200,h:NaN},maxSize:{w:600,h:NaN},controls:{min:!1,max:!1,cls:!0},state:{headless:!1,resizable:!1,windowState:{min:!1,max:!1,fll:!1}},content:null,glass:!1,id:`error_${$.id}`,opened:!1,parentId:$.parentId},p=get_store_value(ErrorWindowStore);p.push(r),ErrorWindowStore.set(p),setTimeout(()=>{openError($.id);const v=document.querySelector(`window#${r.id}`);if(!v)return Log({level:LogLevel.error,msg:`Can't bring window ${r.id} to front, no associated element could be found.`,source:"ErrorLogic: createErrorAppData"});maxZIndex.set(get_store_value(maxZIndex)+1),v.style.zIndex=`${get_store_value(maxZIndex)}`},5)}function generateParamStr($){let r="?";const p=Object.entries($);for(let v=0;v<p.length;v++)r+=`${p[v][0]}=${p[v][1]}&`;return r}const ConnectedServer=writable(null);async function apiCall($,r,p,v,k,x,S){const L=generateCredToken(k),I={headers:{Authorization:v?`Bearer ${v}`:`Basic ${L}`},body:x,method:x?"post":"get"},O=!k&&!v,F=generateParamStr(p);let U;try{U=await fetch(`${$}/${r}${F}`,O?{body:x}:I)}catch{return get_store_value(CurrentState).name=="Desktop"&&invalidServerResponse(r),{}}const R=U.status,N=await U.text();if(!U.ok&&v&&!"200|304".includes(`${U.status}`)&&get_store_value(CurrentState).name=="Desktop")return invalidServerResponse(r),{statusCode:R};if(!S)try{return{...JSON.parse(N),statusCode:R}}catch{return{statusCode:R}}return{statusCode:R}}function invalidServerResponse($){createTrayIcon({identifier:"ArcAPI Error",icon:"warning",image:null,onOpen(r){disposeTrayIcon(r.identifier),errorMessage("ArcAPI Error",`ArcOS was unable to make a request to ArcAPI on path "${$}". Please check your internet connection and try again.`,null,null,{caption:"OK",action(){}})}})}function generateCredToken($){return $?btoa(`${$.username}:${$.password}`):""}async function changePassword($,r,p,v){if(p!=v)return!1;const k=await apiCall(get_store_value(ConnectedServer),"user/changepswd",{new:btoa(p)},null,{username:$,password:r}),x=localStorage.getItem("arcos-remembered-token");return!x||!k.valid||atob(x).split(":")[0]!=$||localStorage.setItem("arcos-remembered-token",btoa(`${$}:${p}`)),k.valid}async function changeUsername($,r){if(get_store_value(UserName)!=$)return!1;const v=(await apiCall(get_store_value(ConnectedServer),"user/rename",{newname:btoa(r)},get_store_value(UserToken))).statusCode==200;if(UserName.set(r),!v)return!1;const k=localStorage.getItem("arcos-remembered-token");return!k||atob(k).split(":")[0]!=$?!1:(localStorage.setItem("arcos-remembered-token",btoa(`${r}:${atob(k).split(":")[1]}`)),v)}async function logoffToken(){const $=get_store_value(UserToken),r=get_store_value(ConnectedServer);if(!(!$||!r))return await apiCall(r,"logoff",{},$)}const arctermonly="",main="",defaultDirectory={files:[],directories:[],name:"",scopedPath:""},warning=""+new URL("error-3c4c2c86.svg",import.meta.url).href;async function getDirectory($="./"){Log({source:"fs/directory.ts: getDirectory",msg:`Requesting directory contents of "${$}" from ArcAPI`,level:LogLevel.info});const r=get_store_value(ConnectedServer);if(!r)return!1;const p=await apiCall(r,"fs/dir/get",{path:$?btoa($):null},get_store_value(UserToken));return!p||!p.valid?!1:p.data}async function createDirectory($){const r=get_store_value(ConnectedServer);return r?(await apiCall(r,"fs/dir/create",{path:btoa($)},get_store_value(UserToken))).valid:!1}function bind($,r){return function(){return $.apply(r,arguments)}}const{toString:toString$1}=Object.prototype,{getPrototypeOf}=Object,kindOf=($=>r=>{const p=toString$1.call(r);return $[p]||($[p]=p.slice(8,-1).toLowerCase())})(Object.create(null)),kindOfTest=$=>($=$.toLowerCase(),r=>kindOf(r)===$),typeOfTest=$=>r=>typeof r===$,{isArray:isArray$1}=Array,isUndefined=typeOfTest("undefined");function isBuffer($){return $!==null&&!isUndefined($)&&$.constructor!==null&&!isUndefined($.constructor)&&isFunction($.constructor.isBuffer)&&$.constructor.isBuffer($)}const isArrayBuffer=kindOfTest("ArrayBuffer");function isArrayBufferView($){let r;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?r=ArrayBuffer.isView($):r=$&&$.buffer&&isArrayBuffer($.buffer),r}const isString$1=typeOfTest("string"),isFunction=typeOfTest("function"),isNumber$1=typeOfTest("number"),isObject$1=$=>$!==null&&typeof $=="object",isBoolean$1=$=>$===!0||$===!1,isPlainObject=$=>{if(kindOf($)!=="object")return!1;const r=getPrototypeOf($);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in $)&&!(Symbol.iterator in $)},isDate=kindOfTest("Date"),isFile=kindOfTest("File"),isBlob=kindOfTest("Blob"),isFileList=kindOfTest("FileList"),isStream=$=>isObject$1($)&&isFunction($.pipe),isFormData=$=>{const r="[object FormData]";return $&&(typeof FormData=="function"&&$ instanceof FormData||toString$1.call($)===r||isFunction($.toString)&&$.toString()===r)},isURLSearchParams=kindOfTest("URLSearchParams"),trim=$=>$.trim?$.trim():$.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function forEach($,r,{allOwnKeys:p=!1}={}){if($===null||typeof $>"u")return;let v,k;if(typeof $!="object"&&($=[$]),isArray$1($))for(v=0,k=$.length;v<k;v++)r.call(null,$[v],v,$);else{const x=p?Object.getOwnPropertyNames($):Object.keys($),S=x.length;let L;for(v=0;v<S;v++)L=x[v],r.call(null,$[L],L,$)}}function findKey($,r){r=r.toLowerCase();const p=Object.keys($);let v=p.length,k;for(;v-- >0;)if(k=p[v],r===k.toLowerCase())return k;return null}const _global=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),isContextDefined=$=>!isUndefined($)&&$!==_global;function merge$1(){const{caseless:$}=isContextDefined(this)&&this||{},r={},p=(v,k)=>{const x=$&&findKey(r,k)||k;isPlainObject(r[x])&&isPlainObject(v)?r[x]=merge$1(r[x],v):isPlainObject(v)?r[x]=merge$1({},v):isArray$1(v)?r[x]=v.slice():r[x]=v};for(let v=0,k=arguments.length;v<k;v++)arguments[v]&&forEach(arguments[v],p);return r}const extend=($,r,p,{allOwnKeys:v}={})=>(forEach(r,(k,x)=>{p&&isFunction(k)?$[x]=bind(k,p):$[x]=k},{allOwnKeys:v}),$),stripBOM=$=>($.charCodeAt(0)===65279&&($=$.slice(1)),$),inherits=($,r,p,v)=>{$.prototype=Object.create(r.prototype,v),$.prototype.constructor=$,Object.defineProperty($,"super",{value:r.prototype}),p&&Object.assign($.prototype,p)},toFlatObject=($,r,p,v)=>{let k,x,S;const L={};if(r=r||{},$==null)return r;do{for(k=Object.getOwnPropertyNames($),x=k.length;x-- >0;)S=k[x],(!v||v(S,$,r))&&!L[S]&&(r[S]=$[S],L[S]=!0);$=p!==!1&&getPrototypeOf($)}while($&&(!p||p($,r))&&$!==Object.prototype);return r},endsWith=($,r,p)=>{$=String($),(p===void 0||p>$.length)&&(p=$.length),p-=r.length;const v=$.indexOf(r,p);return v!==-1&&v===p},toArray=$=>{if(!$)return null;if(isArray$1($))return $;let r=$.length;if(!isNumber$1(r))return null;const p=new Array(r);for(;r-- >0;)p[r]=$[r];return p},isTypedArray=($=>r=>$&&r instanceof $)(typeof Uint8Array<"u"&&getPrototypeOf(Uint8Array)),forEachEntry=($,r)=>{const v=($&&$[Symbol.iterator]).call($);let k;for(;(k=v.next())&&!k.done;){const x=k.value;r.call($,x[0],x[1])}},matchAll=($,r)=>{let p;const v=[];for(;(p=$.exec(r))!==null;)v.push(p);return v},isHTMLForm=kindOfTest("HTMLFormElement"),toCamelCase=$=>$.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(p,v,k){return v.toUpperCase()+k}),hasOwnProperty=(({hasOwnProperty:$})=>(r,p)=>$.call(r,p))(Object.prototype),isRegExp=kindOfTest("RegExp"),reduceDescriptors=($,r)=>{const p=Object.getOwnPropertyDescriptors($),v={};forEach(p,(k,x)=>{r(k,x,$)!==!1&&(v[x]=k)}),Object.defineProperties($,v)},freezeMethods=$=>{reduceDescriptors($,(r,p)=>{if(isFunction($)&&["arguments","caller","callee"].indexOf(p)!==-1)return!1;const v=$[p];if(isFunction(v)){if(r.enumerable=!1,"writable"in r){r.writable=!1;return}r.set||(r.set=()=>{throw Error("Can not rewrite read-only method '"+p+"'")})}})},toObjectSet=($,r)=>{const p={},v=k=>{k.forEach(x=>{p[x]=!0})};return isArray$1($)?v($):v(String($).split(r)),p},noop=()=>{},toFiniteNumber=($,r)=>($=+$,Number.isFinite($)?$:r),ALPHA="abcdefghijklmnopqrstuvwxyz",DIGIT="0123456789",ALPHABET={DIGIT,ALPHA,ALPHA_DIGIT:ALPHA+ALPHA.toUpperCase()+DIGIT},generateString=($=16,r=ALPHABET.ALPHA_DIGIT)=>{let p="";const{length:v}=r;for(;$--;)p+=r[Math.random()*v|0];return p};function isSpecCompliantForm($){return!!($&&isFunction($.append)&&$[Symbol.toStringTag]==="FormData"&&$[Symbol.iterator])}const toJSONObject=$=>{const r=new Array(10),p=(v,k)=>{if(isObject$1(v)){if(r.indexOf(v)>=0)return;if(!("toJSON"in v)){r[k]=v;const x=isArray$1(v)?[]:{};return forEach(v,(S,L)=>{const I=p(S,k+1);!isUndefined(I)&&(x[L]=I)}),r[k]=void 0,x}}return v};return p($,0)},utils={isArray:isArray$1,isArrayBuffer,isBuffer,isFormData,isArrayBufferView,isString:isString$1,isNumber:isNumber$1,isBoolean:isBoolean$1,isObject:isObject$1,isPlainObject,isUndefined,isDate,isFile,isBlob,isRegExp,isFunction,isStream,isURLSearchParams,isTypedArray,isFileList,forEach,merge:merge$1,extend,trim,stripBOM,inherits,toFlatObject,kindOf,kindOfTest,endsWith,toArray,forEachEntry,matchAll,isHTMLForm,hasOwnProperty,hasOwnProp:hasOwnProperty,reduceDescriptors,freezeMethods,toObjectSet,toCamelCase,noop,toFiniteNumber,findKey,global:_global,isContextDefined,ALPHABET,generateString,isSpecCompliantForm,toJSONObject};function AxiosError($,r,p,v,k){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=$,this.name="AxiosError",r&&(this.code=r),p&&(this.config=p),v&&(this.request=v),k&&(this.response=k)}utils.inherits(AxiosError,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:utils.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const prototype$1=AxiosError.prototype,descriptors={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach($=>{descriptors[$]={value:$}});Object.defineProperties(AxiosError,descriptors);Object.defineProperty(prototype$1,"isAxiosError",{value:!0});AxiosError.from=($,r,p,v,k,x)=>{const S=Object.create(prototype$1);return utils.toFlatObject($,S,function(I){return I!==Error.prototype},L=>L!=="isAxiosError"),AxiosError.call(S,$.message,r,p,v,k),S.cause=$,S.name=$.name,x&&Object.assign(S,x),S};const httpAdapter=null;function isVisitable($){return utils.isPlainObject($)||utils.isArray($)}function removeBrackets($){return utils.endsWith($,"[]")?$.slice(0,-2):$}function renderKey($,r,p){return $?$.concat(r).map(function(k,x){return k=removeBrackets(k),!p&&x?"["+k+"]":k}).join(p?".":""):r}function isFlatArray($){return utils.isArray($)&&!$.some(isVisitable)}const predicates=utils.toFlatObject(utils,{},null,function(r){return/^is[A-Z]/.test(r)});function toFormData($,r,p){if(!utils.isObject($))throw new TypeError("target must be an object");r=r||new FormData,p=utils.toFlatObject(p,{metaTokens:!0,dots:!1,indexes:!1},!1,function(q,H){return!utils.isUndefined(H[q])});const v=p.metaTokens,k=p.visitor||F,x=p.dots,S=p.indexes,I=(p.Blob||typeof Blob<"u"&&Blob)&&utils.isSpecCompliantForm(r);if(!utils.isFunction(k))throw new TypeError("visitor must be a function");function O(j){if(j===null)return"";if(utils.isDate(j))return j.toISOString();if(!I&&utils.isBlob(j))throw new AxiosError("Blob is not supported. Use a Buffer instead.");return utils.isArrayBuffer(j)||utils.isTypedArray(j)?I&&typeof Blob=="function"?new Blob([j]):Buffer.from(j):j}function F(j,q,H){let Q=j;if(j&&!H&&typeof j=="object"){if(utils.endsWith(q,"{}"))q=v?q:q.slice(0,-2),j=JSON.stringify(j);else if(utils.isArray(j)&&isFlatArray(j)||(utils.isFileList(j)||utils.endsWith(q,"[]"))&&(Q=utils.toArray(j)))return q=removeBrackets(q),Q.forEach(function(K,G){!(utils.isUndefined(K)||K===null)&&r.append(S===!0?renderKey([q],G,x):S===null?q:q+"[]",O(K))}),!1}return isVisitable(j)?!0:(r.append(renderKey(H,q,x),O(j)),!1)}const U=[],R=Object.assign(predicates,{defaultVisitor:F,convertValue:O,isVisitable});function N(j,q){if(!utils.isUndefined(j)){if(U.indexOf(j)!==-1)throw Error("Circular reference detected in "+q.join("."));U.push(j),utils.forEach(j,function(Q,V){(!(utils.isUndefined(Q)||Q===null)&&k.call(r,Q,utils.isString(V)?V.trim():V,q,R))===!0&&N(Q,q?q.concat(V):[V])}),U.pop()}}if(!utils.isObject($))throw new TypeError("data must be an object");return N($),r}function encode$1($){const r={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent($).replace(/[!'()~]|%20|%00/g,function(v){return r[v]})}function AxiosURLSearchParams($,r){this._pairs=[],$&&toFormData($,this,r)}const prototype=AxiosURLSearchParams.prototype;prototype.append=function(r,p){this._pairs.push([r,p])};prototype.toString=function(r){const p=r?function(v){return r.call(this,v,encode$1)}:encode$1;return this._pairs.map(function(k){return p(k[0])+"="+p(k[1])},"").join("&")};function encode($){return encodeURIComponent($).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function buildURL($,r,p){if(!r)return $;const v=p&&p.encode||encode,k=p&&p.serialize;let x;if(k?x=k(r,p):x=utils.isURLSearchParams(r)?r.toString():new AxiosURLSearchParams(r,p).toString(v),x){const S=$.indexOf("#");S!==-1&&($=$.slice(0,S)),$+=($.indexOf("?")===-1?"?":"&")+x}return $}class InterceptorManager{constructor(){this.handlers=[]}use(r,p,v){return this.handlers.push({fulfilled:r,rejected:p,synchronous:v?v.synchronous:!1,runWhen:v?v.runWhen:null}),this.handlers.length-1}eject(r){this.handlers[r]&&(this.handlers[r]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(r){utils.forEach(this.handlers,function(v){v!==null&&r(v)})}}const InterceptorManager$1=InterceptorManager,transitionalDefaults={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},URLSearchParams$1=typeof URLSearchParams<"u"?URLSearchParams:AxiosURLSearchParams,FormData$1=FormData,isStandardBrowserEnv=(()=>{let $;return typeof navigator<"u"&&(($=navigator.product)==="ReactNative"||$==="NativeScript"||$==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),isStandardBrowserWebWorkerEnv=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),platform={isBrowser:!0,classes:{URLSearchParams:URLSearchParams$1,FormData:FormData$1,Blob},isStandardBrowserEnv,isStandardBrowserWebWorkerEnv,protocols:["http","https","file","blob","url","data"]};function toURLEncodedForm($,r){return toFormData($,new platform.classes.URLSearchParams,Object.assign({visitor:function(p,v,k,x){return platform.isNode&&utils.isBuffer(p)?(this.append(v,p.toString("base64")),!1):x.defaultVisitor.apply(this,arguments)}},r))}function parsePropPath($){return utils.matchAll(/\w+|\[(\w*)]/g,$).map(r=>r[0]==="[]"?"":r[1]||r[0])}function arrayToObject($){const r={},p=Object.keys($);let v;const k=p.length;let x;for(v=0;v<k;v++)x=p[v],r[x]=$[x];return r}function formDataToJSON($){function r(p,v,k,x){let S=p[x++];const L=Number.isFinite(+S),I=x>=p.length;return S=!S&&utils.isArray(k)?k.length:S,I?(utils.hasOwnProp(k,S)?k[S]=[k[S],v]:k[S]=v,!L):((!k[S]||!utils.isObject(k[S]))&&(k[S]=[]),r(p,v,k[S],x)&&utils.isArray(k[S])&&(k[S]=arrayToObject(k[S])),!L)}if(utils.isFormData($)&&utils.isFunction($.entries)){const p={};return utils.forEachEntry($,(v,k)=>{r(parsePropPath(v),k,p,0)}),p}return null}const DEFAULT_CONTENT_TYPE={"Content-Type":void 0};function stringifySafely($,r,p){if(utils.isString($))try{return(r||JSON.parse)($),utils.trim($)}catch(v){if(v.name!=="SyntaxError")throw v}return(p||JSON.stringify)($)}const defaults$1={transitional:transitionalDefaults,adapter:["xhr","http"],transformRequest:[function(r,p){const v=p.getContentType()||"",k=v.indexOf("application/json")>-1,x=utils.isObject(r);if(x&&utils.isHTMLForm(r)&&(r=new FormData(r)),utils.isFormData(r))return k&&k?JSON.stringify(formDataToJSON(r)):r;if(utils.isArrayBuffer(r)||utils.isBuffer(r)||utils.isStream(r)||utils.isFile(r)||utils.isBlob(r))return r;if(utils.isArrayBufferView(r))return r.buffer;if(utils.isURLSearchParams(r))return p.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),r.toString();let L;if(x){if(v.indexOf("application/x-www-form-urlencoded")>-1)return toURLEncodedForm(r,this.formSerializer).toString();if((L=utils.isFileList(r))||v.indexOf("multipart/form-data")>-1){const I=this.env&&this.env.FormData;return toFormData(L?{"files[]":r}:r,I&&new I,this.formSerializer)}}return x||k?(p.setContentType("application/json",!1),stringifySafely(r)):r}],transformResponse:[function(r){const p=this.transitional||defaults$1.transitional,v=p&&p.forcedJSONParsing,k=this.responseType==="json";if(r&&utils.isString(r)&&(v&&!this.responseType||k)){const S=!(p&&p.silentJSONParsing)&&k;try{return JSON.parse(r)}catch(L){if(S)throw L.name==="SyntaxError"?AxiosError.from(L,AxiosError.ERR_BAD_RESPONSE,this,null,this.response):L}}return r}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:platform.classes.FormData,Blob:platform.classes.Blob},validateStatus:function(r){return r>=200&&r<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};utils.forEach(["delete","get","head"],function(r){defaults$1.headers[r]={}});utils.forEach(["post","put","patch"],function(r){defaults$1.headers[r]=utils.merge(DEFAULT_CONTENT_TYPE)});const defaults$2=defaults$1,ignoreDuplicateOf=utils.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),parseHeaders=$=>{const r={};let p,v,k;return $&&$.split(`
`).forEach(function(S){k=S.indexOf(":"),p=S.substring(0,k).trim().toLowerCase(),v=S.substring(k+1).trim(),!(!p||r[p]&&ignoreDuplicateOf[p])&&(p==="set-cookie"?r[p]?r[p].push(v):r[p]=[v]:r[p]=r[p]?r[p]+", "+v:v)}),r},$internals=Symbol("internals");function normalizeHeader($){return $&&String($).trim().toLowerCase()}function normalizeValue($){return $===!1||$==null?$:utils.isArray($)?$.map(normalizeValue):String($)}function parseTokens($){const r=Object.create(null),p=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let v;for(;v=p.exec($);)r[v[1]]=v[2];return r}function isValidHeaderName($){return/^[-_a-zA-Z]+$/.test($.trim())}function matchHeaderValue($,r,p,v){if(utils.isFunction(v))return v.call(this,r,p);if(utils.isString(r)){if(utils.isString(v))return r.indexOf(v)!==-1;if(utils.isRegExp(v))return v.test(r)}}function formatHeader($){return $.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(r,p,v)=>p.toUpperCase()+v)}function buildAccessors($,r){const p=utils.toCamelCase(" "+r);["get","set","has"].forEach(v=>{Object.defineProperty($,v+p,{value:function(k,x,S){return this[v].call(this,r,k,x,S)},configurable:!0})})}class AxiosHeaders{constructor(r){r&&this.set(r)}set(r,p,v){const k=this;function x(L,I,O){const F=normalizeHeader(I);if(!F)throw new Error("header name must be a non-empty string");const U=utils.findKey(k,F);(!U||k[U]===void 0||O===!0||O===void 0&&k[U]!==!1)&&(k[U||I]=normalizeValue(L))}const S=(L,I)=>utils.forEach(L,(O,F)=>x(O,F,I));return utils.isPlainObject(r)||r instanceof this.constructor?S(r,p):utils.isString(r)&&(r=r.trim())&&!isValidHeaderName(r)?S(parseHeaders(r),p):r!=null&&x(p,r,v),this}get(r,p){if(r=normalizeHeader(r),r){const v=utils.findKey(this,r);if(v){const k=this[v];if(!p)return k;if(p===!0)return parseTokens(k);if(utils.isFunction(p))return p.call(this,k,v);if(utils.isRegExp(p))return p.exec(k);throw new TypeError("parser must be boolean|regexp|function")}}}has(r,p){if(r=normalizeHeader(r),r){const v=utils.findKey(this,r);return!!(v&&this[v]!==void 0&&(!p||matchHeaderValue(this,this[v],v,p)))}return!1}delete(r,p){const v=this;let k=!1;function x(S){if(S=normalizeHeader(S),S){const L=utils.findKey(v,S);L&&(!p||matchHeaderValue(v,v[L],L,p))&&(delete v[L],k=!0)}}return utils.isArray(r)?r.forEach(x):x(r),k}clear(r){const p=Object.keys(this);let v=p.length,k=!1;for(;v--;){const x=p[v];(!r||matchHeaderValue(this,this[x],x,r))&&(delete this[x],k=!0)}return k}normalize(r){const p=this,v={};return utils.forEach(this,(k,x)=>{const S=utils.findKey(v,x);if(S){p[S]=normalizeValue(k),delete p[x];return}const L=r?formatHeader(x):String(x).trim();L!==x&&delete p[x],p[L]=normalizeValue(k),v[L]=!0}),this}concat(...r){return this.constructor.concat(this,...r)}toJSON(r){const p=Object.create(null);return utils.forEach(this,(v,k)=>{v!=null&&v!==!1&&(p[k]=r&&utils.isArray(v)?v.join(", "):v)}),p}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([r,p])=>r+": "+p).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(r){return r instanceof this?r:new this(r)}static concat(r,...p){const v=new this(r);return p.forEach(k=>v.set(k)),v}static accessor(r){const v=(this[$internals]=this[$internals]={accessors:{}}).accessors,k=this.prototype;function x(S){const L=normalizeHeader(S);v[L]||(buildAccessors(k,S),v[L]=!0)}return utils.isArray(r)?r.forEach(x):x(r),this}}AxiosHeaders.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);utils.freezeMethods(AxiosHeaders.prototype);utils.freezeMethods(AxiosHeaders);const AxiosHeaders$1=AxiosHeaders;function transformData($,r){const p=this||defaults$2,v=r||p,k=AxiosHeaders$1.from(v.headers);let x=v.data;return utils.forEach($,function(L){x=L.call(p,x,k.normalize(),r?r.status:void 0)}),k.normalize(),x}function isCancel($){return!!($&&$.__CANCEL__)}function CanceledError($,r,p){AxiosError.call(this,$??"canceled",AxiosError.ERR_CANCELED,r,p),this.name="CanceledError"}utils.inherits(CanceledError,AxiosError,{__CANCEL__:!0});function settle($,r,p){const v=p.config.validateStatus;!p.status||!v||v(p.status)?$(p):r(new AxiosError("Request failed with status code "+p.status,[AxiosError.ERR_BAD_REQUEST,AxiosError.ERR_BAD_RESPONSE][Math.floor(p.status/100)-4],p.config,p.request,p))}const cookies=platform.isStandardBrowserEnv?function(){return{write:function(p,v,k,x,S,L){const I=[];I.push(p+"="+encodeURIComponent(v)),utils.isNumber(k)&&I.push("expires="+new Date(k).toGMTString()),utils.isString(x)&&I.push("path="+x),utils.isString(S)&&I.push("domain="+S),L===!0&&I.push("secure"),document.cookie=I.join("; ")},read:function(p){const v=document.cookie.match(new RegExp("(^|;\\s*)("+p+")=([^;]*)"));return v?decodeURIComponent(v[3]):null},remove:function(p){this.write(p,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function isAbsoluteURL($){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test($)}function combineURLs($,r){return r?$.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):$}function buildFullPath($,r){return $&&!isAbsoluteURL(r)?combineURLs($,r):r}const isURLSameOrigin=platform.isStandardBrowserEnv?function(){const r=/(msie|trident)/i.test(navigator.userAgent),p=document.createElement("a");let v;function k(x){let S=x;return r&&(p.setAttribute("href",S),S=p.href),p.setAttribute("href",S),{href:p.href,protocol:p.protocol?p.protocol.replace(/:$/,""):"",host:p.host,search:p.search?p.search.replace(/^\?/,""):"",hash:p.hash?p.hash.replace(/^#/,""):"",hostname:p.hostname,port:p.port,pathname:p.pathname.charAt(0)==="/"?p.pathname:"/"+p.pathname}}return v=k(window.location.href),function(S){const L=utils.isString(S)?k(S):S;return L.protocol===v.protocol&&L.host===v.host}}():function(){return function(){return!0}}();function parseProtocol($){const r=/^([-+\w]{1,25})(:?\/\/|:)/.exec($);return r&&r[1]||""}function speedometer($,r){$=$||10;const p=new Array($),v=new Array($);let k=0,x=0,S;return r=r!==void 0?r:1e3,function(I){const O=Date.now(),F=v[x];S||(S=O),p[k]=I,v[k]=O;let U=x,R=0;for(;U!==k;)R+=p[U++],U=U%$;if(k=(k+1)%$,k===x&&(x=(x+1)%$),O-S<r)return;const N=F&&O-F;return N?Math.round(R*1e3/N):void 0}}function progressEventReducer($,r){let p=0;const v=speedometer(50,250);return k=>{const x=k.loaded,S=k.lengthComputable?k.total:void 0,L=x-p,I=v(L),O=x<=S;p=x;const F={loaded:x,total:S,progress:S?x/S:void 0,bytes:L,rate:I||void 0,estimated:I&&S&&O?(S-x)/I:void 0,event:k};F[r?"download":"upload"]=!0,$(F)}}const isXHRAdapterSupported=typeof XMLHttpRequest<"u",xhrAdapter=isXHRAdapterSupported&&function($){return new Promise(function(p,v){let k=$.data;const x=AxiosHeaders$1.from($.headers).normalize(),S=$.responseType;let L;function I(){$.cancelToken&&$.cancelToken.unsubscribe(L),$.signal&&$.signal.removeEventListener("abort",L)}utils.isFormData(k)&&(platform.isStandardBrowserEnv||platform.isStandardBrowserWebWorkerEnv)&&x.setContentType(!1);let O=new XMLHttpRequest;if($.auth){const N=$.auth.username||"",j=$.auth.password?unescape(encodeURIComponent($.auth.password)):"";x.set("Authorization","Basic "+btoa(N+":"+j))}const F=buildFullPath($.baseURL,$.url);O.open($.method.toUpperCase(),buildURL(F,$.params,$.paramsSerializer),!0),O.timeout=$.timeout;function U(){if(!O)return;const N=AxiosHeaders$1.from("getAllResponseHeaders"in O&&O.getAllResponseHeaders()),q={data:!S||S==="text"||S==="json"?O.responseText:O.response,status:O.status,statusText:O.statusText,headers:N,config:$,request:O};settle(function(Q){p(Q),I()},function(Q){v(Q),I()},q),O=null}if("onloadend"in O?O.onloadend=U:O.onreadystatechange=function(){!O||O.readyState!==4||O.status===0&&!(O.responseURL&&O.responseURL.indexOf("file:")===0)||setTimeout(U)},O.onabort=function(){O&&(v(new AxiosError("Request aborted",AxiosError.ECONNABORTED,$,O)),O=null)},O.onerror=function(){v(new AxiosError("Network Error",AxiosError.ERR_NETWORK,$,O)),O=null},O.ontimeout=function(){let j=$.timeout?"timeout of "+$.timeout+"ms exceeded":"timeout exceeded";const q=$.transitional||transitionalDefaults;$.timeoutErrorMessage&&(j=$.timeoutErrorMessage),v(new AxiosError(j,q.clarifyTimeoutError?AxiosError.ETIMEDOUT:AxiosError.ECONNABORTED,$,O)),O=null},platform.isStandardBrowserEnv){const N=($.withCredentials||isURLSameOrigin(F))&&$.xsrfCookieName&&cookies.read($.xsrfCookieName);N&&x.set($.xsrfHeaderName,N)}k===void 0&&x.setContentType(null),"setRequestHeader"in O&&utils.forEach(x.toJSON(),function(j,q){O.setRequestHeader(q,j)}),utils.isUndefined($.withCredentials)||(O.withCredentials=!!$.withCredentials),S&&S!=="json"&&(O.responseType=$.responseType),typeof $.onDownloadProgress=="function"&&O.addEventListener("progress",progressEventReducer($.onDownloadProgress,!0)),typeof $.onUploadProgress=="function"&&O.upload&&O.upload.addEventListener("progress",progressEventReducer($.onUploadProgress)),($.cancelToken||$.signal)&&(L=N=>{O&&(v(!N||N.type?new CanceledError(null,$,O):N),O.abort(),O=null)},$.cancelToken&&$.cancelToken.subscribe(L),$.signal&&($.signal.aborted?L():$.signal.addEventListener("abort",L)));const R=parseProtocol(F);if(R&&platform.protocols.indexOf(R)===-1){v(new AxiosError("Unsupported protocol "+R+":",AxiosError.ERR_BAD_REQUEST,$));return}O.send(k||null)})},knownAdapters={http:httpAdapter,xhr:xhrAdapter};utils.forEach(knownAdapters,($,r)=>{if($){try{Object.defineProperty($,"name",{value:r})}catch{}Object.defineProperty($,"adapterName",{value:r})}});const adapters={getAdapter:$=>{$=utils.isArray($)?$:[$];const{length:r}=$;let p,v;for(let k=0;k<r&&(p=$[k],!(v=utils.isString(p)?knownAdapters[p.toLowerCase()]:p));k++);if(!v)throw v===!1?new AxiosError(`Adapter ${p} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(utils.hasOwnProp(knownAdapters,p)?`Adapter '${p}' is not available in the build`:`Unknown adapter '${p}'`);if(!utils.isFunction(v))throw new TypeError("adapter is not a function");return v},adapters:knownAdapters};function throwIfCancellationRequested($){if($.cancelToken&&$.cancelToken.throwIfRequested(),$.signal&&$.signal.aborted)throw new CanceledError(null,$)}function dispatchRequest($){return throwIfCancellationRequested($),$.headers=AxiosHeaders$1.from($.headers),$.data=transformData.call($,$.transformRequest),["post","put","patch"].indexOf($.method)!==-1&&$.headers.setContentType("application/x-www-form-urlencoded",!1),adapters.getAdapter($.adapter||defaults$2.adapter)($).then(function(v){return throwIfCancellationRequested($),v.data=transformData.call($,$.transformResponse,v),v.headers=AxiosHeaders$1.from(v.headers),v},function(v){return isCancel(v)||(throwIfCancellationRequested($),v&&v.response&&(v.response.data=transformData.call($,$.transformResponse,v.response),v.response.headers=AxiosHeaders$1.from(v.response.headers))),Promise.reject(v)})}const headersToObject=$=>$ instanceof AxiosHeaders$1?$.toJSON():$;function mergeConfig($,r){r=r||{};const p={};function v(O,F,U){return utils.isPlainObject(O)&&utils.isPlainObject(F)?utils.merge.call({caseless:U},O,F):utils.isPlainObject(F)?utils.merge({},F):utils.isArray(F)?F.slice():F}function k(O,F,U){if(utils.isUndefined(F)){if(!utils.isUndefined(O))return v(void 0,O,U)}else return v(O,F,U)}function x(O,F){if(!utils.isUndefined(F))return v(void 0,F)}function S(O,F){if(utils.isUndefined(F)){if(!utils.isUndefined(O))return v(void 0,O)}else return v(void 0,F)}function L(O,F,U){if(U in r)return v(O,F);if(U in $)return v(void 0,O)}const I={url:x,method:x,data:x,baseURL:S,transformRequest:S,transformResponse:S,paramsSerializer:S,timeout:S,timeoutMessage:S,withCredentials:S,adapter:S,responseType:S,xsrfCookieName:S,xsrfHeaderName:S,onUploadProgress:S,onDownloadProgress:S,decompress:S,maxContentLength:S,maxBodyLength:S,beforeRedirect:S,transport:S,httpAgent:S,httpsAgent:S,cancelToken:S,socketPath:S,responseEncoding:S,validateStatus:L,headers:(O,F)=>k(headersToObject(O),headersToObject(F),!0)};return utils.forEach(Object.keys($).concat(Object.keys(r)),function(F){const U=I[F]||k,R=U($[F],r[F],F);utils.isUndefined(R)&&U!==L||(p[F]=R)}),p}const VERSION="1.3.2",validators$1={};["object","boolean","number","function","string","symbol"].forEach(($,r)=>{validators$1[$]=function(v){return typeof v===$||"a"+(r<1?"n ":" ")+$}});const deprecatedWarnings={};validators$1.transitional=function(r,p,v){function k(x,S){return"[Axios v"+VERSION+"] Transitional option '"+x+"'"+S+(v?". "+v:"")}return(x,S,L)=>{if(r===!1)throw new AxiosError(k(S," has been removed"+(p?" in "+p:"")),AxiosError.ERR_DEPRECATED);return p&&!deprecatedWarnings[S]&&(deprecatedWarnings[S]=!0,console.warn(k(S," has been deprecated since v"+p+" and will be removed in the near future"))),r?r(x,S,L):!0}};function assertOptions($,r,p){if(typeof $!="object")throw new AxiosError("options must be an object",AxiosError.ERR_BAD_OPTION_VALUE);const v=Object.keys($);let k=v.length;for(;k-- >0;){const x=v[k],S=r[x];if(S){const L=$[x],I=L===void 0||S(L,x,$);if(I!==!0)throw new AxiosError("option "+x+" must be "+I,AxiosError.ERR_BAD_OPTION_VALUE);continue}if(p!==!0)throw new AxiosError("Unknown option "+x,AxiosError.ERR_BAD_OPTION)}}const validator={assertOptions,validators:validators$1},validators=validator.validators;class Axios{constructor(r){this.defaults=r,this.interceptors={request:new InterceptorManager$1,response:new InterceptorManager$1}}request(r,p){typeof r=="string"?(p=p||{},p.url=r):p=r||{},p=mergeConfig(this.defaults,p);const{transitional:v,paramsSerializer:k,headers:x}=p;v!==void 0&&validator.assertOptions(v,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1),k!==void 0&&validator.assertOptions(k,{encode:validators.function,serialize:validators.function},!0),p.method=(p.method||this.defaults.method||"get").toLowerCase();let S;S=x&&utils.merge(x.common,x[p.method]),S&&utils.forEach(["delete","get","head","post","put","patch","common"],j=>{delete x[j]}),p.headers=AxiosHeaders$1.concat(S,x);const L=[];let I=!0;this.interceptors.request.forEach(function(q){typeof q.runWhen=="function"&&q.runWhen(p)===!1||(I=I&&q.synchronous,L.unshift(q.fulfilled,q.rejected))});const O=[];this.interceptors.response.forEach(function(q){O.push(q.fulfilled,q.rejected)});let F,U=0,R;if(!I){const j=[dispatchRequest.bind(this),void 0];for(j.unshift.apply(j,L),j.push.apply(j,O),R=j.length,F=Promise.resolve(p);U<R;)F=F.then(j[U++],j[U++]);return F}R=L.length;let N=p;for(U=0;U<R;){const j=L[U++],q=L[U++];try{N=j(N)}catch(H){q.call(this,H);break}}try{F=dispatchRequest.call(this,N)}catch(j){return Promise.reject(j)}for(U=0,R=O.length;U<R;)F=F.then(O[U++],O[U++]);return F}getUri(r){r=mergeConfig(this.defaults,r);const p=buildFullPath(r.baseURL,r.url);return buildURL(p,r.params,r.paramsSerializer)}}utils.forEach(["delete","get","head","options"],function(r){Axios.prototype[r]=function(p,v){return this.request(mergeConfig(v||{},{method:r,url:p,data:(v||{}).data}))}});utils.forEach(["post","put","patch"],function(r){function p(v){return function(x,S,L){return this.request(mergeConfig(L||{},{method:r,headers:v?{"Content-Type":"multipart/form-data"}:{},url:x,data:S}))}}Axios.prototype[r]=p(),Axios.prototype[r+"Form"]=p(!0)});const Axios$1=Axios;class CancelToken{constructor(r){if(typeof r!="function")throw new TypeError("executor must be a function.");let p;this.promise=new Promise(function(x){p=x});const v=this;this.promise.then(k=>{if(!v._listeners)return;let x=v._listeners.length;for(;x-- >0;)v._listeners[x](k);v._listeners=null}),this.promise.then=k=>{let x;const S=new Promise(L=>{v.subscribe(L),x=L}).then(k);return S.cancel=function(){v.unsubscribe(x)},S},r(function(x,S,L){v.reason||(v.reason=new CanceledError(x,S,L),p(v.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(r){if(this.reason){r(this.reason);return}this._listeners?this._listeners.push(r):this._listeners=[r]}unsubscribe(r){if(!this._listeners)return;const p=this._listeners.indexOf(r);p!==-1&&this._listeners.splice(p,1)}static source(){let r;return{token:new CancelToken(function(k){r=k}),cancel:r}}}const CancelToken$1=CancelToken;function spread($){return function(p){return $.apply(null,p)}}function isAxiosError($){return utils.isObject($)&&$.isAxiosError===!0}const HttpStatusCode={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(HttpStatusCode).forEach(([$,r])=>{HttpStatusCode[r]=$});const HttpStatusCode$1=HttpStatusCode;function createInstance($){const r=new Axios$1($),p=bind(Axios$1.prototype.request,r);return utils.extend(p,Axios$1.prototype,r,{allOwnKeys:!0}),utils.extend(p,r,null,{allOwnKeys:!0}),p.create=function(k){return createInstance(mergeConfig($,k))},p}const axios=createInstance(defaults$2);axios.Axios=Axios$1;axios.CanceledError=CanceledError;axios.CancelToken=CancelToken$1;axios.isCancel=isCancel;axios.VERSION=VERSION;axios.toFormData=toFormData;axios.AxiosError=AxiosError;axios.Cancel=axios.CanceledError;axios.all=function(r){return Promise.all(r)};axios.spread=spread;axios.isAxiosError=isAxiosError;axios.mergeConfig=mergeConfig;axios.AxiosHeaders=AxiosHeaders$1;axios.formToJSON=$=>formDataToJSON(utils.isHTMLForm($)?new FormData($):$);axios.HttpStatusCode=HttpStatusCode$1;axios.default=axios;const axios$1=axios,abortFileReader=writable(!1);async function readFile($){Log({source:"fs/file.ts: readFile",msg:`Requesting file contents of "${$}" from ArcAPI`,level:LogLevel.info});const r=get_store_value(ConnectedServer);if(!r)return!1;const p={headers:{Authorization:`Bearer ${get_store_value(UserToken)}`}};let v=new AbortController;const k=generateParamStr({path:btoa($)});let x=await fetch(`${r}/fs/file/get${k}`,{...p,signal:v.signal});if(abortFileReader.set(!1),abortFileReader.subscribe(L=>{L&&(Log({source:"fs/file.ts: readFile",msg:`Aborting readFile for "${$}" as requested by the user...`,level:LogLevel.error}),v.abort(),FileBrowserOpenCancelled.set(!0),abortFileReader.set(!1))}),x.status!=200)return!1;const S=await x.blob();return x=null,await S.arrayBuffer()}async function deleteItem($){Log({source:"fs/file.ts: deleteItem",msg:`Deleting item "${$}" from ArcFS`,level:LogLevel.info});const r=get_store_value(ConnectedServer);return r?(await apiCall(r,"fs/rm",{path:btoa($)},get_store_value(UserToken),null,null,!0)).valid!=!1:!1}async function writeFile($,r){const p=get_store_value(ConnectedServer);if(!p)return!1;const v=generateParamStr({path:btoa($)});return(await axios$1.post(`${p}/fs/file/write${v}`,r,{headers:{Authorization:`Bearer ${get_store_value(UserToken)}`},onUploadProgress(x){const S=x.loaded/x.total*100;FileBrowserUploadProgress.set(S)}})).status==200}function createOverlayableError($,r){Log({source:"errorlogic/overlay.ts",msg:`Creating error "${$.title}" for parent ${r}`,level:LogLevel.info});const p=get_store_value(WindowStore);for(let v=0;v<p.length;v++){const k=p[v];if(k.id==r)return k.errorOverlays||(k.errorOverlays=[]),k.errorOverlays.push({...$,id:`${Math.floor(Math.random()*1e9)}`}),WindowStore.set(p),!0}return!1}function destroyOverlayableError($,r){const p=get_store_value(WindowStore);for(let v=0;v<p.length;v++){const k=p[v];if(k.id!=r||!k.errorOverlays)continue;const x=k.errorOverlays;for(let S=0;S<x.length;S++)if(x[S].id==$)return x.splice(S,1),WindowStore.set(p),!0}return!1}function showOverlay($,r){const p=get_store_value(WindowStore);for(let v=0;v<p.length;v++)if(p[v].id==r){if(!p[v].overlays||!p[v].overlays[$])return!1;p[v].overlays[$].show=!0}WindowStore.set(p)}function hideOverlay($,r){const p=get_store_value(WindowStore);for(let v=0;v<p.length;v++)if(p[v].id==r){if(!p[v].overlays||!p[v].overlays[$])return!1;p[v].overlays[$].show=!1}WindowStore.set(p)}const clear$1=""+new URL("clear-675017c3.svg",import.meta.url).href;let FileBrowserCurrentDir=writable("./"),FileBrowserDirContents=writable(defaultDirectory),FileBrowserSelectedFilename=writable(null),FileBrowserOpeningFile=writable(null),FileBrowserDeletingFilename=writable(null),FileBrowserUploadFile=writable(null),FileBrowserOpenCancelled=writable(!1),FileBrowserRefreshing=writable(!1),FileBrowserUploadProgress=writable(0),FileBrowserCuttingFilename=writable(null),FileBrowserCopyingFilename=writable(null);FileBrowserOpenCancelled.subscribe($=>{$&&(createOverlayableError({title:"Open cancelled",message:"The opening procedure was cancelled by the user.",buttons:[{caption:"OK",action(){}}],image:warning},"FileManager"),FileBrowserOpenCancelled.set(!1))});class FileBrowserClass{async refresh(r=!0){Log({source:"FileBrowser: refresh",msg:"Refreshing current directory contents",level:LogLevel.info}),FileBrowserRefreshing.set(!0),r&&(FileBrowserDirContents.set(defaultDirectory),FileBrowserSelectedFilename.set(null));const p=get_store_value(FileBrowserCurrentDir),v=await getDirectory(p);FileBrowserDirContents.set(v||{...defaultDirectory,scopedPath:p}),FileBrowserRefreshing.set(!1)}async goToDirectory(r){Log({source:"FileBrowser: goToDirectory",msg:`Navigating to "${r}"`,level:LogLevel.info}),FileBrowserSelectedFilename.set(null),FileBrowserCurrentDir.set(r),await this.refresh()}async deleteItem(r,p){FileBrowserDeletingFilename.set(r),showOverlay("deletingItem","FileManager"),await deleteItem(p)||createOverlayableError({title:"Unable to delete item",message:"ArcAPI was not able to delete the item from the file system. A permission error may have occured. Please try again later.",buttons:[{caption:"OK",action(){}}],image:clear$1},"FileManager"),FileBrowserSelectedFilename.set(null),fbClass.refresh(),setTimeout(()=>{hideOverlay("deletingItem","FileManager")},100)}}const fbClass=new FileBrowserClass,ActionCenterOpened=writable(!1);function toggleActionCenter(){const $=!get_store_value(ActionCenterOpened);ActionCenterOpened.set($)}const AppPokerData=writable(null);function setDesktopClassNameListener(){UserData.subscribe($=>{if($){const r=$;let p="";r.sh.taskbar.docked&&(p+="tbdocked "),r.sh.anim||(p+="noani "),r.sh.noGlass&&(p+="noglass "),r.sh.window.bigtb&&(p+="bigtitlebars "),r.sh.desktop.sharp&&(p+="sharp "),r.sh.taskbar.isLauncher&&(p+="is-launcher "),r.sh.taskbar.docked&&(p+="tb-docked "),desktopClassNames.set(p)}})}function setPowerListeners(){const $=(r,p)=>{r.subscribe(v=>{v&&(showDesktop.set(!1),setTimeout(()=>{applyState(p),r.set(!1)}))})};$(shuttingDown,"shutdown"),$(restarting,"restart")}const appShortcuts=[];function registerAppShortcuts($,r){if(Log({source:"keyboard: registerAppShortcuts",msg:`Registering app shortcuts for ${$}`,level:LogLevel.info}),!r.events||!r.events.keyboardShortcuts||isRegistered($))return!1;appShortcuts.push([$,r.events.keyboardShortcuts])}function registerShortcuts($,r){appShortcuts.push([r||"",$])}function isRegistered($){for(let r=0;r<appShortcuts.length;r++)if(appShortcuts[r][0]==$)return!0;return!1}function isLoaded($){const r=get_store_value(WindowStore);for(let p=0;p<r.length;p++)if(r[p]&&r[p].id==$)return!0;return!1}function isOpened($){const r=getWindow($);return r?r.opened:!1}function isMinimized($){const r=get_store_value(WindowStore);for(let p=0;p<r.length;p++)if(r[p]&&r[p].id==$&&r[p].state.windowState.min)return!0;return!1}function isDisabled($){const r=get_store_value(WindowStore);for(let p=0;p<r.length;p++)if(r[p]&&r[p].id==$&&r[p].disabled)return!0;return!1}function isPopulatable($){return get_store_value(UserData).sh.showHiddenApps&&!$.disabled&&!$.core?!0:!$.disabled&&!$.info.hidden&&!$.info.custom}const CurrentNotification=writable(null),NotificationStore=writable({});let globalNotifTimeout;function makeNotification($){if(isDisabled("ArcShell")){errorMessage($.title,$.message,$.image,null,{caption:"OK",action(){}},...$.buttons);return}clearTimeout(globalNotifTimeout);const r=`${Math.floor(Math.random()*1e9)}`,p=get_store_value(NotificationStore);return p[r]=$,NotificationStore.set(p),setTimeout(()=>{CurrentNotification.set(r)},100),$.timeout&&(globalNotifTimeout=setTimeout(()=>{CurrentNotification.set(null)},$.timeout)),r}function closeNotification(){CurrentNotification.set(null)}function deleteNotification($){const r=get_store_value(NotificationStore);delete r[$],NotificationStore.set(r)}function isArray($){return Array.isArray?Array.isArray($):getTag($)==="[object Array]"}const INFINITY=1/0;function baseToString($){if(typeof $=="string")return $;let r=$+"";return r=="0"&&1/$==-INFINITY?"-0":r}function toString($){return $==null?"":baseToString($)}function isString($){return typeof $=="string"}function isNumber($){return typeof $=="number"}function isBoolean($){return $===!0||$===!1||isObjectLike($)&&getTag($)=="[object Boolean]"}function isObject($){return typeof $=="object"}function isObjectLike($){return isObject($)&&$!==null}function isDefined($){return $!=null}function isBlank($){return!$.trim().length}function getTag($){return $==null?$===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call($)}const EXTENDED_SEARCH_UNAVAILABLE="Extended search is not available",INCORRECT_INDEX_TYPE="Incorrect 'index' type",LOGICAL_SEARCH_INVALID_QUERY_FOR_KEY=$=>`Invalid value for key ${$}`,PATTERN_LENGTH_TOO_LARGE=$=>`Pattern length exceeds max of ${$}.`,MISSING_KEY_PROPERTY=$=>`Missing ${$} property in key`,INVALID_KEY_WEIGHT_VALUE=$=>`Property 'weight' in key '${$}' must be a positive integer`,hasOwn=Object.prototype.hasOwnProperty;class KeyStore{constructor(r){this._keys=[],this._keyMap={};let p=0;r.forEach(v=>{let k=createKey(v);p+=k.weight,this._keys.push(k),this._keyMap[k.id]=k,p+=k.weight}),this._keys.forEach(v=>{v.weight/=p})}get(r){return this._keyMap[r]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function createKey($){let r=null,p=null,v=null,k=1,x=null;if(isString($)||isArray($))v=$,r=createKeyPath($),p=createKeyId($);else{if(!hasOwn.call($,"name"))throw new Error(MISSING_KEY_PROPERTY("name"));const S=$.name;if(v=S,hasOwn.call($,"weight")&&(k=$.weight,k<=0))throw new Error(INVALID_KEY_WEIGHT_VALUE(S));r=createKeyPath(S),p=createKeyId(S),x=$.getFn}return{path:r,id:p,weight:k,src:v,getFn:x}}function createKeyPath($){return isArray($)?$:$.split(".")}function createKeyId($){return isArray($)?$.join("."):$}function get($,r){let p=[],v=!1;const k=(x,S,L)=>{if(isDefined(x))if(!S[L])p.push(x);else{let I=S[L];const O=x[I];if(!isDefined(O))return;if(L===S.length-1&&(isString(O)||isNumber(O)||isBoolean(O)))p.push(toString(O));else if(isArray(O)){v=!0;for(let F=0,U=O.length;F<U;F+=1)k(O[F],S,L+1)}else S.length&&k(O,S,L+1)}};return k($,isString(r)?r.split("."):r,0),v?p:p[0]}const MatchOptions={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},BasicOptions={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:($,r)=>$.score===r.score?$.idx<r.idx?-1:1:$.score<r.score?-1:1},FuzzyOptions={location:0,threshold:.6,distance:100},AdvancedOptions={useExtendedSearch:!1,getFn:get,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var Config$1={...BasicOptions,...MatchOptions,...FuzzyOptions,...AdvancedOptions};const SPACE=/[^ ]+/g;function norm($=1,r=3){const p=new Map,v=Math.pow(10,r);return{get(k){const x=k.match(SPACE).length;if(p.has(x))return p.get(x);const S=1/Math.pow(x,.5*$),L=parseFloat(Math.round(S*v)/v);return p.set(x,L),L},clear(){p.clear()}}}class FuseIndex{constructor({getFn:r=Config$1.getFn,fieldNormWeight:p=Config$1.fieldNormWeight}={}){this.norm=norm(p,3),this.getFn=r,this.isCreated=!1,this.setIndexRecords()}setSources(r=[]){this.docs=r}setIndexRecords(r=[]){this.records=r}setKeys(r=[]){this.keys=r,this._keysMap={},r.forEach((p,v)=>{this._keysMap[p.id]=v})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,isString(this.docs[0])?this.docs.forEach((r,p)=>{this._addString(r,p)}):this.docs.forEach((r,p)=>{this._addObject(r,p)}),this.norm.clear())}add(r){const p=this.size();isString(r)?this._addString(r,p):this._addObject(r,p)}removeAt(r){this.records.splice(r,1);for(let p=r,v=this.size();p<v;p+=1)this.records[p].i-=1}getValueForItemAtKeyId(r,p){return r[this._keysMap[p]]}size(){return this.records.length}_addString(r,p){if(!isDefined(r)||isBlank(r))return;let v={v:r,i:p,n:this.norm.get(r)};this.records.push(v)}_addObject(r,p){let v={i:p,$:{}};this.keys.forEach((k,x)=>{let S=k.getFn?k.getFn(r):this.getFn(r,k.path);if(isDefined(S)){if(isArray(S)){let L=[];const I=[{nestedArrIndex:-1,value:S}];for(;I.length;){const{nestedArrIndex:O,value:F}=I.pop();if(isDefined(F))if(isString(F)&&!isBlank(F)){let U={v:F,i:O,n:this.norm.get(F)};L.push(U)}else isArray(F)&&F.forEach((U,R)=>{I.push({nestedArrIndex:R,value:U})})}v.$[x]=L}else if(isString(S)&&!isBlank(S)){let L={v:S,n:this.norm.get(S)};v.$[x]=L}}}),this.records.push(v)}toJSON(){return{keys:this.keys,records:this.records}}}function createIndex($,r,{getFn:p=Config$1.getFn,fieldNormWeight:v=Config$1.fieldNormWeight}={}){const k=new FuseIndex({getFn:p,fieldNormWeight:v});return k.setKeys($.map(createKey)),k.setSources(r),k.create(),k}function parseIndex($,{getFn:r=Config$1.getFn,fieldNormWeight:p=Config$1.fieldNormWeight}={}){const{keys:v,records:k}=$,x=new FuseIndex({getFn:r,fieldNormWeight:p});return x.setKeys(v),x.setIndexRecords(k),x}function computeScore$1($,{errors:r=0,currentLocation:p=0,expectedLocation:v=0,distance:k=Config$1.distance,ignoreLocation:x=Config$1.ignoreLocation}={}){const S=r/$.length;if(x)return S;const L=Math.abs(v-p);return k?S+L/k:L?1:S}function convertMaskToIndices($=[],r=Config$1.minMatchCharLength){let p=[],v=-1,k=-1,x=0;for(let S=$.length;x<S;x+=1){let L=$[x];L&&v===-1?v=x:!L&&v!==-1&&(k=x-1,k-v+1>=r&&p.push([v,k]),v=-1)}return $[x-1]&&x-v>=r&&p.push([v,x-1]),p}const MAX_BITS=32;function search($,r,p,{location:v=Config$1.location,distance:k=Config$1.distance,threshold:x=Config$1.threshold,findAllMatches:S=Config$1.findAllMatches,minMatchCharLength:L=Config$1.minMatchCharLength,includeMatches:I=Config$1.includeMatches,ignoreLocation:O=Config$1.ignoreLocation}={}){if(r.length>MAX_BITS)throw new Error(PATTERN_LENGTH_TOO_LARGE(MAX_BITS));const F=r.length,U=$.length,R=Math.max(0,Math.min(v,U));let N=x,j=R;const q=L>1||I,H=q?Array(U):[];let Q;for(;(Q=$.indexOf(r,j))>-1;){let Z=computeScore$1(r,{currentLocation:Q,expectedLocation:R,distance:k,ignoreLocation:O});if(N=Math.min(Z,N),j=Q+F,q){let X=0;for(;X<F;)H[Q+X]=1,X+=1}}j=-1;let V=[],K=1,G=F+U;const Y=1<<F-1;for(let Z=0;Z<F;Z+=1){let X=0,ee=G;for(;X<ee;)computeScore$1(r,{errors:Z,currentLocation:R+ee,expectedLocation:R,distance:k,ignoreLocation:O})<=N?X=ee:G=ee,ee=Math.floor((G-X)/2+X);G=ee;let te=Math.max(1,R-ee+1),le=S?U:Math.min(R+ee,U)+F,ue=Array(le+2);ue[le+1]=(1<<Z)-1;for(let oe=le;oe>=te;oe-=1){let se=oe-1,re=p[$.charAt(se)];if(q&&(H[se]=+!!re),ue[oe]=(ue[oe+1]<<1|1)&re,Z&&(ue[oe]|=(V[oe+1]|V[oe])<<1|1|V[oe+1]),ue[oe]&Y&&(K=computeScore$1(r,{errors:Z,currentLocation:se,expectedLocation:R,distance:k,ignoreLocation:O}),K<=N)){if(N=K,j=se,j<=R)break;te=Math.max(1,2*R-j)}}if(computeScore$1(r,{errors:Z+1,currentLocation:R,expectedLocation:R,distance:k,ignoreLocation:O})>N)break;V=ue}const J={isMatch:j>=0,score:Math.max(.001,K)};if(q){const Z=convertMaskToIndices(H,L);Z.length?I&&(J.indices=Z):J.isMatch=!1}return J}function createPatternAlphabet($){let r={};for(let p=0,v=$.length;p<v;p+=1){const k=$.charAt(p);r[k]=(r[k]||0)|1<<v-p-1}return r}class BitapSearch{constructor(r,{location:p=Config$1.location,threshold:v=Config$1.threshold,distance:k=Config$1.distance,includeMatches:x=Config$1.includeMatches,findAllMatches:S=Config$1.findAllMatches,minMatchCharLength:L=Config$1.minMatchCharLength,isCaseSensitive:I=Config$1.isCaseSensitive,ignoreLocation:O=Config$1.ignoreLocation}={}){if(this.options={location:p,threshold:v,distance:k,includeMatches:x,findAllMatches:S,minMatchCharLength:L,isCaseSensitive:I,ignoreLocation:O},this.pattern=I?r:r.toLowerCase(),this.chunks=[],!this.pattern.length)return;const F=(R,N)=>{this.chunks.push({pattern:R,alphabet:createPatternAlphabet(R),startIndex:N})},U=this.pattern.length;if(U>MAX_BITS){let R=0;const N=U%MAX_BITS,j=U-N;for(;R<j;)F(this.pattern.substr(R,MAX_BITS),R),R+=MAX_BITS;if(N){const q=U-MAX_BITS;F(this.pattern.substr(q),q)}}else F(this.pattern,0)}searchIn(r){const{isCaseSensitive:p,includeMatches:v}=this.options;if(p||(r=r.toLowerCase()),this.pattern===r){let j={isMatch:!0,score:0};return v&&(j.indices=[[0,r.length-1]]),j}const{location:k,distance:x,threshold:S,findAllMatches:L,minMatchCharLength:I,ignoreLocation:O}=this.options;let F=[],U=0,R=!1;this.chunks.forEach(({pattern:j,alphabet:q,startIndex:H})=>{const{isMatch:Q,score:V,indices:K}=search(r,j,q,{location:k+H,distance:x,threshold:S,findAllMatches:L,minMatchCharLength:I,includeMatches:v,ignoreLocation:O});Q&&(R=!0),U+=V,Q&&K&&(F=[...F,...K])});let N={isMatch:R,score:R?U/this.chunks.length:1};return R&&v&&(N.indices=F),N}}class BaseMatch{constructor(r){this.pattern=r}static isMultiMatch(r){return getMatch(r,this.multiRegex)}static isSingleMatch(r){return getMatch(r,this.singleRegex)}search(){}}function getMatch($,r){const p=$.match(r);return p?p[1]:null}class ExactMatch extends BaseMatch{constructor(r){super(r)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(r){const p=r===this.pattern;return{isMatch:p,score:p?0:1,indices:[0,this.pattern.length-1]}}}class InverseExactMatch extends BaseMatch{constructor(r){super(r)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(r){const v=r.indexOf(this.pattern)===-1;return{isMatch:v,score:v?0:1,indices:[0,r.length-1]}}}class PrefixExactMatch extends BaseMatch{constructor(r){super(r)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(r){const p=r.startsWith(this.pattern);return{isMatch:p,score:p?0:1,indices:[0,this.pattern.length-1]}}}class InversePrefixExactMatch extends BaseMatch{constructor(r){super(r)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(r){const p=!r.startsWith(this.pattern);return{isMatch:p,score:p?0:1,indices:[0,r.length-1]}}}class SuffixExactMatch extends BaseMatch{constructor(r){super(r)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(r){const p=r.endsWith(this.pattern);return{isMatch:p,score:p?0:1,indices:[r.length-this.pattern.length,r.length-1]}}}class InverseSuffixExactMatch extends BaseMatch{constructor(r){super(r)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(r){const p=!r.endsWith(this.pattern);return{isMatch:p,score:p?0:1,indices:[0,r.length-1]}}}class FuzzyMatch extends BaseMatch{constructor(r,{location:p=Config$1.location,threshold:v=Config$1.threshold,distance:k=Config$1.distance,includeMatches:x=Config$1.includeMatches,findAllMatches:S=Config$1.findAllMatches,minMatchCharLength:L=Config$1.minMatchCharLength,isCaseSensitive:I=Config$1.isCaseSensitive,ignoreLocation:O=Config$1.ignoreLocation}={}){super(r),this._bitapSearch=new BitapSearch(r,{location:p,threshold:v,distance:k,includeMatches:x,findAllMatches:S,minMatchCharLength:L,isCaseSensitive:I,ignoreLocation:O})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(r){return this._bitapSearch.searchIn(r)}}class IncludeMatch extends BaseMatch{constructor(r){super(r)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(r){let p=0,v;const k=[],x=this.pattern.length;for(;(v=r.indexOf(this.pattern,p))>-1;)p=v+x,k.push([v,p-1]);const S=!!k.length;return{isMatch:S,score:S?0:1,indices:k}}}const searchers=[ExactMatch,IncludeMatch,PrefixExactMatch,InversePrefixExactMatch,InverseSuffixExactMatch,SuffixExactMatch,InverseExactMatch,FuzzyMatch],searchersLen=searchers.length,SPACE_RE=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,OR_TOKEN="|";function parseQuery($,r={}){return $.split(OR_TOKEN).map(p=>{let v=p.trim().split(SPACE_RE).filter(x=>x&&!!x.trim()),k=[];for(let x=0,S=v.length;x<S;x+=1){const L=v[x];let I=!1,O=-1;for(;!I&&++O<searchersLen;){const F=searchers[O];let U=F.isMultiMatch(L);U&&(k.push(new F(U,r)),I=!0)}if(!I)for(O=-1;++O<searchersLen;){const F=searchers[O];let U=F.isSingleMatch(L);if(U){k.push(new F(U,r));break}}}return k})}const MultiMatchSet=new Set([FuzzyMatch.type,IncludeMatch.type]);class ExtendedSearch{constructor(r,{isCaseSensitive:p=Config$1.isCaseSensitive,includeMatches:v=Config$1.includeMatches,minMatchCharLength:k=Config$1.minMatchCharLength,ignoreLocation:x=Config$1.ignoreLocation,findAllMatches:S=Config$1.findAllMatches,location:L=Config$1.location,threshold:I=Config$1.threshold,distance:O=Config$1.distance}={}){this.query=null,this.options={isCaseSensitive:p,includeMatches:v,minMatchCharLength:k,findAllMatches:S,ignoreLocation:x,location:L,threshold:I,distance:O},this.pattern=p?r:r.toLowerCase(),this.query=parseQuery(this.pattern,this.options)}static condition(r,p){return p.useExtendedSearch}searchIn(r){const p=this.query;if(!p)return{isMatch:!1,score:1};const{includeMatches:v,isCaseSensitive:k}=this.options;r=k?r:r.toLowerCase();let x=0,S=[],L=0;for(let I=0,O=p.length;I<O;I+=1){const F=p[I];S.length=0,x=0;for(let U=0,R=F.length;U<R;U+=1){const N=F[U],{isMatch:j,indices:q,score:H}=N.search(r);if(j){if(x+=1,L+=H,v){const Q=N.constructor.type;MultiMatchSet.has(Q)?S=[...S,...q]:S.push(q)}}else{L=0,x=0,S.length=0;break}}if(x){let U={isMatch:!0,score:L/x};return v&&(U.indices=S),U}}return{isMatch:!1,score:1}}}const registeredSearchers=[];function register(...$){registeredSearchers.push(...$)}function createSearcher($,r){for(let p=0,v=registeredSearchers.length;p<v;p+=1){let k=registeredSearchers[p];if(k.condition($,r))return new k($,r)}return new BitapSearch($,r)}const LogicalOperator={AND:"$and",OR:"$or"},KeyType={PATH:"$path",PATTERN:"$val"},isExpression=$=>!!($[LogicalOperator.AND]||$[LogicalOperator.OR]),isPath=$=>!!$[KeyType.PATH],isLeaf=$=>!isArray($)&&isObject($)&&!isExpression($),convertToExplicit=$=>({[LogicalOperator.AND]:Object.keys($).map(r=>({[r]:$[r]}))});function parse($,r,{auto:p=!0}={}){const v=k=>{let x=Object.keys(k);const S=isPath(k);if(!S&&x.length>1&&!isExpression(k))return v(convertToExplicit(k));if(isLeaf(k)){const I=S?k[KeyType.PATH]:x[0],O=S?k[KeyType.PATTERN]:k[I];if(!isString(O))throw new Error(LOGICAL_SEARCH_INVALID_QUERY_FOR_KEY(I));const F={keyId:createKeyId(I),pattern:O};return p&&(F.searcher=createSearcher(O,r)),F}let L={children:[],operator:x[0]};return x.forEach(I=>{const O=k[I];isArray(O)&&O.forEach(F=>{L.children.push(v(F))})}),L};return isExpression($)||($=convertToExplicit($)),v($)}function computeScore($,{ignoreFieldNorm:r=Config$1.ignoreFieldNorm}){$.forEach(p=>{let v=1;p.matches.forEach(({key:k,norm:x,score:S})=>{const L=k?k.weight:null;v*=Math.pow(S===0&&L?Number.EPSILON:S,(L||1)*(r?1:x))}),p.score=v})}function transformMatches($,r){const p=$.matches;r.matches=[],isDefined(p)&&p.forEach(v=>{if(!isDefined(v.indices)||!v.indices.length)return;const{indices:k,value:x}=v;let S={indices:k,value:x};v.key&&(S.key=v.key.src),v.idx>-1&&(S.refIndex=v.idx),r.matches.push(S)})}function transformScore($,r){r.score=$.score}function format($,r,{includeMatches:p=Config$1.includeMatches,includeScore:v=Config$1.includeScore}={}){const k=[];return p&&k.push(transformMatches),v&&k.push(transformScore),$.map(x=>{const{idx:S}=x,L={item:r[S],refIndex:S};return k.length&&k.forEach(I=>{I(x,L)}),L})}class Fuse{constructor(r,p={},v){this.options={...Config$1,...p},this.options.useExtendedSearch,this._keyStore=new KeyStore(this.options.keys),this.setCollection(r,v)}setCollection(r,p){if(this._docs=r,p&&!(p instanceof FuseIndex))throw new Error(INCORRECT_INDEX_TYPE);this._myIndex=p||createIndex(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(r){isDefined(r)&&(this._docs.push(r),this._myIndex.add(r))}remove(r=()=>!1){const p=[];for(let v=0,k=this._docs.length;v<k;v+=1){const x=this._docs[v];r(x,v)&&(this.removeAt(v),v-=1,k-=1,p.push(x))}return p}removeAt(r){this._docs.splice(r,1),this._myIndex.removeAt(r)}getIndex(){return this._myIndex}search(r,{limit:p=-1}={}){const{includeMatches:v,includeScore:k,shouldSort:x,sortFn:S,ignoreFieldNorm:L}=this.options;let I=isString(r)?isString(this._docs[0])?this._searchStringList(r):this._searchObjectList(r):this._searchLogical(r);return computeScore(I,{ignoreFieldNorm:L}),x&&I.sort(S),isNumber(p)&&p>-1&&(I=I.slice(0,p)),format(I,this._docs,{includeMatches:v,includeScore:k})}_searchStringList(r){const p=createSearcher(r,this.options),{records:v}=this._myIndex,k=[];return v.forEach(({v:x,i:S,n:L})=>{if(!isDefined(x))return;const{isMatch:I,score:O,indices:F}=p.searchIn(x);I&&k.push({item:x,idx:S,matches:[{score:O,value:x,norm:L,indices:F}]})}),k}_searchLogical(r){const p=parse(r,this.options),v=(L,I,O)=>{if(!L.children){const{keyId:U,searcher:R}=L,N=this._findMatches({key:this._keyStore.get(U),value:this._myIndex.getValueForItemAtKeyId(I,U),searcher:R});return N&&N.length?[{idx:O,item:I,matches:N}]:[]}const F=[];for(let U=0,R=L.children.length;U<R;U+=1){const N=L.children[U],j=v(N,I,O);if(j.length)F.push(...j);else if(L.operator===LogicalOperator.AND)return[]}return F},k=this._myIndex.records,x={},S=[];return k.forEach(({$:L,i:I})=>{if(isDefined(L)){let O=v(p,L,I);O.length&&(x[I]||(x[I]={idx:I,item:L,matches:[]},S.push(x[I])),O.forEach(({matches:F})=>{x[I].matches.push(...F)}))}}),S}_searchObjectList(r){const p=createSearcher(r,this.options),{keys:v,records:k}=this._myIndex,x=[];return k.forEach(({$:S,i:L})=>{if(!isDefined(S))return;let I=[];v.forEach((O,F)=>{I.push(...this._findMatches({key:O,value:S[F],searcher:p}))}),I.length&&x.push({idx:L,item:S,matches:I})}),x}_findMatches({key:r,value:p,searcher:v}){if(!isDefined(p))return[];let k=[];if(isArray(p))p.forEach(({v:x,i:S,n:L})=>{if(!isDefined(x))return;const{isMatch:I,score:O,indices:F}=v.searchIn(x);I&&k.push({score:O,key:r,value:x,idx:S,norm:L,indices:F})});else{const{v:x,n:S}=p,{isMatch:L,score:I,indices:O}=v.searchIn(x);L&&k.push({score:I,key:r,value:x,norm:S,indices:O})}return k}}Fuse.version="6.6.2";Fuse.createIndex=createIndex;Fuse.parseIndex=parseIndex;Fuse.config=Config$1;Fuse.parseQuery=parse;register(ExtendedSearch);const shutdownIcon=""+new URL("exit-ccaa87b5.svg",import.meta.url).href;function compileSearchableApps(){const $=[],r=get_store_value(WindowStore);for(let p=0;p<r.length;p++)isPopulatable(r[p])&&$.push({caption:r[p].info.name,description:r[p].info.description,image:r[p].info.icon,action:()=>{openWindow(r[p].id)}});return $}const searchIcon=""+new URL("arcfind-d60c3db2.svg",import.meta.url).href,fileIcon=""+new URL("text-plain-19145840.svg",import.meta.url).href,appSettings=""+new URL("apps-5c65dab6.svg",import.meta.url).href,openwith="",logo$b=""+new URL("apppoker-d7ed29fe.svg",import.meta.url).href,apLoaderIcon=""+new URL("apploader-cf8168a8.svg",import.meta.url).href,themeIcon=""+new URL("loadtheme-61b4520f.svg",import.meta.url).href,openInNewIcon=""+new URL("openinnew-33fae09f.svg",import.meta.url).href,pdfOpenerIcon=""+new URL("pdfopener-7ec41537.svg",import.meta.url).href;function loadExternalApp($){const r=document.createElement("style"),p=document.createElement("script"),v=document.createElement("div");v.id=`SIDELOAD_${Math.floor(Math.random()*1e4*Math.PI)}`,p.id=`hotLoaderJS_${$.id}`,r.id=`hotLoaderCSS_${$.id}`,r.textContent=$.css,p.textContent=$.js.replace(".$$.root",""),!(!$.meta||!$.meta.author||!$.meta.name||!$.meta.version||$.meta.version.split(".")[0]=="0")&&(v.append(p,r),document.body.append(v))}function loadAppFile($){const r=String.fromCharCode.apply(null,new Uint8Array($.data));let p;try{p=JSON.parse(r)}catch{return errorMessage("Unable to load app from file","The imported file could not be parsed as a valid JSON object.",null,null,{caption:"OK",action(){}}),!1}if(isLoaded(p.id))return makeNotification({title:"Can't import app",message:"Another app with the same ID is already loaded. It is not possible to load apps with the same ID.",buttons:[],timeout:3e3,image:apLoaderIcon});const v=get_store_value(UserData),k=v.askPresist,x=v.autoLoads&&v.autoLoads.includes($.path);return k&&!x&&makeNotification({title:"Always import?",message:`Do you want to import application file "${$.name}" every time you log in?`,buttons:[{caption:"Yes",action(){const S=get_store_value(UserData);S.autoLoads||(S.autoLoads=[]),S.autoLoads.push($.path),UserData.set(S)}},{caption:"Don't show again",action(){const S=get_store_value(UserData);S.askPresist=!1,UserData.set(S)}}],image:apLoaderIcon}),loadExternalApp(p),!0}const values=["anim","noGlass","sharp","theme","wallpaper","accent","docked","taskbarCentered","taskbarLabels","taskbarPosition","taskbarColored","smallStart","titleButtons","titlebarLarge","titlebarLeft"];function loadTheme($){const r=get_store_value(UserData);r.sh.anim=$.anim,r.sh.noGlass=$.noGlass,r.sh.desktop.sharp=$.sharp,r.sh.desktop.theme=$.theme,r.sh.desktop.wallpaper=$.wallpaper,r.sh.desktop.accent=$.accent,r.sh.taskbar.docked=$.docked,r.sh.taskbar.centered=$.taskbarCentered,r.sh.taskbar.labels=$.taskbarLabels,r.sh.taskbar.pos=$.taskbarPosition,r.sh.start.small=$.smallStart,r.sh.window.buttons=$.titleButtons,r.sh.window.bigtb=$.titlebarLarge,r.sh.window.lefttb=$.titlebarLeft,r.sh.taskbar.colored=$.taskbarColored,r.sh.window.centertb=!!$.titlebarCentered,r.sh.taskbar.isLauncher=!!$.isLauncher,UserData.set(r)}function saveCurrentTheme($){const r=`${Math.floor(Math.random()*1e6)}`,p=get_store_value(UserData),v={version:"1.0.0",name:$,author:get_store_value(UserName),anim:p.sh.anim,noGlass:p.sh.noGlass,sharp:p.sh.desktop.sharp,theme:p.sh.desktop.theme,wallpaper:p.sh.desktop.wallpaper,accent:p.sh.desktop.accent,docked:p.sh.taskbar.docked,taskbarCentered:p.sh.taskbar.centered,taskbarLabels:p.sh.taskbar.labels,taskbarPosition:p.sh.taskbar.pos,smallStart:p.sh.start.small,titleButtons:p.sh.window.buttons,titlebarLarge:p.sh.window.bigtb,titlebarLeft:p.sh.window.lefttb,taskbarColored:p.sh.taskbar.colored,titlebarCentered:p.sh.taskbar.centered,isLauncher:p.sh.taskbar.isLauncher};p.sh.userThemes||(p.sh.userThemes={}),p.sh.userThemes[r]=v,UserData.set(p)}function deleteCustomTheme($){const r=get_store_value(UserData);return!r.sh.userThemes||!r.sh.userThemes[$]?!1:(delete r.sh.userThemes[$],UserData.set(r),!0)}function verifyTheme($){const r=Object.keys($);for(let p=0;p<values.length;p++)if(!r.includes(values[p]))return!1;return!0}const FileLoaders={appLoader:{name:"Application Import",description:"Load a third-party application",icon:apLoaderIcon,loader:loadAppFile,extensions:[".app",".ealc",".app.json"]},pdfOpener:{name:"Open In New Tab",description:"Open a PDF file in a new browser tab",icon:pdfOpenerIcon,loader:$=>{const r=new Blob([new Uint8Array($.data)],{type:"application/pdf"});window.open(URL.createObjectURL(r),"_blank")},extensions:[".pdf"]},loadTheme:{name:"Load theme file",description:"Apply theme file to ArcOS",loader:$=>{const r=String.fromCharCode.apply(null,new Uint8Array($.data));let p;try{p=JSON.parse(r)}catch{p=!1}if(!p||!verifyTheme(p))return errorMessage("Unable to load theme","The theme file is invalid, or it could not be parsed. Please make sure you are trying to load a theme, and then try again.",themeIcon,null,{caption:"OK",action(){}});loadTheme(p)},icon:themeIcon,extensions:[".arctheme"]},editFile:{name:"Edit config file",description:"Open file in Text Editor",icon:logo$b,loader($){openWith("TextEditor",$,!0)},extensions:[".conf"]},openInNew:{name:"Download",description:"Open file in a new tab to download it",loader:$=>{const r=new Blob([new Uint8Array($.data)],{type:$.mime.split(";")[0]});window.open(URL.createObjectURL(r),"_blank")},icon:openInNewIcon,extensions:[]}};function create_fragment$45($){let r,p,v,k,x,S,L,I,O=$[1].name+"",F,U,R,N=$[1].description+"",j,q,H;return{c(){r=element("button"),p=element("div"),v=element("img"),S=space(),L=element("div"),I=element("div"),F=text(O),U=space(),R=element("div"),j=text(N),src_url_equal(v.src,k=$[1].icon)||attr(v,"src",k),attr(v,"alt",x=$[1].name),attr(p,"class","icon"),attr(I,"class","name"),attr(R,"class","description"),attr(r,"class","option loader"),toggle_class(r,"selected",$[0]==$[1].name)},m(Q,V){insert(Q,r,V),append(r,p),append(p,v),append(r,S),append(r,L),append(L,I),append(I,F),append(L,U),append(L,R),append(R,j),q||(H=[listen(r,"click",$[2]),listen(r,"dblclick",$[3])],q=!0)},p(Q,[V]){V&2&&!src_url_equal(v.src,k=Q[1].icon)&&attr(v,"src",k),V&2&&x!==(x=Q[1].name)&&attr(v,"alt",x),V&2&&O!==(O=Q[1].name+"")&&set_data(F,O),V&2&&N!==(N=Q[1].description+"")&&set_data(j,N),V&3&&toggle_class(r,"selected",Q[0]==Q[1].name)},i:noop$1,o:noop$1,d(Q){Q&&detach(r),q=!1,run_all(H)}}}function instance$3M($,r,p){let{loader:v}=r,{file:k}=r,{selected:x=""}=r,{loaderOptions:S}=r,{options:L}=r;function I(){p(0,x=v.name)}function O(){v.loader(k),setTimeout(()=>{OpenWithFile.set(null)},1e3),closeWindow("OpenWithApp"),p(4,S=[]),p(5,L=[])}return $.$$set=F=>{"loader"in F&&p(1,v=F.loader),"file"in F&&p(6,k=F.file),"selected"in F&&p(0,x=F.selected),"loaderOptions"in F&&p(4,S=F.loaderOptions),"options"in F&&p(5,L=F.options)},[x,v,I,O,S,L,k]}class LoaderOption extends SvelteComponent{constructor(r){super(),init(this,r,instance$3M,create_fragment$45,safe_not_equal,{loader:1,file:6,selected:0,loaderOptions:4,options:5})}}function create_fragment$44($){let r,p,v,k,x,S,L,I,O=$[1].info.name+"",F,U,R,N=$[1].info.description+"",j,q,H,Q=$[1].id+"",V,K,G;return{c(){r=element("button"),p=element("div"),v=element("img"),S=space(),L=element("div"),I=element("div"),F=text(O),U=space(),R=element("div"),j=text(N),q=space(),H=element("div"),V=text(Q),src_url_equal(v.src,k=$[1].info.icon)||attr(v,"src",k),attr(v,"alt",x=$[1].info.name),attr(p,"class","icon"),attr(I,"class","name"),attr(R,"class","description"),attr(H,"class","id"),attr(r,"class","option"),toggle_class(r,"selected",$[0]==$[1].id)},m(Y,J){insert(Y,r,J),append(r,p),append(p,v),append(r,S),append(r,L),append(L,I),append(I,F),append(L,U),append(L,R),append(R,j),append(r,q),append(r,H),append(H,V),K||(G=[listen(r,"click",$[2]),listen(r,"dblclick",$[3])],K=!0)},p(Y,[J]){J&2&&!src_url_equal(v.src,k=Y[1].info.icon)&&attr(v,"src",k),J&2&&x!==(x=Y[1].info.name)&&attr(v,"alt",x),J&2&&O!==(O=Y[1].info.name+"")&&set_data(F,O),J&2&&N!==(N=Y[1].info.description+"")&&set_data(j,N),J&2&&Q!==(Q=Y[1].id+"")&&set_data(V,Q),J&3&&toggle_class(r,"selected",Y[0]==Y[1].id)},i:noop$1,o:noop$1,d(Y){Y&&detach(r),K=!1,run_all(G)}}}function instance$3L($,r,p){let{app:v}=r,{file:k}=r,{selected:x=""}=r,{loaderOptions:S}=r,{options:L}=r;function I(){p(0,x=v.id)}function O(){openWith(v.id,k,k.anymime),setTimeout(()=>{OpenWithFile.set(null)},1e3),closeWindow("OpenWithApp"),p(4,S=[]),p(5,L=[])}return $.$$set=F=>{"app"in F&&p(1,v=F.app),"file"in F&&p(6,k=F.file),"selected"in F&&p(0,x=F.selected),"loaderOptions"in F&&p(4,S=F.loaderOptions),"options"in F&&p(5,L=F.options)},[x,v,I,O,S,L,k]}class Option extends SvelteComponent{constructor(r){super(),init(this,r,instance$3L,create_fragment$44,safe_not_equal,{app:1,file:6,selected:0,loaderOptions:4,options:5})}}function get_each_context$U($,r,p){const v=$.slice();return v[13]=r[p],v}function get_each_context_1$e($,r,p){const v=$.slice();return v[16]=r[p],v}function create_each_block_1$e($){let r,p,v,k,x;function S(F){$[7](F)}function L(F){$[8](F)}function I(F){$[9](F)}let O={file:$[4],app:$[16]};return $[1]!==void 0&&(O.loaderOptions=$[1]),$[0]!==void 0&&(O.options=$[0]),$[2]!==void 0&&(O.selected=$[2]),r=new Option({props:O}),binding_callbacks.push(()=>bind$1(r,"loaderOptions",S)),binding_callbacks.push(()=>bind$1(r,"options",L)),binding_callbacks.push(()=>bind$1(r,"selected",I)),{c(){create_component(r.$$.fragment)},m(F,U){mount_component(r,F,U),x=!0},p(F,U){const R={};U&16&&(R.file=F[4]),U&1&&(R.app=F[16]),!p&&U&2&&(p=!0,R.loaderOptions=F[1],add_flush_callback(()=>p=!1)),!v&&U&1&&(v=!0,R.options=F[0],add_flush_callback(()=>v=!1)),!k&&U&4&&(k=!0,R.selected=F[2],add_flush_callback(()=>k=!1)),r.$set(R)},i(F){x||(transition_in(r.$$.fragment,F),x=!0)},o(F){transition_out(r.$$.fragment,F),x=!1},d(F){destroy_component(r,F)}}}function create_if_block_1$v($){let r;return{c(){r=element("p"),r.textContent="No apps found",attr(r,"class","noitems")},m(p,v){insert(p,r,v)},d(p){p&&detach(r)}}}function create_each_block$U($){let r,p,v,k,x;function S(F){$[10](F)}function L(F){$[11](F)}function I(F){$[12](F)}let O={loader:$[13],file:$[4]};return $[1]!==void 0&&(O.loaderOptions=$[1]),$[0]!==void 0&&(O.options=$[0]),$[2]!==void 0&&(O.selected=$[2]),r=new LoaderOption({props:O}),binding_callbacks.push(()=>bind$1(r,"loaderOptions",S)),binding_callbacks.push(()=>bind$1(r,"options",L)),binding_callbacks.push(()=>bind$1(r,"selected",I)),{c(){create_component(r.$$.fragment)},m(F,U){mount_component(r,F,U),x=!0},p(F,U){const R={};U&2&&(R.loader=F[13]),U&16&&(R.file=F[4]),!p&&U&2&&(p=!0,R.loaderOptions=F[1],add_flush_callback(()=>p=!1)),!v&&U&1&&(v=!0,R.options=F[0],add_flush_callback(()=>v=!1)),!k&&U&4&&(k=!0,R.selected=F[2],add_flush_callback(()=>k=!1)),r.$set(R)},i(F){x||(transition_in(r.$$.fragment,F),x=!0)},o(F){transition_out(r.$$.fragment,F),x=!1},d(F){destroy_component(r,F)}}}function create_if_block$1y($){let r;return{c(){r=element("p"),r.textContent="No handlers found",attr(r,"class","noitems")},m(p,v){insert(p,r,v)},d(p){p&&detach(r)}}}function create_fragment$43($){let r,p,v,k,x,S,L,I,O,F,U,R,N,j,q,H,Q,V,K,G,Y,J,Z,X=$[0],ee=[];for(let re=0;re<X.length;re+=1)ee[re]=create_each_block_1$e(get_each_context_1$e($,X,re));const te=re=>transition_out(ee[re],1,1,()=>{ee[re]=null});let le=!$[0].length&&create_if_block_1$v(),ue=$[1],ae=[];for(let re=0;re<ue.length;re+=1)ae[re]=create_each_block$U(get_each_context$U($,ue,re));const oe=re=>transition_out(ae[re],1,1,()=>{ae[re]=null});let se=!$[1].length&&create_if_block$1y();return{c(){r=element("div"),p=element("p"),v=text("Select an item to open "),k=text($[3]),x=space(),S=element("div"),L=element("p"),L.textContent="Apps",I=space();for(let re=0;re<ee.length;re+=1)ee[re].c();O=space(),le&&le.c(),F=space(),U=element("p"),U.textContent="Handlers",R=space();for(let re=0;re<ae.length;re+=1)ae[re].c();N=space(),se&&se.c(),j=space(),q=element("div"),H=element("button"),Q=text("Open"),K=space(),G=element("button"),G.textContent="Cancel",attr(p,"class","title"),attr(L,"class","category"),attr(U,"class","category"),attr(S,"class","options"),H.disabled=V=!$[2],attr(q,"class","actions"),attr(r,"class","content")},m(re,ie){insert(re,r,ie),append(r,p),append(p,v),append(p,k),append(r,x),append(r,S),append(S,L),append(S,I);for(let ne=0;ne<ee.length;ne+=1)ee[ne]&&ee[ne].m(S,null);append(S,O),le&&le.m(S,null),append(S,F),append(S,U),append(S,R);for(let ne=0;ne<ae.length;ne+=1)ae[ne]&&ae[ne].m(S,null);append(S,N),se&&se.m(S,null),append(r,j),append(r,q),append(q,H),append(H,Q),append(q,K),append(q,G),Y=!0,J||(Z=[listen(H,"click",$[5]),listen(G,"click",$[6])],J=!0)},p(re,[ie]){if((!Y||ie&8)&&set_data(k,re[3]),ie&23){X=re[0];let ne;for(ne=0;ne<X.length;ne+=1){const ce=get_each_context_1$e(re,X,ne);ee[ne]?(ee[ne].p(ce,ie),transition_in(ee[ne],1)):(ee[ne]=create_each_block_1$e(ce),ee[ne].c(),transition_in(ee[ne],1),ee[ne].m(S,O))}for(group_outros(),ne=X.length;ne<ee.length;ne+=1)te(ne);check_outros()}if(re[0].length?le&&(le.d(1),le=null):le||(le=create_if_block_1$v(),le.c(),le.m(S,F)),ie&23){ue=re[1];let ne;for(ne=0;ne<ue.length;ne+=1){const ce=get_each_context$U(re,ue,ne);ae[ne]?(ae[ne].p(ce,ie),transition_in(ae[ne],1)):(ae[ne]=create_each_block$U(ce),ae[ne].c(),transition_in(ae[ne],1),ae[ne].m(S,N))}for(group_outros(),ne=ue.length;ne<ae.length;ne+=1)oe(ne);check_outros()}re[1].length?se&&(se.d(1),se=null):se||(se=create_if_block$1y(),se.c(),se.m(S,null)),(!Y||ie&4&&V!==(V=!re[2]))&&(H.disabled=V)},i(re){if(!Y){for(let ie=0;ie<X.length;ie+=1)transition_in(ee[ie]);for(let ie=0;ie<ue.length;ie+=1)transition_in(ae[ie]);Y=!0}},o(re){ee=ee.filter(Boolean);for(let ie=0;ie<ee.length;ie+=1)transition_out(ee[ie]);ae=ae.filter(Boolean);for(let ie=0;ie<ae.length;ie+=1)transition_out(ae[ie]);Y=!1},d(re){re&&detach(r),destroy_each(ee,re),le&&le.d(),destroy_each(ae,re),se&&se.d(),J=!1,run_all(Z)}}}function instance$3K($,r,p){let v;component_subscribe($,OpenWithFile,H=>p(4,v=H));let k=[],x=[],S="",L="";OpenWithFile.subscribe(H=>{if(!H)return p(3,L="file");p(3,L=H.name),p(0,k=[]),p(1,x=[]);let Q=[];H.anymime?Q=getAllFileHandlers():Q=findAppToOpen(H.mime);for(let K=0;K<Q.length;K++)k.push(getWindow(Q[K]));p(2,S="");const V=Object.entries(FileLoaders);for(let K=0;K<V.length;K++){const Y=V[K][1];for(let J=0;J<Y.extensions.length;J++)L.endsWith(Y.extensions[J])&&x.push(Y);Y.extensions.length||x.push(Y)}});function I(){const H=getWindow(S);if(H)openWith(H.id,v,v.anymime);else for(let Q=0;Q<x.length;Q++)x[Q].name==S&&x[Q].loader(v),set_store_value(OpenWithFile,v=null,v);setTimeout(()=>{OpenWithFile.set(null)},1e3),O()}function O(){isFullscreenWindow.set(!1),closeWindow("OpenWithApp")}function F(H){x=H,p(1,x)}function U(H){k=H,p(0,k)}function R(H){S=H,p(2,S)}function N(H){x=H,p(1,x)}function j(H){k=H,p(0,k)}function q(H){S=H,p(2,S)}return[k,x,S,L,v,I,O,F,U,R,N,j,q]}class OpenWith extends SvelteComponent{constructor(r){super(),init(this,r,instance$3K,create_fragment$43,safe_not_equal,{})}}const OpenWithApp={info:{name:"Open With",description:"Open a file with an app",builtin:!0,version:"1.0.0",author:"Izaak Kuipers",hidden:!0,icon:appSettings},size:{w:450,h:550},pos:{x:30,y:40},minSize:{w:450,h:550},maxSize:{w:450,h:550},controls:{min:!1,max:!1,cls:!1},state:{headless:!0,resizable:!1,windowState:{min:!1,max:!1,fll:!0}},content:OpenWith,glass:!0,events:{close(){OpenWithFile.set(null)}}},OpenWithFile=writable(null),logo$a=""+new URL("testapp-fd93573e.svg",import.meta.url).href,AppInfo$3="",def$1=""+new URL("unknown-41ebe866.svg",import.meta.url).href;function hotSwapAppIcon($,r){Log({msg:`Changing app icon for ${r} to ${$}`,source:"icon.ts: hotSwapAppIcon",level:LogLevel.info});const p=get_store_value(WindowStore);for(let v=0;v<p.length;v++)p[v].id==r&&(Originals$1[r]||(Originals$1[r]=`${getAppIcon(p[v])}`),p[v].info.icon=$);WindowStore.set(p)}function getOriginalIcon($){return Originals$1[$]}function getAppIcon($){return $.info.builtin?$.info.icon:def$1}const Originals$1={};function create_if_block$1x($){let r,p,v,k,x,S,L,I,O=$[0].info.name+"",F,U,R,N=$[0].info.description+"",j,q,H,Q,V,K,G,Y,J,Z,X,ee,te=($[0].size.w||d)+"",le,ue,ae=($[0].size.h||d)+"",oe,se,re,ie,ne,ce,de=($[0].minSize.w||d)+"",fe,pe,_e=($[0].minSize.h||d)+"",he,Ae,$e,ke,ve,be,ye=($[0].maxSize.w||d)+"",Ce,Te,Re=($[0].maxSize.h||d)+"",Je,rt,lt,ct,Ie,Xe,ut,Le,Ne=($[0].pos.x||d)+"",et,pt,je=($[0].pos.y||d)+"",tt,ft,Ee,nt,dt,qe,We=$[0].core+"",it,mt,De,at,_t,He,Se,Oe,gt,Qe,ht,Fe,bt,Ke,At,Be,vt,Ve,wt,Me,ot,kt,ze,Ue,$t,Ge,yt,Pe,xt,Ye,st,St;function Ct(ge,we){return ge[0].parentId?create_if_block_1$u:create_else_block$w}let Ze=Ct($),xe=Ze($);return{c(){r=element("div"),p=element("div"),v=element("img"),S=space(),L=element("div"),I=element("p"),F=text(O),U=space(),R=element("p"),j=text(N),q=space(),xe.c(),H=space(),Q=element("div"),V=element("input"),G=space(),Y=element("div"),J=element("div"),Z=element("div"),Z.textContent="Size:",X=space(),ee=element("div"),le=text(te),ue=text("x"),oe=text(ae),se=space(),re=element("div"),ie=element("div"),ie.textContent="Minimal size:",ne=space(),ce=element("div"),fe=text(de),pe=text("x"),he=text(_e),Ae=space(),$e=element("div"),ke=element("div"),ke.textContent="Maximal size:",ve=space(),be=element("div"),Ce=text(ye),Te=text("x"),Je=text(Re),rt=space(),lt=element("hr"),ct=space(),Ie=element("div"),Xe=element("div"),Xe.textContent="Start position:",ut=space(),Le=element("div"),et=text(Ne),pt=text("x"),tt=text(je),ft=space(),Ee=element("div"),nt=element("div"),nt.textContent="Core Application:",dt=space(),qe=element("div"),it=text(We),mt=space(),De=element("div"),at=element("div"),at.textContent="Window controls:",_t=space(),He=element("div"),Se=element("div"),Oe=element("button"),gt=text("minimize"),ht=space(),Fe=element("button"),bt=text("crop_square"),At=space(),Be=element("button"),vt=text("close"),wt=space(),Me=element("div"),ot=element("div"),ot.textContent="Actions",kt=space(),ze=element("div"),Ue=element("button"),$t=text("Open"),yt=space(),Pe=element("button"),xt=text("Poke"),src_url_equal(v.src,k=getAppIcon($[0]))||attr(v,"src",k),attr(v,"alt",x=$[0].info.name),attr(I,"class","appname"),attr(R,"class","description"),attr(V,"type","checkbox"),attr(V,"class","switch"),V.disabled=K=SystemApps.includes($[3]),attr(Q,"class","actions"),attr(r,"class","name"),attr(ee,"class","value"),attr(J,"class","property"),attr(ce,"class","value"),attr(re,"class","property"),attr(be,"class","value"),attr($e,"class","property"),attr(Le,"class","value"),attr(Ie,"class","property"),attr(qe,"class","value"),attr(Ee,"class","property"),attr(Oe,"class","material-icons-round"),Oe.disabled=Qe=!$[0].controls.min,attr(Fe,"class","material-icons-round"),Fe.disabled=Ke=!$[0].controls.max,attr(Be,"class","material-icons-round"),Be.disabled=Ve=!$[0].controls.cls,attr(Se,"class","controls"),attr(He,"class","value"),attr(De,"class","property"),Ue.disabled=Ge=$[0].opened||$[0].disabled||$[0].core,Pe.disabled=Ye=$[0].disabled||$[2]||$[0].core,attr(ze,"class","value"),attr(Me,"class","property"),attr(Y,"class","properties")},m(ge,we){insert(ge,r,we),append(r,p),append(p,v),append(r,S),append(r,L),append(L,I),append(I,F),append(L,U),append(L,R),append(R,j),append(R,q),xe.m(R,null),append(r,H),append(r,Q),append(Q,V),V.checked=$[1],insert(ge,G,we),insert(ge,Y,we),append(Y,J),append(J,Z),append(J,X),append(J,ee),append(ee,le),append(ee,ue),append(ee,oe),append(Y,se),append(Y,re),append(re,ie),append(re,ne),append(re,ce),append(ce,fe),append(ce,pe),append(ce,he),append(Y,Ae),append(Y,$e),append($e,ke),append($e,ve),append($e,be),append(be,Ce),append(be,Te),append(be,Je),append(Y,rt),append(Y,lt),append(Y,ct),append(Y,Ie),append(Ie,Xe),append(Ie,ut),append(Ie,Le),append(Le,et),append(Le,pt),append(Le,tt),append(Y,ft),append(Y,Ee),append(Ee,nt),append(Ee,dt),append(Ee,qe),append(qe,it),append(Y,mt),append(Y,De),append(De,at),append(De,_t),append(De,He),append(He,Se),append(Se,Oe),append(Oe,gt),append(Se,ht),append(Se,Fe),append(Fe,bt),append(Se,At),append(Se,Be),append(Be,vt),append(Y,wt),append(Y,Me),append(Me,ot),append(Me,kt),append(Me,ze),append(ze,Ue),append(Ue,$t),append(ze,yt),append(ze,Pe),append(Pe,xt),st||(St=[listen(V,"change",$[6]),listen(V,"change",$[4]),listen(Ue,"click",$[7]),listen(Pe,"click",$[5])],st=!0)},p(ge,we){we&1&&!src_url_equal(v.src,k=getAppIcon(ge[0]))&&attr(v,"src",k),we&1&&x!==(x=ge[0].info.name)&&attr(v,"alt",x),we&1&&O!==(O=ge[0].info.name+"")&&set_data(F,O),we&1&&N!==(N=ge[0].info.description+"")&&set_data(j,N),Ze===(Ze=Ct(ge))&&xe?xe.p(ge,we):(xe.d(1),xe=Ze(ge),xe&&(xe.c(),xe.m(R,null))),we&8&&K!==(K=SystemApps.includes(ge[3]))&&(V.disabled=K),we&2&&(V.checked=ge[1]),we&1&&te!==(te=(ge[0].size.w||d)+"")&&set_data(le,te),we&1&&ae!==(ae=(ge[0].size.h||d)+"")&&set_data(oe,ae),we&1&&de!==(de=(ge[0].minSize.w||d)+"")&&set_data(fe,de),we&1&&_e!==(_e=(ge[0].minSize.h||d)+"")&&set_data(he,_e),we&1&&ye!==(ye=(ge[0].maxSize.w||d)+"")&&set_data(Ce,ye),we&1&&Re!==(Re=(ge[0].maxSize.h||d)+"")&&set_data(Je,Re),we&1&&Ne!==(Ne=(ge[0].pos.x||d)+"")&&set_data(et,Ne),we&1&&je!==(je=(ge[0].pos.y||d)+"")&&set_data(tt,je),we&1&&We!==(We=ge[0].core+"")&&set_data(it,We),we&1&&Qe!==(Qe=!ge[0].controls.min)&&(Oe.disabled=Qe),we&1&&Ke!==(Ke=!ge[0].controls.max)&&(Fe.disabled=Ke),we&1&&Ve!==(Ve=!ge[0].controls.cls)&&(Be.disabled=Ve),we&1&&Ge!==(Ge=ge[0].opened||ge[0].disabled||ge[0].core)&&(Ue.disabled=Ge),we&5&&Ye!==(Ye=ge[0].disabled||ge[2]||ge[0].core)&&(Pe.disabled=Ye)},d(ge){ge&&detach(r),xe.d(),ge&&detach(G),ge&&detach(Y),st=!1,run_all(St)}}}function create_else_block$w($){let r,p=$[0].id+"",v,k;return{c(){r=text("("),v=text(p),k=text(")")},m(x,S){insert(x,r,S),insert(x,v,S),insert(x,k,S)},p(x,S){S&1&&p!==(p=x[0].id+"")&&set_data(v,p)},d(x){x&&detach(r),x&&detach(v),x&&detach(k)}}}function create_if_block_1$u($){let r,p=$[0].parentId+"",v,k,x=$[0].id+"",S,L;return{c(){r=text("("),v=text(p),k=text("."),S=text(x),L=text(")")},m(I,O){insert(I,r,O),insert(I,v,O),insert(I,k,O),insert(I,S,O),insert(I,L,O)},p(I,O){O&1&&p!==(p=I[0].parentId+"")&&set_data(v,p),O&1&&x!==(x=I[0].id+"")&&set_data(S,x)},d(I){I&&detach(r),I&&detach(v),I&&detach(k),I&&detach(S),I&&detach(L)}}}function create_fragment$42($){let r,p=$[0]&&create_if_block$1x($);return{c(){p&&p.c(),r=empty()},m(v,k){p&&p.m(v,k),insert(v,r,k)},p(v,[k]){v[0]?p?p.p(v,k):(p=create_if_block$1x(v),p.c(),p.m(r.parentNode,r)):p&&(p.d(1),p=null)},i:noop$1,o:noop$1,d(v){p&&p.d(v),v&&detach(r)}}}let d="(unset)";function instance$3J($,r,p){let v;component_subscribe($,AppInfoId,R=>p(3,v=R));let k,x=!0,S=!1;function L(){x?enableApp(v):disableApp(v),p(0,k=getWindow(v)),k&&p(1,x=!getWindow(v).disabled)}AppInfoId.subscribe(I),WindowStore.subscribe(I);function I(){v&&(p(0,k=getWindow(v)),k&&(p(1,x=!getWindow(v).disabled),p(2,S=isDisabled("AppPoker"))))}function O(){k.core||AppPokerData.set(k)}function F(){x=this.checked,p(1,x)}return[k,x,S,v,L,O,F,()=>openWindow(v)]}let AppInfo$2=class extends SvelteComponent{constructor(r){super(),init(this,r,instance$3J,create_fragment$42,safe_not_equal,{})}};const AppInfo$1={info:{name:"Application Info",description:"View information about an application",builtin:!0,version:"1.0.0",author:"Izaak Kuipers",hidden:!0,icon:logo$a},size:{w:500,h:450},pos:{x:30,y:40},minSize:{w:500,h:450},maxSize:{w:500,h:450},controls:{min:!0,max:!1,cls:!0},state:{headless:!1,resizable:!1,windowState:{min:!1,max:!1,fll:!1}},content:AppInfo$2,glass:!1,events:{close(){AppInfoId.set(null)}}},AppInfoId=writable(null),appMan=""+new URL("appmanager-60c1ea43.svg",import.meta.url).href,AppManager$2="",AppPokerProperties=[{caption:"Minimize",action:$=>{minimizeWindow($)},getter:$=>$.state.windowState.min},{caption:"Maximize",action:$=>{maximizeWindow($)},getter:$=>$.state.windowState.max},{caption:"Close",action:$=>{isOpened($.id)?closeWindow($.id):openWindow($.id)},getter:$=>!isOpened($.id)},{caption:"Headless",action:$=>{$.state.headless=!$.state.headless,updateStores()},getter:$=>$.state.headless},{caption:"Fullscreen",action:$=>{$.state.windowState.fll=!$.state.windowState.fll,updateStores()},getter:$=>$.state.windowState.fll},{caption:"Resizable",action:$=>{$.state.resizable=!$.state.resizable,updateStores()},getter:$=>$.state.resizable},{caption:"Glass",action:$=>{$.glass=!$.glass,updateStores()},getter:$=>$.glass}],staticAppManActions=[{caption:"Run...",icon:"directions_run",action:()=>{showOverlay("run","AppMan")}}],appManSelected=writable();function create_if_block$1w($){let r,p,v,k,x,S,L=$[0].info.name+"",I,O,F,U,R,N,j=$[1]&&create_if_block_2$8();function q(V,K){return V[0].parentId?create_if_block_1$t:create_else_block$v}let H=q($),Q=H($);return{c(){r=element("div"),p=element("div"),v=element("img"),x=space(),S=element("div"),I=text(L),O=space(),j&&j.c(),F=space(),U=element("div"),Q.c(),src_url_equal(v.src,k=getOriginalIcon($[0].id)||getAppIcon($[0]))||attr(v,"src",k),attr(v,"alt",""),attr(S,"class","appname"),attr(U,"class","id"),attr(r,"class","appinstance"),toggle_class(r,"closed",!$[0].opened),toggle_class(r,"selected",$[2]==$[0].id)},m(V,K){insert(V,r,K),append(r,p),append(p,v),append(r,x),append(r,S),append(S,I),append(S,O),j&&j.m(S,null),append(r,F),append(r,U),Q.m(U,null),R||(N=listen(r,"click",$[3]),R=!0)},p(V,K){K&1&&!src_url_equal(v.src,k=getOriginalIcon(V[0].id)||getAppIcon(V[0]))&&attr(v,"src",k),K&1&&L!==(L=V[0].info.name+"")&&set_data(I,L),V[1]?j||(j=create_if_block_2$8(),j.c(),j.m(S,null)):j&&(j.d(1),j=null),H===(H=q(V))&&Q?Q.p(V,K):(Q.d(1),Q=H(V),Q&&(Q.c(),Q.m(U,null))),K&1&&toggle_class(r,"closed",!V[0].opened),K&5&&toggle_class(r,"selected",V[2]==V[0].id)},d(V){V&&detach(r),j&&j.d(),Q.d(),R=!1,N()}}}function create_if_block_2$8($){let r;return{c(){r=text("(Dialog)")},m(p,v){insert(p,r,v)},d(p){p&&detach(r)}}}function create_else_block$v($){let r=$[0].id+"",p;return{c(){p=text(r)},m(v,k){insert(v,p,k)},p(v,k){k&1&&r!==(r=v[0].id+"")&&set_data(p,r)},d(v){v&&detach(p)}}}function create_if_block_1$t($){let r=$[0].parentId+"",p,v,k=$[0].id+"",x;return{c(){p=text(r),v=text("."),x=text(k)},m(S,L){insert(S,p,L),insert(S,v,L),insert(S,x,L)},p(S,L){L&1&&r!==(r=S[0].parentId+"")&&set_data(p,r),L&1&&k!==(k=S[0].id+"")&&set_data(x,k)},d(S){S&&detach(p),S&&detach(v),S&&detach(x)}}}function create_fragment$41($){let r=$[0]&&(!isDisabled($[0].id)&&isOpened($[0].id)||$[1]),p,v=r&&create_if_block$1w($);return{c(){v&&v.c(),p=empty()},m(k,x){v&&v.m(k,x),insert(k,p,x)},p(k,[x]){x&3&&(r=k[0]&&(!isDisabled(k[0].id)&&isOpened(k[0].id)||k[1])),r?v?v.p(k,x):(v=create_if_block$1w(k),v.c(),v.m(p.parentNode,p)):v&&(v.d(1),v=null)},i:noop$1,o:noop$1,d(k){v&&v.d(k),k&&detach(p)}}}function instance$3I($,r,p){let v;component_subscribe($,appManSelected,L=>p(2,v=L));let{app:k}=r,{error:x=!1}=r;function S(){set_store_value(appManSelected,v=k.id,v)}return $.$$set=L=>{"app"in L&&p(0,k=L.app),"error"in L&&p(1,x=L.error)},[k,x,v,S]}let App$1=class extends SvelteComponent{constructor(r){super(),init(this,r,instance$3I,create_fragment$41,safe_not_equal,{app:0,error:1})}};const dummyIcon=""+new URL("default-fc91861d.svg",import.meta.url).href;function create_if_block$1v($){let r,p,v,k,x,S,L=$[1].info.name+"",I,O,F,U=$[2].id+"",R,N,j;return{c(){r=element("div"),p=element("div"),v=element("img"),x=space(),S=element("div"),I=text(L),O=space(),F=element("div"),R=text(U),N=text("."),j=text($[0]),src_url_equal(v.src,k=dummyIcon)||attr(v,"src",k),attr(v,"alt",""),attr(S,"class","appname"),attr(F,"class","id"),attr(r,"class","appinstance"),toggle_class(r,"closed",!$[1].show)},m(q,H){insert(q,r,H),append(r,p),append(p,v),append(r,x),append(r,S),append(S,I),append(r,O),append(r,F),append(F,R),append(F,N),append(F,j)},p(q,H){H&2&&L!==(L=q[1].info.name+"")&&set_data(I,L),H&4&&U!==(U=q[2].id+"")&&set_data(R,U),H&1&&set_data(j,q[0]),H&2&&toggle_class(r,"closed",!q[1].show)},d(q){q&&detach(r)}}}function create_fragment$40($){let r,p=$[1]&&isOpened($[2].id),v=p&&create_if_block$1v($);return{c(){r=element("div"),v&&v.c(),attr(r,"class","indent")},m(k,x){insert(k,r,x),v&&v.m(r,null)},p(k,[x]){x&6&&(p=k[1]&&isOpened(k[2].id)),p?v?v.p(k,x):(v=create_if_block$1v(k),v.c(),v.m(r,null)):v&&(v.d(1),v=null)},i:noop$1,o:noop$1,d(k){k&&detach(r),v&&v.d()}}}function instance$3H($,r,p){let{id:v}=r,{overlay:k}=r,{parent:x}=r;return $.$$set=S=>{"id"in S&&p(0,v=S.id),"overlay"in S&&p(1,k=S.overlay),"parent"in S&&p(2,x=S.parent)},[v,k,x]}class OverlayApp extends SvelteComponent{constructor(r){super(),init(this,r,instance$3H,create_fragment$40,safe_not_equal,{id:0,overlay:1,parent:2})}}function get_each_context$T($,r,p){const v=$.slice();return v[3]=r[p],v}function get_each_context_1$d($,r,p){const v=$.slice();return v[6]=r[p],v}function create_if_block$1u($){let r,p,v,k,x;p=new App$1({props:{app:$[0],error:$[2]}});let S=$[0].children&&create_if_block_2$7($),L=$[0].overlays&&create_if_block_1$s($);return{c(){r=element("div"),create_component(p.$$.fragment),v=space(),S&&S.c(),k=space(),L&&L.c(),toggle_class(r,"indent",!$[1])},m(I,O){insert(I,r,O),mount_component(p,r,null),append(r,v),S&&S.m(r,null),append(r,k),L&&L.m(r,null),x=!0},p(I,O){const F={};O&1&&(F.app=I[0]),O&4&&(F.error=I[2]),p.$set(F),I[0].children?S?(S.p(I,O),O&1&&transition_in(S,1)):(S=create_if_block_2$7(I),S.c(),transition_in(S,1),S.m(r,k)):S&&(group_outros(),transition_out(S,1,1,()=>{S=null}),check_outros()),I[0].overlays?L?(L.p(I,O),O&1&&transition_in(L,1)):(L=create_if_block_1$s(I),L.c(),transition_in(L,1),L.m(r,null)):L&&(group_outros(),transition_out(L,1,1,()=>{L=null}),check_outros()),(!x||O&2)&&toggle_class(r,"indent",!I[1])},i(I){x||(transition_in(p.$$.fragment,I),transition_in(S),transition_in(L),x=!0)},o(I){transition_out(p.$$.fragment,I),transition_out(S),transition_out(L),x=!1},d(I){I&&detach(r),destroy_component(p),S&&S.d(),L&&L.d()}}}function create_if_block_2$7($){let r,p,v=Object.keys($[0].children),k=[];for(let S=0;S<v.length;S+=1)k[S]=create_each_block_1$d(get_each_context_1$d($,v,S));const x=S=>transition_out(k[S],1,1,()=>{k[S]=null});return{c(){for(let S=0;S<k.length;S+=1)k[S].c();r=empty()},m(S,L){for(let I=0;I<k.length;I+=1)k[I]&&k[I].m(S,L);insert(S,r,L),p=!0},p(S,L){if(L&1){v=Object.keys(S[0].children);let I;for(I=0;I<v.length;I+=1){const O=get_each_context_1$d(S,v,I);k[I]?(k[I].p(O,L),transition_in(k[I],1)):(k[I]=create_each_block_1$d(O),k[I].c(),transition_in(k[I],1),k[I].m(r.parentNode,r))}for(group_outros(),I=v.length;I<k.length;I+=1)x(I);check_outros()}},i(S){if(!p){for(let L=0;L<v.length;L+=1)transition_in(k[L]);p=!0}},o(S){k=k.filter(Boolean);for(let L=0;L<k.length;L+=1)transition_out(k[L]);p=!1},d(S){destroy_each(k,S),S&&detach(r)}}}function create_each_block_1$d($){let r,p;return r=new Branch_1$1({props:{window:getWindow($[6])}}),{c(){create_component(r.$$.fragment)},m(v,k){mount_component(r,v,k),p=!0},p(v,k){const x={};k&1&&(x.window=getWindow(v[6])),r.$set(x)},i(v){p||(transition_in(r.$$.fragment,v),p=!0)},o(v){transition_out(r.$$.fragment,v),p=!1},d(v){destroy_component(r,v)}}}function create_if_block_1$s($){let r,p,v=Object.entries($[0].overlays),k=[];for(let S=0;S<v.length;S+=1)k[S]=create_each_block$T(get_each_context$T($,v,S));const x=S=>transition_out(k[S],1,1,()=>{k[S]=null});return{c(){for(let S=0;S<k.length;S+=1)k[S].c();r=empty()},m(S,L){for(let I=0;I<k.length;I+=1)k[I]&&k[I].m(S,L);insert(S,r,L),p=!0},p(S,L){if(L&1){v=Object.entries(S[0].overlays);let I;for(I=0;I<v.length;I+=1){const O=get_each_context$T(S,v,I);k[I]?(k[I].p(O,L),transition_in(k[I],1)):(k[I]=create_each_block$T(O),k[I].c(),transition_in(k[I],1),k[I].m(r.parentNode,r))}for(group_outros(),I=v.length;I<k.length;I+=1)x(I);check_outros()}},i(S){if(!p){for(let L=0;L<v.length;L+=1)transition_in(k[L]);p=!0}},o(S){k=k.filter(Boolean);for(let L=0;L<k.length;L+=1)transition_out(k[L]);p=!1},d(S){destroy_each(k,S),S&&detach(r)}}}function create_each_block$T($){let r,p;return r=new OverlayApp({props:{overlay:$[3][1],parent:$[0],id:$[3][0]}}),{c(){create_component(r.$$.fragment)},m(v,k){mount_component(r,v,k),p=!0},p(v,k){const x={};k&1&&(x.overlay=v[3][1]),k&1&&(x.parent=v[0]),k&1&&(x.id=v[3][0]),r.$set(x)},i(v){p||(transition_in(r.$$.fragment,v),p=!0)},o(v){transition_out(r.$$.fragment,v),p=!1},d(v){destroy_component(r,v)}}}function create_fragment$3$($){let r,p,v=$[0]&&create_if_block$1u($);return{c(){v&&v.c(),r=empty()},m(k,x){v&&v.m(k,x),insert(k,r,x),p=!0},p(k,[x]){k[0]?v?(v.p(k,x),x&1&&transition_in(v,1)):(v=create_if_block$1u(k),v.c(),transition_in(v,1),v.m(r.parentNode,r)):v&&(group_outros(),transition_out(v,1,1,()=>{v=null}),check_outros())},i(k){p||(transition_in(v),p=!0)},o(k){transition_out(v),p=!1},d(k){v&&v.d(k),k&&detach(r)}}}function instance$3G($,r,p){let{window:v}=r,{top:k=!1}=r,{error:x=!1}=r;return $.$$set=S=>{"window"in S&&p(0,v=S.window),"top"in S&&p(1,k=S.top),"error"in S&&p(2,x=S.error)},[v,k,x]}let Branch_1$1=class extends SvelteComponent{constructor(r){super(),init(this,r,instance$3G,create_fragment$3$,safe_not_equal,{window:0,top:1,error:2})}};function get_each_context$S($,r,p){const v=$.slice();return v[2]=r[p],v}function get_each_context_1$c($,r,p){const v=$.slice();return v[5]=r[p],v}function create_if_block$1t($){let r,p;return r=new Branch_1$1({props:{window:$[5],top:!0}}),{c(){create_component(r.$$.fragment)},m(v,k){mount_component(r,v,k),p=!0},p(v,k){const x={};k&2&&(x.window=v[5]),r.$set(x)},i(v){p||(transition_in(r.$$.fragment,v),p=!0)},o(v){transition_out(r.$$.fragment,v),p=!1},d(v){destroy_component(r,v)}}}function create_each_block_1$c($){let r,p,v=!$[5].parentId&&create_if_block$1t($);return{c(){v&&v.c(),r=empty()},m(k,x){v&&v.m(k,x),insert(k,r,x),p=!0},p(k,x){k[5].parentId?v&&(group_outros(),transition_out(v,1,1,()=>{v=null}),check_outros()):v?(v.p(k,x),x&2&&transition_in(v,1)):(v=create_if_block$1t(k),v.c(),transition_in(v,1),v.m(r.parentNode,r))},i(k){p||(transition_in(v),p=!0)},o(k){transition_out(v),p=!1},d(k){v&&v.d(k),k&&detach(r)}}}function create_each_block$S($){let r,p;return r=new Branch_1$1({props:{window:$[2],top:!0,error:!0}}),{c(){create_component(r.$$.fragment)},m(v,k){mount_component(r,v,k),p=!0},p(v,k){const x={};k&1&&(x.window=v[2]),r.$set(x)},i(v){p||(transition_in(r.$$.fragment,v),p=!0)},o(v){transition_out(r.$$.fragment,v),p=!1},d(v){destroy_component(r,v)}}}function create_fragment$3_($){let r,p,v,k=$[1],x=[];for(let F=0;F<k.length;F+=1)x[F]=create_each_block_1$c(get_each_context_1$c($,k,F));const S=F=>transition_out(x[F],1,1,()=>{x[F]=null});let L=$[0],I=[];for(let F=0;F<L.length;F+=1)I[F]=create_each_block$S(get_each_context$S($,L,F));const O=F=>transition_out(I[F],1,1,()=>{I[F]=null});return{c(){r=element("div");for(let F=0;F<x.length;F+=1)x[F].c();p=space();for(let F=0;F<I.length;F+=1)I[F].c();attr(r,"class","apps")},m(F,U){insert(F,r,U);for(let R=0;R<x.length;R+=1)x[R]&&x[R].m(r,null);append(r,p);for(let R=0;R<I.length;R+=1)I[R]&&I[R].m(r,null);v=!0},p(F,[U]){if(U&2){k=F[1];let R;for(R=0;R<k.length;R+=1){const N=get_each_context_1$c(F,k,R);x[R]?(x[R].p(N,U),transition_in(x[R],1)):(x[R]=create_each_block_1$c(N),x[R].c(),transition_in(x[R],1),x[R].m(r,p))}for(group_outros(),R=k.length;R<x.length;R+=1)S(R);check_outros()}if(U&1){L=F[0];let R;for(R=0;R<L.length;R+=1){const N=get_each_context$S(F,L,R);I[R]?(I[R].p(N,U),transition_in(I[R],1)):(I[R]=create_each_block$S(N),I[R].c(),transition_in(I[R],1),I[R].m(r,null))}for(group_outros(),R=L.length;R<I.length;R+=1)O(R);check_outros()}},i(F){if(!v){for(let U=0;U<k.length;U+=1)transition_in(x[U]);for(let U=0;U<L.length;U+=1)transition_in(I[U]);v=!0}},o(F){x=x.filter(Boolean);for(let U=0;U<x.length;U+=1)transition_out(x[U]);I=I.filter(Boolean);for(let U=0;U<I.length;U+=1)transition_out(I[U]);v=!1},d(F){F&&detach(r),destroy_each(x,F),destroy_each(I,F)}}}function instance$3F($,r,p){let v;component_subscribe($,WindowStore,x=>p(1,v=x));let k=[];return ErrorWindowStore.subscribe(x=>{p(0,k=x)}),[k,v]}let AppList$1=class extends SvelteComponent{constructor(r){super(),init(this,r,instance$3F,create_fragment$3_,safe_not_equal,{})}};function create_if_block$1s($){let r,p,v=getWindow($[0]).snapped?"yes":"no",k;return{c(){r=element("div"),p=text("Snapped: "),k=text(v),attr(r,"class","section")},m(x,S){insert(x,r,S),append(r,p),append(r,k)},p(x,S){S&1&&v!==(v=getWindow(x[0]).snapped?"yes":"no")&&set_data(k,v)},d(x){x&&detach(r)}}}function create_fragment$3Z($){let r,p,v=$[0]&&!$[0].startsWith("error_"),k,x,S,L=$[1].length+"",I,O,F,U,R=$[2].length+"",N,j,q,H,Q=$[3].length+"",V,K=v&&create_if_block$1s($);return{c(){r=element("div"),p=element("div"),K&&K.c(),k=space(),x=element("div"),S=text("Running: "),I=text(L),O=space(),F=element("div"),U=text("Loaded: "),N=text(R),j=space(),q=element("div"),H=text("Dialogs: "),V=text(Q),attr(x,"class","section"),attr(F,"class","section"),attr(q,"class","section"),attr(p,"class","right"),attr(r,"class","bottombar")},m(G,Y){insert(G,r,Y),append(r,p),K&&K.m(p,null),append(p,k),append(p,x),append(x,S),append(x,I),append(p,O),append(p,F),append(F,U),append(F,N),append(p,j),append(p,q),append(q,H),append(q,V)},p(G,[Y]){Y&1&&(v=G[0]&&!G[0].startsWith("error_")),v?K?K.p(G,Y):(K=create_if_block$1s(G),K.c(),K.m(p,k)):K&&(K.d(1),K=null),Y&2&&L!==(L=G[1].length+"")&&set_data(I,L),Y&4&&R!==(R=G[2].length+"")&&set_data(N,R),Y&8&&Q!==(Q=G[3].length+"")&&set_data(V,Q)},i:noop$1,o:noop$1,d(G){G&&detach(r),K&&K.d()}}}function instance$3E($,r,p){let v,k,x,S;return component_subscribe($,appManSelected,L=>p(0,v=L)),component_subscribe($,OpenedStore,L=>p(1,k=L)),component_subscribe($,WindowStore,L=>p(2,x=L)),component_subscribe($,ErrorWindowStore,L=>p(3,S=L)),[v,k,x,S]}class BottomBar extends SvelteComponent{constructor(r){super(),init(this,r,instance$3E,create_fragment$3Z,safe_not_equal,{})}}function create_fragment$3Y($){let r,p,v=$[0].icon+"",k,x,S,L=$[0].caption+"",I,O,F;return{c(){r=element("button"),p=element("span"),k=text(v),x=space(),S=element("p"),I=text(L),attr(p,"class","material-icons-round"),attr(S,"class","caption"),attr(r,"class","action")},m(U,R){insert(U,r,R),append(r,p),append(p,k),append(r,x),append(r,S),append(S,I),O||(F=listen(r,"click",function(){is_function($[0].action)&&$[0].action.apply(this,arguments)}),O=!0)},p(U,[R]){$=U,R&1&&v!==(v=$[0].icon+"")&&set_data(k,v),R&1&&L!==(L=$[0].caption+"")&&set_data(I,L)},i:noop$1,o:noop$1,d(U){U&&detach(r),O=!1,F()}}}function instance$3D($,r,p){let{action:v}=r;return $.$$set=k=>{"action"in k&&p(0,v=k.action)},[v]}let Action$1=class extends SvelteComponent{constructor(r){super(),init(this,r,instance$3D,create_fragment$3Y,safe_not_equal,{action:0})}};function create_fragment$3X($){let r,p,v,k,x,S,L;return{c(){r=element("button"),p=element("span"),p.textContent="settings",v=space(),k=element("p"),k.textContent="App info",attr(p,"class","material-icons-round"),attr(k,"class","caption"),attr(r,"class","action"),r.disabled=x=!$[0]},m(I,O){insert(I,r,O),append(r,p),append(r,v),append(r,k),S||(L=listen(r,"click",$[1]),S=!0)},p(I,[O]){O&1&&x!==(x=!I[0])&&(r.disabled=x)},i:noop$1,o:noop$1,d(I){I&&detach(r),S=!1,L()}}}function instance$3C($,r,p){let v;component_subscribe($,appManSelected,x=>p(0,v=x));function k(){AppInfoId.set(v),openWindow("AppInfo")}return[v,k]}class AppInfo extends SvelteComponent{constructor(r){super(),init(this,r,instance$3C,create_fragment$3X,safe_not_equal,{})}}function create_fragment$3W($){let r,p,v,k,x,S,L;return{c(){r=element("button"),p=element("span"),p.textContent="close",v=space(),k=element("p"),k.textContent="Close",attr(p,"class","material-icons-round"),attr(k,"class","caption"),attr(r,"class","action"),r.disabled=x=!$[0]},m(I,O){insert(I,r,O),append(r,p),append(r,v),append(r,k),S||(L=listen(r,"click",$[1]),S=!0)},p(I,[O]){O&1&&x!==(x=!I[0])&&(r.disabled=x)},i:noop$1,o:noop$1,d(I){I&&detach(r),S=!1,L()}}}function instance$3B($,r,p){let v;component_subscribe($,appManSelected,x=>p(0,v=x));function k(){closeWindow(v),set_store_value(appManSelected,v=null,v)}return[v,k]}class Close extends SvelteComponent{constructor(r){super(),init(this,r,instance$3B,create_fragment$3W,safe_not_equal,{})}}function create_fragment$3V($){let r,p,v,k,x,S,L;return{c(){r=element("button"),p=element("span"),p.textContent="block",v=space(),k=element("p"),k.textContent="Disable",attr(p,"class","material-icons-round"),attr(k,"class","caption"),attr(r,"class","action"),r.disabled=x=!$[0]},m(I,O){insert(I,r,O),append(r,p),append(r,v),append(r,k),S||(L=listen(r,"click",$[1]),S=!0)},p(I,[O]){O&1&&x!==(x=!I[0])&&(r.disabled=x)},i:noop$1,o:noop$1,d(I){I&&detach(r),S=!1,L()}}}function instance$3A($,r,p){let v;component_subscribe($,appManSelected,x=>p(0,v=x));function k(){disableApp(v)}return[v,k]}class DisableApp extends SvelteComponent{constructor(r){super(),init(this,r,instance$3A,create_fragment$3V,safe_not_equal,{})}}function get_each_context$R($,r,p){const v=$.slice();return v[0]=r[p],v}function create_each_block$R($){let r,p;return r=new Action$1({props:{action:$[0]}}),{c(){create_component(r.$$.fragment)},m(v,k){mount_component(r,v,k),p=!0},p:noop$1,i(v){p||(transition_in(r.$$.fragment,v),p=!0)},o(v){transition_out(r.$$.fragment,v),p=!1},d(v){destroy_component(r,v)}}}function create_fragment$3U($){let r,p,v,k,x,S,L,I,O,F,U,R,N;v=new AppInfo({}),L=new DisableApp({}),O=new Close({});let j=staticAppManActions,q=[];for(let Q=0;Q<j.length;Q+=1)q[Q]=create_each_block$R(get_each_context$R($,j,Q));const H=Q=>transition_out(q[Q],1,1,()=>{q[Q]=null});return{c(){r=element("div"),p=element("div"),create_component(v.$$.fragment),k=space(),x=element("div"),S=space(),create_component(L.$$.fragment),I=space(),create_component(O.$$.fragment),F=space(),U=element("div"),R=space();for(let Q=0;Q<q.length;Q+=1)q[Q].c();attr(x,"class","sep"),attr(U,"class","sep"),attr(p,"class","actions"),attr(r,"class","topbar")},m(Q,V){insert(Q,r,V),append(r,p),mount_component(v,p,null),append(p,k),append(p,x),append(p,S),mount_component(L,p,null),append(p,I),mount_component(O,p,null),append(p,F),append(p,U),append(p,R);for(let K=0;K<q.length;K+=1)q[K]&&q[K].m(p,null);N=!0},p(Q,[V]){if(V&0){j=staticAppManActions;let K;for(K=0;K<j.length;K+=1){const G=get_each_context$R(Q,j,K);q[K]?(q[K].p(G,V),transition_in(q[K],1)):(q[K]=create_each_block$R(G),q[K].c(),transition_in(q[K],1),q[K].m(p,null))}for(group_outros(),K=j.length;K<q.length;K+=1)H(K);check_outros()}},i(Q){if(!N){transition_in(v.$$.fragment,Q),transition_in(L.$$.fragment,Q),transition_in(O.$$.fragment,Q);for(let V=0;V<j.length;V+=1)transition_in(q[V]);N=!0}},o(Q){transition_out(v.$$.fragment,Q),transition_out(L.$$.fragment,Q),transition_out(O.$$.fragment,Q),q=q.filter(Boolean);for(let V=0;V<q.length;V+=1)transition_out(q[V]);N=!1},d(Q){Q&&detach(r),destroy_component(v),destroy_component(L),destroy_component(O),destroy_each(q,Q)}}}let TopBar$3=class extends SvelteComponent{constructor(r){super(),init(this,r,null,create_fragment$3U,safe_not_equal,{})}};function create_fragment$3T($){let r,p,v,k,x,S;return r=new TopBar$3({}),v=new AppList$1({}),x=new BottomBar({}),{c(){create_component(r.$$.fragment),p=space(),create_component(v.$$.fragment),k=space(),create_component(x.$$.fragment)},m(L,I){mount_component(r,L,I),insert(L,p,I),mount_component(v,L,I),insert(L,k,I),mount_component(x,L,I),S=!0},p:noop$1,i(L){S||(transition_in(r.$$.fragment,L),transition_in(v.$$.fragment,L),transition_in(x.$$.fragment,L),S=!0)},o(L){transition_out(r.$$.fragment,L),transition_out(v.$$.fragment,L),transition_out(x.$$.fragment,L),S=!1},d(L){destroy_component(r,L),L&&detach(p),destroy_component(v,L),L&&detach(k),destroy_component(x,L)}}}let AppManager$1=class extends SvelteComponent{constructor(r){super(),init(this,r,null,create_fragment$3T,safe_not_equal,{})}};const RunDialog_svelte_svelte_type_style_lang="";function get_each_context$Q($,r,p){const v=$.slice();return v[5]=r[p],v}function create_if_block$1r($){let r,p=$[5].id+"",v,k;return{c(){r=element("option"),v=text(p),r.__value=k=$[5].id,r.value=r.__value},m(x,S){insert(x,r,S),append(r,v)},p(x,S){S&2&&p!==(p=x[5].id+"")&&set_data(v,p),S&2&&k!==(k=x[5].id)&&(r.__value=k,r.value=r.__value)},d(x){x&&detach(r)}}}function create_each_block$Q($){let r=!isOpened($[5].id)&&!$[5].info.custom&&!isDisabled($[5].id),p,v=r&&create_if_block$1r($);return{c(){v&&v.c(),p=empty()},m(k,x){v&&v.m(k,x),insert(k,p,x)},p(k,x){x&2&&(r=!isOpened(k[5].id)&&!k[5].info.custom&&!isDisabled(k[5].id)),r?v?v.p(k,x):(v=create_if_block$1r(k),v.c(),v.m(p.parentNode,p)):v&&(v.d(1),v=null)},d(k){v&&v.d(k),k&&detach(p)}}}function create_fragment$3S($){let r,p,v,k,x,S,L,I,O,F,U,R,N,j,q,H,Q,V,K=$[1],G=[];for(let Y=0;Y<K.length;Y+=1)G[Y]=create_each_block$Q(get_each_context$Q($,K,Y));return{c(){r=element("div"),p=element("img"),k=space(),x=element("div"),S=element("p"),S.textContent="Select the ID of the app you want to run from the following list:",L=space(),I=element("select");for(let Y=0;Y<G.length;Y+=1)G[Y].c();O=space(),F=element("div"),U=element("div"),R=element("button"),N=text("Run"),q=space(),H=element("button"),H.textContent="Cancel",src_url_equal(p.src,v=appSettings)||attr(p,"src",v),attr(p,"alt","Run"),attr(p,"class","svelte-1pwxzgl"),attr(S,"class","caption svelte-1pwxzgl"),attr(I,"class","svelte-1pwxzgl"),$[0]===void 0&&add_render_callback(()=>$[4].call(I)),attr(x,"class","inner"),attr(r,"class","wrapper svelte-1pwxzgl"),R.disabled=j=!$[0],attr(U,"class","inner svelte-1pwxzgl"),attr(F,"class","actions svelte-1pwxzgl")},m(Y,J){insert(Y,r,J),append(r,p),append(r,k),append(r,x),append(x,S),append(x,L),append(x,I);for(let Z=0;Z<G.length;Z+=1)G[Z]&&G[Z].m(I,null);select_option(I,$[0],!0),insert(Y,O,J),insert(Y,F,J),append(F,U),append(U,R),append(R,N),append(U,q),append(U,H),Q||(V=[listen(I,"change",$[4]),listen(R,"click",$[2]),listen(H,"click",$[3])],Q=!0)},p(Y,[J]){if(J&2){K=Y[1];let Z;for(Z=0;Z<K.length;Z+=1){const X=get_each_context$Q(Y,K,Z);G[Z]?G[Z].p(X,J):(G[Z]=create_each_block$Q(X),G[Z].c(),G[Z].m(I,null))}for(;Z<G.length;Z+=1)G[Z].d(1);G.length=K.length}J&3&&select_option(I,Y[0]),J&3&&j!==(j=!Y[0])&&(R.disabled=j)},i:noop$1,o:noop$1,d(Y){Y&&detach(r),destroy_each(G,Y),Y&&detach(O),Y&&detach(F),Q=!1,run_all(V)}}}function instance$3z($,r,p){let v;component_subscribe($,WindowStore,I=>p(1,v=I));let k;function x(){openWindow(k,!0),S()}function S(){hideOverlay("run","AppMan")}function L(){k=select_value(this),p(0,k)}return[k,v,x,S,L]}class RunDialog extends SvelteComponent{constructor(r){super(),init(this,r,instance$3z,create_fragment$3S,safe_not_equal,{})}}const AppManager={info:{name:"Application Manager",description:"Manage Open Apps",builtin:!0,version:"1.5.0",author:"Izaak Kuipers",icon:appMan},size:{w:600,h:500},pos:{x:30,y:40},minSize:{w:600,h:500},maxSize:{w:600,h:500},controls:{min:!1,max:!0,cls:!0},state:{headless:!1,resizable:!1,windowState:{min:!1,max:!1,fll:!1}},content:AppManager$1,glass:!0,events:{open(){createTrayIcon({image:AppManager.info.icon,identifier:"Application Manager",onOpen(){}})},close(){disposeTrayIcon("Application Manager")}},overlays:{run:{info:{name:"Run",author:"ArcOS Team",version:"1.0.0"},size:{w:NaN,h:NaN},show:!1,content:RunDialog}}},AppPoker$2="",notice="";function create_fragment$3R($){let r,p,v,k,x,S,L,I,O,F;return{c(){r=element("div"),p=element("div"),v=element("span"),k=text($[2]),x=space(),S=element("div"),L=element("p"),I=text($[0]),O=space(),F=element("p"),attr(v,"class","material-icons-round"),attr(L,"class","title"),attr(F,"class","message"),attr(r,"class","notice")},m(U,R){insert(U,r,R),append(r,p),append(p,v),append(v,k),append(r,x),append(r,S),append(S,L),append(L,I),append(S,O),append(S,F),F.innerHTML=$[1]},p(U,[R]){R&4&&set_data(k,U[2]),R&1&&set_data(I,U[0]),R&2&&(F.innerHTML=U[1])},i:noop$1,o:noop$1,d(U){U&&detach(r)}}}function instance$3y($,r,p){let{title:v}=r,{text:k}=r,{icon:x}=r;return $.$$set=S=>{"title"in S&&p(0,v=S.title),"text"in S&&p(1,k=S.text),"icon"in S&&p(2,x=S.icon)},[v,k,x]}class Notice extends SvelteComponent{constructor(r){super(),init(this,r,instance$3y,create_fragment$3R,safe_not_equal,{title:0,text:1,icon:2})}}function get_each_context$P($,r,p){const v=$.slice();return v[4]=r[p],v}function create_if_block$1q($){let r,p,v,k;r=new Notice({props:{icon:"warning",text:"You can alter properties for applications that are disabled by default. This can cause the UI to break, be careful!",title:"Hold up!"}});let x=AppPokerProperties,S=[];for(let L=0;L<x.length;L+=1)S[L]=create_each_block$P(get_each_context$P($,x,L));return{c(){create_component(r.$$.fragment),p=space(),v=element("div");for(let L=0;L<S.length;L+=1)S[L].c();attr(v,"class","manager")},m(L,I){mount_component(r,L,I),insert(L,p,I),insert(L,v,I);for(let O=0;O<S.length;O+=1)S[O]&&S[O].m(v,null);k=!0},p(L,I){if(I&2){x=AppPokerProperties;let O;for(O=0;O<x.length;O+=1){const F=get_each_context$P(L,x,O);S[O]?S[O].p(F,I):(S[O]=create_each_block$P(F),S[O].c(),S[O].m(v,null))}for(;O<S.length;O+=1)S[O].d(1);S.length=x.length}},i(L){k||(transition_in(r.$$.fragment,L),k=!0)},o(L){transition_out(r.$$.fragment,L),k=!1},d(L){destroy_component(r,L),L&&detach(p),L&&detach(v),destroy_each(S,L)}}}function create_each_block$P($){let r,p=$[4].caption+"",v,k,x,S;function L(){return $[3]($[4])}return{c(){r=element("button"),v=text(p),k=space(),toggle_class(r,"off",!$[4].getter($[1]))},m(I,O){insert(I,r,O),append(r,v),append(r,k),x||(S=listen(r,"click",L),x=!0)},p(I,O){$=I,O&2&&toggle_class(r,"off",!$[4].getter($[1]))},d(I){I&&detach(r),x=!1,S()}}}function create_fragment$3Q($){let r,p,v=$[1]&&!$[0]&&create_if_block$1q($);return{c(){v&&v.c(),r=empty()},m(k,x){v&&v.m(k,x),insert(k,r,x),p=!0},p(k,[x]){k[1]&&!k[0]?v?(v.p(k,x),x&3&&transition_in(v,1)):(v=create_if_block$1q(k),v.c(),transition_in(v,1),v.m(r.parentNode,r)):v&&(group_outros(),transition_out(v,1,1,()=>{v=null}),check_outros())},i(k){p||(transition_in(v),p=!0)},o(k){transition_out(v),p=!1},d(k){v&&v.d(k),k&&detach(r)}}}function instance$3x($,r,p){let v;component_subscribe($,AppPokerData,L=>p(1,v=L));let{app:k}=r,x=!1;WindowStore.subscribe(L=>{L&&(p(0,x=!0),p(0,x=!1))}),AppPokerData.subscribe(L=>{L&&(p(2,k.info.titleSuffix=` - Managing ${L.info.name}`,k),updateStores())});const S=L=>L.action(v);return $.$$set=L=>{"app"in L&&p(2,k=L.app)},[x,v,k,S]}let AppPoker$1=class extends SvelteComponent{constructor(r){super(),init(this,r,instance$3x,create_fragment$3Q,safe_not_equal,{app:2})}};const AppPoker={info:{name:"App Poker",description:"Poke properties of applications",builtin:!0,version:"1.0.0",author:"Izaak Kuipers",hidden:!0,icon:logo$b},size:{w:500,h:300},pos:{x:30,y:40},minSize:{w:500,h:300},maxSize:{w:500,h:300},controls:{min:!1,max:!1,cls:!0},state:{headless:!1,resizable:!1,windowState:{min:!1,max:!1,fll:!1}},content:AppPoker$1,glass:!1,events:{close(){AppPokerData.set(null)}},disabledWarning:{title:"Can't poke apps",message:"The app poker is disabled, so you won't be able to poke applications. Go to the Apps page in settings to re-enable it."}},arctermIcon=""+new URL("arcterm-b608c3ab.svg",import.meta.url).href,arcterm$1="",sleep=$=>new Promise(r=>setTimeout(r,$));function getSwitches($){Log({source:"ArcTerm",msg:`getSwitches: parsing argv with ${$.length} items...`,level:LogLevel.info});let r={},p="";const v="--";for(let k=0;k<$.length;k++)if($[k].startsWith(v)){const x=$[k].replace(v,"");p=x==p?p:x,r[p]||(r[p]="")}else p&&(r[p]+=`${$[k]} `);for(const k in r)r[k]=r[k].trim();return r}function switchExists($,r){Log({source:"ArcTerm",msg:`switchExists: ${r}`,level:LogLevel.info});const p=getSwitches($);for(const v in p)if(v==r)return!0;return!1}const AppList={keyword:"applist",exec($,r,p){const v=switchExists(r,"open")?getOpenedStore():get_store_value(WindowStore);header(p);for(let k=0;k<v.length;k++)output(p,v[k])},description:"List all- or opened ArcOS apps.",syntax:"([opened?])"};function output($,r){const p=r.id.padEnd(30," "),v=r.info.name.padEnd(30," "),k=r.info.version;$.std.writeColor(`${v}[${p}]${k}`,"gray")}function header($){const r="Name".padEnd(30," "),p="ID".padEnd(30," "),k=`${r}${p}Version`;$.std.writeColor(`[${k}]`,"yellow"),$.std.writeSeperator(k.length)}const sizeUnits=["bytes","KB","MB","GB","TB","PB","EB","ZB","YB"];function formatBytes($){let r=0,p=$;for(;p>=1024&&++r;)p=p/1024;return p.toFixed(p<10&&r>0?1:0)+" "+sizeUnits[r]}function getCPU(){return{cores:navigator.hardwareConcurrency||4}}const GPU_VENDOR_REGEX=/(intel|nvidia|sis|amd|apple|powervr)\W? (.+)/i,GPU_RENDERER_REGEX=/(((?:radeon|adreno|geforce|mali).+))/i,GPU_CLEANUP_REGEX=/ ?(\(.+?\)| direct3d.+| opengl.+|\/.+$| gpu$)/gi;function getGPU(){const $={supported:"WebGLRenderingContext"in globalThis,active:!1,vendor:void 0,model:void 0},r=document.createElement("canvas"),p=r.getContext("webgl2")||r.getContext("webgl")||r.getContext("experimental-webgl");if(!p)return $;$.active=!0;const v=p.getExtension("WEBGL_debug_renderer_info");$.vendor=p.getParameter(v.UNMASKED_VENDOR_WEBGL);const k=p.getParameter(v.UNMASKED_RENDERER_WEBGL)??"",x=k.match(GPU_VENDOR_REGEX),S=k.match(GPU_RENDERER_REGEX);return x&&($.vendor=x[1]),$.model=S?S[1]:k,$.model=$.model.replace(GPU_CLEANUP_REGEX,""),$}function getMEM(){return{kb:(navigator.deviceMemory||1)*1024**3}}const defaultNetwork={downlink:0,effectiveType:"0G",rtt:0,saveData:!1,online:!1};function getNET(){const $=navigator.connection;return $||defaultNetwork}function getDeviceInfo(){return{gpu:getGPU(),cpu:getCPU(),mem:getMEM(),net:getNET()}}var u$1={};e(u$1,{getName:()=>n$1,getTauriVersion:()=>s$1,getVersion:()=>i,hide:()=>t,show:()=>o$1});async function i(){return a$1({__tauriModule:"App",message:{cmd:"getAppVersion"}})}async function n$1(){return a$1({__tauriModule:"App",message:{cmd:"getAppName"}})}async function s$1(){return a$1({__tauriModule:"App",message:{cmd:"getTauriVersion"}})}async function o$1(){return a$1({__tauriModule:"App",message:{cmd:"show"}})}async function t(){return a$1({__tauriModule:"App",message:{cmd:"hide"}})}var c={};e(c,{isRegistered:()=>u,register:()=>s,registerAll:()=>n,unregister:()=>a,unregisterAll:()=>l});async function s($,r){return a$1({__tauriModule:"GlobalShortcut",message:{cmd:"register",shortcut:$,handler:s$4(r)}})}async function n($,r){return a$1({__tauriModule:"GlobalShortcut",message:{cmd:"registerAll",shortcuts:$,handler:s$4(r)}})}async function u($){return a$1({__tauriModule:"GlobalShortcut",message:{cmd:"isRegistered",shortcut:$}})}async function a($){return a$1({__tauriModule:"GlobalShortcut",message:{cmd:"unregister",shortcut:$}})}async function l(){return a$1({__tauriModule:"GlobalShortcut",message:{cmd:"unregisterAll"}})}const blocks=["Ctrl+R","F5","Ctrl+Shift+R","Ctrl+P","F3","Ctrl+F","F7"];async function define(){doRegister(),E$1(c$2.WINDOW_BLUR,l),E$1(c$2.WINDOW_FOCUS,doRegister)}function doRegister(){l();for(let $=0;$<blocks.length;$++){const r=blocks[$];s(r,unset)}s("Alt+Enter",async()=>{const $=await b.isFullscreen();await b.setFullscreen(!$)})}function unset(){if(document.hasFocus())return!1}async function inTauri(){try{return!!await i()}catch{return!1}}const colors="red,orange,yellow,green,aqua,blue,purple".split(",");function getServer(){if(Log({source:"api/server.ts: getServer",msg:"Getting current server (arcos-current-server)",level:LogLevel.info}),!localStorage.getItem("arcos-current-server")){Log({source:"api/server.ts: getServer",msg:"arcos-current-server does not exist, falling back to remembered servers",level:LogLevel.warn});const r=getAllServers();return r.length?(localStorage.setItem("arcos-current-server",r[r.length-1]),r[r.length-1]):(Log({source:"api/server.ts: getServer",msg:"Fallback failed: no servers to select from",level:LogLevel.error}),null)}return localStorage.getItem("arcos-current-server")}function getAllServers(){return Log({source:"api/server.ts: getAllServers",msg:"Retrieving all servers from arcos-servers",level:LogLevel.info}),localStorage.getItem("arcos-servers")?JSON.parse(localStorage.getItem("arcos-servers")):[]}function addServer($,r=!0){Log({source:"api/server.ts: addServer",msg:`Adding server ${$} to arcos-servers`,level:LogLevel.info});const p=getAllServers();p.includes($)||p.push($),localStorage.setItem("arcos-servers",JSON.stringify(p)),r&&localStorage.setItem("arcos-current-server",$)}function migrateToMulti(){Log({source:"api/server.ts: migrateToMulti",msg:"Migrating single-API localStorage state to multi-API",level:LogLevel.info});const $=localStorage.getItem("arcos-server");$&&(addServer($),localStorage.removeItem("arcos-server"))}const ArcFetch={keyword:"arcfetch",async exec($,r,p){p.std.writeLine(`
`),await graphic(p),p.std.writeLine(""),colorBar(p)},description:"Show system information"};async function getItems($){const r=getDeviceInfo(),p=await inTauri();return Object.entries({Server:`${getServer()} @ rev ${minArcAPI}`,Username:get_store_value(UserName),Processor:`${r.cpu.cores} cores`,GPU:`${r.gpu.vendor} ${r.gpu.model}`,Memory:`~ ${formatBytes(r.mem.kb)}`,Mode:(p?"Desktop":"Browser")+` (state ${get_store_value(CurrentState).key})`,Reference:$.referenceId})}function colorBar($){$.std.write(`
                            `);for(let r=0;r<colors.length;r++)$.std.writeColor("[██ ]",colors[r],"white",!0)}async function graphic($){const r=await getItems($),p=["        ","    _   ","   /_\\  ","  / _ \\ "," /_/ \\_\\","        ","        "];for(let v=0;v<p.length;v++)$.std.writeColor(`  [${p[v]}]    `,"blue","white",!0),r[v]&&$.std.writeColor(`[${r[v][0].padEnd(12," ")}]: ${r[v][1]}`,"purple","white",!0),$.std.writeLine("")}const ATConf={keyword:"atconf",async exec($,r,p){const v={name:"arcterm.conf",path:p.env.config.configPath,data:await readFile(p.env.config.configPath),mime:"application/json"};FileLoaders.editFile.loader(v)},description:"Edit ArcTerm configuration"};function getParentDirectory($){const r=$.split("/");return $=="./"||!r.length?$:r.length==1?"./":(r.splice(-1),r.join("/"))}function closeFile($){const r=get_store_value(WindowStore);for(let p=0;p<r.length;p++)r[p].id==$&&(r[p].openedFile=null);WindowStore.set(r)}const Cd={keyword:"cd",async exec($,r,p){const v=r.join(" "),k=(p.path!="./"?`${p.path}/${v}`:v).replaceAll("//","/");if(v==".."){p.path=getParentDirectory(p.path);return}if(v.includes("//"))return p.std.Error("Malformed path");if(v=="/")return p.path="./";if(v!="."){if(!await getDirectory(k))return p.std.Error(`Can't change to "${v}": Path not found`);p.path=k}},description:"Change directory",syntax:"[<path>]"},Clear={keyword:"clear",exec($,r,p){p.input.current=null,setTimeout(()=>{p.std.clear(),p.input.unlock()})},description:"Clears the screen"},Colors={keyword:"colors",exec($,r,p){const v=r.join(" ").trim()||"The quick brown fox jumps over the lazy dog.",k=["gray","white","red","orange","yellow","green","aqua","blue","purple"];for(let x=0;x<k.length;x++)p.std.writeColor(`${k[x].padEnd(10," ")}: [${v}]`,k[x])},description:"Print out all ArcTerm colors",syntax:"([sample?])"},Dir$4={keyword:"dir",async exec($,r,p){const v=p.path,k=await getDirectory(v),x=k.directories,S=k.files;let L=0;p.std.writeColor(`
Directory contents of [${v}]
`,"blue");for(let F=0;F<x.length;F++){const U=x[F].name,R="     <DIR>";p.std.writeColor(`[${R}] ${U}`,"gray","white")}for(let F=0;F<S.length;F++){const U=S[F].filename,R=`${S[F].size}`.padStart(10," ");L+=S[F].size,p.std.writeColor(`[${R}] ${U}`,"gray","white")}p.std.writeLine("");const I=formatBytes(L).padStart(10," "),O=`(${L} bytes)`;p.std.writeLine(`${I} ${O}`)},description:"List the contents of the current directory",syntax:"<[path]>"},Echo={keyword:"echo",exec($,r,p){const v=r.join(" ").match(/"(.*?)"/);if(v&&v.length>1){const k=p.vars.replace(v[1]);p.std.writeLine(k);return}p.std.Error("Unable to echo: syntax invalid!")},description:"Echo a string.",syntax:'"<[string]>"'},Vars={keyword:"vars",async exec($,r,p){const v=Object.entries(await p.vars.getAll());for(let k=0;k<v.length;k++){if(!v[k][1].value)continue;const x=v[k][1].value,S=v[k][0].padEnd(20," "),L=v[k][1].readOnly?"#":" ";p.std.writeColor(`${L} [${S}]: `,"aqua","white",!0),p.std.write(`${x}`),p.std.writeLine("")}},description:"List the variables"},Exit$2={keyword:"exit",exec($,r,p){if(!p.app)return p.std.Error("can't close ArcTerm: no associated app in constructor");closeWindow(p.app.id)},description:"Quit ArcTerm"},Help={keyword:"help",exec($,r,p){if(switchExists(r,"count"))return p.std.writeColor(`ArcTerm has [${p.commands.length}] commands.`,"aqua");if(r[0])return specific(r[0],p);all(p)},description:"Display a list of built-in commands",syntax:"([command?])"};function all($){const r=$.commands.sort((p,v)=>v.keyword<p.keyword?1:-1);for(let p=0;p<r.length;p++){const v=r[p].keyword.toUpperCase().padEnd(15," "),k=r[p].description;$.std.writeColor(`[${v}]${k}`,"orange")}}function specific($,r){const p=r.commandHandler.getCommand($);if(!p||p.keyword==defaultCommand.keyword)return r.std.Error(`${$}: command not found.`);r.std.writeColor(`[${p.keyword.toUpperCase()}]: ${p.description}`,"blue"),r.std.writeLine(`
`),r.std.writeColor(`Usage: [${p.keyword}] ${p.syntax||""}`,"blue")}const History={keyword:"history",exec($,r,p){if(r.includes("clear"))return clear(p);const v=p.commandHandler.history;for(let k=0;k<v.length;k++){const x=`${k}`.padStart(3,"0");p.std.writeColor(`[${x}]: ${v[k]}`,"yellow")}},description:"Show the command history",syntax:"([clear?])"};function clear($){const r=$.commandHandler.history.length;$.commandHandler.history=[],$.std.writeColor(`[SUCCESS]: History cleared, ${r} items removed.`,"green")}const Kill={keyword:"kill",exec($,r,p){const v=r[0];if(!v)return p.std.Error("Missing application ID.");const k=getWindow(v);if(!k)return p.std.Error(`${v}: app not found.`);closeWindow(v),p.std.writeLine(`Closed ${k.info.name}`)},description:"Terminate a program",syntax:'"<[appId]>"'},LogDump={keyword:"logdump",async exec($,r,p){const v=`LogDump-${Math.floor(Math.random()*1e9)}.txt`;p.std.writeColor(`Writing log to [./${v}]...
`,"purple");const k=get_store_value(log);let x=`-- [START OF LOG] --
`;const S=k.length,L=p.std.writeColor(`Item [0] of [${S}] processed.`,"blue");for(let O=0;O<k.length;O++){const F=O+1,U=Math.floor(100/S*(O+1));p.std.updateColor(L,`Item [${F}] of [${S}] ([${U}%]) processed.`,"blue"),x+=`[${k[O].timestamp} | ${k[O].source}] ${k[O].msg}
`,await sleep(5)}const I=new Blob([x],{type:"text/plain"});await writeFile(`./${v}`,I),p.vars.set("ldout",v),p.std.writeColor(`
Wrote [${x.length}] bytes.`,"purple"),fbClass.refresh()},description:"Dump the log to a file"},Mkdir={keyword:"mkdir",async exec($,r,p){const v=p.path,k=r.join(" "),x=(v!="./"?`${v}/${k}`:k).replaceAll("//","/");await createDirectory(x),p.std.writeLine(`Directory '${k}' created.`)},description:"Create a directory",syntax:'"<[name]>"'},oa={keyword:"oa",exec($,r,p){const v=get_store_value(WindowStore);for(let k=0;k<v.length;k++)v[k].info.custom||(p.std.writeColor(`Opening [${v[k].id}]`,"orange"),openWindow(v[k].id,!0))},description:"Open all apps"},Open={keyword:"open",exec($,r,p){const v=r[0],k=getWindow(v);if(!k)return p.std.Error(`${v}: app not found.`);openWindow(v,!0),p.std.writeLine(`Opened ${k.info.name}`)},description:"Open a window",syntax:'"<[appId]>"'};class ArcTermConfig{constructor(r,p){me(this,"env");me(this,"configPath","./arcterm.conf");me(this,"configKeys",["prompt","greeting","logo","promptColor"]);Log({source:`ArcTerm ${p.referenceId}`,msg:"Creating new ArcTermConfig",level:LogLevel.info}),this.env=r,this.loadConfigFile()}getConfig(){const r={};for(let p=0;p<this.configKeys.length;p++){const v=this.configKeys[p];r[v]=this.env[v]}return r}loadConfig(r){for(let p=0;p<this.configKeys.length;p++){const v=this.configKeys[p],k=this.env[v]!=null&&r,x=typeof this.env[v]==typeof r[v];k&&x&&(this.env[v]=r[v])}}async loadConfigFile(){if(!get_store_value(UserData))return;const r=await readFile(this.configPath);if(!r)return this.writeConfig();const v=new TextDecoder("utf-8").decode(new Uint8Array(r));let k;try{k=JSON.parse(v)}catch{k={}}this.loadConfig(k)}async writeConfig(){const r={};for(let v=0;v<this.configKeys.length;v++){const k=this.configKeys[v];r[k]=this.env[k]}const p=new Blob([JSON.stringify(r,null,2)],{type:"application/json"});await writeFile(this.configPath,p)}}class ArcTermEnv{constructor(r){me(this,"config");me(this,"prompt","[&u]: [~/&p] $ ");me(this,"promptColor","green");me(this,"greeting",`ArcTerm & ArcOS v${ArcOSVersion}

Licensed under GPLv3. Created by the ArcOS team.`);me(this,"logo",!0);Log({source:`ArcTerm ${r.referenceId}`,msg:"Creating new ArcTermEnv",level:LogLevel.info}),this.config=new ArcTermConfig(this,r)}}const Reload={keyword:"reload",async exec($,r,p){p.dispose(),setTimeout(async()=>{await p.initialize()})},description:"Reload the ArcTerm configuration"},Restart$1={keyword:"restart",exec($,r,p){if(get_store_value(CurrentState).key=="desktop")return restart$1(!1);p.std.writeColor("[RESTART]: Terminating NOW.","green"),setTimeout(()=>{location.reload()},1e3)},description:"Restart ArcOS"},Rf={keyword:"rf",async exec($,r,p){const v=p.path,k=r.join(" ").trim(),x=await getDirectory(v);for(let S=0;S<x.files.length;S++){const L=x.files[S];if(L.filename==k){const I=await readFile(L.scopedPath);if(!I)return p.std.Error("Could not read the file.");if(!L.mime.includes("text/"))return p.std.Error("Not attempting to read non-text file.");const F=new TextDecoder("utf-8").decode(new Uint8Array(I));p.std.writeLine(F);return}}p.std.Error("The file doesn't exist on ArcFS.")},description:"Read a file from ArcFS",syntax:"<[filename]>"},DEFSIZE=20,Ri={keyword:"ri",async exec($,r,p){const v=getSwitches(r),k=v.file,x=v.url;let S;try{S=parseInt(v.height)}catch{S=DEFSIZE}if(p.std.writeLine(`
`),k)return await displayFile(p,k,S||DEFSIZE);if(x)return displayUrl(p,x,S||DEFSIZE);p.std.Error("Missing parameters.")},description:"Display image from ArcFS or URL"};async function displayFile($,r,p){const v=$.path,k=await getDirectory(v);for(let x=0;x<k.files.length;x++){const S=k.files[x];if(S.filename==r){const L=await readFile(S.scopedPath);if(!L)return $.std.Error("Could not read the file.");const I=new Blob([new Uint8Array(L)],{type:S.mime}),O=URL.createObjectURL(I);$.std.writeImage(O,p);return}}}function displayUrl($,r,p){$.std.writeImage(r,p||DEFSIZE)}const Rm={keyword:"rm",async exec($,r,p){const v=p.path,k=r.join(" "),x=(v!="./"?`${v}/${k}`:k).replaceAll("//","/");if(!k.trim().length)return p.std.Error("Missing filename");try{await deleteItem(x)}catch{p.std.Error(`Unable to delete "${k}"`)}},description:"Delete a file or folder",syntax:'"<[name]>"'},Run={keyword:"run",async exec($,r,p){const v=p.path,k=r.join(" ").trim(),x=await getDirectory(v);for(let S=0;S<x.files.length;S++){const L=x.files[S];if(L.filename==k){p.std.writeLine(`Opening ${k} (${L.size} Bytes)`),o(L);return}}p.std.Error("The file doesn't exist on ArcFS.")},description:"Run a file from your ArcFS account.",syntax:'"<[filename]>"'};async function o($){const r=$.scopedPath;r.startsWith("./")&&($.scopedPath=r.replace("./",""));const p=await openUserFile($);WindowStore.set(get_store_value(WindowStore)),p!=!0&&openWithDialog({...p,anymime:!0})}const Set$1={keyword:"set",async exec($,r,p){const v=r[0],k=r.join(" ").match(/"(.*?)"/);if(!k||k.length<2){await p.vars.delete(v)||p.std.Error("Can't delete variable: deletion isn't allowed or the variable is read-only.");return}const x=k[1];await p.vars.set(v,x)||p.std.Error("Can't update variable: the variable is readonly.")},description:"Set a variable",syntax:'<[key]> "<[value]>"'},Shutdown$1={keyword:"shutdown",exec($,r,p){if(get_store_value(CurrentState).key=="desktop")return shutdown();p.std.writeColor("[SHUTDOWN]: Terminating NOW.","green"),setTimeout(()=>{applyState("turnedoff")},1e3)},description:"Turn off ArcOS"},Tauri={keyword:"tauri",async exec($,r,p){const v=await inTauri();p.std.writeColor(`[STATUS]: You are ${v?"in the Desktop app":"in the Web version"}`,"aqua")},description:"Check if you are in the desktop app or not"},UDD={keyword:"udd",async exec($,r,p){const v=`./UserDump-${Math.floor(Math.random()*1e9)}.txt`;p.std.writeColor(`Writing log to [${v}]...
`,"purple");const k=new Blob([JSON.stringify(get_store_value(UserData),null,2)],{type:"text/plain"});await writeFile(v,k)},description:"Dump the userdata to a file"},Users={keyword:"users",async exec($,r,p){const v=await getUsers(),k=Object.entries(v),x=Object.keys(v);for(let S=0;S<k.length;S++){const L=k[S][1].acc.admin?"Administrator":"Regular user",I=k[S][0].padEnd(getMaxLength(x)," ");p.std.writeColor(`[${I}]: ${L}`,"blue")}},description:"Display ArcAPI users"};function getMaxLength($){let r=0;for(let p=0;p<$.length;p++)$[p].length>r&&(r=$[p].length);return r+5}const Ver={keyword:"ver",exec($,r,p){p.std.writeColor(`ArcOS & ArcTerm [v${ArcOSVersion}]`,"blue")},description:"Display the version number"},Config={keyword:"config",exec($,r,p){const v=Object.entries(p.env.config.getConfig());for(let k=0;k<v.length;k++){const x=v[k][1].toString(),S=v[k][0].padEnd(20," ");p.std.writeColor(`# [${S}]: `,"blue","white",!0),p.std.write(`${x}`),p.std.writeLine("")}},description:"List configuration options"},Read={keyword:"read",async exec($,r,p){const v=getSwitches(r),k=v.prompt||"?",x=v.var,S=switchExists(r,"mask");x||p.std.Error("Missing variable");const L=await p.std.read(`${k} `,"",100,S);p.vars.set(x,L)||p.std.Error("Unable to set variable: it is read-only!")},description:"Read user input to a variable",syntax:"--[var]=[variable] --[mask]? --[prompt]?=[...]"},Reset={keyword:"reset",async exec($,r,p){if(p.std.writeLine(`Are you sure you want to reset ArcOS? This will not affect any ArcAPI data.

`),(await p.std.read("Y/N [","]",1)).toLowerCase()!="y")return p.std.Error("Reset aborted.");localStorage.clear(),location.reload(),await sleep(3e3)},description:"Reset local ArcOS instance"},Logout={keyword:"logout",exec($,r,p){if(p.app)return p.std.Error("This command requires ArcTerm Mode");localStorage.removeItem("arcos-remembered-token"),UserName.set(void 0),p.dispose(),setTimeout(()=>{p.initialize()})},description:"Logout ArcTerm Mode"},Exec={keyword:"exec",async exec($,r,p){const v=p.path,k=r.join(" ").trim(),x=await getDirectory(v);for(let S=0;S<x.files.length;S++){const L=x.files[S];if(L.filename==k){const I=await readFile(L.scopedPath);if(!I)return p.std.Error("Could not read the file.");if(!L.mime.includes("text/"))return p.std.Error("Not attempting to read non-text file.");const U=new TextDecoder("utf-8").decode(new Uint8Array(I)).split(`
`);p.input.processCommands(U);return}}},description:"Execute ArcTerm commands from a file",syntax:"<[filename]>"},Verbose={keyword:"verbose",exec($,r,p){const v=switchExists(r,"off"),k=switchExists(r,"on");if(v&&k)return p.std.Error("Can't accept both --on and --off.");if(!v&&!k)return p.std.Error("Missing --on or --off.");k&&(p.std.verbose=!0),v&&(p.std.verbose=!1)},description:"Set verbose mode on or off.",syntax:"--[on]? --[off]?"},Desktop$2={keyword:"desktop",exec($,r,p){if(p.app)return p.std.Error("You already are in the ArcOS desktop!");if(get_store_value(previouslyLoaded)&&!getSwitches(r).force)return p.std.Error("The desktop may not be initialized twice in one instance. Please use [RESTART].");applyState("desktop")},description:"Switch to Desktop"},defaultCommand={keyword:"default",exec:($,r,p)=>{$&&p.std.Error(`${$}: command not found.`)},description:"Default command"},arcCommands=[ArcFetch,Cd,Clear,Colors,Dir$4,Echo,Vars,Exit$2,Help,History,LogDump,Logout,Mkdir,Rm,Reload,Restart$1,Shutdown$1,Tauri,UDD,Ver,Reset,Rf,Ri,Users,Read,Set$1,Config,Exec,Verbose,Desktop$2],desktopSpecific=[AppList,ATConf,Kill,oa,Open,Run];class ArcTermCommandHandler{constructor(r){me(this,"term");me(this,"history",[]);Log({source:`ArcTerm ${r.referenceId}`,msg:"Creating new ArcTermCommandHandler",level:LogLevel.info}),this.term=r}async evaluate(r,p){this.history.push(`${r} ${p.join(" ")}`.trim());const v=this.getCommand(r);this.term.input&&(this.term.input.current.disabled=!0),await v.exec(r,p,this.term),!(!this.term.std||!this.term.input)&&(this.term.std.verbose&&this.term.std.writeLine(`
`),this.term.input.unlock())}getCommand(r){const p=r.toLowerCase();for(let v=0;v<this.term.commands.length;v++)if(this.term.commands[v].keyword.toLowerCase()==p)return this.term.commands[v];return defaultCommand}}function initError($){createOverlayableError({title:"Can't initialize terminal",message:"The terminal instance is missing a valid target element. Please restart and try again.",buttons:[{caption:"Close",action(){closeWindow($)}}],image:arctermIcon},$)}class ArcTermInput{constructor(r){me(this,"lockInput",!1);me(this,"target");me(this,"env");me(this,"term");me(this,"current");Log({source:`ArcTerm ${r.referenceId}`,msg:"Creating new ArcTermInput",level:LogLevel.info}),this.target=r.target,this.env=r.env,this.term=r,this.commandLoop()}commandLoop(){setInterval(()=>{if(this.lockInput)return;this.lock();const r=this.createPrompt();r&&this.target.append(r)})}lock(){this.lockInput=!0}unlock(){this.lockInput=!1}getPrompt(){const r=get_store_value(UserName),p=getServer(),v=(this.term.path||"./").replace("./","");return this.env.prompt.replace("&u",r).replace("&s",p).replace("&p",v)}createPrompt(){if(this.current&&(this.current.disabled=!0),!this.term.std)return;const r=document.createElement("div"),p=document.createElement("div"),v=document.createElement("input");return r.className="prompt",this.term.std.writeColor(this.getPrompt(),this.env.promptColor,"white",!0,r),v.id=`input#${Math.floor(Math.random()*1e9)}`,v.spellcheck=!1,v.addEventListener("keydown",k=>this.processInputEvent(k,v)),this.current=v,p.className="inner",p.append(v),r.append(p),setTimeout(()=>{this.term.app&&get_store_value(focusedWindowId)==this.term.app.id&&v.focus()}),r}async processInputEvent(r,p){const v=p.value.split("&&");switch(r.key.toLowerCase()){case"enter":this.processCommands(v);break;case"f2":this.restorePreviousCommand();break}}restorePreviousCommand(){const r=this.term.commandHandler.history,p=r[r.length-1];!this.current||!p||(this.current.value=p)}async processCommands(r){for(let p=0;p<r.length;p++){const k=this.term.vars.replace(r[p].trim()).split(" "),x=k[0];k.shift(),await this.term.commandHandler.evaluate(x,k),this.lock()}this.unlock()}}class ArcTermStd{constructor(r){me(this,"target");me(this,"app");me(this,"term");me(this,"env");me(this,"verbose",!0);Log({source:`ArcTerm ${r.referenceId}`,msg:"Creating new ArcTermStd",level:LogLevel.info}),this.target=r.target,this.app=r.app,this.term=r,this.env=r.env}writeLine(r,p=!1,v=this.target){const k=document.createElement("div");return k.className="part",p&&(k.className+=" inline"),k.innerText=r,v.appendChild(k),k}writeSeperator(r){this.writeLine("".padEnd(r,"-"))}Error(r){this.verbose&&this.writeColor(`[Error]: ${r}`,"red")}write(r,p=this.target){return this.writeLine(r,!0,p)}update(r,p){if(!r)return!1;r.innerText="",this.write(p,this.target)}updateColor(r,p,v){if(!r)return!1;r.innerText="",this.writeColor(p,v,"white",!1,r)}writeColor(r,p,v="white",k=!1,x=this.target){const S=r.split(/(\[[^\]]*\])/),L=document.createElement("div");L.className="part ",k&&(L.className+=" inline");for(let I=0;I<S.length;I++){const O=document.createElement("span"),F=S[I].startsWith("[")&&S[I].endsWith("]"),U=S[I].replaceAll("[","").replaceAll("]","");O.className=`clr-${F?p:v}`,O.innerText=U,L.append(O)}return x.append(L),L}writeImage(r,p){const v=document.createElement("img");v.className="image",v.style.height=`${p}em`,v.src=r,this.target.append(v)}clear(){this.target.innerText=""}async read(r,p,v,k=!1,x=""){if(!this.target)return"";const S=this.term.input.current,L=writable(!1),I=document.createElement("div"),O=document.createElement("input");return k&&(O.type="password"),O.style.width=`${v*8.41}px`,O.maxLength=v,O.value=x,I.className="userinput",I.append(r,O,p),this.target.append(I),this.term.input.current=O,O.addEventListener("keydown",F=>{F.key.toLowerCase()=="enter"&&(O.disabled=!0,L.set(!0))}),new Promise(F=>{L.subscribe(U=>{U&&(this.term.input.current=S,F(O.value))})})}}function ArcTermIntro($){if(!$.env.logo)return;const r=["   [_]         _____            ","  [/_\\]  _ _ _|_   _|__ _ _ _ __ "," [/ _ \\]| '_/ _|| |/ -_) '_| '  \\","[/_/ \\_\\]_| \\__||_|\\___|_| |_|_|_|"];for(let p=0;p<r.length;p++)$.std.writeColor(r[p],"blue");$.std.writeLine(`
`)}class ArcTermUtil{constructor(r){me(this,"term");me(this,"reference","");this.setReference(),Log({source:`ArcTerm ${this.reference}`,msg:"Creating new ArcTermUtil",level:LogLevel.info}),this.term=r}getReference(){return this.reference}setReference(){const r=()=>Math.floor(Math.random()*1e6);this.reference=`${r()}-${r()}-${r()}-${r()}`}flushAccent(){this.term.app||this.term.target.setAttribute("style",`--terminal-accent: var(--clr-${this.term.env.promptColor}-fg);`)}intro(){if(!this.term||!this.term.std)return;ArcTermIntro(this.term);const r=get_store_value(UserName),p=getServer(),v=(this.term.path||"./").replace("./",""),k=this.term.env.greeting.replace("&u",r).replace("&s",p).replace("&p",v);this.term.std.writeColor(`${k}

`,this.term.env.promptColor)}}function getArcTermStore($){return Log({source:`ArcTerm ${$.referenceId}`,msg:"Creating new ArcTermVariableStore",level:LogLevel.info}),{prompt:{get:()=>$.env.prompt,set:async r=>{$.env.prompt=r,await $.env.config.writeConfig()},canDelete:!1,readOnly:!1},server:{get:()=>getServer(),readOnly:!0,canDelete:!1},username:{get:()=>get_store_value(UserName),readOnly:!0,canDelete:!1},version:{get:()=>ArcOSVersion,readOnly:!0,canDelete:!1},pwd:{get:()=>$.path,set:async r=>{if(!await getDirectory(r))return $.std.Error("pwd: Directory doesn't exist, falling back.");$.path=r},canDelete:!1,readOnly:!1},color:{get:()=>$.env.promptColor,set:async r=>{if(!colors.includes(r))return $.std.Error("color is invalid, falling back.");$.env.promptColor=r,await $.env.config.writeConfig(),$.util.flushAccent()},canDelete:!1,readOnly:!1},ref:{get:()=>$.referenceId,readOnly:!0,canDelete:!1}}}class ArcTermVariables{constructor(r){me(this,"term");me(this,"store",{});Log({source:`ArcTerm ${r.referenceId}`,msg:"Creating new ArcTermVariables",level:LogLevel.info}),this.term=r,this.store=getArcTermStore(this.term)}async getAll(){const r={},p=Object.entries(this.store);for(let v=0;v<p.length;v++){const k=p[v][0],x=this.get(k),S=p[v][1].readOnly;r[k]={value:x,readOnly:S}}return r}get(r){return this.store[r]?this.store[r].get():r}async set(r,p){if(!this.store[r]){const k={get:()=>k.value,set:x=>k.value=x,readOnly:!1,canDelete:!0,value:p};return this.store[r]=k,!0}if(this.store[r].readOnly)return!1;const v=this.store[r];return v?(await v.set(p),!0):!1}async delete(r){return!this.store[r]||this.store[r].readOnly?!1:(await this.set(r,""),!0)}replace(r){const p=this.parseInlineNames(r);if(!p.length)return r;for(let v=0;v<p.length;v++){const k=`$${p[v]}`,x=this.get(p[v]);r=r.replace(k,x==p[v]&&k?k:x)}return r}parseInlineNames(r){const p=/\$([a-zA-Z_][a-zA-Z0-9_]*)/g,v=[];let k;for(;k=p.exec(r);)v.push(k[1]);return v}}let ArcTerm$1=class{constructor(r,p,v,k){me(this,"target");me(this,"commands");me(this,"app");me(this,"std");me(this,"util");me(this,"env");me(this,"vars");me(this,"input");me(this,"path");me(this,"commandHandler");me(this,"referenceId");me(this,"onload");this.target=r,this.commands=p,this.app=v,this.onload=k,this.initialize()}async initialize(){if(this.util=new ArcTermUtil(this),this.referenceId=this.util.getReference(),Log({source:`ArcTerm ${this.referenceId}`,msg:"Initializing new ArcTerm",level:LogLevel.info}),!this.target)return initError(this.app.id);this.target.innerText=`Starting ArcTerm v${ArcOSVersion}...`,this.target.removeAttribute("style"),this.path="./",this.commandHandler=new ArcTermCommandHandler(this),this.env=new ArcTermEnv(this),this.vars=new ArcTermVariables(this),setTimeout(async()=>{this.std=new ArcTermStd(this),this.input=new ArcTermInput(this),this.input.lock(),this.onload&&await this.onload(this),await sleep(100),this.input.unlock(),this.util.intro(),this.util.flushAccent()},1e3)}dispose(){this.target&&(this.std.clear(),this.std=null,this.env=null,this.input.lock(),this.input=null)}};function create_fragment$3P($){let r,p,v;return{c(){r=element("div"),attr(r,"class","terminal-renderer")},m(k,x){insert(k,r,x),$[3](r),p||(v=listen(r,"click",$[1]),p=!0)},p:noop$1,i:noop$1,o:noop$1,d(k){k&&detach(r),$[3](null),p=!1,v()}}}function instance$3w($,r,p){let v;component_subscribe($,focusedWindowId,O=>p(5,v=O));let{app:k}=r,x,S;onMount(()=>{p(2,k.events.close=()=>{x&&(x.dispose(),x=null)},k),p(2,k.events.open=()=>{x||(x=new ArcTerm$1(S,[...arcCommands,...desktopSpecific],k,O=>{O.std.clear()})),k.state.windowState.fll&&fullscreenToggle(k.id)},k),p(2,k.events.blur=()=>{x&&x.input&&x.input.current&&(x.input.current.disabled=!0)},k),p(2,k.events.focus=()=>{x&&x.input&&x.input.current&&(x.input.current.disabled=!1)},k)});function L(){!x||!x.input||!x.input.current||v!="ArcTerm"||(x.input.current.focus(),S&&S.scrollTo(0,S.scrollHeight))}setInterval(L,10);function I(O){binding_callbacks[O?"unshift":"push"](()=>{S=O,p(0,S)})}return $.$$set=O=>{"app"in O&&p(2,k=O.app)},[S,L,k,I]}let ArcTerm_1$1=class extends SvelteComponent{constructor(r){super(),init(this,r,instance$3w,create_fragment$3P,safe_not_equal,{app:2})}};const ArcTerm={info:{name:"ArcTerm",description:"ArcOS Terminal",builtin:!0,version:"2.0.0",author:"ArcOS Team",icon:arctermIcon},size:{w:640,h:480},pos:{x:60,y:60},minSize:{w:350,h:250},maxSize:{w:NaN,h:NaN},controls:{min:!0,max:!0,cls:!0},state:{headless:!1,resizable:!0,windowState:{min:!1,max:!1,fll:!1}},content:ArcTerm_1$1,glass:!0,events:{keyboardShortcuts:[{alt:!0,shift:!0,key:"f",action($){fullscreenToggle($.id)}}]}},logo$9=""+new URL("calculator-a55e0dfc.svg",import.meta.url).href,calculator="";class CS{constructor(){me(this,"Source","Calculator/main.ts:");me(this,"AllowedKeys",["+","-","/","*","7","8","9","**","4","5","6","%","1","2","3","%%C",".","0","00","%%E"]);me(this,"Shortcuts",["0","1","2","3","4","5","6","7","8","9","/","+","-","*"]);me(this,"Overrides",{"*":"x","**":"^","%":"mod"});me(this,"altClasses",["+","-","/","*","**","%","."])}}const CalculatorStore=new CS,CalculatorValue=writable("");class CL{constructor(){me(this,"keys",[]);me(this,"Functions",{"%%C":["C",()=>CalculatorValue.set(""),"clear"],"%%E":["=",this.evaluate,"process"]});this.keys=this.compileKeys(CalculatorStore.AllowedKeys,CalculatorStore.Overrides)}compileKeys($,r){const p=[];for(let v=0;v<$.length;v++){let k=[null,null];k[0]=r[$[v]]||$[v],k[1]=$[v],p.push(k)}return p}evaluate(){if(Log({source:`${CalculatorStore.Source} evaluate`,msg:`Evaluating sum ("${get_store_value(CalculatorValue)}")`,level:LogLevel.info}),!CalculatorClass.isValid(get_store_value(CalculatorValue)))return!1;const value=eval(get_store_value(CalculatorValue));return CalculatorValue.set(value),value}isValid($){if(Log({source:`${CalculatorStore.Source} isValid`,msg:`Verifying input "${$}"...`,level:LogLevel.info}),$.startsWith("%%"))return!1;for(let r=0;r<$.length;r++)if(!CalculatorStore.AllowedKeys.includes($[r]))return Log({source:`${CalculatorStore.Source} isValid`,msg:`Input "${$}" not valid.`,level:LogLevel.warn}),!1;return!0}generateKeyboardShortcuts(){let $=[];for(let r=0;r<CalculatorStore.Shortcuts.length;r++)$.push({key:CalculatorStore.Shortcuts[r],action:()=>this.processKey(CalculatorStore.Shortcuts[r])});return $}processKey(key){if(Log({source:`${CalculatorStore.Source} processKey`,msg:`Processing key "${key}"`,level:LogLevel.info}),!this.isValid(key))return!1;const newValue=`${get_store_value(CalculatorValue)}${key}0`;try{eval(newValue)}catch{return Log({source:`${CalculatorStore.Source} Calculator/main.ts: processKey`,msg:`Test sum "${newValue}" is not valid. Aborting.`,level:LogLevel.error}),!1}CalculatorValue.set(get_store_value(CalculatorValue)+key)}}const CalculatorClass=new CL;function get_each_context$O($,r,p){const v=$.slice();return v[4]=r[p],v}function create_else_block$u($){let r,p=CalculatorClass.Functions[$[4][1]][0]+"",v,k,x,S;return{c(){r=element("button"),v=text(p),k=space(),attr(r,"class",CalculatorClass.Functions[$[4][1]][2])},m(L,I){insert(L,r,I),append(r,v),append(r,k),x||(S=listen(r,"click",CalculatorClass.Functions[$[4][0]][1]),x=!0)},p(L,I){$=L},d(L){L&&detach(r),x=!1,S()}}}function create_if_block$1p($){let r,p=$[4][0]+"",v,k,x,S;function L(){return $[1]($[4])}return{c(){r=element("button"),v=text(p),k=space(),toggle_class(r,"empty",!$[4][0]),toggle_class(r,"alt",CalculatorStore.altClasses.includes($[4][1]))},m(I,O){insert(I,r,O),append(r,v),append(r,k),x||(S=listen(r,"click",L),x=!0)},p(I,O){$=I},d(I){I&&detach(r),x=!1,S()}}}function create_each_block$O($){let r;function p(x,S){return x[4][0].startsWith("%%")?create_else_block$u:create_if_block$1p}let k=p($)($);return{c(){k.c(),r=empty()},m(x,S){k.m(x,S),insert(x,r,S)},p(x,S){k.p(x,S)},d(x){k.d(x),x&&detach(r)}}}function create_fragment$3O($){let r,p,v,k=CalculatorClass.keys,x=[];for(let S=0;S<k.length;S+=1)x[S]=create_each_block$O(get_each_context$O($,k,S));return{c(){r=element("input"),p=space(),v=element("div");for(let S=0;S<x.length;S+=1)x[S].c();attr(r,"type","text"),attr(r,"class","display"),r.readOnly=!0,r.value=$[0],attr(v,"class","keys")},m(S,L){insert(S,r,L),insert(S,p,L),insert(S,v,L);for(let I=0;I<x.length;I+=1)x[I]&&x[I].m(v,null)},p(S,[L]){if(L&1&&r.value!==S[0]&&(r.value=S[0]),L&0){k=CalculatorClass.keys;let I;for(I=0;I<k.length;I+=1){const O=get_each_context$O(S,k,I);x[I]?x[I].p(O,L):(x[I]=create_each_block$O(O),x[I].c(),x[I].m(v,null))}for(;I<x.length;I+=1)x[I].d(1);x.length=k.length}},i:noop$1,o:noop$1,d(S){S&&detach(r),S&&detach(p),S&&detach(v),destroy_each(x,S)}}}function instance$3v($,r,p){let v;component_subscribe($,CalculatorValue,S=>p(2,v=S));let k="";return onMount(()=>{CalculatorValue.subscribe(S=>{Log({source:"Calculator: CalculatorValue.subscribe",msg:`Value of CalculatorValue<string> changed to "${v}"`,level:LogLevel.info}),p(0,k=S||"0")})}),[k,S=>CalculatorClass.processKey(S[1])]}class Calculator extends SvelteComponent{constructor(r){super(),init(this,r,instance$3v,create_fragment$3O,safe_not_equal,{})}}const CalculatorApp={info:{name:"Calculator",description:"ArcOS Calculator",builtin:!0,version:"2.0.0",author:"Izaak Kuipers",icon:logo$9},size:{w:340,h:NaN},pos:{x:60,y:60},minSize:{w:340,h:NaN},maxSize:{w:340,h:NaN},controls:{min:!0,max:!1,cls:!0},state:{headless:!1,resizable:!1,windowState:{min:!1,max:!1,fll:!1}},content:Calculator,glass:!0,events:{close(){CalculatorValue.set("")},open(){CalculatorValue.set("")},keyboardShortcuts:[...CalculatorClass.generateKeyboardShortcuts(),{key:"enter",action:()=>CalculatorClass.evaluate()},{key:"escape",action:()=>CalculatorValue.set("")}]}},logo$8=""+new URL("donut-041054d9.png",import.meta.url).href;let A=1,B=1;function tick$1(){const $=[],r=[];A+=.07,B+=.03;let p=Math.cos(A),v=Math.sin(A),k=Math.cos(B),x=Math.sin(B);for(let S=0;S<1760;S++)$[S]=S%80==79?`
`:" ",r[S]=0;for(let S=0;S<6.28;S+=.07){let L=Math.cos(S),I=Math.sin(S);for(let O=0;O<6.28;O+=.02){let F=Math.sin(O),U=Math.cos(O),R=L+2,N=1/(F*R*v+I*p+5),j=F*R*p-I*v,q=0|40+30*N*(U*R*k-j*x),H=0|12+15*N*(U*R*x+j*k),Q=q+80*H,V=0|8*((I*v-F*L*p)*k-F*L*v-I*p-U*L*x);H<22&&H>=0&&q>=0&&q<79&&N>r[Q]&&(r[Q]=N,$[Q]=".,-~:;=!*#$@"[V>0?V:0]);const K={o:Q,A,B,N:V,st:I,sA:v,sp:F,ct:L,cA:p,cB:k,cp:U,sB:x,D:N,t:j,h:R,i:O,j:S,x:q,y:H,cycles:(A/.07/89.71428571428571).toFixed(2)};donutDebugInformation.set(K)}}return $.join("")}const donutDebugInformation=writable(),Donut_svelte_svelte_type_style_lang="";function get_each_context$N($,r,p){const v=$.slice();return v[3]=r[p],v}function create_if_block$1o($){let r,p=Object.entries($[1]),v=[];for(let k=0;k<p.length;k+=1)v[k]=create_each_block$N(get_each_context$N($,p,k));return{c(){for(let k=0;k<v.length;k+=1)v[k].c();r=empty()},m(k,x){for(let S=0;S<v.length;S+=1)v[S]&&v[S].m(k,x);insert(k,r,x)},p(k,x){if(x&2){p=Object.entries(k[1]);let S;for(S=0;S<p.length;S+=1){const L=get_each_context$N(k,p,S);v[S]?v[S].p(L,x):(v[S]=create_each_block$N(L),v[S].c(),v[S].m(r.parentNode,r))}for(;S<v.length;S+=1)v[S].d(1);v.length=p.length}},d(k){destroy_each(v,k),k&&detach(r)}}}function create_else_block$t($){let r=$[3][1]+"",p;return{c(){p=text(r)},m(v,k){insert(v,p,k)},p(v,k){k&2&&r!==(r=v[3][1]+"")&&set_data(p,r)},d(v){v&&detach(p)}}}function create_if_block_1$r($){let r=$[3][1].toFixed(8)+"",p;return{c(){p=text(r)},m(v,k){insert(v,p,k)},p(v,k){k&2&&r!==(r=v[3][1].toFixed(8)+"")&&set_data(p,r)},d(v){v&&detach(p)}}}function create_each_block$N($){let r,p,v=$[3][0]+"",k,x,S,L;function I(U,R){return typeof U[3][1]=="number"?create_if_block_1$r:create_else_block$t}let O=I($),F=O($);return{c(){r=element("tr"),p=element("td"),k=text(v),x=space(),S=element("td"),F.c(),L=space(),attr(p,"class","svelte-u78920"),attr(S,"class","svelte-u78920"),attr(r,"class","svelte-u78920")},m(U,R){insert(U,r,R),append(r,p),append(p,k),append(r,x),append(r,S),F.m(S,null),append(r,L)},p(U,R){R&2&&v!==(v=U[3][0]+"")&&set_data(k,v),O===(O=I(U))&&F?F.p(U,R):(F.d(1),F=O(U),F&&(F.c(),F.m(S,null)))},d(U){U&&detach(r),F.d()}}}function create_fragment$3N($){let r,p,v,k,x,S=$[1]&&create_if_block$1o($);return{c(){r=element("div"),p=element("pre"),v=text($[0]),k=space(),x=element("table"),S&&S.c(),attr(p,"class","svelte-u78920"),attr(x,"class","svelte-u78920"),attr(r,"data-caller","donut-target"),attr(r,"class","svelte-u78920")},m(L,I){insert(L,r,I),append(r,p),append(p,v),append(r,k),append(r,x),S&&S.m(x,null)},p(L,[I]){I&1&&set_data(v,L[0]),L[1]?S?S.p(L,I):(S=create_if_block$1o(L),S.c(),S.m(x,null)):S&&(S.d(1),S=null)},i:noop$1,o:noop$1,d(L){L&&detach(r),S&&S.d()}}}let fps=30;function instance$3u($,r,p){let v,k;component_subscribe($,donutSpinning,S=>p(2,v=S)),component_subscribe($,donutDebugInformation,S=>p(1,k=S));let x="";return setInterval(()=>{v&&p(0,x=tick$1())},1e3/fps),[x,k]}class Donut extends SvelteComponent{constructor(r){super(),init(this,r,instance$3u,create_fragment$3N,safe_not_equal,{})}}const DonutApp={info:{name:"Donut",description:"A spinning ASCII donut",builtin:!0,version:ArcOSVersion,author:"Andy Sloane (ArcOS port by IzK)",icon:logo$8},size:{w:850,h:520},pos:{x:30,y:40},minSize:{w:850,h:520},maxSize:{w:850,h:NaN},controls:{min:!0,max:!0,cls:!0},state:{headless:!1,resizable:!0,windowState:{min:!1,max:!1,fll:!1}},content:Donut,glass:!0,events:{open(){donutSpinning.set(!0)},close(){donutSpinning.set(!1)},blur(){donutSpinning.set(!1)},focus(){donutSpinning.set(!0)}}},donutSpinning=writable(!1);function create_fragment$3M($){let r,p,v,k,x,S,L,I,O,F,U,R,N,j,q,H,Q;return{c(){r=element("p"),r.textContent="Specify the title and message to create an error message:",p=space(),v=element("br"),k=space(),x=element("input"),S=space(),L=element("input"),I=space(),O=element("input"),F=space(),U=element("input"),R=space(),N=element("button"),j=text("Create"),attr(x,"placeholder","title"),attr(x,"class","fullwidth"),attr(L,"placeholder","message"),attr(L,"class","fullwidth"),attr(O,"placeholder","button caption 1"),attr(O,"class","fullwidth"),attr(U,"placeholder","button caption 2"),attr(U,"class","fullwidth"),N.disabled=q=!$[0]||!$[1]},m(V,K){insert(V,r,K),insert(V,p,K),insert(V,v,K),insert(V,k,K),insert(V,x,K),set_input_value(x,$[0]),insert(V,S,K),insert(V,L,K),set_input_value(L,$[1]),insert(V,I,K),insert(V,O,K),set_input_value(O,$[2]),insert(V,F,K),insert(V,U,K),set_input_value(U,$[3]),insert(V,R,K),insert(V,N,K),append(N,j),H||(Q=[listen(x,"input",$[5]),listen(L,"input",$[6]),listen(O,"input",$[7]),listen(U,"input",$[8]),listen(N,"click",$[4])],H=!0)},p(V,[K]){K&1&&x.value!==V[0]&&set_input_value(x,V[0]),K&2&&L.value!==V[1]&&set_input_value(L,V[1]),K&4&&O.value!==V[2]&&set_input_value(O,V[2]),K&8&&U.value!==V[3]&&set_input_value(U,V[3]),K&3&&q!==(q=!V[0]||!V[1])&&(N.disabled=q)},i:noop$1,o:noop$1,d(V){V&&detach(r),V&&detach(p),V&&detach(v),V&&detach(k),V&&detach(x),V&&detach(S),V&&detach(L),V&&detach(I),V&&detach(O),V&&detach(F),V&&detach(U),V&&detach(R),V&&detach(N),H=!1,run_all(Q)}}}function instance$3t($,r,p){let v,k,x,S;function L(){errorMessage(v,k,null,"ErrCre",{caption:x,action:()=>{}},{caption:S,action:()=>{}})}function I(){v=this.value,p(0,v)}function O(){k=this.value,p(1,k)}function F(){x=this.value,p(2,x)}function U(){S=this.value,p(3,S)}return[v,k,x,S,L,I,O,F,U]}let ErrorCreator$1=class extends SvelteComponent{constructor(r){super(),init(this,r,instance$3t,create_fragment$3M,safe_not_equal,{})}};const ErrorCreator={info:{name:"Error Message Summoner",description:"Use for testing only -- error message creator",builtin:!0,version:ArcOSVersion,author:"Izaak Kuipers",icon:warning,hidden:!0},size:{w:300,h:267},pos:{x:30,y:40},minSize:{w:300,h:253},maxSize:{w:300,h:253},controls:{min:!0,max:!1,cls:!0},state:{headless:!1,resizable:!1,windowState:{min:!1,max:!1,fll:!1}},content:ErrorCreator$1,glass:!0},exit="",selectedMessageId=writable(null),replyMessageId=writable(null),threadMessageId=writable(null),creatingMessage=writable(!1);async function getMessages(){const $=get_store_value(ConnectedServer);if(!$)return[];const r=await apiCall($,"messages/list",{},get_store_value(UserToken));return r.valid?r.data:[]}async function getMessage($){const r=get_store_value(ConnectedServer);if(!r)return!1;const p=await apiCall(r,"messages/get",{id:btoa($)},get_store_value(UserToken));return p.valid?p.data:!1}function create_if_block$1n($){let r,p,v;return{c(){r=element("button"),r.innerHTML=`<span class="material-icons-round">terminal</span> 
        <p class="caption">ArcTerm</p>`,attr(r,"class","option")},m(k,x){insert(k,r,x),p||(v=listen(r,"click",$[2]),p=!0)},p:noop$1,d(k){k&&detach(r),p=!1,v()}}}function create_fragment$3L($){let r,p,v,k,x,S,L,I,O,F,U,R,N,j,q=$[0]&&create_if_block$1n($);return{c(){r=element("div"),p=element("div"),v=element("h3"),v.textContent="ArcOS",k=space(),x=element("button"),x.innerHTML=`<span class="material-icons-round">power_settings_new</span> 
      <p class="caption">Shutdown</p>`,S=space(),L=element("button"),L.innerHTML=`<span class="material-icons-round">logout</span> 
      <p class="caption">Logoff</p>`,I=space(),O=element("button"),O.innerHTML=`<span class="material-icons-round">refresh</span> 
      <p class="caption">Restart</p>`,F=space(),q&&q.c(),U=space(),R=element("button"),R.textContent="Cancel",attr(v,"class","header"),attr(x,"class","option"),attr(L,"class","option"),attr(O,"class","option"),attr(R,"class","cancel"),attr(p,"class","flex-stop"),attr(r,"class","center-flex")},m(H,Q){insert(H,r,Q),append(r,p),append(p,v),append(p,k),append(p,x),append(p,S),append(p,L),append(p,I),append(p,O),append(p,F),q&&q.m(p,null),append(p,U),append(p,R),N||(j=[listen(x,"click",shutdown),listen(L,"click",$[4]),listen(O,"click",$[5]),listen(R,"click",$[1])],N=!0)},p(H,[Q]){H[0]?q?q.p(H,Q):(q=create_if_block$1n(H),q.c(),q.m(p,U)):q&&(q.d(1),q=null)},i:noop$1,o:noop$1,d(H){H&&detach(r),q&&q.d(),N=!1,run_all(j)}}}function instance$3s($,r,p){let v;component_subscribe($,ExitShowAT,O=>p(0,v=O));let{app:k}=r;function x(){isFullscreenWindow.set(!1),closeWindow(k.id)}function S(){FileBrowserCurrentDir.set("./"),FileBrowserSelectedFilename.set(null),FileBrowserDirContents.set(defaultDirectory),FileBrowserDeletingFilename.set(null),NotificationStore.set({}),ErrorWindowStore.set([]),ErrorMessages.set([]),WindowStore.set([]),selectedMessageId.set(null),applyState("arcterm")}const L=()=>restart$1(!0),I=()=>restart$1(!1);return $.$$set=O=>{"app"in O&&p(3,k=O.app)},[v,x,S,k,L,I]}let Exit$1=class extends SvelteComponent{constructor(r){super(),init(this,r,instance$3s,create_fragment$3L,safe_not_equal,{app:3})}};const Exit={info:{name:"Exit",description:"ArcOS Exit Menu",builtin:!0,version:"2.0.0",author:"Izaak Kuipers",icon:shutdownIcon,hidden:!0},size:{w:280,h:50},pos:{x:30,y:40},minSize:{w:280,h:50},maxSize:{w:280,h:50},controls:{min:!1,max:!1,cls:!0},state:{headless:!0,resizable:!1,windowState:{min:!1,max:!1,fll:!0}},content:Exit$1,glass:!0,events:{keyboardShortcuts:[{shift:!0,key:"",action(){ExitShowAT.set(!0)}}],close($){ExitShowAT.set(!1)}}},ExitShowAT=writable(!1),fileManager=""+new URL("filemanager-cb441701.svg",import.meta.url).href,filebrowser="",spinner$1="",spinner=""+new URL("spinner-14f81f00.svg",import.meta.url).href;function create_fragment$3K($){let r,p;return{c(){r=element("img"),src_url_equal(r.src,p=spinner)||attr(r,"src",p),attr(r,"alt","spinner"),set_style(r,"height",$[0]+"px"),attr(r,"class","spinner-svg")},m(v,k){insert(v,r,k)},p(v,[k]){k&1&&set_style(r,"height",v[0]+"px")},i:noop$1,o:noop$1,d(v){v&&detach(r)}}}function instance$3r($,r,p){let{height:v}=r;return $.$$set=k=>{"height"in k&&p(0,v=k.height)},[v]}class Spinner extends SvelteComponent{constructor(r){super(),init(this,r,instance$3r,create_fragment$3K,safe_not_equal,{height:0})}}const folder=""+new URL("folder-f520676e.svg",import.meta.url).href;function create_fragment$3J($){let r,p,v,k,x,S,L,I=$[0].name+"",O,F,U,R,N,j,q,H,Q;return{c(){r=element("button"),p=element("div"),v=element("img"),S=space(),L=element("div"),O=text(I),F=space(),U=element("div"),U.textContent="Folder",R=space(),N=element("div"),N.textContent="-",src_url_equal(v.src,k=folder)||attr(v,"src",k),attr(v,"alt",x=$[0].name),attr(p,"class","image"),attr(L,"class","name"),attr(U,"class","mime"),attr(N,"class","size"),attr(r,"class","item dir"),attr(r,"data-path",j=$[0].scopedPath),attr(r,"data-type","dir"),attr(r,"data-name",q=$[0].name),attr(r,"data-caller","listitem-dir"),toggle_class(r,"selected",$[1]==$[0].name),toggle_class(r,"cutting",$[2]&&$[2].name==$[0].name)},m(V,K){insert(V,r,K),append(r,p),append(p,v),append(r,S),append(r,L),append(L,O),append(r,F),append(r,U),append(r,R),append(r,N),H||(Q=[listen(r,"click",$[3]),listen(r,"dblclick",$[4])],H=!0)},p(V,[K]){K&1&&x!==(x=V[0].name)&&attr(v,"alt",x),K&1&&I!==(I=V[0].name+"")&&set_data(O,I),K&1&&j!==(j=V[0].scopedPath)&&attr(r,"data-path",j),K&1&&q!==(q=V[0].name)&&attr(r,"data-name",q),K&3&&toggle_class(r,"selected",V[1]==V[0].name),K&5&&toggle_class(r,"cutting",V[2]&&V[2].name==V[0].name)},i:noop$1,o:noop$1,d(V){V&&detach(r),H=!1,run_all(Q)}}}function instance$3q($,r,p){let v,k;component_subscribe($,FileBrowserSelectedFilename,I=>p(1,v=I)),component_subscribe($,FileBrowserCuttingFilename,I=>p(2,k=I));let{dir:x}=r;function S(){set_store_value(FileBrowserSelectedFilename,v=x.name,v)}function L(){fbClass.goToDirectory(x.scopedPath)}return $.$$set=I=>{"dir"in I&&p(0,x=I.dir)},[x,v,k,S,L]}let Dir$3=class extends SvelteComponent{constructor(r){super(),init(this,r,instance$3q,create_fragment$3J,safe_not_equal,{dir:0})}};const icon$4=""+new URL("file-0d0c64f1.svg",import.meta.url).href,file=""+new URL("application-default-dbaaa566.svg",import.meta.url).href,imgIcon=""+new URL("image-x-generic-0c29fb59.svg",import.meta.url).href,svgIcon=""+new URL("application-svg-944fd245.svg",import.meta.url).href,pdfIcon=""+new URL("application-pdf-7a1f0afa.svg",import.meta.url).href,arcAppI=""+new URL("application-arcapp-2a8df358.svg",import.meta.url).href,jsonIcon=""+new URL("application-json-e04d619a.svg",import.meta.url).href,archiveIcon=""+new URL("application-x-compress-98d85b80.svg",import.meta.url).href,icon$3=""+new URL("markdownviewer-a03d6bb8.svg",import.meta.url).href,soundIcon=""+new URL("audio-x-generic-73f31c65.svg",import.meta.url).href,extensionIcons=[{extensions:[".png",".jpg",".bmp",".gif",".ico",".webp"],image:imgIcon},{extensions:[".svg"],image:svgIcon},{extensions:[".md"],image:icon$3},{extensions:[".app",".ealc",".app.json"],image:arcAppI},{extensions:[".pdf"],image:pdfIcon},{extensions:[".txt"],image:fileIcon},{extensions:[".json"],image:jsonIcon},{extensions:[".zip",".tar",".tar.gz",".7z",".rar"],image:archiveIcon},{extensions:[".flac",".mp3",".wav"],image:soundIcon},{extensions:[".arctheme"],image:themeIcon},{extensions:["arcterm.conf"],image:arctermIcon}];function getMimeIcon($){for(let r=0;r<extensionIcons.length;r++){const p=extensionIcons[r].extensions;for(let v=0;v<p.length;v++)if($.endsWith(p[v]))return extensionIcons[r].image}return file}function create_fragment$3I($){let r,p,v,k,x,S,L,I=$[0].filename+"",O,F,U,R=$[0].mime.split("; ")[0].split("/").join(" - ")+"",N,j,q,H=formatBytes($[0].size)+"",Q,V,K,G,Y,J,Z,X,ee;return{c(){r=element("button"),p=element("div"),v=element("img"),S=space(),L=element("div"),O=text(I),F=space(),U=element("div"),N=text(R),j=space(),q=element("div"),Q=text(H),V=space(),K=element("div"),G=element("button"),G.textContent="launch",src_url_equal(v.src,k=$[1])||attr(v,"src",k),attr(v,"alt",x=$[0].filename),attr(p,"class","image"),attr(L,"class","name"),attr(U,"class","mime"),attr(q,"class","size"),attr(G,"class","material-icons-round"),attr(K,"class","options"),attr(r,"class","item file"),attr(r,"title",Y=$[0].scopedPath),attr(r,"data-path",J=$[0].scopedPath),attr(r,"data-type","file"),attr(r,"data-name",Z=$[0].filename),attr(r,"data-caller","listitem-file"),toggle_class(r,"selected",$[2]==$[0].filename),toggle_class(r,"cutting",$[3]&&$[3].name==$[0].filename)},m(te,le){insert(te,r,le),append(r,p),append(p,v),append(r,S),append(r,L),append(L,O),append(r,F),append(r,U),append(U,N),append(r,j),append(r,q),append(q,Q),append(r,V),append(r,K),append(K,G),X||(ee=[listen(G,"click",$[6]),listen(r,"click",$[4]),listen(r,"contextmenu",$[4]),listen(r,"dblclick",$[5])],X=!0)},p(te,[le]){le&2&&!src_url_equal(v.src,k=te[1])&&attr(v,"src",k),le&1&&x!==(x=te[0].filename)&&attr(v,"alt",x),le&1&&I!==(I=te[0].filename+"")&&set_data(O,I),le&1&&R!==(R=te[0].mime.split("; ")[0].split("/").join(" - ")+"")&&set_data(N,R),le&1&&H!==(H=formatBytes(te[0].size)+"")&&set_data(Q,H),le&1&&Y!==(Y=te[0].scopedPath)&&attr(r,"title",Y),le&1&&J!==(J=te[0].scopedPath)&&attr(r,"data-path",J),le&1&&Z!==(Z=te[0].filename)&&attr(r,"data-name",Z),le&5&&toggle_class(r,"selected",te[2]==te[0].filename),le&9&&toggle_class(r,"cutting",te[3]&&te[3].name==te[0].filename)},i:noop$1,o:noop$1,d(te){te&&detach(r),X=!1,run_all(ee)}}}function instance$3p($,r,p){let v,k,x;component_subscribe($,FileBrowserOpeningFile,R=>p(7,v=R)),component_subscribe($,FileBrowserSelectedFilename,R=>p(2,k=R)),component_subscribe($,FileBrowserCuttingFilename,R=>p(3,x=R));let{file:S}=r,L=icon$4;function I(){set_store_value(FileBrowserSelectedFilename,k=S.filename,k)}async function O(){set_store_value(FileBrowserOpeningFile,v=S,v),showOverlay("openingFile","FileManager");let R=await openUserFile(S);if(hideOverlay("openingFile","FileManager"),set_store_value(FileBrowserOpeningFile,v=null,v),R!=!0){const N=R;createOverlayableError({title:`Unable to open ${S.filename}`,message:"You don't have an app or handler that can open this type of file.",buttons:[{caption:"Close",action:()=>{R=null}},{caption:"Open With...",action:()=>F(N)}],image:icon$4},"FileManager")}R=null}function F(R){openWithDialog({...R,anymime:!0})}async function U(){set_store_value(FileBrowserOpeningFile,v=S,v),showOverlay("openingFile","FileManager");let R={data:await readFile(S.scopedPath),name:S.filename,path:S.scopedPath,mime:S.mime};F(R),hideOverlay("openingFile","FileManager"),set_store_value(FileBrowserOpeningFile,v=S,v)}return onMount(()=>{p(1,L=getMimeIcon(S.filename))}),FileBrowserDirContents.subscribe(()=>{p(1,L=getMimeIcon(S.filename))}),$.$$set=R=>{"file"in R&&p(0,S=R.file)},[S,L,k,x,I,O,U]}let File$3=class extends SvelteComponent{constructor(r){super(),init(this,r,instance$3p,create_fragment$3I,safe_not_equal,{file:0})}};function create_fragment$3H($){let r;return{c(){r=element("button"),r.innerHTML=`<div class="image"></div> 
  <div class="name">Name</div> 
  <div class="mime">Type</div> 
  <div class="size">Size</div>`,attr(r,"class","item head")},m(p,v){insert(p,r,v)},p:noop$1,i:noop$1,o:noop$1,d(p){p&&detach(r)}}}class TopRow extends SvelteComponent{constructor(r){super(),init(this,r,null,create_fragment$3H,safe_not_equal,{})}}function get_each_context$M($,r,p){const v=$.slice();return v[3]=r[p],v}function get_each_context_1$b($,r,p){const v=$.slice();return v[6]=r[p],v}function create_else_block_1$2($){let r,p,v,k,x,S;p=new TopRow({});let L=$[1],I=[];for(let N=0;N<L.length;N+=1)I[N]=create_each_block_1$b(get_each_context_1$b($,L,N));const O=N=>transition_out(I[N],1,1,()=>{I[N]=null});let F=$[0],U=[];for(let N=0;N<F.length;N+=1)U[N]=create_each_block$M(get_each_context$M($,F,N));const R=N=>transition_out(U[N],1,1,()=>{U[N]=null});return{c(){r=element("div"),create_component(p.$$.fragment),v=space(),k=element("div");for(let N=0;N<I.length;N+=1)I[N].c();x=space();for(let N=0;N<U.length;N+=1)U[N].c();attr(k,"class","items"),attr(r,"class","listview")},m(N,j){insert(N,r,j),mount_component(p,r,null),append(r,v),append(r,k);for(let q=0;q<I.length;q+=1)I[q]&&I[q].m(k,null);append(k,x);for(let q=0;q<U.length;q+=1)U[q]&&U[q].m(k,null);S=!0},p(N,j){if(j&2){L=N[1];let q;for(q=0;q<L.length;q+=1){const H=get_each_context_1$b(N,L,q);I[q]?(I[q].p(H,j),transition_in(I[q],1)):(I[q]=create_each_block_1$b(H),I[q].c(),transition_in(I[q],1),I[q].m(k,x))}for(group_outros(),q=L.length;q<I.length;q+=1)O(q);check_outros()}if(j&1){F=N[0];let q;for(q=0;q<F.length;q+=1){const H=get_each_context$M(N,F,q);U[q]?(U[q].p(H,j),transition_in(U[q],1)):(U[q]=create_each_block$M(H),U[q].c(),transition_in(U[q],1),U[q].m(k,null))}for(group_outros(),q=F.length;q<U.length;q+=1)R(q);check_outros()}},i(N){if(!S){transition_in(p.$$.fragment,N);for(let j=0;j<L.length;j+=1)transition_in(I[j]);for(let j=0;j<F.length;j+=1)transition_in(U[j]);S=!0}},o(N){transition_out(p.$$.fragment,N),I=I.filter(Boolean);for(let j=0;j<I.length;j+=1)transition_out(I[j]);U=U.filter(Boolean);for(let j=0;j<U.length;j+=1)transition_out(U[j]);S=!1},d(N){N&&detach(r),destroy_component(p),destroy_each(I,N),destroy_each(U,N)}}}function create_if_block$1m($){let r,p,v,k;const x=[create_if_block_1$q,create_else_block$s],S=[];function L(I,O){return I[2]?0:1}return r=L($),p=S[r]=x[r]($),{c(){p.c(),v=empty()},m(I,O){S[r].m(I,O),insert(I,v,O),k=!0},p(I,O){let F=r;r=L(I),r!==F&&(group_outros(),transition_out(S[F],1,1,()=>{S[F]=null}),check_outros(),p=S[r],p||(p=S[r]=x[r](I),p.c()),transition_in(p,1),p.m(v.parentNode,v))},i(I){k||(transition_in(p),k=!0)},o(I){transition_out(p),k=!1},d(I){S[r].d(I),I&&detach(v)}}}function create_each_block_1$b($){let r,p;return r=new Dir$3({props:{dir:$[6]}}),{c(){create_component(r.$$.fragment)},m(v,k){mount_component(r,v,k),p=!0},p(v,k){const x={};k&2&&(x.dir=v[6]),r.$set(x)},i(v){p||(transition_in(r.$$.fragment,v),p=!0)},o(v){transition_out(r.$$.fragment,v),p=!1},d(v){destroy_component(r,v)}}}function create_each_block$M($){let r,p;return r=new File$3({props:{file:$[3]}}),{c(){create_component(r.$$.fragment)},m(v,k){mount_component(r,v,k),p=!0},p(v,k){const x={};k&1&&(x.file=v[3]),r.$set(x)},i(v){p||(transition_in(r.$$.fragment,v),p=!0)},o(v){transition_out(r.$$.fragment,v),p=!1},d(v){destroy_component(r,v)}}}function create_else_block$s($){let r;return{c(){r=element("div"),r.textContent="This folder is empty.",attr(r,"class","nofiles")},m(p,v){insert(p,r,v)},i:noop$1,o:noop$1,d(p){p&&detach(r)}}}function create_if_block_1$q($){let r,p,v,k,x,S;return v=new Spinner({props:{height:32}}),{c(){r=element("div"),p=element("div"),create_component(v.$$.fragment),k=space(),x=element("p"),x.textContent="Reading items...",attr(x,"class","caption"),attr(p,"class","loading-inner"),attr(r,"class","loading")},m(L,I){insert(L,r,I),append(r,p),mount_component(v,p,null),append(p,k),append(p,x),S=!0},i(L){S||(transition_in(v.$$.fragment,L),S=!0)},o(L){transition_out(v.$$.fragment,L),S=!1},d(L){L&&detach(r),destroy_component(v)}}}function create_fragment$3G($){let r,p,v,k;const x=[create_if_block$1m,create_else_block_1$2],S=[];function L(I,O){return!I[1].length&&!I[0].length?0:1}return r=L($),p=S[r]=x[r]($),{c(){p.c(),v=empty()},m(I,O){S[r].m(I,O),insert(I,v,O),k=!0},p(I,[O]){let F=r;r=L(I),r===F?S[r].p(I,O):(group_outros(),transition_out(S[F],1,1,()=>{S[F]=null}),check_outros(),p=S[r],p?p.p(I,O):(p=S[r]=x[r](I),p.c()),transition_in(p,1),p.m(v.parentNode,v))},i(I){k||(transition_in(p),k=!0)},o(I){transition_out(p),k=!1},d(I){S[r].d(I),I&&detach(v)}}}function instance$3o($,r,p){let v;component_subscribe($,FileBrowserRefreshing,S=>p(2,v=S));let{files:k=[]}=r,{dirs:x=[]}=r;return $.$$set=S=>{"files"in S&&p(0,k=S.files),"dirs"in S&&p(1,x=S.dirs)},[k,x,v]}class ListView extends SvelteComponent{constructor(r){super(),init(this,r,instance$3o,create_fragment$3G,safe_not_equal,{files:0,dirs:1})}}function create_fragment$3F($){let r,p,v,k,x,S,L=$[0].name+"",I,O,F;return{c(){r=element("button"),p=element("img"),x=space(),S=element("p"),I=text(L),src_url_equal(p.src,v=folder)||attr(p,"src",v),attr(p,"alt",k=$[0].name),attr(S,"class","name"),attr(r,"class","folder"),toggle_class(r,"selected",$[1])},m(U,R){insert(U,r,R),append(r,p),append(r,x),append(r,S),append(S,I),O||(F=listen(r,"click",$[2]),O=!0)},p(U,[R]){R&1&&k!==(k=U[0].name)&&attr(p,"alt",k),R&1&&L!==(L=U[0].name+"")&&set_data(I,L),R&2&&toggle_class(r,"selected",U[1])},i:noop$1,o:noop$1,d(U){U&&detach(r),O=!1,F()}}}function instance$3n($,r,p){let{folder:v}=r,k=!1;async function x(){fbClass.goToDirectory(v.scopedPath)}return FileBrowserCurrentDir.subscribe(S=>{const L=S.replace("./","");p(1,k=L.startsWith(v.name))}),$.$$set=S=>{"folder"in S&&p(0,v=S.folder)},[v,k,x]}class Folder extends SvelteComponent{constructor(r){super(),init(this,r,instance$3n,create_fragment$3F,safe_not_equal,{folder:0})}}const defaultQuota={used:0,max:0,free:0,username:"ArcOS"};async function getFSQuota(){const $=get_store_value(UserName),r=get_store_value(ConnectedServer);if(!r||!$)return defaultQuota;const p=await apiCall(r,"fs/quota",{},get_store_value(UserToken));return p.valid?p.data:defaultQuota}function create_fragment$3E($){let r,p,v,k,x,S,L=formatBytes($[0].used)+"",I,O,F,U,R=formatBytes($[0].max)+"",N;return{c(){r=element("div"),p=element("div"),v=element("div"),k=space(),x=element("div"),S=element("span"),I=text(L),F=space(),U=element("div"),N=text(R),attr(v,"class","inner"),set_style(v,"width",$[1]+"%"),attr(p,"class","bar"),attr(S,"title",O=$[0].used+"B"),toggle_class(S,"invalid",$[0].used>$[0].max),attr(U,"class","right"),attr(x,"class","stat"),attr(r,"class","quota-renderer")},m(j,q){insert(j,r,q),append(r,p),append(p,v),append(r,k),append(r,x),append(x,S),append(S,I),append(x,F),append(x,U),append(U,N)},p(j,[q]){q&2&&set_style(v,"width",j[1]+"%"),q&1&&L!==(L=formatBytes(j[0].used)+"")&&set_data(I,L),q&1&&O!==(O=j[0].used+"B")&&attr(S,"title",O),q&1&&toggle_class(S,"invalid",j[0].used>j[0].max),q&1&&R!==(R=formatBytes(j[0].max)+"")&&set_data(N,R)},i:noop$1,o:noop$1,d(j){j&&detach(r)}}}function instance$3m($,r,p){let v=defaultQuota,k=0;FileBrowserDirContents.subscribe(x);async function x(){p(0,v=await getFSQuota()),p(1,k=Math.round(100/v.max*v.used))}return[v,k]}class QuotaRenderer extends SvelteComponent{constructor(r){super(),init(this,r,instance$3m,create_fragment$3E,safe_not_equal,{})}}function get_each_context$L($,r,p){const v=$.slice();return v[1]=r[p],v}function create_each_block$L($){let r,p;return r=new Folder({props:{folder:$[1]}}),{c(){create_component(r.$$.fragment)},m(v,k){mount_component(r,v,k),p=!0},p(v,k){const x={};k&1&&(x.folder=v[1]),r.$set(x)},i(v){p||(transition_in(r.$$.fragment,v),p=!0)},o(v){transition_out(r.$$.fragment,v),p=!1},d(v){destroy_component(r,v)}}}function create_fragment$3D($){let r,p,v,k,x,S=$[0],L=[];for(let O=0;O<S.length;O+=1)L[O]=create_each_block$L(get_each_context$L($,S,O));const I=O=>transition_out(L[O],1,1,()=>{L[O]=null});return k=new QuotaRenderer({}),{c(){r=element("div"),p=element("div");for(let O=0;O<L.length;O+=1)L[O].c();v=space(),create_component(k.$$.fragment),attr(p,"class","dirs"),attr(r,"class","sidebar")},m(O,F){insert(O,r,F),append(r,p);for(let U=0;U<L.length;U+=1)L[U]&&L[U].m(p,null);append(r,v),mount_component(k,r,null),x=!0},p(O,[F]){if(F&1){S=O[0];let U;for(U=0;U<S.length;U+=1){const R=get_each_context$L(O,S,U);L[U]?(L[U].p(R,F),transition_in(L[U],1)):(L[U]=create_each_block$L(R),L[U].c(),transition_in(L[U],1),L[U].m(p,null))}for(group_outros(),U=S.length;U<L.length;U+=1)I(U);check_outros()}},i(O){if(!x){for(let F=0;F<S.length;F+=1)transition_in(L[F]);transition_in(k.$$.fragment,O),x=!0}},o(O){L=L.filter(Boolean);for(let F=0;F<L.length;F+=1)transition_out(L[F]);transition_out(k.$$.fragment,O),x=!1},d(O){O&&detach(r),destroy_each(L,O),destroy_component(k)}}}function instance$3l($,r,p){let v=[];return FileBrowserDirContents.subscribe(async k=>{p(0,v=(await getDirectory("./")).directories)}),[v]}let SideBar$3=class extends SvelteComponent{constructor(r){super(),init(this,r,instance$3l,create_fragment$3D,safe_not_equal,{})}};const tile="";function create_fragment$3C($){let r,p,v,k,x,S,L=$[0].name+"",I,O,F;return{c(){r=element("button"),p=element("img"),x=space(),S=element("p"),I=text(L),src_url_equal(p.src,v=folder)||attr(p,"src",v),attr(p,"alt",k=$[0].name),attr(S,"class","name"),attr(r,"class","tile dir"),toggle_class(r,"selected",$[1]==$[0].name),toggle_class(r,"cutting",$[2]&&$[2].name==$[0].name)},m(U,R){insert(U,r,R),append(r,p),append(r,x),append(r,S),append(S,I),O||(F=[listen(r,"click",$[3]),listen(r,"dblclick",$[4])],O=!0)},p(U,[R]){R&1&&k!==(k=U[0].name)&&attr(p,"alt",k),R&1&&L!==(L=U[0].name+"")&&set_data(I,L),R&3&&toggle_class(r,"selected",U[1]==U[0].name),R&5&&toggle_class(r,"cutting",U[2]&&U[2].name==U[0].name)},i:noop$1,o:noop$1,d(U){U&&detach(r),O=!1,run_all(F)}}}function instance$3k($,r,p){let v,k;component_subscribe($,FileBrowserSelectedFilename,I=>p(1,v=I)),component_subscribe($,FileBrowserCuttingFilename,I=>p(2,k=I));let{dir:x}=r;function S(){set_store_value(FileBrowserSelectedFilename,v=x.name,v)}function L(){fbClass.goToDirectory(x.scopedPath)}return $.$$set=I=>{"dir"in I&&p(0,x=I.dir)},[x,v,k,S,L]}let Dir$2=class extends SvelteComponent{constructor(r){super(),init(this,r,instance$3k,create_fragment$3C,safe_not_equal,{dir:0})}};function create_fragment$3B($){let r,p,v,k,x,S,L=$[0].filename+"",I,O,F,U;return{c(){r=element("button"),p=element("img"),x=space(),S=element("p"),I=text(L),src_url_equal(p.src,v=$[1])||attr(p,"src",v),attr(p,"alt",k=$[0].filename),attr(S,"class","name"),attr(r,"class","tile file"),attr(r,"title",O=$[0].scopedPath),toggle_class(r,"selected",$[2]==$[0].filename),toggle_class(r,"cutting",$[3]&&$[3].name==$[0].filename)},m(R,N){insert(R,r,N),append(r,p),append(r,x),append(r,S),append(S,I),F||(U=[listen(r,"click",$[4]),listen(r,"dblclick",$[5])],F=!0)},p(R,[N]){N&2&&!src_url_equal(p.src,v=R[1])&&attr(p,"src",v),N&1&&k!==(k=R[0].filename)&&attr(p,"alt",k),N&1&&L!==(L=R[0].filename+"")&&set_data(I,L),N&1&&O!==(O=R[0].scopedPath)&&attr(r,"title",O),N&5&&toggle_class(r,"selected",R[2]==R[0].filename),N&9&&toggle_class(r,"cutting",R[3]&&R[3].name==R[0].filename)},i:noop$1,o:noop$1,d(R){R&&detach(r),F=!1,run_all(U)}}}function instance$3j($,r,p){let v,k,x;component_subscribe($,FileBrowserOpeningFile,U=>p(6,v=U)),component_subscribe($,FileBrowserSelectedFilename,U=>p(2,k=U)),component_subscribe($,FileBrowserCuttingFilename,U=>p(3,x=U));let{file:S}=r,L=icon$4;function I(){set_store_value(FileBrowserSelectedFilename,k=S.filename,k)}async function O(){set_store_value(FileBrowserOpeningFile,v=S,v),showOverlay("openingFile","FileManager");let U=await openUserFile(S);if(hideOverlay("openingFile","FileManager"),set_store_value(FileBrowserOpeningFile,v=null,v),U!=!0){const R=U;createOverlayableError({title:`Unable to open ${S.filename}`,message:"You don't have an app or handler that can open this type of file.",buttons:[{caption:"Close",action:()=>{U=null}},{caption:"Open With...",action:()=>F(R)}],image:icon$4},"FileManager")}U=null}function F(U){openWithDialog({...U,anymime:!0})}return onMount(()=>{p(1,L=getMimeIcon(S.filename))}),FileBrowserDirContents.subscribe(()=>p(1,L=getMimeIcon(S.filename))),$.$$set=U=>{"file"in U&&p(0,S=U.file)},[S,L,k,x,I,O]}let File$2=class extends SvelteComponent{constructor(r){super(),init(this,r,instance$3j,create_fragment$3B,safe_not_equal,{file:0})}};function get_each_context$K($,r,p){const v=$.slice();return v[3]=r[p],v}function get_each_context_1$a($,r,p){const v=$.slice();return v[6]=r[p],v}function create_else_block_1$1($){let r,p,v,k=$[1].length&&create_if_block_3$3($),x=$[0].length&&create_if_block_2$6($);return{c(){r=element("div"),k&&k.c(),p=space(),x&&x.c(),attr(r,"class","tileview")},m(S,L){insert(S,r,L),k&&k.m(r,null),append(r,p),x&&x.m(r,null),v=!0},p(S,L){S[1].length?k?(k.p(S,L),L&2&&transition_in(k,1)):(k=create_if_block_3$3(S),k.c(),transition_in(k,1),k.m(r,p)):k&&(group_outros(),transition_out(k,1,1,()=>{k=null}),check_outros()),S[0].length?x?(x.p(S,L),L&1&&transition_in(x,1)):(x=create_if_block_2$6(S),x.c(),transition_in(x,1),x.m(r,null)):x&&(group_outros(),transition_out(x,1,1,()=>{x=null}),check_outros())},i(S){v||(transition_in(k),transition_in(x),v=!0)},o(S){transition_out(k),transition_out(x),v=!1},d(S){S&&detach(r),k&&k.d(),x&&x.d()}}}function create_if_block$1l($){let r,p,v,k;const x=[create_if_block_1$p,create_else_block$r],S=[];function L(I,O){return I[2]?0:1}return r=L($),p=S[r]=x[r]($),{c(){p.c(),v=empty()},m(I,O){S[r].m(I,O),insert(I,v,O),k=!0},p(I,O){let F=r;r=L(I),r!==F&&(group_outros(),transition_out(S[F],1,1,()=>{S[F]=null}),check_outros(),p=S[r],p||(p=S[r]=x[r](I),p.c()),transition_in(p,1),p.m(v.parentNode,v))},i(I){k||(transition_in(p),k=!0)},o(I){transition_out(p),k=!1},d(I){S[r].d(I),I&&detach(v)}}}function create_if_block_3$3($){let r,p,v=$[1],k=[];for(let S=0;S<v.length;S+=1)k[S]=create_each_block_1$a(get_each_context_1$a($,v,S));const x=S=>transition_out(k[S],1,1,()=>{k[S]=null});return{c(){r=element("div");for(let S=0;S<k.length;S+=1)k[S].c();attr(r,"class","folders")},m(S,L){insert(S,r,L);for(let I=0;I<k.length;I+=1)k[I]&&k[I].m(r,null);p=!0},p(S,L){if(L&2){v=S[1];let I;for(I=0;I<v.length;I+=1){const O=get_each_context_1$a(S,v,I);k[I]?(k[I].p(O,L),transition_in(k[I],1)):(k[I]=create_each_block_1$a(O),k[I].c(),transition_in(k[I],1),k[I].m(r,null))}for(group_outros(),I=v.length;I<k.length;I+=1)x(I);check_outros()}},i(S){if(!p){for(let L=0;L<v.length;L+=1)transition_in(k[L]);p=!0}},o(S){k=k.filter(Boolean);for(let L=0;L<k.length;L+=1)transition_out(k[L]);p=!1},d(S){S&&detach(r),destroy_each(k,S)}}}function create_each_block_1$a($){let r,p;return r=new Dir$2({props:{dir:$[6]}}),{c(){create_component(r.$$.fragment)},m(v,k){mount_component(r,v,k),p=!0},p(v,k){const x={};k&2&&(x.dir=v[6]),r.$set(x)},i(v){p||(transition_in(r.$$.fragment,v),p=!0)},o(v){transition_out(r.$$.fragment,v),p=!1},d(v){destroy_component(r,v)}}}function create_if_block_2$6($){let r,p,v=$[0],k=[];for(let S=0;S<v.length;S+=1)k[S]=create_each_block$K(get_each_context$K($,v,S));const x=S=>transition_out(k[S],1,1,()=>{k[S]=null});return{c(){r=element("div");for(let S=0;S<k.length;S+=1)k[S].c();attr(r,"class","files")},m(S,L){insert(S,r,L);for(let I=0;I<k.length;I+=1)k[I]&&k[I].m(r,null);p=!0},p(S,L){if(L&1){v=S[0];let I;for(I=0;I<v.length;I+=1){const O=get_each_context$K(S,v,I);k[I]?(k[I].p(O,L),transition_in(k[I],1)):(k[I]=create_each_block$K(O),k[I].c(),transition_in(k[I],1),k[I].m(r,null))}for(group_outros(),I=v.length;I<k.length;I+=1)x(I);check_outros()}},i(S){if(!p){for(let L=0;L<v.length;L+=1)transition_in(k[L]);p=!0}},o(S){k=k.filter(Boolean);for(let L=0;L<k.length;L+=1)transition_out(k[L]);p=!1},d(S){S&&detach(r),destroy_each(k,S)}}}function create_each_block$K($){let r,p;return r=new File$2({props:{file:$[3]}}),{c(){create_component(r.$$.fragment)},m(v,k){mount_component(r,v,k),p=!0},p(v,k){const x={};k&1&&(x.file=v[3]),r.$set(x)},i(v){p||(transition_in(r.$$.fragment,v),p=!0)},o(v){transition_out(r.$$.fragment,v),p=!1},d(v){destroy_component(r,v)}}}function create_else_block$r($){let r;return{c(){r=element("div"),r.textContent="This folder is empty.",attr(r,"class","nofiles")},m(p,v){insert(p,r,v)},i:noop$1,o:noop$1,d(p){p&&detach(r)}}}function create_if_block_1$p($){let r,p,v,k,x,S;return v=new Spinner({props:{height:32}}),{c(){r=element("div"),p=element("div"),create_component(v.$$.fragment),k=space(),x=element("p"),x.textContent="Reading items...",attr(x,"class","caption"),attr(p,"class","loading-inner"),attr(r,"class","loading")},m(L,I){insert(L,r,I),append(r,p),mount_component(v,p,null),append(p,k),append(p,x),S=!0},i(L){S||(transition_in(v.$$.fragment,L),S=!0)},o(L){transition_out(v.$$.fragment,L),S=!1},d(L){L&&detach(r),destroy_component(v)}}}function create_fragment$3A($){let r,p,v,k;const x=[create_if_block$1l,create_else_block_1$1],S=[];function L(I,O){return!I[1].length&&!I[0].length?0:1}return r=L($),p=S[r]=x[r]($),{c(){p.c(),v=empty()},m(I,O){S[r].m(I,O),insert(I,v,O),k=!0},p(I,[O]){let F=r;r=L(I),r===F?S[r].p(I,O):(group_outros(),transition_out(S[F],1,1,()=>{S[F]=null}),check_outros(),p=S[r],p?p.p(I,O):(p=S[r]=x[r](I),p.c()),transition_in(p,1),p.m(v.parentNode,v))},i(I){k||(transition_in(p),k=!0)},o(I){transition_out(p),k=!1},d(I){S[r].d(I),I&&detach(v)}}}function instance$3i($,r,p){let v;component_subscribe($,FileBrowserRefreshing,S=>p(2,v=S));let{files:k=[]}=r,{dirs:x=[]}=r;return $.$$set=S=>{"files"in S&&p(0,k=S.files),"dirs"in S&&p(1,x=S.dirs)},[k,x,v]}class TileView extends SvelteComponent{constructor(r){super(),init(this,r,instance$3i,create_fragment$3A,safe_not_equal,{files:0,dirs:1})}}function create_if_block$1k($){let r,p,v,k;return{c(){r=element("button"),p=text($[0]),attr(r,"class","crumb")},m(x,S){insert(x,r,S),append(r,p),v||(k=listen(r,"click",$[1]),v=!0)},p(x,S){S&1&&set_data(p,x[0])},d(x){x&&detach(r),v=!1,k()}}}function create_fragment$3z($){let r,p=$[0]&&$[0]!="."&&create_if_block$1k($);return{c(){p&&p.c(),r=empty()},m(v,k){p&&p.m(v,k),insert(v,r,k)},p(v,[k]){v[0]&&v[0]!="."?p?p.p(v,k):(p=create_if_block$1k(v),p.c(),p.m(r.parentNode,r)):p&&(p.d(1),p=null)},i:noop$1,o:noop$1,d(v){p&&p.d(v),v&&detach(r)}}}function instance$3h($,r,p){let{crumb:v}=r,{path:k}=r;function x(){fbClass.goToDirectory(k)}return $.$$set=S=>{"crumb"in S&&p(0,v=S.crumb),"path"in S&&p(2,k=S.path)},[v,x,k]}let Crumb$1=class extends SvelteComponent{constructor(r){super(),init(this,r,instance$3h,create_fragment$3z,safe_not_equal,{crumb:0,path:2})}};function get_each_context$J($,r,p){const v=$.slice();return v[4]=r[p],v[6]=p,v}function create_each_block$J($){let r,p;return r=new Crumb$1({props:{crumb:$[4],path:$[2]($[4],$[6])}}),{c(){create_component(r.$$.fragment)},m(v,k){mount_component(r,v,k),p=!0},p(v,k){const x={};k&1&&(x.crumb=v[4]),k&1&&(x.path=v[2](v[4],v[6])),r.$set(x)},i(v){p||(transition_in(r.$$.fragment,v),p=!0)},o(v){transition_out(r.$$.fragment,v),p=!1},d(v){destroy_component(r,v)}}}function create_fragment$3y($){let r,p,v,k,x,S,L,I,O=$[0],F=[];for(let R=0;R<O.length;R+=1)F[R]=create_each_block$J(get_each_context$J($,O,R));const U=R=>transition_out(F[R],1,1,()=>{F[R]=null});return{c(){r=element("button"),r.textContent="home",p=space(),v=element("div");for(let R=0;R<F.length;R+=1)F[R].c();k=space(),x=element("button"),x.textContent="refresh",attr(r,"class","home material-icons-round"),attr(v,"class","addressbar"),attr(x,"class","refresh material-icons-round")},m(R,N){insert(R,r,N),insert(R,p,N),insert(R,v,N);for(let j=0;j<F.length;j+=1)F[j]&&F[j].m(v,null);insert(R,k,N),insert(R,x,N),S=!0,L||(I=[listen(r,"click",$[1]),listen(x,"click",$[3])],L=!0)},p(R,[N]){if(N&5){O=R[0];let j;for(j=0;j<O.length;j+=1){const q=get_each_context$J(R,O,j);F[j]?(F[j].p(q,N),transition_in(F[j],1)):(F[j]=create_each_block$J(q),F[j].c(),transition_in(F[j],1),F[j].m(v,null))}for(group_outros(),j=O.length;j<F.length;j+=1)U(j);check_outros()}},i(R){if(!S){for(let N=0;N<O.length;N+=1)transition_in(F[N]);S=!0}},o(R){F=F.filter(Boolean);for(let N=0;N<F.length;N+=1)transition_out(F[N]);S=!1},d(R){R&&detach(r),R&&detach(p),R&&detach(v),destroy_each(F,R),R&&detach(k),R&&detach(x),L=!1,run_all(I)}}}function instance$3g($,r,p){let v=[];FileBrowserCurrentDir.subscribe(L=>{p(0,v=L.split("/"))});function k(){fbClass.goToDirectory("./")}function x(L,I){let O="";for(let F=0;F<I;F++)O+=`${v[F]}/`;return`${O}${L}`}return[v,k,x,()=>fbClass.refresh()]}class PathCrumbs extends SvelteComponent{constructor(r){super(),init(this,r,instance$3g,create_fragment$3y,safe_not_equal,{})}}function create_fragment$3x($){let r,p,v,k,x;return{c(){r=element("button"),p=text("content_copy"),attr(r,"class","material-icons-round copy"),r.disabled=v=!$[0]},m(S,L){insert(S,r,L),append(r,p),k||(x=listen(r,"click",$[1]),k=!0)},p(S,[L]){L&1&&v!==(v=!S[0])&&(r.disabled=v)},i:noop$1,o:noop$1,d(S){S&&detach(r),k=!1,x()}}}function instance$3f($,r,p){let v,k;component_subscribe($,FileBrowserSelectedFilename,S=>p(0,v=S)),component_subscribe($,FileBrowserCurrentDir,S=>p(2,k=S));function x(){FileBrowserCopyingFilename.set({name:v,scopedPath:`${k}/${v}`})}return[v,x]}class CopyButton extends SvelteComponent{constructor(r){super(),init(this,r,instance$3f,create_fragment$3x,safe_not_equal,{})}}function create_fragment$3w($){let r,p,v;return{c(){r=element("button"),r.textContent="add",attr(r,"class","material-icons-round create")},m(k,x){insert(k,r,x),p||(v=listen(r,"click",$[0]),p=!0)},p:noop$1,i:noop$1,o:noop$1,d(k){k&&detach(r),p=!1,v()}}}function instance$3e($){function r(){showOverlay("createFile","FileManager")}return[r]}class CreateButton extends SvelteComponent{constructor(r){super(),init(this,r,instance$3e,create_fragment$3w,safe_not_equal,{})}}function create_fragment$3v($){let r,p,v,k,x;return{c(){r=element("button"),p=text("content_cut"),attr(r,"class","material-icons-round cut"),r.disabled=v=!$[0]},m(S,L){insert(S,r,L),append(r,p),k||(x=listen(r,"click",$[1]),k=!0)},p(S,[L]){L&1&&v!==(v=!S[0])&&(r.disabled=v)},i:noop$1,o:noop$1,d(S){S&&detach(r),k=!1,x()}}}function instance$3d($,r,p){let v,k;component_subscribe($,FileBrowserSelectedFilename,S=>p(0,v=S)),component_subscribe($,FileBrowserCurrentDir,S=>p(2,k=S));function x(){FileBrowserCuttingFilename.set({name:v,scopedPath:`${k}/${v}`})}return[v,x]}class CutButton extends SvelteComponent{constructor(r){super(),init(this,r,instance$3d,create_fragment$3v,safe_not_equal,{})}}function create_fragment$3u($){let r,p,v,k,x;return{c(){r=element("button"),p=text("delete"),attr(r,"class","material-icons-round"),r.disabled=v=!$[0],attr(r,"title","Delete item")},m(S,L){insert(S,r,L),append(r,p),k||(x=listen(r,"click",$[1]),k=!0)},p(S,[L]){L&1&&v!==(v=!S[0])&&(r.disabled=v)},i:noop$1,o:noop$1,d(S){S&&detach(r),k=!1,x()}}}function instance$3c($,r,p){let v,k;component_subscribe($,FileBrowserSelectedFilename,L=>p(0,v=L)),component_subscribe($,FileBrowserCurrentDir,L=>p(2,k=L));function x(){createOverlayableError({title:"Delete item?",message:`Are you sure you want to permanently delete ${v}?`,buttons:[{caption:"Delete",action:S},{caption:"Cancel",action(){}}],image:clear$1},"FileManager")}async function S(){const L=`${k}/${v}`;FileBrowserDeletingFilename.set(v),showOverlay("deletingItem","FileManager"),await deleteItem(L)||createOverlayableError({title:"Unable to delete item",message:"ArcAPI was not able to delete the item from the file system. A permission error may have occured. Please try again later.",buttons:[{caption:"OK",action(){}}],image:warning},"FileManager"),FileBrowserSelectedFilename.set(null),fbClass.refresh(),setTimeout(()=>{hideOverlay("deletingItem","FileManager")},100)}return[v,x]}class DeleteButton extends SvelteComponent{constructor(r){super(),init(this,r,instance$3c,create_fragment$3u,safe_not_equal,{})}}function create_fragment$3t($){let r,p,v;return{c(){r=element("button"),r.textContent="create_new_folder",attr(r,"class","material-icons-round"),attr(r,"title","New folder")},m(k,x){insert(k,r,x),p||(v=listen(r,"click",$[0]),p=!0)},p:noop$1,i:noop$1,o:noop$1,d(k){k&&detach(r),p=!1,v()}}}function instance$3b($){function r(){showOverlay("createFolder","FileManager")}return[r]}class NewFolderButton extends SvelteComponent{constructor(r){super(),init(this,r,instance$3b,create_fragment$3t,safe_not_equal,{})}}function create_fragment$3s($){let r,p,v,k,x;return{c(){r=element("button"),p=text("arrow_upward"),attr(r,"class","material-icons-round parentdir"),r.disabled=v=$[0]=="./",attr(r,"title","Parent folder")},m(S,L){insert(S,r,L),append(r,p),k||(x=listen(r,"click",$[1]),k=!0)},p(S,[L]){L&1&&v!==(v=S[0]=="./")&&(r.disabled=v)},i:noop$1,o:noop$1,d(S){S&&detach(r),k=!1,x()}}}function instance$3a($,r,p){let v;component_subscribe($,FileBrowserCurrentDir,x=>p(0,v=x));function k(){fbClass.goToDirectory(getParentDirectory(v))}return[v,k]}class ParentDir extends SvelteComponent{constructor(r){super(),init(this,r,instance$3a,create_fragment$3s,safe_not_equal,{})}}async function copyItem($,r){const p=get_store_value(ConnectedServer);return p?(await apiCall(p,"fs/cp",{path:btoa($),target:btoa(r)},get_store_value(UserToken)),!0):!1}async function renameItem($,r){const p=get_store_value(ConnectedServer);return p?(await apiCall(p,"fs/rename",{oldpath:btoa($),newpath:btoa(r)},get_store_value(UserToken))).valid:!1}function create_fragment$3r($){let r,p,v,k,x;return{c(){r=element("button"),p=text("content_paste"),attr(r,"class","material-icons-round paste"),r.disabled=v=!$[0]&&!$[1]},m(S,L){insert(S,r,L),append(r,p),k||(x=listen(r,"click",$[2]),k=!0)},p(S,[L]){L&3&&v!==(v=!S[0]&&!S[1])&&(r.disabled=v)},i:noop$1,o:noop$1,d(S){S&&detach(r),k=!1,x()}}}function instance$39($,r,p){let v,k,x;component_subscribe($,FileBrowserCurrentDir,L=>p(3,v=L)),component_subscribe($,FileBrowserCuttingFilename,L=>p(0,k=L)),component_subscribe($,FileBrowserCopyingFilename,L=>p(1,x=L));async function S(){if(x){const L=x.name,I=x.scopedPath;await copyItem(I,`${v}/${L}`),FileBrowserCopyingFilename.set(null)}if(k){const L=k.name,I=k.scopedPath;await renameItem(I,`${v}/${L}`),FileBrowserCuttingFilename.set(null)}fbClass.refresh()}return[k,x,S]}class PasteButton extends SvelteComponent{constructor(r){super(),init(this,r,instance$39,create_fragment$3r,safe_not_equal,{})}}function create_fragment$3q($){let r,p,v,k,x;return{c(){r=element("button"),p=text("drive_file_rename_outline"),attr(r,"class","material-icons-round"),r.disabled=v=!$[0],attr(r,"title","Rename item")},m(S,L){insert(S,r,L),append(r,p),k||(x=listen(r,"click",$[1]),k=!0)},p(S,[L]){L&1&&v!==(v=!S[0])&&(r.disabled=v)},i:noop$1,o:noop$1,d(S){S&&detach(r),k=!1,x()}}}function instance$38($,r,p){let v;component_subscribe($,FileBrowserSelectedFilename,x=>p(0,v=x));function k(){showOverlay("renameItem","FileManager")}return[v,k]}class RenameButton extends SvelteComponent{constructor(r){super(),init(this,r,instance$38,create_fragment$3q,safe_not_equal,{})}}var mimeTypes={},mimeDbExports={},mimeDb={get exports(){return mimeDbExports},set exports($){mimeDbExports=$}};const require$$0={"application/1d-interleaved-parityfec":{source:"iana"},"application/3gpdash-qoe-report+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/3gpp-ims+xml":{source:"iana",compressible:!0},"application/3gpphal+json":{source:"iana",compressible:!0},"application/3gpphalforms+json":{source:"iana",compressible:!0},"application/a2l":{source:"iana"},"application/ace+cbor":{source:"iana"},"application/activemessage":{source:"iana"},"application/activity+json":{source:"iana",compressible:!0},"application/alto-costmap+json":{source:"iana",compressible:!0},"application/alto-costmapfilter+json":{source:"iana",compressible:!0},"application/alto-directory+json":{source:"iana",compressible:!0},"application/alto-endpointcost+json":{source:"iana",compressible:!0},"application/alto-endpointcostparams+json":{source:"iana",compressible:!0},"application/alto-endpointprop+json":{source:"iana",compressible:!0},"application/alto-endpointpropparams+json":{source:"iana",compressible:!0},"application/alto-error+json":{source:"iana",compressible:!0},"application/alto-networkmap+json":{source:"iana",compressible:!0},"application/alto-networkmapfilter+json":{source:"iana",compressible:!0},"application/alto-updatestreamcontrol+json":{source:"iana",compressible:!0},"application/alto-updatestreamparams+json":{source:"iana",compressible:!0},"application/aml":{source:"iana"},"application/andrew-inset":{source:"iana",extensions:["ez"]},"application/applefile":{source:"iana"},"application/applixware":{source:"apache",extensions:["aw"]},"application/at+jwt":{source:"iana"},"application/atf":{source:"iana"},"application/atfx":{source:"iana"},"application/atom+xml":{source:"iana",compressible:!0,extensions:["atom"]},"application/atomcat+xml":{source:"iana",compressible:!0,extensions:["atomcat"]},"application/atomdeleted+xml":{source:"iana",compressible:!0,extensions:["atomdeleted"]},"application/atomicmail":{source:"iana"},"application/atomsvc+xml":{source:"iana",compressible:!0,extensions:["atomsvc"]},"application/atsc-dwd+xml":{source:"iana",compressible:!0,extensions:["dwd"]},"application/atsc-dynamic-event-message":{source:"iana"},"application/atsc-held+xml":{source:"iana",compressible:!0,extensions:["held"]},"application/atsc-rdt+json":{source:"iana",compressible:!0},"application/atsc-rsat+xml":{source:"iana",compressible:!0,extensions:["rsat"]},"application/atxml":{source:"iana"},"application/auth-policy+xml":{source:"iana",compressible:!0},"application/bacnet-xdd+zip":{source:"iana",compressible:!1},"application/batch-smtp":{source:"iana"},"application/bdoc":{compressible:!1,extensions:["bdoc"]},"application/beep+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/calendar+json":{source:"iana",compressible:!0},"application/calendar+xml":{source:"iana",compressible:!0,extensions:["xcs"]},"application/call-completion":{source:"iana"},"application/cals-1840":{source:"iana"},"application/captive+json":{source:"iana",compressible:!0},"application/cbor":{source:"iana"},"application/cbor-seq":{source:"iana"},"application/cccex":{source:"iana"},"application/ccmp+xml":{source:"iana",compressible:!0},"application/ccxml+xml":{source:"iana",compressible:!0,extensions:["ccxml"]},"application/cdfx+xml":{source:"iana",compressible:!0,extensions:["cdfx"]},"application/cdmi-capability":{source:"iana",extensions:["cdmia"]},"application/cdmi-container":{source:"iana",extensions:["cdmic"]},"application/cdmi-domain":{source:"iana",extensions:["cdmid"]},"application/cdmi-object":{source:"iana",extensions:["cdmio"]},"application/cdmi-queue":{source:"iana",extensions:["cdmiq"]},"application/cdni":{source:"iana"},"application/cea":{source:"iana"},"application/cea-2018+xml":{source:"iana",compressible:!0},"application/cellml+xml":{source:"iana",compressible:!0},"application/cfw":{source:"iana"},"application/city+json":{source:"iana",compressible:!0},"application/clr":{source:"iana"},"application/clue+xml":{source:"iana",compressible:!0},"application/clue_info+xml":{source:"iana",compressible:!0},"application/cms":{source:"iana"},"application/cnrp+xml":{source:"iana",compressible:!0},"application/coap-group+json":{source:"iana",compressible:!0},"application/coap-payload":{source:"iana"},"application/commonground":{source:"iana"},"application/conference-info+xml":{source:"iana",compressible:!0},"application/cose":{source:"iana"},"application/cose-key":{source:"iana"},"application/cose-key-set":{source:"iana"},"application/cpl+xml":{source:"iana",compressible:!0,extensions:["cpl"]},"application/csrattrs":{source:"iana"},"application/csta+xml":{source:"iana",compressible:!0},"application/cstadata+xml":{source:"iana",compressible:!0},"application/csvm+json":{source:"iana",compressible:!0},"application/cu-seeme":{source:"apache",extensions:["cu"]},"application/cwt":{source:"iana"},"application/cybercash":{source:"iana"},"application/dart":{compressible:!0},"application/dash+xml":{source:"iana",compressible:!0,extensions:["mpd"]},"application/dash-patch+xml":{source:"iana",compressible:!0,extensions:["mpp"]},"application/dashdelta":{source:"iana"},"application/davmount+xml":{source:"iana",compressible:!0,extensions:["davmount"]},"application/dca-rft":{source:"iana"},"application/dcd":{source:"iana"},"application/dec-dx":{source:"iana"},"application/dialog-info+xml":{source:"iana",compressible:!0},"application/dicom":{source:"iana"},"application/dicom+json":{source:"iana",compressible:!0},"application/dicom+xml":{source:"iana",compressible:!0},"application/dii":{source:"iana"},"application/dit":{source:"iana"},"application/dns":{source:"iana"},"application/dns+json":{source:"iana",compressible:!0},"application/dns-message":{source:"iana"},"application/docbook+xml":{source:"apache",compressible:!0,extensions:["dbk"]},"application/dots+cbor":{source:"iana"},"application/dskpp+xml":{source:"iana",compressible:!0},"application/dssc+der":{source:"iana",extensions:["dssc"]},"application/dssc+xml":{source:"iana",compressible:!0,extensions:["xdssc"]},"application/dvcs":{source:"iana"},"application/ecmascript":{source:"iana",compressible:!0,extensions:["es","ecma"]},"application/edi-consent":{source:"iana"},"application/edi-x12":{source:"iana",compressible:!1},"application/edifact":{source:"iana",compressible:!1},"application/efi":{source:"iana"},"application/elm+json":{source:"iana",charset:"UTF-8",compressible:!0},"application/elm+xml":{source:"iana",compressible:!0},"application/emergencycalldata.cap+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/emergencycalldata.comment+xml":{source:"iana",compressible:!0},"application/emergencycalldata.control+xml":{source:"iana",compressible:!0},"application/emergencycalldata.deviceinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.ecall.msd":{source:"iana"},"application/emergencycalldata.providerinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.serviceinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.subscriberinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.veds+xml":{source:"iana",compressible:!0},"application/emma+xml":{source:"iana",compressible:!0,extensions:["emma"]},"application/emotionml+xml":{source:"iana",compressible:!0,extensions:["emotionml"]},"application/encaprtp":{source:"iana"},"application/epp+xml":{source:"iana",compressible:!0},"application/epub+zip":{source:"iana",compressible:!1,extensions:["epub"]},"application/eshop":{source:"iana"},"application/exi":{source:"iana",extensions:["exi"]},"application/expect-ct-report+json":{source:"iana",compressible:!0},"application/express":{source:"iana",extensions:["exp"]},"application/fastinfoset":{source:"iana"},"application/fastsoap":{source:"iana"},"application/fdt+xml":{source:"iana",compressible:!0,extensions:["fdt"]},"application/fhir+json":{source:"iana",charset:"UTF-8",compressible:!0},"application/fhir+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/fido.trusted-apps+json":{compressible:!0},"application/fits":{source:"iana"},"application/flexfec":{source:"iana"},"application/font-sfnt":{source:"iana"},"application/font-tdpfr":{source:"iana",extensions:["pfr"]},"application/font-woff":{source:"iana",compressible:!1},"application/framework-attributes+xml":{source:"iana",compressible:!0},"application/geo+json":{source:"iana",compressible:!0,extensions:["geojson"]},"application/geo+json-seq":{source:"iana"},"application/geopackage+sqlite3":{source:"iana"},"application/geoxacml+xml":{source:"iana",compressible:!0},"application/gltf-buffer":{source:"iana"},"application/gml+xml":{source:"iana",compressible:!0,extensions:["gml"]},"application/gpx+xml":{source:"apache",compressible:!0,extensions:["gpx"]},"application/gxf":{source:"apache",extensions:["gxf"]},"application/gzip":{source:"iana",compressible:!1,extensions:["gz"]},"application/h224":{source:"iana"},"application/held+xml":{source:"iana",compressible:!0},"application/hjson":{extensions:["hjson"]},"application/http":{source:"iana"},"application/hyperstudio":{source:"iana",extensions:["stk"]},"application/ibe-key-request+xml":{source:"iana",compressible:!0},"application/ibe-pkg-reply+xml":{source:"iana",compressible:!0},"application/ibe-pp-data":{source:"iana"},"application/iges":{source:"iana"},"application/im-iscomposing+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/index":{source:"iana"},"application/index.cmd":{source:"iana"},"application/index.obj":{source:"iana"},"application/index.response":{source:"iana"},"application/index.vnd":{source:"iana"},"application/inkml+xml":{source:"iana",compressible:!0,extensions:["ink","inkml"]},"application/iotp":{source:"iana"},"application/ipfix":{source:"iana",extensions:["ipfix"]},"application/ipp":{source:"iana"},"application/isup":{source:"iana"},"application/its+xml":{source:"iana",compressible:!0,extensions:["its"]},"application/java-archive":{source:"apache",compressible:!1,extensions:["jar","war","ear"]},"application/java-serialized-object":{source:"apache",compressible:!1,extensions:["ser"]},"application/java-vm":{source:"apache",compressible:!1,extensions:["class"]},"application/javascript":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["js","mjs"]},"application/jf2feed+json":{source:"iana",compressible:!0},"application/jose":{source:"iana"},"application/jose+json":{source:"iana",compressible:!0},"application/jrd+json":{source:"iana",compressible:!0},"application/jscalendar+json":{source:"iana",compressible:!0},"application/json":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["json","map"]},"application/json-patch+json":{source:"iana",compressible:!0},"application/json-seq":{source:"iana"},"application/json5":{extensions:["json5"]},"application/jsonml+json":{source:"apache",compressible:!0,extensions:["jsonml"]},"application/jwk+json":{source:"iana",compressible:!0},"application/jwk-set+json":{source:"iana",compressible:!0},"application/jwt":{source:"iana"},"application/kpml-request+xml":{source:"iana",compressible:!0},"application/kpml-response+xml":{source:"iana",compressible:!0},"application/ld+json":{source:"iana",compressible:!0,extensions:["jsonld"]},"application/lgr+xml":{source:"iana",compressible:!0,extensions:["lgr"]},"application/link-format":{source:"iana"},"application/load-control+xml":{source:"iana",compressible:!0},"application/lost+xml":{source:"iana",compressible:!0,extensions:["lostxml"]},"application/lostsync+xml":{source:"iana",compressible:!0},"application/lpf+zip":{source:"iana",compressible:!1},"application/lxf":{source:"iana"},"application/mac-binhex40":{source:"iana",extensions:["hqx"]},"application/mac-compactpro":{source:"apache",extensions:["cpt"]},"application/macwriteii":{source:"iana"},"application/mads+xml":{source:"iana",compressible:!0,extensions:["mads"]},"application/manifest+json":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["webmanifest"]},"application/marc":{source:"iana",extensions:["mrc"]},"application/marcxml+xml":{source:"iana",compressible:!0,extensions:["mrcx"]},"application/mathematica":{source:"iana",extensions:["ma","nb","mb"]},"application/mathml+xml":{source:"iana",compressible:!0,extensions:["mathml"]},"application/mathml-content+xml":{source:"iana",compressible:!0},"application/mathml-presentation+xml":{source:"iana",compressible:!0},"application/mbms-associated-procedure-description+xml":{source:"iana",compressible:!0},"application/mbms-deregister+xml":{source:"iana",compressible:!0},"application/mbms-envelope+xml":{source:"iana",compressible:!0},"application/mbms-msk+xml":{source:"iana",compressible:!0},"application/mbms-msk-response+xml":{source:"iana",compressible:!0},"application/mbms-protection-description+xml":{source:"iana",compressible:!0},"application/mbms-reception-report+xml":{source:"iana",compressible:!0},"application/mbms-register+xml":{source:"iana",compressible:!0},"application/mbms-register-response+xml":{source:"iana",compressible:!0},"application/mbms-schedule+xml":{source:"iana",compressible:!0},"application/mbms-user-service-description+xml":{source:"iana",compressible:!0},"application/mbox":{source:"iana",extensions:["mbox"]},"application/media-policy-dataset+xml":{source:"iana",compressible:!0,extensions:["mpf"]},"application/media_control+xml":{source:"iana",compressible:!0},"application/mediaservercontrol+xml":{source:"iana",compressible:!0,extensions:["mscml"]},"application/merge-patch+json":{source:"iana",compressible:!0},"application/metalink+xml":{source:"apache",compressible:!0,extensions:["metalink"]},"application/metalink4+xml":{source:"iana",compressible:!0,extensions:["meta4"]},"application/mets+xml":{source:"iana",compressible:!0,extensions:["mets"]},"application/mf4":{source:"iana"},"application/mikey":{source:"iana"},"application/mipc":{source:"iana"},"application/missing-blocks+cbor-seq":{source:"iana"},"application/mmt-aei+xml":{source:"iana",compressible:!0,extensions:["maei"]},"application/mmt-usd+xml":{source:"iana",compressible:!0,extensions:["musd"]},"application/mods+xml":{source:"iana",compressible:!0,extensions:["mods"]},"application/moss-keys":{source:"iana"},"application/moss-signature":{source:"iana"},"application/mosskey-data":{source:"iana"},"application/mosskey-request":{source:"iana"},"application/mp21":{source:"iana",extensions:["m21","mp21"]},"application/mp4":{source:"iana",extensions:["mp4s","m4p"]},"application/mpeg4-generic":{source:"iana"},"application/mpeg4-iod":{source:"iana"},"application/mpeg4-iod-xmt":{source:"iana"},"application/mrb-consumer+xml":{source:"iana",compressible:!0},"application/mrb-publish+xml":{source:"iana",compressible:!0},"application/msc-ivr+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/msc-mixer+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/msword":{source:"iana",compressible:!1,extensions:["doc","dot"]},"application/mud+json":{source:"iana",compressible:!0},"application/multipart-core":{source:"iana"},"application/mxf":{source:"iana",extensions:["mxf"]},"application/n-quads":{source:"iana",extensions:["nq"]},"application/n-triples":{source:"iana",extensions:["nt"]},"application/nasdata":{source:"iana"},"application/news-checkgroups":{source:"iana",charset:"US-ASCII"},"application/news-groupinfo":{source:"iana",charset:"US-ASCII"},"application/news-transmission":{source:"iana"},"application/nlsml+xml":{source:"iana",compressible:!0},"application/node":{source:"iana",extensions:["cjs"]},"application/nss":{source:"iana"},"application/oauth-authz-req+jwt":{source:"iana"},"application/oblivious-dns-message":{source:"iana"},"application/ocsp-request":{source:"iana"},"application/ocsp-response":{source:"iana"},"application/octet-stream":{source:"iana",compressible:!1,extensions:["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"]},"application/oda":{source:"iana",extensions:["oda"]},"application/odm+xml":{source:"iana",compressible:!0},"application/odx":{source:"iana"},"application/oebps-package+xml":{source:"iana",compressible:!0,extensions:["opf"]},"application/ogg":{source:"iana",compressible:!1,extensions:["ogx"]},"application/omdoc+xml":{source:"apache",compressible:!0,extensions:["omdoc"]},"application/onenote":{source:"apache",extensions:["onetoc","onetoc2","onetmp","onepkg"]},"application/opc-nodeset+xml":{source:"iana",compressible:!0},"application/oscore":{source:"iana"},"application/oxps":{source:"iana",extensions:["oxps"]},"application/p21":{source:"iana"},"application/p21+zip":{source:"iana",compressible:!1},"application/p2p-overlay+xml":{source:"iana",compressible:!0,extensions:["relo"]},"application/parityfec":{source:"iana"},"application/passport":{source:"iana"},"application/patch-ops-error+xml":{source:"iana",compressible:!0,extensions:["xer"]},"application/pdf":{source:"iana",compressible:!1,extensions:["pdf"]},"application/pdx":{source:"iana"},"application/pem-certificate-chain":{source:"iana"},"application/pgp-encrypted":{source:"iana",compressible:!1,extensions:["pgp"]},"application/pgp-keys":{source:"iana",extensions:["asc"]},"application/pgp-signature":{source:"iana",extensions:["asc","sig"]},"application/pics-rules":{source:"apache",extensions:["prf"]},"application/pidf+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/pidf-diff+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/pkcs10":{source:"iana",extensions:["p10"]},"application/pkcs12":{source:"iana"},"application/pkcs7-mime":{source:"iana",extensions:["p7m","p7c"]},"application/pkcs7-signature":{source:"iana",extensions:["p7s"]},"application/pkcs8":{source:"iana",extensions:["p8"]},"application/pkcs8-encrypted":{source:"iana"},"application/pkix-attr-cert":{source:"iana",extensions:["ac"]},"application/pkix-cert":{source:"iana",extensions:["cer"]},"application/pkix-crl":{source:"iana",extensions:["crl"]},"application/pkix-pkipath":{source:"iana",extensions:["pkipath"]},"application/pkixcmp":{source:"iana",extensions:["pki"]},"application/pls+xml":{source:"iana",compressible:!0,extensions:["pls"]},"application/poc-settings+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/postscript":{source:"iana",compressible:!0,extensions:["ai","eps","ps"]},"application/ppsp-tracker+json":{source:"iana",compressible:!0},"application/problem+json":{source:"iana",compressible:!0},"application/problem+xml":{source:"iana",compressible:!0},"application/provenance+xml":{source:"iana",compressible:!0,extensions:["provx"]},"application/prs.alvestrand.titrax-sheet":{source:"iana"},"application/prs.cww":{source:"iana",extensions:["cww"]},"application/prs.cyn":{source:"iana",charset:"7-BIT"},"application/prs.hpub+zip":{source:"iana",compressible:!1},"application/prs.nprend":{source:"iana"},"application/prs.plucker":{source:"iana"},"application/prs.rdf-xml-crypt":{source:"iana"},"application/prs.xsf+xml":{source:"iana",compressible:!0},"application/pskc+xml":{source:"iana",compressible:!0,extensions:["pskcxml"]},"application/pvd+json":{source:"iana",compressible:!0},"application/qsig":{source:"iana"},"application/raml+yaml":{compressible:!0,extensions:["raml"]},"application/raptorfec":{source:"iana"},"application/rdap+json":{source:"iana",compressible:!0},"application/rdf+xml":{source:"iana",compressible:!0,extensions:["rdf","owl"]},"application/reginfo+xml":{source:"iana",compressible:!0,extensions:["rif"]},"application/relax-ng-compact-syntax":{source:"iana",extensions:["rnc"]},"application/remote-printing":{source:"iana"},"application/reputon+json":{source:"iana",compressible:!0},"application/resource-lists+xml":{source:"iana",compressible:!0,extensions:["rl"]},"application/resource-lists-diff+xml":{source:"iana",compressible:!0,extensions:["rld"]},"application/rfc+xml":{source:"iana",compressible:!0},"application/riscos":{source:"iana"},"application/rlmi+xml":{source:"iana",compressible:!0},"application/rls-services+xml":{source:"iana",compressible:!0,extensions:["rs"]},"application/route-apd+xml":{source:"iana",compressible:!0,extensions:["rapd"]},"application/route-s-tsid+xml":{source:"iana",compressible:!0,extensions:["sls"]},"application/route-usd+xml":{source:"iana",compressible:!0,extensions:["rusd"]},"application/rpki-ghostbusters":{source:"iana",extensions:["gbr"]},"application/rpki-manifest":{source:"iana",extensions:["mft"]},"application/rpki-publication":{source:"iana"},"application/rpki-roa":{source:"iana",extensions:["roa"]},"application/rpki-updown":{source:"iana"},"application/rsd+xml":{source:"apache",compressible:!0,extensions:["rsd"]},"application/rss+xml":{source:"apache",compressible:!0,extensions:["rss"]},"application/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"application/rtploopback":{source:"iana"},"application/rtx":{source:"iana"},"application/samlassertion+xml":{source:"iana",compressible:!0},"application/samlmetadata+xml":{source:"iana",compressible:!0},"application/sarif+json":{source:"iana",compressible:!0},"application/sarif-external-properties+json":{source:"iana",compressible:!0},"application/sbe":{source:"iana"},"application/sbml+xml":{source:"iana",compressible:!0,extensions:["sbml"]},"application/scaip+xml":{source:"iana",compressible:!0},"application/scim+json":{source:"iana",compressible:!0},"application/scvp-cv-request":{source:"iana",extensions:["scq"]},"application/scvp-cv-response":{source:"iana",extensions:["scs"]},"application/scvp-vp-request":{source:"iana",extensions:["spq"]},"application/scvp-vp-response":{source:"iana",extensions:["spp"]},"application/sdp":{source:"iana",extensions:["sdp"]},"application/secevent+jwt":{source:"iana"},"application/senml+cbor":{source:"iana"},"application/senml+json":{source:"iana",compressible:!0},"application/senml+xml":{source:"iana",compressible:!0,extensions:["senmlx"]},"application/senml-etch+cbor":{source:"iana"},"application/senml-etch+json":{source:"iana",compressible:!0},"application/senml-exi":{source:"iana"},"application/sensml+cbor":{source:"iana"},"application/sensml+json":{source:"iana",compressible:!0},"application/sensml+xml":{source:"iana",compressible:!0,extensions:["sensmlx"]},"application/sensml-exi":{source:"iana"},"application/sep+xml":{source:"iana",compressible:!0},"application/sep-exi":{source:"iana"},"application/session-info":{source:"iana"},"application/set-payment":{source:"iana"},"application/set-payment-initiation":{source:"iana",extensions:["setpay"]},"application/set-registration":{source:"iana"},"application/set-registration-initiation":{source:"iana",extensions:["setreg"]},"application/sgml":{source:"iana"},"application/sgml-open-catalog":{source:"iana"},"application/shf+xml":{source:"iana",compressible:!0,extensions:["shf"]},"application/sieve":{source:"iana",extensions:["siv","sieve"]},"application/simple-filter+xml":{source:"iana",compressible:!0},"application/simple-message-summary":{source:"iana"},"application/simplesymbolcontainer":{source:"iana"},"application/sipc":{source:"iana"},"application/slate":{source:"iana"},"application/smil":{source:"iana"},"application/smil+xml":{source:"iana",compressible:!0,extensions:["smi","smil"]},"application/smpte336m":{source:"iana"},"application/soap+fastinfoset":{source:"iana"},"application/soap+xml":{source:"iana",compressible:!0},"application/sparql-query":{source:"iana",extensions:["rq"]},"application/sparql-results+xml":{source:"iana",compressible:!0,extensions:["srx"]},"application/spdx+json":{source:"iana",compressible:!0},"application/spirits-event+xml":{source:"iana",compressible:!0},"application/sql":{source:"iana"},"application/srgs":{source:"iana",extensions:["gram"]},"application/srgs+xml":{source:"iana",compressible:!0,extensions:["grxml"]},"application/sru+xml":{source:"iana",compressible:!0,extensions:["sru"]},"application/ssdl+xml":{source:"apache",compressible:!0,extensions:["ssdl"]},"application/ssml+xml":{source:"iana",compressible:!0,extensions:["ssml"]},"application/stix+json":{source:"iana",compressible:!0},"application/swid+xml":{source:"iana",compressible:!0,extensions:["swidtag"]},"application/tamp-apex-update":{source:"iana"},"application/tamp-apex-update-confirm":{source:"iana"},"application/tamp-community-update":{source:"iana"},"application/tamp-community-update-confirm":{source:"iana"},"application/tamp-error":{source:"iana"},"application/tamp-sequence-adjust":{source:"iana"},"application/tamp-sequence-adjust-confirm":{source:"iana"},"application/tamp-status-query":{source:"iana"},"application/tamp-status-response":{source:"iana"},"application/tamp-update":{source:"iana"},"application/tamp-update-confirm":{source:"iana"},"application/tar":{compressible:!0},"application/taxii+json":{source:"iana",compressible:!0},"application/td+json":{source:"iana",compressible:!0},"application/tei+xml":{source:"iana",compressible:!0,extensions:["tei","teicorpus"]},"application/tetra_isi":{source:"iana"},"application/thraud+xml":{source:"iana",compressible:!0,extensions:["tfi"]},"application/timestamp-query":{source:"iana"},"application/timestamp-reply":{source:"iana"},"application/timestamped-data":{source:"iana",extensions:["tsd"]},"application/tlsrpt+gzip":{source:"iana"},"application/tlsrpt+json":{source:"iana",compressible:!0},"application/tnauthlist":{source:"iana"},"application/token-introspection+jwt":{source:"iana"},"application/toml":{compressible:!0,extensions:["toml"]},"application/trickle-ice-sdpfrag":{source:"iana"},"application/trig":{source:"iana",extensions:["trig"]},"application/ttml+xml":{source:"iana",compressible:!0,extensions:["ttml"]},"application/tve-trigger":{source:"iana"},"application/tzif":{source:"iana"},"application/tzif-leap":{source:"iana"},"application/ubjson":{compressible:!1,extensions:["ubj"]},"application/ulpfec":{source:"iana"},"application/urc-grpsheet+xml":{source:"iana",compressible:!0},"application/urc-ressheet+xml":{source:"iana",compressible:!0,extensions:["rsheet"]},"application/urc-targetdesc+xml":{source:"iana",compressible:!0,extensions:["td"]},"application/urc-uisocketdesc+xml":{source:"iana",compressible:!0},"application/vcard+json":{source:"iana",compressible:!0},"application/vcard+xml":{source:"iana",compressible:!0},"application/vemmi":{source:"iana"},"application/vividence.scriptfile":{source:"apache"},"application/vnd.1000minds.decision-model+xml":{source:"iana",compressible:!0,extensions:["1km"]},"application/vnd.3gpp-prose+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-prose-pc3ch+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-v2x-local-service-information":{source:"iana"},"application/vnd.3gpp.5gnas":{source:"iana"},"application/vnd.3gpp.access-transfer-events+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.bsf+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.gmop+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.gtpc":{source:"iana"},"application/vnd.3gpp.interworking-data":{source:"iana"},"application/vnd.3gpp.lpp":{source:"iana"},"application/vnd.3gpp.mc-signalling-ear":{source:"iana"},"application/vnd.3gpp.mcdata-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-payload":{source:"iana"},"application/vnd.3gpp.mcdata-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-signalling":{source:"iana"},"application/vnd.3gpp.mcdata-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-floor-request+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-location-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-mbms-usage-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-signed+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-ue-init-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-affiliation-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-location-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-mbms-usage-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-transmission-request+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mid-call+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.ngap":{source:"iana"},"application/vnd.3gpp.pfcp":{source:"iana"},"application/vnd.3gpp.pic-bw-large":{source:"iana",extensions:["plb"]},"application/vnd.3gpp.pic-bw-small":{source:"iana",extensions:["psb"]},"application/vnd.3gpp.pic-bw-var":{source:"iana",extensions:["pvb"]},"application/vnd.3gpp.s1ap":{source:"iana"},"application/vnd.3gpp.sms":{source:"iana"},"application/vnd.3gpp.sms+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.srvcc-ext+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.srvcc-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.state-and-event-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.ussd+xml":{source:"iana",compressible:!0},"application/vnd.3gpp2.bcmcsinfo+xml":{source:"iana",compressible:!0},"application/vnd.3gpp2.sms":{source:"iana"},"application/vnd.3gpp2.tcap":{source:"iana",extensions:["tcap"]},"application/vnd.3lightssoftware.imagescal":{source:"iana"},"application/vnd.3m.post-it-notes":{source:"iana",extensions:["pwn"]},"application/vnd.accpac.simply.aso":{source:"iana",extensions:["aso"]},"application/vnd.accpac.simply.imp":{source:"iana",extensions:["imp"]},"application/vnd.acucobol":{source:"iana",extensions:["acu"]},"application/vnd.acucorp":{source:"iana",extensions:["atc","acutc"]},"application/vnd.adobe.air-application-installer-package+zip":{source:"apache",compressible:!1,extensions:["air"]},"application/vnd.adobe.flash.movie":{source:"iana"},"application/vnd.adobe.formscentral.fcdt":{source:"iana",extensions:["fcdt"]},"application/vnd.adobe.fxp":{source:"iana",extensions:["fxp","fxpl"]},"application/vnd.adobe.partial-upload":{source:"iana"},"application/vnd.adobe.xdp+xml":{source:"iana",compressible:!0,extensions:["xdp"]},"application/vnd.adobe.xfdf":{source:"iana",extensions:["xfdf"]},"application/vnd.aether.imp":{source:"iana"},"application/vnd.afpc.afplinedata":{source:"iana"},"application/vnd.afpc.afplinedata-pagedef":{source:"iana"},"application/vnd.afpc.cmoca-cmresource":{source:"iana"},"application/vnd.afpc.foca-charset":{source:"iana"},"application/vnd.afpc.foca-codedfont":{source:"iana"},"application/vnd.afpc.foca-codepage":{source:"iana"},"application/vnd.afpc.modca":{source:"iana"},"application/vnd.afpc.modca-cmtable":{source:"iana"},"application/vnd.afpc.modca-formdef":{source:"iana"},"application/vnd.afpc.modca-mediummap":{source:"iana"},"application/vnd.afpc.modca-objectcontainer":{source:"iana"},"application/vnd.afpc.modca-overlay":{source:"iana"},"application/vnd.afpc.modca-pagesegment":{source:"iana"},"application/vnd.age":{source:"iana",extensions:["age"]},"application/vnd.ah-barcode":{source:"iana"},"application/vnd.ahead.space":{source:"iana",extensions:["ahead"]},"application/vnd.airzip.filesecure.azf":{source:"iana",extensions:["azf"]},"application/vnd.airzip.filesecure.azs":{source:"iana",extensions:["azs"]},"application/vnd.amadeus+json":{source:"iana",compressible:!0},"application/vnd.amazon.ebook":{source:"apache",extensions:["azw"]},"application/vnd.amazon.mobi8-ebook":{source:"iana"},"application/vnd.americandynamics.acc":{source:"iana",extensions:["acc"]},"application/vnd.amiga.ami":{source:"iana",extensions:["ami"]},"application/vnd.amundsen.maze+xml":{source:"iana",compressible:!0},"application/vnd.android.ota":{source:"iana"},"application/vnd.android.package-archive":{source:"apache",compressible:!1,extensions:["apk"]},"application/vnd.anki":{source:"iana"},"application/vnd.anser-web-certificate-issue-initiation":{source:"iana",extensions:["cii"]},"application/vnd.anser-web-funds-transfer-initiation":{source:"apache",extensions:["fti"]},"application/vnd.antix.game-component":{source:"iana",extensions:["atx"]},"application/vnd.apache.arrow.file":{source:"iana"},"application/vnd.apache.arrow.stream":{source:"iana"},"application/vnd.apache.thrift.binary":{source:"iana"},"application/vnd.apache.thrift.compact":{source:"iana"},"application/vnd.apache.thrift.json":{source:"iana"},"application/vnd.api+json":{source:"iana",compressible:!0},"application/vnd.aplextor.warrp+json":{source:"iana",compressible:!0},"application/vnd.apothekende.reservation+json":{source:"iana",compressible:!0},"application/vnd.apple.installer+xml":{source:"iana",compressible:!0,extensions:["mpkg"]},"application/vnd.apple.keynote":{source:"iana",extensions:["key"]},"application/vnd.apple.mpegurl":{source:"iana",extensions:["m3u8"]},"application/vnd.apple.numbers":{source:"iana",extensions:["numbers"]},"application/vnd.apple.pages":{source:"iana",extensions:["pages"]},"application/vnd.apple.pkpass":{compressible:!1,extensions:["pkpass"]},"application/vnd.arastra.swi":{source:"iana"},"application/vnd.aristanetworks.swi":{source:"iana",extensions:["swi"]},"application/vnd.artisan+json":{source:"iana",compressible:!0},"application/vnd.artsquare":{source:"iana"},"application/vnd.astraea-software.iota":{source:"iana",extensions:["iota"]},"application/vnd.audiograph":{source:"iana",extensions:["aep"]},"application/vnd.autopackage":{source:"iana"},"application/vnd.avalon+json":{source:"iana",compressible:!0},"application/vnd.avistar+xml":{source:"iana",compressible:!0},"application/vnd.balsamiq.bmml+xml":{source:"iana",compressible:!0,extensions:["bmml"]},"application/vnd.balsamiq.bmpr":{source:"iana"},"application/vnd.banana-accounting":{source:"iana"},"application/vnd.bbf.usp.error":{source:"iana"},"application/vnd.bbf.usp.msg":{source:"iana"},"application/vnd.bbf.usp.msg+json":{source:"iana",compressible:!0},"application/vnd.bekitzur-stech+json":{source:"iana",compressible:!0},"application/vnd.bint.med-content":{source:"iana"},"application/vnd.biopax.rdf+xml":{source:"iana",compressible:!0},"application/vnd.blink-idb-value-wrapper":{source:"iana"},"application/vnd.blueice.multipass":{source:"iana",extensions:["mpm"]},"application/vnd.bluetooth.ep.oob":{source:"iana"},"application/vnd.bluetooth.le.oob":{source:"iana"},"application/vnd.bmi":{source:"iana",extensions:["bmi"]},"application/vnd.bpf":{source:"iana"},"application/vnd.bpf3":{source:"iana"},"application/vnd.businessobjects":{source:"iana",extensions:["rep"]},"application/vnd.byu.uapi+json":{source:"iana",compressible:!0},"application/vnd.cab-jscript":{source:"iana"},"application/vnd.canon-cpdl":{source:"iana"},"application/vnd.canon-lips":{source:"iana"},"application/vnd.capasystems-pg+json":{source:"iana",compressible:!0},"application/vnd.cendio.thinlinc.clientconf":{source:"iana"},"application/vnd.century-systems.tcp_stream":{source:"iana"},"application/vnd.chemdraw+xml":{source:"iana",compressible:!0,extensions:["cdxml"]},"application/vnd.chess-pgn":{source:"iana"},"application/vnd.chipnuts.karaoke-mmd":{source:"iana",extensions:["mmd"]},"application/vnd.ciedi":{source:"iana"},"application/vnd.cinderella":{source:"iana",extensions:["cdy"]},"application/vnd.cirpack.isdn-ext":{source:"iana"},"application/vnd.citationstyles.style+xml":{source:"iana",compressible:!0,extensions:["csl"]},"application/vnd.claymore":{source:"iana",extensions:["cla"]},"application/vnd.cloanto.rp9":{source:"iana",extensions:["rp9"]},"application/vnd.clonk.c4group":{source:"iana",extensions:["c4g","c4d","c4f","c4p","c4u"]},"application/vnd.cluetrust.cartomobile-config":{source:"iana",extensions:["c11amc"]},"application/vnd.cluetrust.cartomobile-config-pkg":{source:"iana",extensions:["c11amz"]},"application/vnd.coffeescript":{source:"iana"},"application/vnd.collabio.xodocuments.document":{source:"iana"},"application/vnd.collabio.xodocuments.document-template":{source:"iana"},"application/vnd.collabio.xodocuments.presentation":{source:"iana"},"application/vnd.collabio.xodocuments.presentation-template":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet-template":{source:"iana"},"application/vnd.collection+json":{source:"iana",compressible:!0},"application/vnd.collection.doc+json":{source:"iana",compressible:!0},"application/vnd.collection.next+json":{source:"iana",compressible:!0},"application/vnd.comicbook+zip":{source:"iana",compressible:!1},"application/vnd.comicbook-rar":{source:"iana"},"application/vnd.commerce-battelle":{source:"iana"},"application/vnd.commonspace":{source:"iana",extensions:["csp"]},"application/vnd.contact.cmsg":{source:"iana",extensions:["cdbcmsg"]},"application/vnd.coreos.ignition+json":{source:"iana",compressible:!0},"application/vnd.cosmocaller":{source:"iana",extensions:["cmc"]},"application/vnd.crick.clicker":{source:"iana",extensions:["clkx"]},"application/vnd.crick.clicker.keyboard":{source:"iana",extensions:["clkk"]},"application/vnd.crick.clicker.palette":{source:"iana",extensions:["clkp"]},"application/vnd.crick.clicker.template":{source:"iana",extensions:["clkt"]},"application/vnd.crick.clicker.wordbank":{source:"iana",extensions:["clkw"]},"application/vnd.criticaltools.wbs+xml":{source:"iana",compressible:!0,extensions:["wbs"]},"application/vnd.cryptii.pipe+json":{source:"iana",compressible:!0},"application/vnd.crypto-shade-file":{source:"iana"},"application/vnd.cryptomator.encrypted":{source:"iana"},"application/vnd.cryptomator.vault":{source:"iana"},"application/vnd.ctc-posml":{source:"iana",extensions:["pml"]},"application/vnd.ctct.ws+xml":{source:"iana",compressible:!0},"application/vnd.cups-pdf":{source:"iana"},"application/vnd.cups-postscript":{source:"iana"},"application/vnd.cups-ppd":{source:"iana",extensions:["ppd"]},"application/vnd.cups-raster":{source:"iana"},"application/vnd.cups-raw":{source:"iana"},"application/vnd.curl":{source:"iana"},"application/vnd.curl.car":{source:"apache",extensions:["car"]},"application/vnd.curl.pcurl":{source:"apache",extensions:["pcurl"]},"application/vnd.cyan.dean.root+xml":{source:"iana",compressible:!0},"application/vnd.cybank":{source:"iana"},"application/vnd.cyclonedx+json":{source:"iana",compressible:!0},"application/vnd.cyclonedx+xml":{source:"iana",compressible:!0},"application/vnd.d2l.coursepackage1p0+zip":{source:"iana",compressible:!1},"application/vnd.d3m-dataset":{source:"iana"},"application/vnd.d3m-problem":{source:"iana"},"application/vnd.dart":{source:"iana",compressible:!0,extensions:["dart"]},"application/vnd.data-vision.rdz":{source:"iana",extensions:["rdz"]},"application/vnd.datapackage+json":{source:"iana",compressible:!0},"application/vnd.dataresource+json":{source:"iana",compressible:!0},"application/vnd.dbf":{source:"iana",extensions:["dbf"]},"application/vnd.debian.binary-package":{source:"iana"},"application/vnd.dece.data":{source:"iana",extensions:["uvf","uvvf","uvd","uvvd"]},"application/vnd.dece.ttml+xml":{source:"iana",compressible:!0,extensions:["uvt","uvvt"]},"application/vnd.dece.unspecified":{source:"iana",extensions:["uvx","uvvx"]},"application/vnd.dece.zip":{source:"iana",extensions:["uvz","uvvz"]},"application/vnd.denovo.fcselayout-link":{source:"iana",extensions:["fe_launch"]},"application/vnd.desmume.movie":{source:"iana"},"application/vnd.dir-bi.plate-dl-nosuffix":{source:"iana"},"application/vnd.dm.delegation+xml":{source:"iana",compressible:!0},"application/vnd.dna":{source:"iana",extensions:["dna"]},"application/vnd.document+json":{source:"iana",compressible:!0},"application/vnd.dolby.mlp":{source:"apache",extensions:["mlp"]},"application/vnd.dolby.mobile.1":{source:"iana"},"application/vnd.dolby.mobile.2":{source:"iana"},"application/vnd.doremir.scorecloud-binary-document":{source:"iana"},"application/vnd.dpgraph":{source:"iana",extensions:["dpg"]},"application/vnd.dreamfactory":{source:"iana",extensions:["dfac"]},"application/vnd.drive+json":{source:"iana",compressible:!0},"application/vnd.ds-keypoint":{source:"apache",extensions:["kpxx"]},"application/vnd.dtg.local":{source:"iana"},"application/vnd.dtg.local.flash":{source:"iana"},"application/vnd.dtg.local.html":{source:"iana"},"application/vnd.dvb.ait":{source:"iana",extensions:["ait"]},"application/vnd.dvb.dvbisl+xml":{source:"iana",compressible:!0},"application/vnd.dvb.dvbj":{source:"iana"},"application/vnd.dvb.esgcontainer":{source:"iana"},"application/vnd.dvb.ipdcdftnotifaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess2":{source:"iana"},"application/vnd.dvb.ipdcesgpdd":{source:"iana"},"application/vnd.dvb.ipdcroaming":{source:"iana"},"application/vnd.dvb.iptv.alfec-base":{source:"iana"},"application/vnd.dvb.iptv.alfec-enhancement":{source:"iana"},"application/vnd.dvb.notif-aggregate-root+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-container+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-generic+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-msglist+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-registration-request+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-registration-response+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-init+xml":{source:"iana",compressible:!0},"application/vnd.dvb.pfr":{source:"iana"},"application/vnd.dvb.service":{source:"iana",extensions:["svc"]},"application/vnd.dxr":{source:"iana"},"application/vnd.dynageo":{source:"iana",extensions:["geo"]},"application/vnd.dzr":{source:"iana"},"application/vnd.easykaraoke.cdgdownload":{source:"iana"},"application/vnd.ecdis-update":{source:"iana"},"application/vnd.ecip.rlp":{source:"iana"},"application/vnd.eclipse.ditto+json":{source:"iana",compressible:!0},"application/vnd.ecowin.chart":{source:"iana",extensions:["mag"]},"application/vnd.ecowin.filerequest":{source:"iana"},"application/vnd.ecowin.fileupdate":{source:"iana"},"application/vnd.ecowin.series":{source:"iana"},"application/vnd.ecowin.seriesrequest":{source:"iana"},"application/vnd.ecowin.seriesupdate":{source:"iana"},"application/vnd.efi.img":{source:"iana"},"application/vnd.efi.iso":{source:"iana"},"application/vnd.emclient.accessrequest+xml":{source:"iana",compressible:!0},"application/vnd.enliven":{source:"iana",extensions:["nml"]},"application/vnd.enphase.envoy":{source:"iana"},"application/vnd.eprints.data+xml":{source:"iana",compressible:!0},"application/vnd.epson.esf":{source:"iana",extensions:["esf"]},"application/vnd.epson.msf":{source:"iana",extensions:["msf"]},"application/vnd.epson.quickanime":{source:"iana",extensions:["qam"]},"application/vnd.epson.salt":{source:"iana",extensions:["slt"]},"application/vnd.epson.ssf":{source:"iana",extensions:["ssf"]},"application/vnd.ericsson.quickcall":{source:"iana"},"application/vnd.espass-espass+zip":{source:"iana",compressible:!1},"application/vnd.eszigno3+xml":{source:"iana",compressible:!0,extensions:["es3","et3"]},"application/vnd.etsi.aoc+xml":{source:"iana",compressible:!0},"application/vnd.etsi.asic-e+zip":{source:"iana",compressible:!1},"application/vnd.etsi.asic-s+zip":{source:"iana",compressible:!1},"application/vnd.etsi.cug+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvcommand+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvdiscovery+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvprofile+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-bc+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-cod+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-npvr+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvservice+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsync+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvueprofile+xml":{source:"iana",compressible:!0},"application/vnd.etsi.mcid+xml":{source:"iana",compressible:!0},"application/vnd.etsi.mheg5":{source:"iana"},"application/vnd.etsi.overload-control-policy-dataset+xml":{source:"iana",compressible:!0},"application/vnd.etsi.pstn+xml":{source:"iana",compressible:!0},"application/vnd.etsi.sci+xml":{source:"iana",compressible:!0},"application/vnd.etsi.simservs+xml":{source:"iana",compressible:!0},"application/vnd.etsi.timestamp-token":{source:"iana"},"application/vnd.etsi.tsl+xml":{source:"iana",compressible:!0},"application/vnd.etsi.tsl.der":{source:"iana"},"application/vnd.eu.kasparian.car+json":{source:"iana",compressible:!0},"application/vnd.eudora.data":{source:"iana"},"application/vnd.evolv.ecig.profile":{source:"iana"},"application/vnd.evolv.ecig.settings":{source:"iana"},"application/vnd.evolv.ecig.theme":{source:"iana"},"application/vnd.exstream-empower+zip":{source:"iana",compressible:!1},"application/vnd.exstream-package":{source:"iana"},"application/vnd.ezpix-album":{source:"iana",extensions:["ez2"]},"application/vnd.ezpix-package":{source:"iana",extensions:["ez3"]},"application/vnd.f-secure.mobile":{source:"iana"},"application/vnd.familysearch.gedcom+zip":{source:"iana",compressible:!1},"application/vnd.fastcopy-disk-image":{source:"iana"},"application/vnd.fdf":{source:"iana",extensions:["fdf"]},"application/vnd.fdsn.mseed":{source:"iana",extensions:["mseed"]},"application/vnd.fdsn.seed":{source:"iana",extensions:["seed","dataless"]},"application/vnd.ffsns":{source:"iana"},"application/vnd.ficlab.flb+zip":{source:"iana",compressible:!1},"application/vnd.filmit.zfc":{source:"iana"},"application/vnd.fints":{source:"iana"},"application/vnd.firemonkeys.cloudcell":{source:"iana"},"application/vnd.flographit":{source:"iana",extensions:["gph"]},"application/vnd.fluxtime.clip":{source:"iana",extensions:["ftc"]},"application/vnd.font-fontforge-sfd":{source:"iana"},"application/vnd.framemaker":{source:"iana",extensions:["fm","frame","maker","book"]},"application/vnd.frogans.fnc":{source:"iana",extensions:["fnc"]},"application/vnd.frogans.ltf":{source:"iana",extensions:["ltf"]},"application/vnd.fsc.weblaunch":{source:"iana",extensions:["fsc"]},"application/vnd.fujifilm.fb.docuworks":{source:"iana"},"application/vnd.fujifilm.fb.docuworks.binder":{source:"iana"},"application/vnd.fujifilm.fb.docuworks.container":{source:"iana"},"application/vnd.fujifilm.fb.jfi+xml":{source:"iana",compressible:!0},"application/vnd.fujitsu.oasys":{source:"iana",extensions:["oas"]},"application/vnd.fujitsu.oasys2":{source:"iana",extensions:["oa2"]},"application/vnd.fujitsu.oasys3":{source:"iana",extensions:["oa3"]},"application/vnd.fujitsu.oasysgp":{source:"iana",extensions:["fg5"]},"application/vnd.fujitsu.oasysprs":{source:"iana",extensions:["bh2"]},"application/vnd.fujixerox.art-ex":{source:"iana"},"application/vnd.fujixerox.art4":{source:"iana"},"application/vnd.fujixerox.ddd":{source:"iana",extensions:["ddd"]},"application/vnd.fujixerox.docuworks":{source:"iana",extensions:["xdw"]},"application/vnd.fujixerox.docuworks.binder":{source:"iana",extensions:["xbd"]},"application/vnd.fujixerox.docuworks.container":{source:"iana"},"application/vnd.fujixerox.hbpl":{source:"iana"},"application/vnd.fut-misnet":{source:"iana"},"application/vnd.futoin+cbor":{source:"iana"},"application/vnd.futoin+json":{source:"iana",compressible:!0},"application/vnd.fuzzysheet":{source:"iana",extensions:["fzs"]},"application/vnd.genomatix.tuxedo":{source:"iana",extensions:["txd"]},"application/vnd.gentics.grd+json":{source:"iana",compressible:!0},"application/vnd.geo+json":{source:"iana",compressible:!0},"application/vnd.geocube+xml":{source:"iana",compressible:!0},"application/vnd.geogebra.file":{source:"iana",extensions:["ggb"]},"application/vnd.geogebra.slides":{source:"iana"},"application/vnd.geogebra.tool":{source:"iana",extensions:["ggt"]},"application/vnd.geometry-explorer":{source:"iana",extensions:["gex","gre"]},"application/vnd.geonext":{source:"iana",extensions:["gxt"]},"application/vnd.geoplan":{source:"iana",extensions:["g2w"]},"application/vnd.geospace":{source:"iana",extensions:["g3w"]},"application/vnd.gerber":{source:"iana"},"application/vnd.globalplatform.card-content-mgt":{source:"iana"},"application/vnd.globalplatform.card-content-mgt-response":{source:"iana"},"application/vnd.gmx":{source:"iana",extensions:["gmx"]},"application/vnd.google-apps.document":{compressible:!1,extensions:["gdoc"]},"application/vnd.google-apps.presentation":{compressible:!1,extensions:["gslides"]},"application/vnd.google-apps.spreadsheet":{compressible:!1,extensions:["gsheet"]},"application/vnd.google-earth.kml+xml":{source:"iana",compressible:!0,extensions:["kml"]},"application/vnd.google-earth.kmz":{source:"iana",compressible:!1,extensions:["kmz"]},"application/vnd.gov.sk.e-form+xml":{source:"iana",compressible:!0},"application/vnd.gov.sk.e-form+zip":{source:"iana",compressible:!1},"application/vnd.gov.sk.xmldatacontainer+xml":{source:"iana",compressible:!0},"application/vnd.grafeq":{source:"iana",extensions:["gqf","gqs"]},"application/vnd.gridmp":{source:"iana"},"application/vnd.groove-account":{source:"iana",extensions:["gac"]},"application/vnd.groove-help":{source:"iana",extensions:["ghf"]},"application/vnd.groove-identity-message":{source:"iana",extensions:["gim"]},"application/vnd.groove-injector":{source:"iana",extensions:["grv"]},"application/vnd.groove-tool-message":{source:"iana",extensions:["gtm"]},"application/vnd.groove-tool-template":{source:"iana",extensions:["tpl"]},"application/vnd.groove-vcard":{source:"iana",extensions:["vcg"]},"application/vnd.hal+json":{source:"iana",compressible:!0},"application/vnd.hal+xml":{source:"iana",compressible:!0,extensions:["hal"]},"application/vnd.handheld-entertainment+xml":{source:"iana",compressible:!0,extensions:["zmm"]},"application/vnd.hbci":{source:"iana",extensions:["hbci"]},"application/vnd.hc+json":{source:"iana",compressible:!0},"application/vnd.hcl-bireports":{source:"iana"},"application/vnd.hdt":{source:"iana"},"application/vnd.heroku+json":{source:"iana",compressible:!0},"application/vnd.hhe.lesson-player":{source:"iana",extensions:["les"]},"application/vnd.hl7cda+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.hl7v2+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.hp-hpgl":{source:"iana",extensions:["hpgl"]},"application/vnd.hp-hpid":{source:"iana",extensions:["hpid"]},"application/vnd.hp-hps":{source:"iana",extensions:["hps"]},"application/vnd.hp-jlyt":{source:"iana",extensions:["jlt"]},"application/vnd.hp-pcl":{source:"iana",extensions:["pcl"]},"application/vnd.hp-pclxl":{source:"iana",extensions:["pclxl"]},"application/vnd.httphone":{source:"iana"},"application/vnd.hydrostatix.sof-data":{source:"iana",extensions:["sfd-hdstx"]},"application/vnd.hyper+json":{source:"iana",compressible:!0},"application/vnd.hyper-item+json":{source:"iana",compressible:!0},"application/vnd.hyperdrive+json":{source:"iana",compressible:!0},"application/vnd.hzn-3d-crossword":{source:"iana"},"application/vnd.ibm.afplinedata":{source:"iana"},"application/vnd.ibm.electronic-media":{source:"iana"},"application/vnd.ibm.minipay":{source:"iana",extensions:["mpy"]},"application/vnd.ibm.modcap":{source:"iana",extensions:["afp","listafp","list3820"]},"application/vnd.ibm.rights-management":{source:"iana",extensions:["irm"]},"application/vnd.ibm.secure-container":{source:"iana",extensions:["sc"]},"application/vnd.iccprofile":{source:"iana",extensions:["icc","icm"]},"application/vnd.ieee.1905":{source:"iana"},"application/vnd.igloader":{source:"iana",extensions:["igl"]},"application/vnd.imagemeter.folder+zip":{source:"iana",compressible:!1},"application/vnd.imagemeter.image+zip":{source:"iana",compressible:!1},"application/vnd.immervision-ivp":{source:"iana",extensions:["ivp"]},"application/vnd.immervision-ivu":{source:"iana",extensions:["ivu"]},"application/vnd.ims.imsccv1p1":{source:"iana"},"application/vnd.ims.imsccv1p2":{source:"iana"},"application/vnd.ims.imsccv1p3":{source:"iana"},"application/vnd.ims.lis.v2.result+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolconsumerprofile+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy.id+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings.simple+json":{source:"iana",compressible:!0},"application/vnd.informedcontrol.rms+xml":{source:"iana",compressible:!0},"application/vnd.informix-visionary":{source:"iana"},"application/vnd.infotech.project":{source:"iana"},"application/vnd.infotech.project+xml":{source:"iana",compressible:!0},"application/vnd.innopath.wamp.notification":{source:"iana"},"application/vnd.insors.igm":{source:"iana",extensions:["igm"]},"application/vnd.intercon.formnet":{source:"iana",extensions:["xpw","xpx"]},"application/vnd.intergeo":{source:"iana",extensions:["i2g"]},"application/vnd.intertrust.digibox":{source:"iana"},"application/vnd.intertrust.nncp":{source:"iana"},"application/vnd.intu.qbo":{source:"iana",extensions:["qbo"]},"application/vnd.intu.qfx":{source:"iana",extensions:["qfx"]},"application/vnd.iptc.g2.catalogitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.conceptitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.knowledgeitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.newsitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.newsmessage+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.packageitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.planningitem+xml":{source:"iana",compressible:!0},"application/vnd.ipunplugged.rcprofile":{source:"iana",extensions:["rcprofile"]},"application/vnd.irepository.package+xml":{source:"iana",compressible:!0,extensions:["irp"]},"application/vnd.is-xpr":{source:"iana",extensions:["xpr"]},"application/vnd.isac.fcs":{source:"iana",extensions:["fcs"]},"application/vnd.iso11783-10+zip":{source:"iana",compressible:!1},"application/vnd.jam":{source:"iana",extensions:["jam"]},"application/vnd.japannet-directory-service":{source:"iana"},"application/vnd.japannet-jpnstore-wakeup":{source:"iana"},"application/vnd.japannet-payment-wakeup":{source:"iana"},"application/vnd.japannet-registration":{source:"iana"},"application/vnd.japannet-registration-wakeup":{source:"iana"},"application/vnd.japannet-setstore-wakeup":{source:"iana"},"application/vnd.japannet-verification":{source:"iana"},"application/vnd.japannet-verification-wakeup":{source:"iana"},"application/vnd.jcp.javame.midlet-rms":{source:"iana",extensions:["rms"]},"application/vnd.jisp":{source:"iana",extensions:["jisp"]},"application/vnd.joost.joda-archive":{source:"iana",extensions:["joda"]},"application/vnd.jsk.isdn-ngn":{source:"iana"},"application/vnd.kahootz":{source:"iana",extensions:["ktz","ktr"]},"application/vnd.kde.karbon":{source:"iana",extensions:["karbon"]},"application/vnd.kde.kchart":{source:"iana",extensions:["chrt"]},"application/vnd.kde.kformula":{source:"iana",extensions:["kfo"]},"application/vnd.kde.kivio":{source:"iana",extensions:["flw"]},"application/vnd.kde.kontour":{source:"iana",extensions:["kon"]},"application/vnd.kde.kpresenter":{source:"iana",extensions:["kpr","kpt"]},"application/vnd.kde.kspread":{source:"iana",extensions:["ksp"]},"application/vnd.kde.kword":{source:"iana",extensions:["kwd","kwt"]},"application/vnd.kenameaapp":{source:"iana",extensions:["htke"]},"application/vnd.kidspiration":{source:"iana",extensions:["kia"]},"application/vnd.kinar":{source:"iana",extensions:["kne","knp"]},"application/vnd.koan":{source:"iana",extensions:["skp","skd","skt","skm"]},"application/vnd.kodak-descriptor":{source:"iana",extensions:["sse"]},"application/vnd.las":{source:"iana"},"application/vnd.las.las+json":{source:"iana",compressible:!0},"application/vnd.las.las+xml":{source:"iana",compressible:!0,extensions:["lasxml"]},"application/vnd.laszip":{source:"iana"},"application/vnd.leap+json":{source:"iana",compressible:!0},"application/vnd.liberty-request+xml":{source:"iana",compressible:!0},"application/vnd.llamagraphics.life-balance.desktop":{source:"iana",extensions:["lbd"]},"application/vnd.llamagraphics.life-balance.exchange+xml":{source:"iana",compressible:!0,extensions:["lbe"]},"application/vnd.logipipe.circuit+zip":{source:"iana",compressible:!1},"application/vnd.loom":{source:"iana"},"application/vnd.lotus-1-2-3":{source:"iana",extensions:["123"]},"application/vnd.lotus-approach":{source:"iana",extensions:["apr"]},"application/vnd.lotus-freelance":{source:"iana",extensions:["pre"]},"application/vnd.lotus-notes":{source:"iana",extensions:["nsf"]},"application/vnd.lotus-organizer":{source:"iana",extensions:["org"]},"application/vnd.lotus-screencam":{source:"iana",extensions:["scm"]},"application/vnd.lotus-wordpro":{source:"iana",extensions:["lwp"]},"application/vnd.macports.portpkg":{source:"iana",extensions:["portpkg"]},"application/vnd.mapbox-vector-tile":{source:"iana",extensions:["mvt"]},"application/vnd.marlin.drm.actiontoken+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.conftoken+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.license+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.mdcf":{source:"iana"},"application/vnd.mason+json":{source:"iana",compressible:!0},"application/vnd.maxar.archive.3tz+zip":{source:"iana",compressible:!1},"application/vnd.maxmind.maxmind-db":{source:"iana"},"application/vnd.mcd":{source:"iana",extensions:["mcd"]},"application/vnd.medcalcdata":{source:"iana",extensions:["mc1"]},"application/vnd.mediastation.cdkey":{source:"iana",extensions:["cdkey"]},"application/vnd.meridian-slingshot":{source:"iana"},"application/vnd.mfer":{source:"iana",extensions:["mwf"]},"application/vnd.mfmp":{source:"iana",extensions:["mfm"]},"application/vnd.micro+json":{source:"iana",compressible:!0},"application/vnd.micrografx.flo":{source:"iana",extensions:["flo"]},"application/vnd.micrografx.igx":{source:"iana",extensions:["igx"]},"application/vnd.microsoft.portable-executable":{source:"iana"},"application/vnd.microsoft.windows.thumbnail-cache":{source:"iana"},"application/vnd.miele+json":{source:"iana",compressible:!0},"application/vnd.mif":{source:"iana",extensions:["mif"]},"application/vnd.minisoft-hp3000-save":{source:"iana"},"application/vnd.mitsubishi.misty-guard.trustweb":{source:"iana"},"application/vnd.mobius.daf":{source:"iana",extensions:["daf"]},"application/vnd.mobius.dis":{source:"iana",extensions:["dis"]},"application/vnd.mobius.mbk":{source:"iana",extensions:["mbk"]},"application/vnd.mobius.mqy":{source:"iana",extensions:["mqy"]},"application/vnd.mobius.msl":{source:"iana",extensions:["msl"]},"application/vnd.mobius.plc":{source:"iana",extensions:["plc"]},"application/vnd.mobius.txf":{source:"iana",extensions:["txf"]},"application/vnd.mophun.application":{source:"iana",extensions:["mpn"]},"application/vnd.mophun.certificate":{source:"iana",extensions:["mpc"]},"application/vnd.motorola.flexsuite":{source:"iana"},"application/vnd.motorola.flexsuite.adsi":{source:"iana"},"application/vnd.motorola.flexsuite.fis":{source:"iana"},"application/vnd.motorola.flexsuite.gotap":{source:"iana"},"application/vnd.motorola.flexsuite.kmr":{source:"iana"},"application/vnd.motorola.flexsuite.ttc":{source:"iana"},"application/vnd.motorola.flexsuite.wem":{source:"iana"},"application/vnd.motorola.iprm":{source:"iana"},"application/vnd.mozilla.xul+xml":{source:"iana",compressible:!0,extensions:["xul"]},"application/vnd.ms-3mfdocument":{source:"iana"},"application/vnd.ms-artgalry":{source:"iana",extensions:["cil"]},"application/vnd.ms-asf":{source:"iana"},"application/vnd.ms-cab-compressed":{source:"iana",extensions:["cab"]},"application/vnd.ms-color.iccprofile":{source:"apache"},"application/vnd.ms-excel":{source:"iana",compressible:!1,extensions:["xls","xlm","xla","xlc","xlt","xlw"]},"application/vnd.ms-excel.addin.macroenabled.12":{source:"iana",extensions:["xlam"]},"application/vnd.ms-excel.sheet.binary.macroenabled.12":{source:"iana",extensions:["xlsb"]},"application/vnd.ms-excel.sheet.macroenabled.12":{source:"iana",extensions:["xlsm"]},"application/vnd.ms-excel.template.macroenabled.12":{source:"iana",extensions:["xltm"]},"application/vnd.ms-fontobject":{source:"iana",compressible:!0,extensions:["eot"]},"application/vnd.ms-htmlhelp":{source:"iana",extensions:["chm"]},"application/vnd.ms-ims":{source:"iana",extensions:["ims"]},"application/vnd.ms-lrm":{source:"iana",extensions:["lrm"]},"application/vnd.ms-office.activex+xml":{source:"iana",compressible:!0},"application/vnd.ms-officetheme":{source:"iana",extensions:["thmx"]},"application/vnd.ms-opentype":{source:"apache",compressible:!0},"application/vnd.ms-outlook":{compressible:!1,extensions:["msg"]},"application/vnd.ms-package.obfuscated-opentype":{source:"apache"},"application/vnd.ms-pki.seccat":{source:"apache",extensions:["cat"]},"application/vnd.ms-pki.stl":{source:"apache",extensions:["stl"]},"application/vnd.ms-playready.initiator+xml":{source:"iana",compressible:!0},"application/vnd.ms-powerpoint":{source:"iana",compressible:!1,extensions:["ppt","pps","pot"]},"application/vnd.ms-powerpoint.addin.macroenabled.12":{source:"iana",extensions:["ppam"]},"application/vnd.ms-powerpoint.presentation.macroenabled.12":{source:"iana",extensions:["pptm"]},"application/vnd.ms-powerpoint.slide.macroenabled.12":{source:"iana",extensions:["sldm"]},"application/vnd.ms-powerpoint.slideshow.macroenabled.12":{source:"iana",extensions:["ppsm"]},"application/vnd.ms-powerpoint.template.macroenabled.12":{source:"iana",extensions:["potm"]},"application/vnd.ms-printdevicecapabilities+xml":{source:"iana",compressible:!0},"application/vnd.ms-printing.printticket+xml":{source:"apache",compressible:!0},"application/vnd.ms-printschematicket+xml":{source:"iana",compressible:!0},"application/vnd.ms-project":{source:"iana",extensions:["mpp","mpt"]},"application/vnd.ms-tnef":{source:"iana"},"application/vnd.ms-windows.devicepairing":{source:"iana"},"application/vnd.ms-windows.nwprinting.oob":{source:"iana"},"application/vnd.ms-windows.printerpairing":{source:"iana"},"application/vnd.ms-windows.wsd.oob":{source:"iana"},"application/vnd.ms-wmdrm.lic-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.lic-resp":{source:"iana"},"application/vnd.ms-wmdrm.meter-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.meter-resp":{source:"iana"},"application/vnd.ms-word.document.macroenabled.12":{source:"iana",extensions:["docm"]},"application/vnd.ms-word.template.macroenabled.12":{source:"iana",extensions:["dotm"]},"application/vnd.ms-works":{source:"iana",extensions:["wps","wks","wcm","wdb"]},"application/vnd.ms-wpl":{source:"iana",extensions:["wpl"]},"application/vnd.ms-xpsdocument":{source:"iana",compressible:!1,extensions:["xps"]},"application/vnd.msa-disk-image":{source:"iana"},"application/vnd.mseq":{source:"iana",extensions:["mseq"]},"application/vnd.msign":{source:"iana"},"application/vnd.multiad.creator":{source:"iana"},"application/vnd.multiad.creator.cif":{source:"iana"},"application/vnd.music-niff":{source:"iana"},"application/vnd.musician":{source:"iana",extensions:["mus"]},"application/vnd.muvee.style":{source:"iana",extensions:["msty"]},"application/vnd.mynfc":{source:"iana",extensions:["taglet"]},"application/vnd.nacamar.ybrid+json":{source:"iana",compressible:!0},"application/vnd.ncd.control":{source:"iana"},"application/vnd.ncd.reference":{source:"iana"},"application/vnd.nearst.inv+json":{source:"iana",compressible:!0},"application/vnd.nebumind.line":{source:"iana"},"application/vnd.nervana":{source:"iana"},"application/vnd.netfpx":{source:"iana"},"application/vnd.neurolanguage.nlu":{source:"iana",extensions:["nlu"]},"application/vnd.nimn":{source:"iana"},"application/vnd.nintendo.nitro.rom":{source:"iana"},"application/vnd.nintendo.snes.rom":{source:"iana"},"application/vnd.nitf":{source:"iana",extensions:["ntf","nitf"]},"application/vnd.noblenet-directory":{source:"iana",extensions:["nnd"]},"application/vnd.noblenet-sealer":{source:"iana",extensions:["nns"]},"application/vnd.noblenet-web":{source:"iana",extensions:["nnw"]},"application/vnd.nokia.catalogs":{source:"iana"},"application/vnd.nokia.conml+wbxml":{source:"iana"},"application/vnd.nokia.conml+xml":{source:"iana",compressible:!0},"application/vnd.nokia.iptv.config+xml":{source:"iana",compressible:!0},"application/vnd.nokia.isds-radio-presets":{source:"iana"},"application/vnd.nokia.landmark+wbxml":{source:"iana"},"application/vnd.nokia.landmark+xml":{source:"iana",compressible:!0},"application/vnd.nokia.landmarkcollection+xml":{source:"iana",compressible:!0},"application/vnd.nokia.n-gage.ac+xml":{source:"iana",compressible:!0,extensions:["ac"]},"application/vnd.nokia.n-gage.data":{source:"iana",extensions:["ngdat"]},"application/vnd.nokia.n-gage.symbian.install":{source:"iana",extensions:["n-gage"]},"application/vnd.nokia.ncd":{source:"iana"},"application/vnd.nokia.pcd+wbxml":{source:"iana"},"application/vnd.nokia.pcd+xml":{source:"iana",compressible:!0},"application/vnd.nokia.radio-preset":{source:"iana",extensions:["rpst"]},"application/vnd.nokia.radio-presets":{source:"iana",extensions:["rpss"]},"application/vnd.novadigm.edm":{source:"iana",extensions:["edm"]},"application/vnd.novadigm.edx":{source:"iana",extensions:["edx"]},"application/vnd.novadigm.ext":{source:"iana",extensions:["ext"]},"application/vnd.ntt-local.content-share":{source:"iana"},"application/vnd.ntt-local.file-transfer":{source:"iana"},"application/vnd.ntt-local.ogw_remote-access":{source:"iana"},"application/vnd.ntt-local.sip-ta_remote":{source:"iana"},"application/vnd.ntt-local.sip-ta_tcp_stream":{source:"iana"},"application/vnd.oasis.opendocument.chart":{source:"iana",extensions:["odc"]},"application/vnd.oasis.opendocument.chart-template":{source:"iana",extensions:["otc"]},"application/vnd.oasis.opendocument.database":{source:"iana",extensions:["odb"]},"application/vnd.oasis.opendocument.formula":{source:"iana",extensions:["odf"]},"application/vnd.oasis.opendocument.formula-template":{source:"iana",extensions:["odft"]},"application/vnd.oasis.opendocument.graphics":{source:"iana",compressible:!1,extensions:["odg"]},"application/vnd.oasis.opendocument.graphics-template":{source:"iana",extensions:["otg"]},"application/vnd.oasis.opendocument.image":{source:"iana",extensions:["odi"]},"application/vnd.oasis.opendocument.image-template":{source:"iana",extensions:["oti"]},"application/vnd.oasis.opendocument.presentation":{source:"iana",compressible:!1,extensions:["odp"]},"application/vnd.oasis.opendocument.presentation-template":{source:"iana",extensions:["otp"]},"application/vnd.oasis.opendocument.spreadsheet":{source:"iana",compressible:!1,extensions:["ods"]},"application/vnd.oasis.opendocument.spreadsheet-template":{source:"iana",extensions:["ots"]},"application/vnd.oasis.opendocument.text":{source:"iana",compressible:!1,extensions:["odt"]},"application/vnd.oasis.opendocument.text-master":{source:"iana",extensions:["odm"]},"application/vnd.oasis.opendocument.text-template":{source:"iana",extensions:["ott"]},"application/vnd.oasis.opendocument.text-web":{source:"iana",extensions:["oth"]},"application/vnd.obn":{source:"iana"},"application/vnd.ocf+cbor":{source:"iana"},"application/vnd.oci.image.manifest.v1+json":{source:"iana",compressible:!0},"application/vnd.oftn.l10n+json":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessdownload+xml":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessstreaming+xml":{source:"iana",compressible:!0},"application/vnd.oipf.cspg-hexbinary":{source:"iana"},"application/vnd.oipf.dae.svg+xml":{source:"iana",compressible:!0},"application/vnd.oipf.dae.xhtml+xml":{source:"iana",compressible:!0},"application/vnd.oipf.mippvcontrolmessage+xml":{source:"iana",compressible:!0},"application/vnd.oipf.pae.gem":{source:"iana"},"application/vnd.oipf.spdiscovery+xml":{source:"iana",compressible:!0},"application/vnd.oipf.spdlist+xml":{source:"iana",compressible:!0},"application/vnd.oipf.ueprofile+xml":{source:"iana",compressible:!0},"application/vnd.oipf.userprofile+xml":{source:"iana",compressible:!0},"application/vnd.olpc-sugar":{source:"iana",extensions:["xo"]},"application/vnd.oma-scws-config":{source:"iana"},"application/vnd.oma-scws-http-request":{source:"iana"},"application/vnd.oma-scws-http-response":{source:"iana"},"application/vnd.oma.bcast.associated-procedure-parameter+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.drm-trigger+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.imd+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.ltkm":{source:"iana"},"application/vnd.oma.bcast.notification+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.provisioningtrigger":{source:"iana"},"application/vnd.oma.bcast.sgboot":{source:"iana"},"application/vnd.oma.bcast.sgdd+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.sgdu":{source:"iana"},"application/vnd.oma.bcast.simple-symbol-container":{source:"iana"},"application/vnd.oma.bcast.smartcard-trigger+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.sprov+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.stkm":{source:"iana"},"application/vnd.oma.cab-address-book+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-feature-handler+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-pcc+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-subs-invite+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-user-prefs+xml":{source:"iana",compressible:!0},"application/vnd.oma.dcd":{source:"iana"},"application/vnd.oma.dcdc":{source:"iana"},"application/vnd.oma.dd2+xml":{source:"iana",compressible:!0,extensions:["dd2"]},"application/vnd.oma.drm.risd+xml":{source:"iana",compressible:!0},"application/vnd.oma.group-usage-list+xml":{source:"iana",compressible:!0},"application/vnd.oma.lwm2m+cbor":{source:"iana"},"application/vnd.oma.lwm2m+json":{source:"iana",compressible:!0},"application/vnd.oma.lwm2m+tlv":{source:"iana"},"application/vnd.oma.pal+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.detailed-progress-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.final-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.groups+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.invocation-descriptor+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.optimized-progress-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.push":{source:"iana"},"application/vnd.oma.scidm.messages+xml":{source:"iana",compressible:!0},"application/vnd.oma.xcap-directory+xml":{source:"iana",compressible:!0},"application/vnd.omads-email+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omads-file+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omads-folder+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omaloc-supl-init":{source:"iana"},"application/vnd.onepager":{source:"iana"},"application/vnd.onepagertamp":{source:"iana"},"application/vnd.onepagertamx":{source:"iana"},"application/vnd.onepagertat":{source:"iana"},"application/vnd.onepagertatp":{source:"iana"},"application/vnd.onepagertatx":{source:"iana"},"application/vnd.openblox.game+xml":{source:"iana",compressible:!0,extensions:["obgx"]},"application/vnd.openblox.game-binary":{source:"iana"},"application/vnd.openeye.oeb":{source:"iana"},"application/vnd.openofficeorg.extension":{source:"apache",extensions:["oxt"]},"application/vnd.openstreetmap.data+xml":{source:"iana",compressible:!0,extensions:["osm"]},"application/vnd.opentimestamps.ots":{source:"iana"},"application/vnd.openxmlformats-officedocument.custom-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.customxmlproperties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawing+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.chart+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramcolors+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramdata+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramlayout+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramstyle+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.extended-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.commentauthors+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.handoutmaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.notesmaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.notesslide+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{source:"iana",compressible:!1,extensions:["pptx"]},"application/vnd.openxmlformats-officedocument.presentationml.presentation.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.presprops+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slide":{source:"iana",extensions:["sldx"]},"application/vnd.openxmlformats-officedocument.presentationml.slide+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slidelayout+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slidemaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slideshow":{source:"iana",extensions:["ppsx"]},"application/vnd.openxmlformats-officedocument.presentationml.slideshow.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slideupdateinfo+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.tablestyles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.tags+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.template":{source:"iana",extensions:["potx"]},"application/vnd.openxmlformats-officedocument.presentationml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.viewprops+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.calcchain+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.externallink+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcachedefinition+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcacherecords+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivottable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.querytable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionheaders+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionlog+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedstrings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{source:"iana",compressible:!1,extensions:["xlsx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetmetadata+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.tablesinglecells+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.template":{source:"iana",extensions:["xltx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.usernames+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.volatiledependencies+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.theme+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.themeoverride+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.vmldrawing":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{source:"iana",compressible:!1,extensions:["docx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.glossary+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.endnotes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.fonttable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.template":{source:"iana",extensions:["dotx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.websettings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.core-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.digital-signature-xmlsignature+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.relationships+xml":{source:"iana",compressible:!0},"application/vnd.oracle.resource+json":{source:"iana",compressible:!0},"application/vnd.orange.indata":{source:"iana"},"application/vnd.osa.netdeploy":{source:"iana"},"application/vnd.osgeo.mapguide.package":{source:"iana",extensions:["mgp"]},"application/vnd.osgi.bundle":{source:"iana"},"application/vnd.osgi.dp":{source:"iana",extensions:["dp"]},"application/vnd.osgi.subsystem":{source:"iana",extensions:["esa"]},"application/vnd.otps.ct-kip+xml":{source:"iana",compressible:!0},"application/vnd.oxli.countgraph":{source:"iana"},"application/vnd.pagerduty+json":{source:"iana",compressible:!0},"application/vnd.palm":{source:"iana",extensions:["pdb","pqa","oprc"]},"application/vnd.panoply":{source:"iana"},"application/vnd.paos.xml":{source:"iana"},"application/vnd.patentdive":{source:"iana"},"application/vnd.patientecommsdoc":{source:"iana"},"application/vnd.pawaafile":{source:"iana",extensions:["paw"]},"application/vnd.pcos":{source:"iana"},"application/vnd.pg.format":{source:"iana",extensions:["str"]},"application/vnd.pg.osasli":{source:"iana",extensions:["ei6"]},"application/vnd.piaccess.application-licence":{source:"iana"},"application/vnd.picsel":{source:"iana",extensions:["efif"]},"application/vnd.pmi.widget":{source:"iana",extensions:["wg"]},"application/vnd.poc.group-advertisement+xml":{source:"iana",compressible:!0},"application/vnd.pocketlearn":{source:"iana",extensions:["plf"]},"application/vnd.powerbuilder6":{source:"iana",extensions:["pbd"]},"application/vnd.powerbuilder6-s":{source:"iana"},"application/vnd.powerbuilder7":{source:"iana"},"application/vnd.powerbuilder7-s":{source:"iana"},"application/vnd.powerbuilder75":{source:"iana"},"application/vnd.powerbuilder75-s":{source:"iana"},"application/vnd.preminet":{source:"iana"},"application/vnd.previewsystems.box":{source:"iana",extensions:["box"]},"application/vnd.proteus.magazine":{source:"iana",extensions:["mgz"]},"application/vnd.psfs":{source:"iana"},"application/vnd.publishare-delta-tree":{source:"iana",extensions:["qps"]},"application/vnd.pvi.ptid1":{source:"iana",extensions:["ptid"]},"application/vnd.pwg-multiplexed":{source:"iana"},"application/vnd.pwg-xhtml-print+xml":{source:"iana",compressible:!0},"application/vnd.qualcomm.brew-app-res":{source:"iana"},"application/vnd.quarantainenet":{source:"iana"},"application/vnd.quark.quarkxpress":{source:"iana",extensions:["qxd","qxt","qwd","qwt","qxl","qxb"]},"application/vnd.quobject-quoxdocument":{source:"iana"},"application/vnd.radisys.moml+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-conf+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-conn+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-dialog+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-stream+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-conf+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-base+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-fax-detect+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-fax-sendrecv+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-group+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-speech+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-transform+xml":{source:"iana",compressible:!0},"application/vnd.rainstor.data":{source:"iana"},"application/vnd.rapid":{source:"iana"},"application/vnd.rar":{source:"iana",extensions:["rar"]},"application/vnd.realvnc.bed":{source:"iana",extensions:["bed"]},"application/vnd.recordare.musicxml":{source:"iana",extensions:["mxl"]},"application/vnd.recordare.musicxml+xml":{source:"iana",compressible:!0,extensions:["musicxml"]},"application/vnd.renlearn.rlprint":{source:"iana"},"application/vnd.resilient.logic":{source:"iana"},"application/vnd.restful+json":{source:"iana",compressible:!0},"application/vnd.rig.cryptonote":{source:"iana",extensions:["cryptonote"]},"application/vnd.rim.cod":{source:"apache",extensions:["cod"]},"application/vnd.rn-realmedia":{source:"apache",extensions:["rm"]},"application/vnd.rn-realmedia-vbr":{source:"apache",extensions:["rmvb"]},"application/vnd.route66.link66+xml":{source:"iana",compressible:!0,extensions:["link66"]},"application/vnd.rs-274x":{source:"iana"},"application/vnd.ruckus.download":{source:"iana"},"application/vnd.s3sms":{source:"iana"},"application/vnd.sailingtracker.track":{source:"iana",extensions:["st"]},"application/vnd.sar":{source:"iana"},"application/vnd.sbm.cid":{source:"iana"},"application/vnd.sbm.mid2":{source:"iana"},"application/vnd.scribus":{source:"iana"},"application/vnd.sealed.3df":{source:"iana"},"application/vnd.sealed.csf":{source:"iana"},"application/vnd.sealed.doc":{source:"iana"},"application/vnd.sealed.eml":{source:"iana"},"application/vnd.sealed.mht":{source:"iana"},"application/vnd.sealed.net":{source:"iana"},"application/vnd.sealed.ppt":{source:"iana"},"application/vnd.sealed.tiff":{source:"iana"},"application/vnd.sealed.xls":{source:"iana"},"application/vnd.sealedmedia.softseal.html":{source:"iana"},"application/vnd.sealedmedia.softseal.pdf":{source:"iana"},"application/vnd.seemail":{source:"iana",extensions:["see"]},"application/vnd.seis+json":{source:"iana",compressible:!0},"application/vnd.sema":{source:"iana",extensions:["sema"]},"application/vnd.semd":{source:"iana",extensions:["semd"]},"application/vnd.semf":{source:"iana",extensions:["semf"]},"application/vnd.shade-save-file":{source:"iana"},"application/vnd.shana.informed.formdata":{source:"iana",extensions:["ifm"]},"application/vnd.shana.informed.formtemplate":{source:"iana",extensions:["itp"]},"application/vnd.shana.informed.interchange":{source:"iana",extensions:["iif"]},"application/vnd.shana.informed.package":{source:"iana",extensions:["ipk"]},"application/vnd.shootproof+json":{source:"iana",compressible:!0},"application/vnd.shopkick+json":{source:"iana",compressible:!0},"application/vnd.shp":{source:"iana"},"application/vnd.shx":{source:"iana"},"application/vnd.sigrok.session":{source:"iana"},"application/vnd.simtech-mindmapper":{source:"iana",extensions:["twd","twds"]},"application/vnd.siren+json":{source:"iana",compressible:!0},"application/vnd.smaf":{source:"iana",extensions:["mmf"]},"application/vnd.smart.notebook":{source:"iana"},"application/vnd.smart.teacher":{source:"iana",extensions:["teacher"]},"application/vnd.snesdev-page-table":{source:"iana"},"application/vnd.software602.filler.form+xml":{source:"iana",compressible:!0,extensions:["fo"]},"application/vnd.software602.filler.form-xml-zip":{source:"iana"},"application/vnd.solent.sdkm+xml":{source:"iana",compressible:!0,extensions:["sdkm","sdkd"]},"application/vnd.spotfire.dxp":{source:"iana",extensions:["dxp"]},"application/vnd.spotfire.sfs":{source:"iana",extensions:["sfs"]},"application/vnd.sqlite3":{source:"iana"},"application/vnd.sss-cod":{source:"iana"},"application/vnd.sss-dtf":{source:"iana"},"application/vnd.sss-ntf":{source:"iana"},"application/vnd.stardivision.calc":{source:"apache",extensions:["sdc"]},"application/vnd.stardivision.draw":{source:"apache",extensions:["sda"]},"application/vnd.stardivision.impress":{source:"apache",extensions:["sdd"]},"application/vnd.stardivision.math":{source:"apache",extensions:["smf"]},"application/vnd.stardivision.writer":{source:"apache",extensions:["sdw","vor"]},"application/vnd.stardivision.writer-global":{source:"apache",extensions:["sgl"]},"application/vnd.stepmania.package":{source:"iana",extensions:["smzip"]},"application/vnd.stepmania.stepchart":{source:"iana",extensions:["sm"]},"application/vnd.street-stream":{source:"iana"},"application/vnd.sun.wadl+xml":{source:"iana",compressible:!0,extensions:["wadl"]},"application/vnd.sun.xml.calc":{source:"apache",extensions:["sxc"]},"application/vnd.sun.xml.calc.template":{source:"apache",extensions:["stc"]},"application/vnd.sun.xml.draw":{source:"apache",extensions:["sxd"]},"application/vnd.sun.xml.draw.template":{source:"apache",extensions:["std"]},"application/vnd.sun.xml.impress":{source:"apache",extensions:["sxi"]},"application/vnd.sun.xml.impress.template":{source:"apache",extensions:["sti"]},"application/vnd.sun.xml.math":{source:"apache",extensions:["sxm"]},"application/vnd.sun.xml.writer":{source:"apache",extensions:["sxw"]},"application/vnd.sun.xml.writer.global":{source:"apache",extensions:["sxg"]},"application/vnd.sun.xml.writer.template":{source:"apache",extensions:["stw"]},"application/vnd.sus-calendar":{source:"iana",extensions:["sus","susp"]},"application/vnd.svd":{source:"iana",extensions:["svd"]},"application/vnd.swiftview-ics":{source:"iana"},"application/vnd.sycle+xml":{source:"iana",compressible:!0},"application/vnd.syft+json":{source:"iana",compressible:!0},"application/vnd.symbian.install":{source:"apache",extensions:["sis","sisx"]},"application/vnd.syncml+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["xsm"]},"application/vnd.syncml.dm+wbxml":{source:"iana",charset:"UTF-8",extensions:["bdm"]},"application/vnd.syncml.dm+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["xdm"]},"application/vnd.syncml.dm.notification":{source:"iana"},"application/vnd.syncml.dmddf+wbxml":{source:"iana"},"application/vnd.syncml.dmddf+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["ddf"]},"application/vnd.syncml.dmtnds+wbxml":{source:"iana"},"application/vnd.syncml.dmtnds+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.syncml.ds.notification":{source:"iana"},"application/vnd.tableschema+json":{source:"iana",compressible:!0},"application/vnd.tao.intent-module-archive":{source:"iana",extensions:["tao"]},"application/vnd.tcpdump.pcap":{source:"iana",extensions:["pcap","cap","dmp"]},"application/vnd.think-cell.ppttc+json":{source:"iana",compressible:!0},"application/vnd.tmd.mediaflex.api+xml":{source:"iana",compressible:!0},"application/vnd.tml":{source:"iana"},"application/vnd.tmobile-livetv":{source:"iana",extensions:["tmo"]},"application/vnd.tri.onesource":{source:"iana"},"application/vnd.trid.tpt":{source:"iana",extensions:["tpt"]},"application/vnd.triscape.mxs":{source:"iana",extensions:["mxs"]},"application/vnd.trueapp":{source:"iana",extensions:["tra"]},"application/vnd.truedoc":{source:"iana"},"application/vnd.ubisoft.webplayer":{source:"iana"},"application/vnd.ufdl":{source:"iana",extensions:["ufd","ufdl"]},"application/vnd.uiq.theme":{source:"iana",extensions:["utz"]},"application/vnd.umajin":{source:"iana",extensions:["umj"]},"application/vnd.unity":{source:"iana",extensions:["unityweb"]},"application/vnd.uoml+xml":{source:"iana",compressible:!0,extensions:["uoml"]},"application/vnd.uplanet.alert":{source:"iana"},"application/vnd.uplanet.alert-wbxml":{source:"iana"},"application/vnd.uplanet.bearer-choice":{source:"iana"},"application/vnd.uplanet.bearer-choice-wbxml":{source:"iana"},"application/vnd.uplanet.cacheop":{source:"iana"},"application/vnd.uplanet.cacheop-wbxml":{source:"iana"},"application/vnd.uplanet.channel":{source:"iana"},"application/vnd.uplanet.channel-wbxml":{source:"iana"},"application/vnd.uplanet.list":{source:"iana"},"application/vnd.uplanet.list-wbxml":{source:"iana"},"application/vnd.uplanet.listcmd":{source:"iana"},"application/vnd.uplanet.listcmd-wbxml":{source:"iana"},"application/vnd.uplanet.signal":{source:"iana"},"application/vnd.uri-map":{source:"iana"},"application/vnd.valve.source.material":{source:"iana"},"application/vnd.vcx":{source:"iana",extensions:["vcx"]},"application/vnd.vd-study":{source:"iana"},"application/vnd.vectorworks":{source:"iana"},"application/vnd.vel+json":{source:"iana",compressible:!0},"application/vnd.verimatrix.vcas":{source:"iana"},"application/vnd.veritone.aion+json":{source:"iana",compressible:!0},"application/vnd.veryant.thin":{source:"iana"},"application/vnd.ves.encrypted":{source:"iana"},"application/vnd.vidsoft.vidconference":{source:"iana"},"application/vnd.visio":{source:"iana",extensions:["vsd","vst","vss","vsw"]},"application/vnd.visionary":{source:"iana",extensions:["vis"]},"application/vnd.vividence.scriptfile":{source:"iana"},"application/vnd.vsf":{source:"iana",extensions:["vsf"]},"application/vnd.wap.sic":{source:"iana"},"application/vnd.wap.slc":{source:"iana"},"application/vnd.wap.wbxml":{source:"iana",charset:"UTF-8",extensions:["wbxml"]},"application/vnd.wap.wmlc":{source:"iana",extensions:["wmlc"]},"application/vnd.wap.wmlscriptc":{source:"iana",extensions:["wmlsc"]},"application/vnd.webturbo":{source:"iana",extensions:["wtb"]},"application/vnd.wfa.dpp":{source:"iana"},"application/vnd.wfa.p2p":{source:"iana"},"application/vnd.wfa.wsc":{source:"iana"},"application/vnd.windows.devicepairing":{source:"iana"},"application/vnd.wmc":{source:"iana"},"application/vnd.wmf.bootstrap":{source:"iana"},"application/vnd.wolfram.mathematica":{source:"iana"},"application/vnd.wolfram.mathematica.package":{source:"iana"},"application/vnd.wolfram.player":{source:"iana",extensions:["nbp"]},"application/vnd.wordperfect":{source:"iana",extensions:["wpd"]},"application/vnd.wqd":{source:"iana",extensions:["wqd"]},"application/vnd.wrq-hp3000-labelled":{source:"iana"},"application/vnd.wt.stf":{source:"iana",extensions:["stf"]},"application/vnd.wv.csp+wbxml":{source:"iana"},"application/vnd.wv.csp+xml":{source:"iana",compressible:!0},"application/vnd.wv.ssp+xml":{source:"iana",compressible:!0},"application/vnd.xacml+json":{source:"iana",compressible:!0},"application/vnd.xara":{source:"iana",extensions:["xar"]},"application/vnd.xfdl":{source:"iana",extensions:["xfdl"]},"application/vnd.xfdl.webform":{source:"iana"},"application/vnd.xmi+xml":{source:"iana",compressible:!0},"application/vnd.xmpie.cpkg":{source:"iana"},"application/vnd.xmpie.dpkg":{source:"iana"},"application/vnd.xmpie.plan":{source:"iana"},"application/vnd.xmpie.ppkg":{source:"iana"},"application/vnd.xmpie.xlim":{source:"iana"},"application/vnd.yamaha.hv-dic":{source:"iana",extensions:["hvd"]},"application/vnd.yamaha.hv-script":{source:"iana",extensions:["hvs"]},"application/vnd.yamaha.hv-voice":{source:"iana",extensions:["hvp"]},"application/vnd.yamaha.openscoreformat":{source:"iana",extensions:["osf"]},"application/vnd.yamaha.openscoreformat.osfpvg+xml":{source:"iana",compressible:!0,extensions:["osfpvg"]},"application/vnd.yamaha.remote-setup":{source:"iana"},"application/vnd.yamaha.smaf-audio":{source:"iana",extensions:["saf"]},"application/vnd.yamaha.smaf-phrase":{source:"iana",extensions:["spf"]},"application/vnd.yamaha.through-ngn":{source:"iana"},"application/vnd.yamaha.tunnel-udpencap":{source:"iana"},"application/vnd.yaoweme":{source:"iana"},"application/vnd.yellowriver-custom-menu":{source:"iana",extensions:["cmp"]},"application/vnd.youtube.yt":{source:"iana"},"application/vnd.zul":{source:"iana",extensions:["zir","zirz"]},"application/vnd.zzazz.deck+xml":{source:"iana",compressible:!0,extensions:["zaz"]},"application/voicexml+xml":{source:"iana",compressible:!0,extensions:["vxml"]},"application/voucher-cms+json":{source:"iana",compressible:!0},"application/vq-rtcpxr":{source:"iana"},"application/wasm":{source:"iana",compressible:!0,extensions:["wasm"]},"application/watcherinfo+xml":{source:"iana",compressible:!0,extensions:["wif"]},"application/webpush-options+json":{source:"iana",compressible:!0},"application/whoispp-query":{source:"iana"},"application/whoispp-response":{source:"iana"},"application/widget":{source:"iana",extensions:["wgt"]},"application/winhlp":{source:"apache",extensions:["hlp"]},"application/wita":{source:"iana"},"application/wordperfect5.1":{source:"iana"},"application/wsdl+xml":{source:"iana",compressible:!0,extensions:["wsdl"]},"application/wspolicy+xml":{source:"iana",compressible:!0,extensions:["wspolicy"]},"application/x-7z-compressed":{source:"apache",compressible:!1,extensions:["7z"]},"application/x-abiword":{source:"apache",extensions:["abw"]},"application/x-ace-compressed":{source:"apache",extensions:["ace"]},"application/x-amf":{source:"apache"},"application/x-apple-diskimage":{source:"apache",extensions:["dmg"]},"application/x-arj":{compressible:!1,extensions:["arj"]},"application/x-authorware-bin":{source:"apache",extensions:["aab","x32","u32","vox"]},"application/x-authorware-map":{source:"apache",extensions:["aam"]},"application/x-authorware-seg":{source:"apache",extensions:["aas"]},"application/x-bcpio":{source:"apache",extensions:["bcpio"]},"application/x-bdoc":{compressible:!1,extensions:["bdoc"]},"application/x-bittorrent":{source:"apache",extensions:["torrent"]},"application/x-blorb":{source:"apache",extensions:["blb","blorb"]},"application/x-bzip":{source:"apache",compressible:!1,extensions:["bz"]},"application/x-bzip2":{source:"apache",compressible:!1,extensions:["bz2","boz"]},"application/x-cbr":{source:"apache",extensions:["cbr","cba","cbt","cbz","cb7"]},"application/x-cdlink":{source:"apache",extensions:["vcd"]},"application/x-cfs-compressed":{source:"apache",extensions:["cfs"]},"application/x-chat":{source:"apache",extensions:["chat"]},"application/x-chess-pgn":{source:"apache",extensions:["pgn"]},"application/x-chrome-extension":{extensions:["crx"]},"application/x-cocoa":{source:"nginx",extensions:["cco"]},"application/x-compress":{source:"apache"},"application/x-conference":{source:"apache",extensions:["nsc"]},"application/x-cpio":{source:"apache",extensions:["cpio"]},"application/x-csh":{source:"apache",extensions:["csh"]},"application/x-deb":{compressible:!1},"application/x-debian-package":{source:"apache",extensions:["deb","udeb"]},"application/x-dgc-compressed":{source:"apache",extensions:["dgc"]},"application/x-director":{source:"apache",extensions:["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"]},"application/x-doom":{source:"apache",extensions:["wad"]},"application/x-dtbncx+xml":{source:"apache",compressible:!0,extensions:["ncx"]},"application/x-dtbook+xml":{source:"apache",compressible:!0,extensions:["dtb"]},"application/x-dtbresource+xml":{source:"apache",compressible:!0,extensions:["res"]},"application/x-dvi":{source:"apache",compressible:!1,extensions:["dvi"]},"application/x-envoy":{source:"apache",extensions:["evy"]},"application/x-eva":{source:"apache",extensions:["eva"]},"application/x-font-bdf":{source:"apache",extensions:["bdf"]},"application/x-font-dos":{source:"apache"},"application/x-font-framemaker":{source:"apache"},"application/x-font-ghostscript":{source:"apache",extensions:["gsf"]},"application/x-font-libgrx":{source:"apache"},"application/x-font-linux-psf":{source:"apache",extensions:["psf"]},"application/x-font-pcf":{source:"apache",extensions:["pcf"]},"application/x-font-snf":{source:"apache",extensions:["snf"]},"application/x-font-speedo":{source:"apache"},"application/x-font-sunos-news":{source:"apache"},"application/x-font-type1":{source:"apache",extensions:["pfa","pfb","pfm","afm"]},"application/x-font-vfont":{source:"apache"},"application/x-freearc":{source:"apache",extensions:["arc"]},"application/x-futuresplash":{source:"apache",extensions:["spl"]},"application/x-gca-compressed":{source:"apache",extensions:["gca"]},"application/x-glulx":{source:"apache",extensions:["ulx"]},"application/x-gnumeric":{source:"apache",extensions:["gnumeric"]},"application/x-gramps-xml":{source:"apache",extensions:["gramps"]},"application/x-gtar":{source:"apache",extensions:["gtar"]},"application/x-gzip":{source:"apache"},"application/x-hdf":{source:"apache",extensions:["hdf"]},"application/x-httpd-php":{compressible:!0,extensions:["php"]},"application/x-install-instructions":{source:"apache",extensions:["install"]},"application/x-iso9660-image":{source:"apache",extensions:["iso"]},"application/x-iwork-keynote-sffkey":{extensions:["key"]},"application/x-iwork-numbers-sffnumbers":{extensions:["numbers"]},"application/x-iwork-pages-sffpages":{extensions:["pages"]},"application/x-java-archive-diff":{source:"nginx",extensions:["jardiff"]},"application/x-java-jnlp-file":{source:"apache",compressible:!1,extensions:["jnlp"]},"application/x-javascript":{compressible:!0},"application/x-keepass2":{extensions:["kdbx"]},"application/x-latex":{source:"apache",compressible:!1,extensions:["latex"]},"application/x-lua-bytecode":{extensions:["luac"]},"application/x-lzh-compressed":{source:"apache",extensions:["lzh","lha"]},"application/x-makeself":{source:"nginx",extensions:["run"]},"application/x-mie":{source:"apache",extensions:["mie"]},"application/x-mobipocket-ebook":{source:"apache",extensions:["prc","mobi"]},"application/x-mpegurl":{compressible:!1},"application/x-ms-application":{source:"apache",extensions:["application"]},"application/x-ms-shortcut":{source:"apache",extensions:["lnk"]},"application/x-ms-wmd":{source:"apache",extensions:["wmd"]},"application/x-ms-wmz":{source:"apache",extensions:["wmz"]},"application/x-ms-xbap":{source:"apache",extensions:["xbap"]},"application/x-msaccess":{source:"apache",extensions:["mdb"]},"application/x-msbinder":{source:"apache",extensions:["obd"]},"application/x-mscardfile":{source:"apache",extensions:["crd"]},"application/x-msclip":{source:"apache",extensions:["clp"]},"application/x-msdos-program":{extensions:["exe"]},"application/x-msdownload":{source:"apache",extensions:["exe","dll","com","bat","msi"]},"application/x-msmediaview":{source:"apache",extensions:["mvb","m13","m14"]},"application/x-msmetafile":{source:"apache",extensions:["wmf","wmz","emf","emz"]},"application/x-msmoney":{source:"apache",extensions:["mny"]},"application/x-mspublisher":{source:"apache",extensions:["pub"]},"application/x-msschedule":{source:"apache",extensions:["scd"]},"application/x-msterminal":{source:"apache",extensions:["trm"]},"application/x-mswrite":{source:"apache",extensions:["wri"]},"application/x-netcdf":{source:"apache",extensions:["nc","cdf"]},"application/x-ns-proxy-autoconfig":{compressible:!0,extensions:["pac"]},"application/x-nzb":{source:"apache",extensions:["nzb"]},"application/x-perl":{source:"nginx",extensions:["pl","pm"]},"application/x-pilot":{source:"nginx",extensions:["prc","pdb"]},"application/x-pkcs12":{source:"apache",compressible:!1,extensions:["p12","pfx"]},"application/x-pkcs7-certificates":{source:"apache",extensions:["p7b","spc"]},"application/x-pkcs7-certreqresp":{source:"apache",extensions:["p7r"]},"application/x-pki-message":{source:"iana"},"application/x-rar-compressed":{source:"apache",compressible:!1,extensions:["rar"]},"application/x-redhat-package-manager":{source:"nginx",extensions:["rpm"]},"application/x-research-info-systems":{source:"apache",extensions:["ris"]},"application/x-sea":{source:"nginx",extensions:["sea"]},"application/x-sh":{source:"apache",compressible:!0,extensions:["sh"]},"application/x-shar":{source:"apache",extensions:["shar"]},"application/x-shockwave-flash":{source:"apache",compressible:!1,extensions:["swf"]},"application/x-silverlight-app":{source:"apache",extensions:["xap"]},"application/x-sql":{source:"apache",extensions:["sql"]},"application/x-stuffit":{source:"apache",compressible:!1,extensions:["sit"]},"application/x-stuffitx":{source:"apache",extensions:["sitx"]},"application/x-subrip":{source:"apache",extensions:["srt"]},"application/x-sv4cpio":{source:"apache",extensions:["sv4cpio"]},"application/x-sv4crc":{source:"apache",extensions:["sv4crc"]},"application/x-t3vm-image":{source:"apache",extensions:["t3"]},"application/x-tads":{source:"apache",extensions:["gam"]},"application/x-tar":{source:"apache",compressible:!0,extensions:["tar"]},"application/x-tcl":{source:"apache",extensions:["tcl","tk"]},"application/x-tex":{source:"apache",extensions:["tex"]},"application/x-tex-tfm":{source:"apache",extensions:["tfm"]},"application/x-texinfo":{source:"apache",extensions:["texinfo","texi"]},"application/x-tgif":{source:"apache",extensions:["obj"]},"application/x-ustar":{source:"apache",extensions:["ustar"]},"application/x-virtualbox-hdd":{compressible:!0,extensions:["hdd"]},"application/x-virtualbox-ova":{compressible:!0,extensions:["ova"]},"application/x-virtualbox-ovf":{compressible:!0,extensions:["ovf"]},"application/x-virtualbox-vbox":{compressible:!0,extensions:["vbox"]},"application/x-virtualbox-vbox-extpack":{compressible:!1,extensions:["vbox-extpack"]},"application/x-virtualbox-vdi":{compressible:!0,extensions:["vdi"]},"application/x-virtualbox-vhd":{compressible:!0,extensions:["vhd"]},"application/x-virtualbox-vmdk":{compressible:!0,extensions:["vmdk"]},"application/x-wais-source":{source:"apache",extensions:["src"]},"application/x-web-app-manifest+json":{compressible:!0,extensions:["webapp"]},"application/x-www-form-urlencoded":{source:"iana",compressible:!0},"application/x-x509-ca-cert":{source:"iana",extensions:["der","crt","pem"]},"application/x-x509-ca-ra-cert":{source:"iana"},"application/x-x509-next-ca-cert":{source:"iana"},"application/x-xfig":{source:"apache",extensions:["fig"]},"application/x-xliff+xml":{source:"apache",compressible:!0,extensions:["xlf"]},"application/x-xpinstall":{source:"apache",compressible:!1,extensions:["xpi"]},"application/x-xz":{source:"apache",extensions:["xz"]},"application/x-zmachine":{source:"apache",extensions:["z1","z2","z3","z4","z5","z6","z7","z8"]},"application/x400-bp":{source:"iana"},"application/xacml+xml":{source:"iana",compressible:!0},"application/xaml+xml":{source:"apache",compressible:!0,extensions:["xaml"]},"application/xcap-att+xml":{source:"iana",compressible:!0,extensions:["xav"]},"application/xcap-caps+xml":{source:"iana",compressible:!0,extensions:["xca"]},"application/xcap-diff+xml":{source:"iana",compressible:!0,extensions:["xdf"]},"application/xcap-el+xml":{source:"iana",compressible:!0,extensions:["xel"]},"application/xcap-error+xml":{source:"iana",compressible:!0},"application/xcap-ns+xml":{source:"iana",compressible:!0,extensions:["xns"]},"application/xcon-conference-info+xml":{source:"iana",compressible:!0},"application/xcon-conference-info-diff+xml":{source:"iana",compressible:!0},"application/xenc+xml":{source:"iana",compressible:!0,extensions:["xenc"]},"application/xhtml+xml":{source:"iana",compressible:!0,extensions:["xhtml","xht"]},"application/xhtml-voice+xml":{source:"apache",compressible:!0},"application/xliff+xml":{source:"iana",compressible:!0,extensions:["xlf"]},"application/xml":{source:"iana",compressible:!0,extensions:["xml","xsl","xsd","rng"]},"application/xml-dtd":{source:"iana",compressible:!0,extensions:["dtd"]},"application/xml-external-parsed-entity":{source:"iana"},"application/xml-patch+xml":{source:"iana",compressible:!0},"application/xmpp+xml":{source:"iana",compressible:!0},"application/xop+xml":{source:"iana",compressible:!0,extensions:["xop"]},"application/xproc+xml":{source:"apache",compressible:!0,extensions:["xpl"]},"application/xslt+xml":{source:"iana",compressible:!0,extensions:["xsl","xslt"]},"application/xspf+xml":{source:"apache",compressible:!0,extensions:["xspf"]},"application/xv+xml":{source:"iana",compressible:!0,extensions:["mxml","xhvml","xvml","xvm"]},"application/yang":{source:"iana",extensions:["yang"]},"application/yang-data+json":{source:"iana",compressible:!0},"application/yang-data+xml":{source:"iana",compressible:!0},"application/yang-patch+json":{source:"iana",compressible:!0},"application/yang-patch+xml":{source:"iana",compressible:!0},"application/yin+xml":{source:"iana",compressible:!0,extensions:["yin"]},"application/zip":{source:"iana",compressible:!1,extensions:["zip"]},"application/zlib":{source:"iana"},"application/zstd":{source:"iana"},"audio/1d-interleaved-parityfec":{source:"iana"},"audio/32kadpcm":{source:"iana"},"audio/3gpp":{source:"iana",compressible:!1,extensions:["3gpp"]},"audio/3gpp2":{source:"iana"},"audio/aac":{source:"iana"},"audio/ac3":{source:"iana"},"audio/adpcm":{source:"apache",extensions:["adp"]},"audio/amr":{source:"iana",extensions:["amr"]},"audio/amr-wb":{source:"iana"},"audio/amr-wb+":{source:"iana"},"audio/aptx":{source:"iana"},"audio/asc":{source:"iana"},"audio/atrac-advanced-lossless":{source:"iana"},"audio/atrac-x":{source:"iana"},"audio/atrac3":{source:"iana"},"audio/basic":{source:"iana",compressible:!1,extensions:["au","snd"]},"audio/bv16":{source:"iana"},"audio/bv32":{source:"iana"},"audio/clearmode":{source:"iana"},"audio/cn":{source:"iana"},"audio/dat12":{source:"iana"},"audio/dls":{source:"iana"},"audio/dsr-es201108":{source:"iana"},"audio/dsr-es202050":{source:"iana"},"audio/dsr-es202211":{source:"iana"},"audio/dsr-es202212":{source:"iana"},"audio/dv":{source:"iana"},"audio/dvi4":{source:"iana"},"audio/eac3":{source:"iana"},"audio/encaprtp":{source:"iana"},"audio/evrc":{source:"iana"},"audio/evrc-qcp":{source:"iana"},"audio/evrc0":{source:"iana"},"audio/evrc1":{source:"iana"},"audio/evrcb":{source:"iana"},"audio/evrcb0":{source:"iana"},"audio/evrcb1":{source:"iana"},"audio/evrcnw":{source:"iana"},"audio/evrcnw0":{source:"iana"},"audio/evrcnw1":{source:"iana"},"audio/evrcwb":{source:"iana"},"audio/evrcwb0":{source:"iana"},"audio/evrcwb1":{source:"iana"},"audio/evs":{source:"iana"},"audio/flexfec":{source:"iana"},"audio/fwdred":{source:"iana"},"audio/g711-0":{source:"iana"},"audio/g719":{source:"iana"},"audio/g722":{source:"iana"},"audio/g7221":{source:"iana"},"audio/g723":{source:"iana"},"audio/g726-16":{source:"iana"},"audio/g726-24":{source:"iana"},"audio/g726-32":{source:"iana"},"audio/g726-40":{source:"iana"},"audio/g728":{source:"iana"},"audio/g729":{source:"iana"},"audio/g7291":{source:"iana"},"audio/g729d":{source:"iana"},"audio/g729e":{source:"iana"},"audio/gsm":{source:"iana"},"audio/gsm-efr":{source:"iana"},"audio/gsm-hr-08":{source:"iana"},"audio/ilbc":{source:"iana"},"audio/ip-mr_v2.5":{source:"iana"},"audio/isac":{source:"apache"},"audio/l16":{source:"iana"},"audio/l20":{source:"iana"},"audio/l24":{source:"iana",compressible:!1},"audio/l8":{source:"iana"},"audio/lpc":{source:"iana"},"audio/melp":{source:"iana"},"audio/melp1200":{source:"iana"},"audio/melp2400":{source:"iana"},"audio/melp600":{source:"iana"},"audio/mhas":{source:"iana"},"audio/midi":{source:"apache",extensions:["mid","midi","kar","rmi"]},"audio/mobile-xmf":{source:"iana",extensions:["mxmf"]},"audio/mp3":{compressible:!1,extensions:["mp3"]},"audio/mp4":{source:"iana",compressible:!1,extensions:["m4a","mp4a"]},"audio/mp4a-latm":{source:"iana"},"audio/mpa":{source:"iana"},"audio/mpa-robust":{source:"iana"},"audio/mpeg":{source:"iana",compressible:!1,extensions:["mpga","mp2","mp2a","mp3","m2a","m3a"]},"audio/mpeg4-generic":{source:"iana"},"audio/musepack":{source:"apache"},"audio/ogg":{source:"iana",compressible:!1,extensions:["oga","ogg","spx","opus"]},"audio/opus":{source:"iana"},"audio/parityfec":{source:"iana"},"audio/pcma":{source:"iana"},"audio/pcma-wb":{source:"iana"},"audio/pcmu":{source:"iana"},"audio/pcmu-wb":{source:"iana"},"audio/prs.sid":{source:"iana"},"audio/qcelp":{source:"iana"},"audio/raptorfec":{source:"iana"},"audio/red":{source:"iana"},"audio/rtp-enc-aescm128":{source:"iana"},"audio/rtp-midi":{source:"iana"},"audio/rtploopback":{source:"iana"},"audio/rtx":{source:"iana"},"audio/s3m":{source:"apache",extensions:["s3m"]},"audio/scip":{source:"iana"},"audio/silk":{source:"apache",extensions:["sil"]},"audio/smv":{source:"iana"},"audio/smv-qcp":{source:"iana"},"audio/smv0":{source:"iana"},"audio/sofa":{source:"iana"},"audio/sp-midi":{source:"iana"},"audio/speex":{source:"iana"},"audio/t140c":{source:"iana"},"audio/t38":{source:"iana"},"audio/telephone-event":{source:"iana"},"audio/tetra_acelp":{source:"iana"},"audio/tetra_acelp_bb":{source:"iana"},"audio/tone":{source:"iana"},"audio/tsvcis":{source:"iana"},"audio/uemclip":{source:"iana"},"audio/ulpfec":{source:"iana"},"audio/usac":{source:"iana"},"audio/vdvi":{source:"iana"},"audio/vmr-wb":{source:"iana"},"audio/vnd.3gpp.iufp":{source:"iana"},"audio/vnd.4sb":{source:"iana"},"audio/vnd.audiokoz":{source:"iana"},"audio/vnd.celp":{source:"iana"},"audio/vnd.cisco.nse":{source:"iana"},"audio/vnd.cmles.radio-events":{source:"iana"},"audio/vnd.cns.anp1":{source:"iana"},"audio/vnd.cns.inf1":{source:"iana"},"audio/vnd.dece.audio":{source:"iana",extensions:["uva","uvva"]},"audio/vnd.digital-winds":{source:"iana",extensions:["eol"]},"audio/vnd.dlna.adts":{source:"iana"},"audio/vnd.dolby.heaac.1":{source:"iana"},"audio/vnd.dolby.heaac.2":{source:"iana"},"audio/vnd.dolby.mlp":{source:"iana"},"audio/vnd.dolby.mps":{source:"iana"},"audio/vnd.dolby.pl2":{source:"iana"},"audio/vnd.dolby.pl2x":{source:"iana"},"audio/vnd.dolby.pl2z":{source:"iana"},"audio/vnd.dolby.pulse.1":{source:"iana"},"audio/vnd.dra":{source:"iana",extensions:["dra"]},"audio/vnd.dts":{source:"iana",extensions:["dts"]},"audio/vnd.dts.hd":{source:"iana",extensions:["dtshd"]},"audio/vnd.dts.uhd":{source:"iana"},"audio/vnd.dvb.file":{source:"iana"},"audio/vnd.everad.plj":{source:"iana"},"audio/vnd.hns.audio":{source:"iana"},"audio/vnd.lucent.voice":{source:"iana",extensions:["lvp"]},"audio/vnd.ms-playready.media.pya":{source:"iana",extensions:["pya"]},"audio/vnd.nokia.mobile-xmf":{source:"iana"},"audio/vnd.nortel.vbk":{source:"iana"},"audio/vnd.nuera.ecelp4800":{source:"iana",extensions:["ecelp4800"]},"audio/vnd.nuera.ecelp7470":{source:"iana",extensions:["ecelp7470"]},"audio/vnd.nuera.ecelp9600":{source:"iana",extensions:["ecelp9600"]},"audio/vnd.octel.sbc":{source:"iana"},"audio/vnd.presonus.multitrack":{source:"iana"},"audio/vnd.qcelp":{source:"iana"},"audio/vnd.rhetorex.32kadpcm":{source:"iana"},"audio/vnd.rip":{source:"iana",extensions:["rip"]},"audio/vnd.rn-realaudio":{compressible:!1},"audio/vnd.sealedmedia.softseal.mpeg":{source:"iana"},"audio/vnd.vmx.cvsd":{source:"iana"},"audio/vnd.wave":{compressible:!1},"audio/vorbis":{source:"iana",compressible:!1},"audio/vorbis-config":{source:"iana"},"audio/wav":{compressible:!1,extensions:["wav"]},"audio/wave":{compressible:!1,extensions:["wav"]},"audio/webm":{source:"apache",compressible:!1,extensions:["weba"]},"audio/x-aac":{source:"apache",compressible:!1,extensions:["aac"]},"audio/x-aiff":{source:"apache",extensions:["aif","aiff","aifc"]},"audio/x-caf":{source:"apache",compressible:!1,extensions:["caf"]},"audio/x-flac":{source:"apache",extensions:["flac"]},"audio/x-m4a":{source:"nginx",extensions:["m4a"]},"audio/x-matroska":{source:"apache",extensions:["mka"]},"audio/x-mpegurl":{source:"apache",extensions:["m3u"]},"audio/x-ms-wax":{source:"apache",extensions:["wax"]},"audio/x-ms-wma":{source:"apache",extensions:["wma"]},"audio/x-pn-realaudio":{source:"apache",extensions:["ram","ra"]},"audio/x-pn-realaudio-plugin":{source:"apache",extensions:["rmp"]},"audio/x-realaudio":{source:"nginx",extensions:["ra"]},"audio/x-tta":{source:"apache"},"audio/x-wav":{source:"apache",extensions:["wav"]},"audio/xm":{source:"apache",extensions:["xm"]},"chemical/x-cdx":{source:"apache",extensions:["cdx"]},"chemical/x-cif":{source:"apache",extensions:["cif"]},"chemical/x-cmdf":{source:"apache",extensions:["cmdf"]},"chemical/x-cml":{source:"apache",extensions:["cml"]},"chemical/x-csml":{source:"apache",extensions:["csml"]},"chemical/x-pdb":{source:"apache"},"chemical/x-xyz":{source:"apache",extensions:["xyz"]},"font/collection":{source:"iana",extensions:["ttc"]},"font/otf":{source:"iana",compressible:!0,extensions:["otf"]},"font/sfnt":{source:"iana"},"font/ttf":{source:"iana",compressible:!0,extensions:["ttf"]},"font/woff":{source:"iana",extensions:["woff"]},"font/woff2":{source:"iana",extensions:["woff2"]},"image/aces":{source:"iana",extensions:["exr"]},"image/apng":{compressible:!1,extensions:["apng"]},"image/avci":{source:"iana",extensions:["avci"]},"image/avcs":{source:"iana",extensions:["avcs"]},"image/avif":{source:"iana",compressible:!1,extensions:["avif"]},"image/bmp":{source:"iana",compressible:!0,extensions:["bmp"]},"image/cgm":{source:"iana",extensions:["cgm"]},"image/dicom-rle":{source:"iana",extensions:["drle"]},"image/emf":{source:"iana",extensions:["emf"]},"image/fits":{source:"iana",extensions:["fits"]},"image/g3fax":{source:"iana",extensions:["g3"]},"image/gif":{source:"iana",compressible:!1,extensions:["gif"]},"image/heic":{source:"iana",extensions:["heic"]},"image/heic-sequence":{source:"iana",extensions:["heics"]},"image/heif":{source:"iana",extensions:["heif"]},"image/heif-sequence":{source:"iana",extensions:["heifs"]},"image/hej2k":{source:"iana",extensions:["hej2"]},"image/hsj2":{source:"iana",extensions:["hsj2"]},"image/ief":{source:"iana",extensions:["ief"]},"image/jls":{source:"iana",extensions:["jls"]},"image/jp2":{source:"iana",compressible:!1,extensions:["jp2","jpg2"]},"image/jpeg":{source:"iana",compressible:!1,extensions:["jpeg","jpg","jpe"]},"image/jph":{source:"iana",extensions:["jph"]},"image/jphc":{source:"iana",extensions:["jhc"]},"image/jpm":{source:"iana",compressible:!1,extensions:["jpm"]},"image/jpx":{source:"iana",compressible:!1,extensions:["jpx","jpf"]},"image/jxr":{source:"iana",extensions:["jxr"]},"image/jxra":{source:"iana",extensions:["jxra"]},"image/jxrs":{source:"iana",extensions:["jxrs"]},"image/jxs":{source:"iana",extensions:["jxs"]},"image/jxsc":{source:"iana",extensions:["jxsc"]},"image/jxsi":{source:"iana",extensions:["jxsi"]},"image/jxss":{source:"iana",extensions:["jxss"]},"image/ktx":{source:"iana",extensions:["ktx"]},"image/ktx2":{source:"iana",extensions:["ktx2"]},"image/naplps":{source:"iana"},"image/pjpeg":{compressible:!1},"image/png":{source:"iana",compressible:!1,extensions:["png"]},"image/prs.btif":{source:"iana",extensions:["btif"]},"image/prs.pti":{source:"iana",extensions:["pti"]},"image/pwg-raster":{source:"iana"},"image/sgi":{source:"apache",extensions:["sgi"]},"image/svg+xml":{source:"iana",compressible:!0,extensions:["svg","svgz"]},"image/t38":{source:"iana",extensions:["t38"]},"image/tiff":{source:"iana",compressible:!1,extensions:["tif","tiff"]},"image/tiff-fx":{source:"iana",extensions:["tfx"]},"image/vnd.adobe.photoshop":{source:"iana",compressible:!0,extensions:["psd"]},"image/vnd.airzip.accelerator.azv":{source:"iana",extensions:["azv"]},"image/vnd.cns.inf2":{source:"iana"},"image/vnd.dece.graphic":{source:"iana",extensions:["uvi","uvvi","uvg","uvvg"]},"image/vnd.djvu":{source:"iana",extensions:["djvu","djv"]},"image/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"image/vnd.dwg":{source:"iana",extensions:["dwg"]},"image/vnd.dxf":{source:"iana",extensions:["dxf"]},"image/vnd.fastbidsheet":{source:"iana",extensions:["fbs"]},"image/vnd.fpx":{source:"iana",extensions:["fpx"]},"image/vnd.fst":{source:"iana",extensions:["fst"]},"image/vnd.fujixerox.edmics-mmr":{source:"iana",extensions:["mmr"]},"image/vnd.fujixerox.edmics-rlc":{source:"iana",extensions:["rlc"]},"image/vnd.globalgraphics.pgb":{source:"iana"},"image/vnd.microsoft.icon":{source:"iana",compressible:!0,extensions:["ico"]},"image/vnd.mix":{source:"iana"},"image/vnd.mozilla.apng":{source:"iana"},"image/vnd.ms-dds":{compressible:!0,extensions:["dds"]},"image/vnd.ms-modi":{source:"iana",extensions:["mdi"]},"image/vnd.ms-photo":{source:"apache",extensions:["wdp"]},"image/vnd.net-fpx":{source:"iana",extensions:["npx"]},"image/vnd.pco.b16":{source:"iana",extensions:["b16"]},"image/vnd.radiance":{source:"iana"},"image/vnd.sealed.png":{source:"iana"},"image/vnd.sealedmedia.softseal.gif":{source:"iana"},"image/vnd.sealedmedia.softseal.jpg":{source:"iana"},"image/vnd.svf":{source:"iana"},"image/vnd.tencent.tap":{source:"iana",extensions:["tap"]},"image/vnd.valve.source.texture":{source:"iana",extensions:["vtf"]},"image/vnd.wap.wbmp":{source:"iana",extensions:["wbmp"]},"image/vnd.xiff":{source:"iana",extensions:["xif"]},"image/vnd.zbrush.pcx":{source:"iana",extensions:["pcx"]},"image/webp":{source:"apache",extensions:["webp"]},"image/wmf":{source:"iana",extensions:["wmf"]},"image/x-3ds":{source:"apache",extensions:["3ds"]},"image/x-cmu-raster":{source:"apache",extensions:["ras"]},"image/x-cmx":{source:"apache",extensions:["cmx"]},"image/x-freehand":{source:"apache",extensions:["fh","fhc","fh4","fh5","fh7"]},"image/x-icon":{source:"apache",compressible:!0,extensions:["ico"]},"image/x-jng":{source:"nginx",extensions:["jng"]},"image/x-mrsid-image":{source:"apache",extensions:["sid"]},"image/x-ms-bmp":{source:"nginx",compressible:!0,extensions:["bmp"]},"image/x-pcx":{source:"apache",extensions:["pcx"]},"image/x-pict":{source:"apache",extensions:["pic","pct"]},"image/x-portable-anymap":{source:"apache",extensions:["pnm"]},"image/x-portable-bitmap":{source:"apache",extensions:["pbm"]},"image/x-portable-graymap":{source:"apache",extensions:["pgm"]},"image/x-portable-pixmap":{source:"apache",extensions:["ppm"]},"image/x-rgb":{source:"apache",extensions:["rgb"]},"image/x-tga":{source:"apache",extensions:["tga"]},"image/x-xbitmap":{source:"apache",extensions:["xbm"]},"image/x-xcf":{compressible:!1},"image/x-xpixmap":{source:"apache",extensions:["xpm"]},"image/x-xwindowdump":{source:"apache",extensions:["xwd"]},"message/cpim":{source:"iana"},"message/delivery-status":{source:"iana"},"message/disposition-notification":{source:"iana",extensions:["disposition-notification"]},"message/external-body":{source:"iana"},"message/feedback-report":{source:"iana"},"message/global":{source:"iana",extensions:["u8msg"]},"message/global-delivery-status":{source:"iana",extensions:["u8dsn"]},"message/global-disposition-notification":{source:"iana",extensions:["u8mdn"]},"message/global-headers":{source:"iana",extensions:["u8hdr"]},"message/http":{source:"iana",compressible:!1},"message/imdn+xml":{source:"iana",compressible:!0},"message/news":{source:"iana"},"message/partial":{source:"iana",compressible:!1},"message/rfc822":{source:"iana",compressible:!0,extensions:["eml","mime"]},"message/s-http":{source:"iana"},"message/sip":{source:"iana"},"message/sipfrag":{source:"iana"},"message/tracking-status":{source:"iana"},"message/vnd.si.simp":{source:"iana"},"message/vnd.wfa.wsc":{source:"iana",extensions:["wsc"]},"model/3mf":{source:"iana",extensions:["3mf"]},"model/e57":{source:"iana"},"model/gltf+json":{source:"iana",compressible:!0,extensions:["gltf"]},"model/gltf-binary":{source:"iana",compressible:!0,extensions:["glb"]},"model/iges":{source:"iana",compressible:!1,extensions:["igs","iges"]},"model/mesh":{source:"iana",compressible:!1,extensions:["msh","mesh","silo"]},"model/mtl":{source:"iana",extensions:["mtl"]},"model/obj":{source:"iana",extensions:["obj"]},"model/step":{source:"iana"},"model/step+xml":{source:"iana",compressible:!0,extensions:["stpx"]},"model/step+zip":{source:"iana",compressible:!1,extensions:["stpz"]},"model/step-xml+zip":{source:"iana",compressible:!1,extensions:["stpxz"]},"model/stl":{source:"iana",extensions:["stl"]},"model/vnd.collada+xml":{source:"iana",compressible:!0,extensions:["dae"]},"model/vnd.dwf":{source:"iana",extensions:["dwf"]},"model/vnd.flatland.3dml":{source:"iana"},"model/vnd.gdl":{source:"iana",extensions:["gdl"]},"model/vnd.gs-gdl":{source:"apache"},"model/vnd.gs.gdl":{source:"iana"},"model/vnd.gtw":{source:"iana",extensions:["gtw"]},"model/vnd.moml+xml":{source:"iana",compressible:!0},"model/vnd.mts":{source:"iana",extensions:["mts"]},"model/vnd.opengex":{source:"iana",extensions:["ogex"]},"model/vnd.parasolid.transmit.binary":{source:"iana",extensions:["x_b"]},"model/vnd.parasolid.transmit.text":{source:"iana",extensions:["x_t"]},"model/vnd.pytha.pyox":{source:"iana"},"model/vnd.rosette.annotated-data-model":{source:"iana"},"model/vnd.sap.vds":{source:"iana",extensions:["vds"]},"model/vnd.usdz+zip":{source:"iana",compressible:!1,extensions:["usdz"]},"model/vnd.valve.source.compiled-map":{source:"iana",extensions:["bsp"]},"model/vnd.vtu":{source:"iana",extensions:["vtu"]},"model/vrml":{source:"iana",compressible:!1,extensions:["wrl","vrml"]},"model/x3d+binary":{source:"apache",compressible:!1,extensions:["x3db","x3dbz"]},"model/x3d+fastinfoset":{source:"iana",extensions:["x3db"]},"model/x3d+vrml":{source:"apache",compressible:!1,extensions:["x3dv","x3dvz"]},"model/x3d+xml":{source:"iana",compressible:!0,extensions:["x3d","x3dz"]},"model/x3d-vrml":{source:"iana",extensions:["x3dv"]},"multipart/alternative":{source:"iana",compressible:!1},"multipart/appledouble":{source:"iana"},"multipart/byteranges":{source:"iana"},"multipart/digest":{source:"iana"},"multipart/encrypted":{source:"iana",compressible:!1},"multipart/form-data":{source:"iana",compressible:!1},"multipart/header-set":{source:"iana"},"multipart/mixed":{source:"iana"},"multipart/multilingual":{source:"iana"},"multipart/parallel":{source:"iana"},"multipart/related":{source:"iana",compressible:!1},"multipart/report":{source:"iana"},"multipart/signed":{source:"iana",compressible:!1},"multipart/vnd.bint.med-plus":{source:"iana"},"multipart/voice-message":{source:"iana"},"multipart/x-mixed-replace":{source:"iana"},"text/1d-interleaved-parityfec":{source:"iana"},"text/cache-manifest":{source:"iana",compressible:!0,extensions:["appcache","manifest"]},"text/calendar":{source:"iana",extensions:["ics","ifb"]},"text/calender":{compressible:!0},"text/cmd":{compressible:!0},"text/coffeescript":{extensions:["coffee","litcoffee"]},"text/cql":{source:"iana"},"text/cql-expression":{source:"iana"},"text/cql-identifier":{source:"iana"},"text/css":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["css"]},"text/csv":{source:"iana",compressible:!0,extensions:["csv"]},"text/csv-schema":{source:"iana"},"text/directory":{source:"iana"},"text/dns":{source:"iana"},"text/ecmascript":{source:"iana"},"text/encaprtp":{source:"iana"},"text/enriched":{source:"iana"},"text/fhirpath":{source:"iana"},"text/flexfec":{source:"iana"},"text/fwdred":{source:"iana"},"text/gff3":{source:"iana"},"text/grammar-ref-list":{source:"iana"},"text/html":{source:"iana",compressible:!0,extensions:["html","htm","shtml"]},"text/jade":{extensions:["jade"]},"text/javascript":{source:"iana",compressible:!0},"text/jcr-cnd":{source:"iana"},"text/jsx":{compressible:!0,extensions:["jsx"]},"text/less":{compressible:!0,extensions:["less"]},"text/markdown":{source:"iana",compressible:!0,extensions:["markdown","md"]},"text/mathml":{source:"nginx",extensions:["mml"]},"text/mdx":{compressible:!0,extensions:["mdx"]},"text/mizar":{source:"iana"},"text/n3":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["n3"]},"text/parameters":{source:"iana",charset:"UTF-8"},"text/parityfec":{source:"iana"},"text/plain":{source:"iana",compressible:!0,extensions:["txt","text","conf","def","list","log","in","ini"]},"text/provenance-notation":{source:"iana",charset:"UTF-8"},"text/prs.fallenstein.rst":{source:"iana"},"text/prs.lines.tag":{source:"iana",extensions:["dsc"]},"text/prs.prop.logic":{source:"iana"},"text/raptorfec":{source:"iana"},"text/red":{source:"iana"},"text/rfc822-headers":{source:"iana"},"text/richtext":{source:"iana",compressible:!0,extensions:["rtx"]},"text/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"text/rtp-enc-aescm128":{source:"iana"},"text/rtploopback":{source:"iana"},"text/rtx":{source:"iana"},"text/sgml":{source:"iana",extensions:["sgml","sgm"]},"text/shaclc":{source:"iana"},"text/shex":{source:"iana",extensions:["shex"]},"text/slim":{extensions:["slim","slm"]},"text/spdx":{source:"iana",extensions:["spdx"]},"text/strings":{source:"iana"},"text/stylus":{extensions:["stylus","styl"]},"text/t140":{source:"iana"},"text/tab-separated-values":{source:"iana",compressible:!0,extensions:["tsv"]},"text/troff":{source:"iana",extensions:["t","tr","roff","man","me","ms"]},"text/turtle":{source:"iana",charset:"UTF-8",extensions:["ttl"]},"text/ulpfec":{source:"iana"},"text/uri-list":{source:"iana",compressible:!0,extensions:["uri","uris","urls"]},"text/vcard":{source:"iana",compressible:!0,extensions:["vcard"]},"text/vnd.a":{source:"iana"},"text/vnd.abc":{source:"iana"},"text/vnd.ascii-art":{source:"iana"},"text/vnd.curl":{source:"iana",extensions:["curl"]},"text/vnd.curl.dcurl":{source:"apache",extensions:["dcurl"]},"text/vnd.curl.mcurl":{source:"apache",extensions:["mcurl"]},"text/vnd.curl.scurl":{source:"apache",extensions:["scurl"]},"text/vnd.debian.copyright":{source:"iana",charset:"UTF-8"},"text/vnd.dmclientscript":{source:"iana"},"text/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"text/vnd.esmertec.theme-descriptor":{source:"iana",charset:"UTF-8"},"text/vnd.familysearch.gedcom":{source:"iana",extensions:["ged"]},"text/vnd.ficlab.flt":{source:"iana"},"text/vnd.fly":{source:"iana",extensions:["fly"]},"text/vnd.fmi.flexstor":{source:"iana",extensions:["flx"]},"text/vnd.gml":{source:"iana"},"text/vnd.graphviz":{source:"iana",extensions:["gv"]},"text/vnd.hans":{source:"iana"},"text/vnd.hgl":{source:"iana"},"text/vnd.in3d.3dml":{source:"iana",extensions:["3dml"]},"text/vnd.in3d.spot":{source:"iana",extensions:["spot"]},"text/vnd.iptc.newsml":{source:"iana"},"text/vnd.iptc.nitf":{source:"iana"},"text/vnd.latex-z":{source:"iana"},"text/vnd.motorola.reflex":{source:"iana"},"text/vnd.ms-mediapackage":{source:"iana"},"text/vnd.net2phone.commcenter.command":{source:"iana"},"text/vnd.radisys.msml-basic-layout":{source:"iana"},"text/vnd.senx.warpscript":{source:"iana"},"text/vnd.si.uricatalogue":{source:"iana"},"text/vnd.sosi":{source:"iana"},"text/vnd.sun.j2me.app-descriptor":{source:"iana",charset:"UTF-8",extensions:["jad"]},"text/vnd.trolltech.linguist":{source:"iana",charset:"UTF-8"},"text/vnd.wap.si":{source:"iana"},"text/vnd.wap.sl":{source:"iana"},"text/vnd.wap.wml":{source:"iana",extensions:["wml"]},"text/vnd.wap.wmlscript":{source:"iana",extensions:["wmls"]},"text/vtt":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["vtt"]},"text/x-asm":{source:"apache",extensions:["s","asm"]},"text/x-c":{source:"apache",extensions:["c","cc","cxx","cpp","h","hh","dic"]},"text/x-component":{source:"nginx",extensions:["htc"]},"text/x-fortran":{source:"apache",extensions:["f","for","f77","f90"]},"text/x-gwt-rpc":{compressible:!0},"text/x-handlebars-template":{extensions:["hbs"]},"text/x-java-source":{source:"apache",extensions:["java"]},"text/x-jquery-tmpl":{compressible:!0},"text/x-lua":{extensions:["lua"]},"text/x-markdown":{compressible:!0,extensions:["mkd"]},"text/x-nfo":{source:"apache",extensions:["nfo"]},"text/x-opml":{source:"apache",extensions:["opml"]},"text/x-org":{compressible:!0,extensions:["org"]},"text/x-pascal":{source:"apache",extensions:["p","pas"]},"text/x-processing":{compressible:!0,extensions:["pde"]},"text/x-sass":{extensions:["sass"]},"text/x-scss":{extensions:["scss"]},"text/x-setext":{source:"apache",extensions:["etx"]},"text/x-sfv":{source:"apache",extensions:["sfv"]},"text/x-suse-ymp":{compressible:!0,extensions:["ymp"]},"text/x-uuencode":{source:"apache",extensions:["uu"]},"text/x-vcalendar":{source:"apache",extensions:["vcs"]},"text/x-vcard":{source:"apache",extensions:["vcf"]},"text/xml":{source:"iana",compressible:!0,extensions:["xml"]},"text/xml-external-parsed-entity":{source:"iana"},"text/yaml":{compressible:!0,extensions:["yaml","yml"]},"video/1d-interleaved-parityfec":{source:"iana"},"video/3gpp":{source:"iana",extensions:["3gp","3gpp"]},"video/3gpp-tt":{source:"iana"},"video/3gpp2":{source:"iana",extensions:["3g2"]},"video/av1":{source:"iana"},"video/bmpeg":{source:"iana"},"video/bt656":{source:"iana"},"video/celb":{source:"iana"},"video/dv":{source:"iana"},"video/encaprtp":{source:"iana"},"video/ffv1":{source:"iana"},"video/flexfec":{source:"iana"},"video/h261":{source:"iana",extensions:["h261"]},"video/h263":{source:"iana",extensions:["h263"]},"video/h263-1998":{source:"iana"},"video/h263-2000":{source:"iana"},"video/h264":{source:"iana",extensions:["h264"]},"video/h264-rcdo":{source:"iana"},"video/h264-svc":{source:"iana"},"video/h265":{source:"iana"},"video/iso.segment":{source:"iana",extensions:["m4s"]},"video/jpeg":{source:"iana",extensions:["jpgv"]},"video/jpeg2000":{source:"iana"},"video/jpm":{source:"apache",extensions:["jpm","jpgm"]},"video/jxsv":{source:"iana"},"video/mj2":{source:"iana",extensions:["mj2","mjp2"]},"video/mp1s":{source:"iana"},"video/mp2p":{source:"iana"},"video/mp2t":{source:"iana",extensions:["ts"]},"video/mp4":{source:"iana",compressible:!1,extensions:["mp4","mp4v","mpg4"]},"video/mp4v-es":{source:"iana"},"video/mpeg":{source:"iana",compressible:!1,extensions:["mpeg","mpg","mpe","m1v","m2v"]},"video/mpeg4-generic":{source:"iana"},"video/mpv":{source:"iana"},"video/nv":{source:"iana"},"video/ogg":{source:"iana",compressible:!1,extensions:["ogv"]},"video/parityfec":{source:"iana"},"video/pointer":{source:"iana"},"video/quicktime":{source:"iana",compressible:!1,extensions:["qt","mov"]},"video/raptorfec":{source:"iana"},"video/raw":{source:"iana"},"video/rtp-enc-aescm128":{source:"iana"},"video/rtploopback":{source:"iana"},"video/rtx":{source:"iana"},"video/scip":{source:"iana"},"video/smpte291":{source:"iana"},"video/smpte292m":{source:"iana"},"video/ulpfec":{source:"iana"},"video/vc1":{source:"iana"},"video/vc2":{source:"iana"},"video/vnd.cctv":{source:"iana"},"video/vnd.dece.hd":{source:"iana",extensions:["uvh","uvvh"]},"video/vnd.dece.mobile":{source:"iana",extensions:["uvm","uvvm"]},"video/vnd.dece.mp4":{source:"iana"},"video/vnd.dece.pd":{source:"iana",extensions:["uvp","uvvp"]},"video/vnd.dece.sd":{source:"iana",extensions:["uvs","uvvs"]},"video/vnd.dece.video":{source:"iana",extensions:["uvv","uvvv"]},"video/vnd.directv.mpeg":{source:"iana"},"video/vnd.directv.mpeg-tts":{source:"iana"},"video/vnd.dlna.mpeg-tts":{source:"iana"},"video/vnd.dvb.file":{source:"iana",extensions:["dvb"]},"video/vnd.fvt":{source:"iana",extensions:["fvt"]},"video/vnd.hns.video":{source:"iana"},"video/vnd.iptvforum.1dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.1dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.2dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.2dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.ttsavc":{source:"iana"},"video/vnd.iptvforum.ttsmpeg2":{source:"iana"},"video/vnd.motorola.video":{source:"iana"},"video/vnd.motorola.videop":{source:"iana"},"video/vnd.mpegurl":{source:"iana",extensions:["mxu","m4u"]},"video/vnd.ms-playready.media.pyv":{source:"iana",extensions:["pyv"]},"video/vnd.nokia.interleaved-multimedia":{source:"iana"},"video/vnd.nokia.mp4vr":{source:"iana"},"video/vnd.nokia.videovoip":{source:"iana"},"video/vnd.objectvideo":{source:"iana"},"video/vnd.radgamettools.bink":{source:"iana"},"video/vnd.radgamettools.smacker":{source:"iana"},"video/vnd.sealed.mpeg1":{source:"iana"},"video/vnd.sealed.mpeg4":{source:"iana"},"video/vnd.sealed.swf":{source:"iana"},"video/vnd.sealedmedia.softseal.mov":{source:"iana"},"video/vnd.uvvu.mp4":{source:"iana",extensions:["uvu","uvvu"]},"video/vnd.vivo":{source:"iana",extensions:["viv"]},"video/vnd.youtube.yt":{source:"iana"},"video/vp8":{source:"iana"},"video/vp9":{source:"iana"},"video/webm":{source:"apache",compressible:!1,extensions:["webm"]},"video/x-f4v":{source:"apache",extensions:["f4v"]},"video/x-fli":{source:"apache",extensions:["fli"]},"video/x-flv":{source:"apache",compressible:!1,extensions:["flv"]},"video/x-m4v":{source:"apache",extensions:["m4v"]},"video/x-matroska":{source:"apache",compressible:!1,extensions:["mkv","mk3d","mks"]},"video/x-mng":{source:"apache",extensions:["mng"]},"video/x-ms-asf":{source:"apache",extensions:["asf","asx"]},"video/x-ms-vob":{source:"apache",extensions:["vob"]},"video/x-ms-wm":{source:"apache",extensions:["wm"]},"video/x-ms-wmv":{source:"apache",compressible:!1,extensions:["wmv"]},"video/x-ms-wmx":{source:"apache",extensions:["wmx"]},"video/x-ms-wvx":{source:"apache",extensions:["wvx"]},"video/x-msvideo":{source:"apache",extensions:["avi"]},"video/x-sgi-movie":{source:"apache",extensions:["movie"]},"video/x-smv":{source:"apache",extensions:["smv"]},"x-conference/x-cooltalk":{source:"apache",extensions:["ice"]},"x-shader/x-fragment":{compressible:!0},"x-shader/x-vertex":{compressible:!0}};/*!
 * mime-db
 * Copyright(c) 2014 Jonathan Ong
 * Copyright(c) 2015-2022 Douglas Christopher Wilson
 * MIT Licensed
 */(function($){$.exports=require$$0})(mimeDb);const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$1=getAugmentedNamespace(__viteBrowserExternal$1);/*!
 * mime-types
 * Copyright(c) 2014 Jonathan Ong
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */(function($){var r=mimeDbExports,p=require$$1.extname,v=/^\s*([^;\s]*)(?:;|\s|$)/,k=/^text\//i;$.charset=x,$.charsets={lookup:x},$.contentType=S,$.extension=L,$.extensions=Object.create(null),$.lookup=I,$.types=Object.create(null),O($.extensions,$.types);function x(F){if(!F||typeof F!="string")return!1;var U=v.exec(F),R=U&&r[U[1].toLowerCase()];return R&&R.charset?R.charset:U&&k.test(U[1])?"UTF-8":!1}function S(F){if(!F||typeof F!="string")return!1;var U=F.indexOf("/")===-1?$.lookup(F):F;if(!U)return!1;if(U.indexOf("charset")===-1){var R=$.charset(U);R&&(U+="; charset="+R.toLowerCase())}return U}function L(F){if(!F||typeof F!="string")return!1;var U=v.exec(F),R=U&&$.extensions[U[1].toLowerCase()];return!R||!R.length?!1:R[0]}function I(F){if(!F||typeof F!="string")return!1;var U=p("x."+F).toLowerCase().substr(1);return U&&$.types[U]||!1}function O(F,U){var R=["nginx","apache",void 0,"iana"];Object.keys(r).forEach(function(j){var q=r[j],H=q.extensions;if(!(!H||!H.length)){F[j]=H;for(var Q=0;Q<H.length;Q++){var V=H[Q];if(U[V]){var K=R.indexOf(r[U[V]].source),G=R.indexOf(q.source);if(U[V]!=="application/octet-stream"&&(K>G||K===G&&U[V].substr(0,12)==="application/"))continue}U[V]=j}}})}})(mimeTypes);const icon$2=""+new URL("upload-62f3bdf6.svg",import.meta.url).href,UploadFileButton_svelte_svelte_type_style_lang="";function create_fragment$3p($){let r,p,v,k,x;return{c(){r=element("input"),p=space(),v=element("button"),v.textContent="upload",attr(r,"type","file"),attr(r,"name","file"),r.multiple=!0,attr(r,"class","svelte-nn3gqf"),attr(v,"class","material-icons-round"),attr(v,"title","Upload file")},m(S,L){insert(S,r,L),$[2](r),insert(S,p,L),insert(S,v,L),k||(x=[listen(r,"change",$[1]),listen(v,"click",$[3])],k=!0)},p:noop$1,i:noop$1,o:noop$1,d(S){S&&detach(r),$[2](null),S&&detach(p),S&&detach(v),k=!1,run_all(x)}}}function instance$37($,r,p){let v;component_subscribe($,FileBrowserCurrentDir,O=>p(4,v=O));let k;async function x(){const O=k.files;if(O.length>80)return createOverlayableError({title:"Too many files",message:"You are only allowed to upload 80 files at a time to prevent overloading.",buttons:[{caption:"Understood",action(){}}],image:icon$2},"FileManager");showOverlay("uploadingFile","FileManager");let F=50;for(let U=0;U<O.length;U++)F+=25,O[U]&&await S(O[U]);setTimeout(()=>{hideOverlay("uploadingFile","FileManager"),fbClass.refresh()},F+500)}async function S(O){const F=new Blob([new Uint8Array(await O.arrayBuffer())]),U=`${v}/${O.name}`.split("//").join("/"),R={name:O.name,path:U,data:await O.arrayBuffer(),mime:"ArcOS Uploadable"};FileBrowserUploadFile.set(R),await writeFile(U,F)||makeNotification({title:"File upload failed",message:"The server could not parse the file or it could not be written to the ArcFS",buttons:[],image:icon$2})}function L(O){binding_callbacks[O?"unshift":"push"](()=>{k=O,p(0,k)})}return[k,x,L,()=>k.click()]}class UploadFileButton extends SvelteComponent{constructor(r){super(),init(this,r,instance$37,create_fragment$3p,safe_not_equal,{})}}function create_fragment$3o($){let r,p,v,k,x,S;return{c(){r=element("div"),p=element("button"),p.textContent="format_list_bulleted",v=space(),k=element("button"),k.textContent="grid_view",attr(p,"class","material-icons-round"),attr(p,"title","List view"),toggle_class(p,"selected",!$[0].tiled),attr(k,"class","material-icons-round"),attr(k,"title","Tile view"),toggle_class(k,"selected",$[0].tiled),attr(r,"class","group")},m(L,I){insert(L,r,I),append(r,p),append(r,v),append(r,k),x||(S=[listen(p,"click",$[1](!1)),listen(k,"click",$[1](!0))],x=!0)},p(L,[I]){I&1&&toggle_class(p,"selected",!L[0].tiled),I&1&&toggle_class(k,"selected",L[0].tiled)},i:noop$1,o:noop$1,d(L){L&&detach(r),x=!1,run_all(S)}}}function instance$36($,r,p){let v;component_subscribe($,UserData,L=>p(3,v=L));let{appdata:k}=r,{app:x}=r;function S(L){return()=>{p(0,k.tiled=L,k),set_store_value(UserData,v.appdata[x.id]=k,v)}}return $.$$set=L=>{"appdata"in L&&p(0,k=L.appdata),"app"in L&&p(2,x=L.app)},[k,S,x]}class Views extends SvelteComponent{constructor(r){super(),init(this,r,instance$36,create_fragment$3o,safe_not_equal,{appdata:0,app:2})}}function create_fragment$3n($){let r,p,v,k,x,S,L,I,O,F,U,R,N,j,q,H,Q,V,K,G,Y,J,Z,X,ee,te,le,ue,ae,oe;p=new ParentDir({}),k=new PathCrumbs({}),I=new CutButton({}),F=new CopyButton({}),R=new PasteButton({}),H=new DeleteButton({}),V=new RenameButton({}),Y=new NewFolderButton({}),Z=new CreateButton({}),ee=new UploadFileButton({});function se(ne){$[2](ne)}function re(ne){$[3](ne)}let ie={};return $[0]!==void 0&&(ie.appdata=$[0]),$[1]!==void 0&&(ie.app=$[1]),le=new Views({props:ie}),binding_callbacks.push(()=>bind$1(le,"appdata",se)),binding_callbacks.push(()=>bind$1(le,"app",re)),{c(){r=element("div"),create_component(p.$$.fragment),v=space(),create_component(k.$$.fragment),x=space(),S=element("div"),L=element("div"),create_component(I.$$.fragment),O=space(),create_component(F.$$.fragment),U=space(),create_component(R.$$.fragment),N=space(),j=element("div"),q=space(),create_component(H.$$.fragment),Q=space(),create_component(V.$$.fragment),K=space(),G=element("div"),create_component(Y.$$.fragment),J=space(),create_component(Z.$$.fragment),X=space(),create_component(ee.$$.fragment),te=space(),create_component(le.$$.fragment),attr(j,"class","sep"),attr(L,"class","group"),attr(G,"class","group"),attr(S,"class","right"),attr(r,"class","topbar")},m(ne,ce){insert(ne,r,ce),mount_component(p,r,null),append(r,v),mount_component(k,r,null),append(r,x),append(r,S),append(S,L),mount_component(I,L,null),append(L,O),mount_component(F,L,null),append(L,U),mount_component(R,L,null),append(L,N),append(L,j),append(L,q),mount_component(H,L,null),append(L,Q),mount_component(V,L,null),append(S,K),append(S,G),mount_component(Y,G,null),append(G,J),mount_component(Z,G,null),append(G,X),mount_component(ee,G,null),append(S,te),mount_component(le,S,null),oe=!0},p(ne,[ce]){const de={};!ue&&ce&1&&(ue=!0,de.appdata=ne[0],add_flush_callback(()=>ue=!1)),!ae&&ce&2&&(ae=!0,de.app=ne[1],add_flush_callback(()=>ae=!1)),le.$set(de)},i(ne){oe||(transition_in(p.$$.fragment,ne),transition_in(k.$$.fragment,ne),transition_in(I.$$.fragment,ne),transition_in(F.$$.fragment,ne),transition_in(R.$$.fragment,ne),transition_in(H.$$.fragment,ne),transition_in(V.$$.fragment,ne),transition_in(Y.$$.fragment,ne),transition_in(Z.$$.fragment,ne),transition_in(ee.$$.fragment,ne),transition_in(le.$$.fragment,ne),oe=!0)},o(ne){transition_out(p.$$.fragment,ne),transition_out(k.$$.fragment,ne),transition_out(I.$$.fragment,ne),transition_out(F.$$.fragment,ne),transition_out(R.$$.fragment,ne),transition_out(H.$$.fragment,ne),transition_out(V.$$.fragment,ne),transition_out(Y.$$.fragment,ne),transition_out(Z.$$.fragment,ne),transition_out(ee.$$.fragment,ne),transition_out(le.$$.fragment,ne),oe=!1},d(ne){ne&&detach(r),destroy_component(p),destroy_component(k),destroy_component(I),destroy_component(F),destroy_component(R),destroy_component(H),destroy_component(V),destroy_component(Y),destroy_component(Z),destroy_component(ee),destroy_component(le)}}}function instance$35($,r,p){let{appdata:v}=r,{app:k}=r;function x(L){v=L,p(0,v)}function S(L){k=L,p(1,k)}return $.$$set=L=>{"appdata"in L&&p(0,v=L.appdata),"app"in L&&p(1,k=L.app)},[v,k,x,S]}let TopBar$2=class extends SvelteComponent{constructor(r){super(),init(this,r,instance$35,create_fragment$3n,safe_not_equal,{appdata:0,app:1})}};function create_if_block$1j($){let r,p,v=($[1]||"./")+"",k,x,S,L=$[0].name+"",I,O,F,U,R=$[0].files.length+"",N,j,q,H,Q=$[0].directories.length+"",V,K;return{c(){r=element("div"),p=element("div"),k=text(v),x=space(),S=element("div"),I=text(L),O=space(),F=element("div"),U=element("div"),N=text(R),j=text(" Files"),q=space(),H=element("div"),V=text(Q),K=text(" Folders"),attr(p,"class","section"),attr(S,"class","section"),attr(U,"class","section"),attr(H,"class","section"),attr(F,"class","right"),attr(r,"class","bottom")},m(G,Y){insert(G,r,Y),append(r,p),append(p,k),append(r,x),append(r,S),append(S,I),append(r,O),append(r,F),append(F,U),append(U,N),append(U,j),append(F,q),append(F,H),append(H,V),append(H,K)},p(G,Y){Y&2&&v!==(v=(G[1]||"./")+"")&&set_data(k,v),Y&1&&L!==(L=G[0].name+"")&&set_data(I,L),Y&1&&R!==(R=G[0].files.length+"")&&set_data(N,R),Y&1&&Q!==(Q=G[0].directories.length+"")&&set_data(V,Q)},d(G){G&&detach(r)}}}function create_fragment$3m($){let r,p=$[0]&&create_if_block$1j($);return{c(){p&&p.c(),r=empty()},m(v,k){p&&p.m(v,k),insert(v,r,k)},p(v,[k]){v[0]?p?p.p(v,k):(p=create_if_block$1j(v),p.c(),p.m(r.parentNode,r)):p&&(p.d(1),p=null)},i:noop$1,o:noop$1,d(v){p&&p.d(v),v&&detach(r)}}}function instance$34($,r,p){let v,k;return component_subscribe($,FileBrowserDirContents,x=>p(0,v=x)),component_subscribe($,FileBrowserCurrentDir,x=>p(1,k=x)),[v,k]}let Bottom$2=class extends SvelteComponent{constructor(r){super(),init(this,r,instance$34,create_fragment$3m,safe_not_equal,{})}};function create_else_block$q($){let r,p;return r=new ListView({props:{files:$[2],dirs:$[3]}}),{c(){create_component(r.$$.fragment)},m(v,k){mount_component(r,v,k),p=!0},p(v,k){const x={};k&4&&(x.files=v[2]),k&8&&(x.dirs=v[3]),r.$set(x)},i(v){p||(transition_in(r.$$.fragment,v),p=!0)},o(v){transition_out(r.$$.fragment,v),p=!1},d(v){destroy_component(r,v)}}}function create_if_block$1i($){let r,p;return r=new TileView({props:{files:$[2],dirs:$[3]}}),{c(){create_component(r.$$.fragment)},m(v,k){mount_component(r,v,k),p=!0},p(v,k){const x={};k&4&&(x.files=v[2]),k&8&&(x.dirs=v[3]),r.$set(x)},i(v){p||(transition_in(r.$$.fragment,v),p=!0)},o(v){transition_out(r.$$.fragment,v),p=!1},d(v){destroy_component(r,v)}}}function create_fragment$3l($){let r,p,v,k,x,S,L,I,O,F,U;function R(Q){$[5](Q)}let N={app:$[1]};$[0]!==void 0&&(N.appdata=$[0]),r=new TopBar$2({props:N}),binding_callbacks.push(()=>bind$1(r,"appdata",R)),k=new SideBar$3({});const j=[create_if_block$1i,create_else_block$q],q=[];function H(Q,V){return Q[4]?0:1}return L=H($),I=q[L]=j[L]($),F=new Bottom$2({}),{c(){create_component(r.$$.fragment),v=space(),create_component(k.$$.fragment),x=space(),S=element("div"),I.c(),O=space(),create_component(F.$$.fragment),attr(S,"class","content")},m(Q,V){mount_component(r,Q,V),insert(Q,v,V),mount_component(k,Q,V),insert(Q,x,V),insert(Q,S,V),q[L].m(S,null),insert(Q,O,V),mount_component(F,Q,V),U=!0},p(Q,[V]){const K={};V&2&&(K.app=Q[1]),!p&&V&1&&(p=!0,K.appdata=Q[0],add_flush_callback(()=>p=!1)),r.$set(K);let G=L;L=H(Q),L===G?q[L].p(Q,V):(group_outros(),transition_out(q[G],1,1,()=>{q[G]=null}),check_outros(),I=q[L],I?I.p(Q,V):(I=q[L]=j[L](Q),I.c()),transition_in(I,1),I.m(S,null))},i(Q){U||(transition_in(r.$$.fragment,Q),transition_in(k.$$.fragment,Q),transition_in(I),transition_in(F.$$.fragment,Q),U=!0)},o(Q){transition_out(r.$$.fragment,Q),transition_out(k.$$.fragment,Q),transition_out(I),transition_out(F.$$.fragment,Q),U=!1},d(Q){destroy_component(r,Q),Q&&detach(v),destroy_component(k,Q),Q&&detach(x),Q&&detach(S),q[L].d(),Q&&detach(O),destroy_component(F,Q)}}}function instance$33($,r,p){let v;component_subscribe($,FileBrowserDirContents,F=>p(6,v=F));let k=[],x=[],S=!1,{app:L}=r,{appdata:I}=r;UserData.subscribe(()=>{p(4,S=I.tiled)}),onMount(async()=>{await fbClass.refresh();const F=v||defaultDirectory;p(2,k=F.files),p(3,x=F.directories)}),FileBrowserDirContents.subscribe(F=>{p(3,x=F.directories),p(2,k=F.files)});function O(F){I=F,p(0,I)}return $.$$set=F=>{"app"in F&&p(1,L=F.app),"appdata"in F&&p(0,I=F.appdata)},[I,L,k,x,S,O]}class FileBrowser extends SvelteComponent{constructor(r){super(),init(this,r,instance$33,create_fragment$3l,safe_not_equal,{app:1,appdata:0})}}const SEP_ITEM={sep:!0},validCallerTags=["button","div","span","p","h1","h2","h3","h4","h5","img"];function composePosition($,r,p){const v=document.querySelectorAll("div.app > div.desktop")[0];if(!v)return;const k=v.offsetWidth,x=v.offsetHeight;let S=$.clientX,L=$.clientY;return S+r>k&&(S=k-r),L+p>x&&(L=x-p),S<0&&(S=0),L<0&&(L=0),[S,L]}function getCallerScope($){const r=$.composedPath();for(let p=0;p<r.length;p++){const v=r[p].tagName;if(!v)continue;const k=r[p].dataset.caller;if(validCallerTags.includes(v.toLowerCase())&&k)return r[p]}return null}function getContextEntry($,r){const p=getWindow($);if(!p||!p.contextMenu)return!1;const v=Object.entries(p.contextMenu);for(let k=0;k<v.length;k++)if(r.includes(v[k][0]))return v[k][1];return!1}const FileManagerContextMenu={"listitem-dir":[{icon:"launch",caption:"Open",action:($,r)=>{const p=r.path;p&&fbClass.goToDirectory(p)}},{icon:"drive_file_rename_outline",caption:"Rename",action:($,r)=>{FileBrowserSelectedFilename.set(r.name),showOverlay("renameItem","FileManager")}},{icon:"content_copy",caption:"Copy",action:($,r)=>{FileBrowserSelectedFilename.set(r.name),FileBrowserCopyingFilename.set({name:r.name,scopedPath:`${r.path}`})}},{icon:"content_cut",caption:"Cut",action:($,r)=>{FileBrowserSelectedFilename.set(r.name),FileBrowserCuttingFilename.set({name:r.name,scopedPath:`${r.path}`})}}],"listitem-file":[{caption:"Delete",action:($,r)=>{createOverlayableError({title:"Delete item?",message:`Are you sure you want to permanently delete ${r.name}?`,buttons:[{caption:"Delete",action:async()=>{fbClass.deleteItem(r.name,r.path)}},{caption:"Cancel",action(){}}],image:clear$1},"FileManager")}}]},mutator="";function create_fragment$3k($){let r,p,v,k,x,S,L,I,O,F,U,R,N,j,q,H,Q,V;return{c(){r=element("div"),p=element("div"),v=element("img"),x=space(),S=element("div"),L=element("p"),L.textContent="Enter a name for the new file:",I=space(),O=element("input"),F=space(),U=element("div"),R=element("div"),N=element("button"),j=text("Create"),q=space(),H=element("button"),H.textContent="Cancel",src_url_equal(v.src,k=$[1]||fileIcon)||attr(v,"src",k),attr(v,"alt",""),attr(p,"class","image"),attr(O,"type","text"),N.disabled=$[2],attr(R,"class","inner"),attr(U,"class","actions"),attr(r,"class","fb-overlay-mutator-wrapper")},m(K,G){insert(K,r,G),append(r,p),append(p,v),append(r,x),append(r,S),append(S,L),append(S,I),append(S,O),set_input_value(O,$[0]),append(S,F),append(S,U),append(U,R),append(R,N),append(N,j),append(R,q),append(R,H),Q||(V=[listen(O,"input",$[6]),listen(O,"input",$[3]),listen(N,"click",$[4]),listen(H,"click",$[5])],Q=!0)},p(K,[G]){G&2&&!src_url_equal(v.src,k=K[1]||fileIcon)&&attr(v,"src",k),G&1&&O.value!==K[0]&&set_input_value(O,K[0]),G&4&&(N.disabled=K[2])},i:noop$1,o:noop$1,d(K){K&&detach(r),Q=!1,run_all(V)}}}function instance$32($,r,p){let v,k;component_subscribe($,FileBrowserCurrentDir,R=>p(7,v=R)),component_subscribe($,FileBrowserDirContents,R=>p(8,k=R));let x="",S="",L=!1;function I(){const R=k.directories,N=k.files;for(let j=0;j<R.length;j++)if(R[j].name==x)return p(2,L=!0);for(let j=0;j<N.length;j++)if(N[j].filename==x)return p(2,L=!0);p(2,L=!1),p(1,S=getMimeIcon(x)||fileIcon)}async function O(){await writeFile(`${v}/${x}`,new Blob([])),FileBrowserSelectedFilename.set(x),F(),fbClass.refresh()}function F(){hideOverlay("createFile","FileManager"),p(0,x="")}function U(){x=this.value,p(0,x)}return[x,S,L,I,O,F,U]}class CreateFile extends SvelteComponent{constructor(r){super(),init(this,r,instance$32,create_fragment$3k,safe_not_equal,{})}}function create_fragment$3j($){let r,p,v,k,x,S,L,I,O,F,U,R,N,j,q,H,Q,V;return{c(){r=element("div"),p=element("div"),v=element("img"),x=space(),S=element("div"),L=element("p"),L.textContent="Enter a name for the new folder:",I=space(),O=element("input"),F=space(),U=element("div"),R=element("div"),N=element("button"),j=text("Create"),q=space(),H=element("button"),H.textContent="Cancel",src_url_equal(v.src,k=folder)||attr(v,"src",k),attr(v,"alt",""),attr(p,"class","image"),attr(O,"type","text"),N.disabled=$[1],attr(R,"class","inner"),attr(U,"class","actions"),attr(r,"class","fb-overlay-mutator-wrapper")},m(K,G){insert(K,r,G),append(r,p),append(p,v),append(r,x),append(r,S),append(S,L),append(S,I),append(S,O),set_input_value(O,$[0]),append(S,F),append(S,U),append(U,R),append(R,N),append(N,j),append(R,q),append(R,H),Q||(V=[listen(O,"input",$[5]),listen(O,"input",$[2]),listen(N,"click",$[3]),listen(H,"click",$[4])],Q=!0)},p(K,[G]){G&1&&O.value!==K[0]&&set_input_value(O,K[0]),G&2&&(N.disabled=K[1])},i:noop$1,o:noop$1,d(K){K&&detach(r),Q=!1,run_all(V)}}}function instance$31($,r,p){let v,k;component_subscribe($,FileBrowserCurrentDir,U=>p(6,v=U)),component_subscribe($,FileBrowserDirContents,U=>p(7,k=U));let x="",S=!1;function L(){const U=k.directories,R=k.files;for(let N=0;N<U.length;N++)if(U[N].name==x)return p(1,S=!0);for(let N=0;N<R.length;N++)if(R[N].filename==x)return p(1,S=!0);p(1,S=!1)}async function I(){await createDirectory(`${v}/${x}`),FileBrowserSelectedFilename.set(x),O(),fbClass.refresh()}function O(){hideOverlay("createFolder","FileManager"),p(0,x="")}function F(){x=this.value,p(0,x)}return[x,S,L,I,O,F]}class CreateFolder extends SvelteComponent{constructor(r){super(),init(this,r,instance$31,create_fragment$3j,safe_not_equal,{})}}const deletingfile="";function create_fragment$3i($){let r,p,v,k,x,S,L,I,O,F,U,R,N;return R=new Spinner({props:{height:30}}),{c(){r=element("div"),p=element("div"),v=element("img"),x=space(),S=element("div"),L=text("Deleting "),I=text($[0]),O=text("..."),F=space(),U=element("div"),create_component(R.$$.fragment),src_url_equal(v.src,k=clear$1)||attr(v,"src",k),attr(v,"alt",""),attr(p,"class","icon"),attr(S,"class","caption"),attr(U,"class","spin"),attr(r,"class","deletingfile-wrapper")},m(j,q){insert(j,r,q),append(r,p),append(p,v),append(r,x),append(r,S),append(S,L),append(S,I),append(S,O),append(r,F),append(r,U),mount_component(R,U,null),N=!0},p(j,[q]){(!N||q&1)&&set_data(I,j[0])},i(j){N||(transition_in(R.$$.fragment,j),N=!0)},o(j){transition_out(R.$$.fragment,j),N=!1},d(j){j&&detach(r),destroy_component(R)}}}function instance$30($,r,p){let v;return component_subscribe($,FileBrowserDeletingFilename,k=>p(0,v=k)),[v]}class DeletingItem extends SvelteComponent{constructor(r){super(),init(this,r,instance$30,create_fragment$3i,safe_not_equal,{})}}const openingfile="",icon$1=""+new URL("memory-802c404d.svg",import.meta.url).href;function create_if_block$1h($){let r,p,v,k,x,S,L,I=$[0].filename+"",O,F,U,R,N,j,q,H,Q,V,K,G=$[0].filename+"",Y,J,Z,X,ee,te,le=$[0].filename+"",ue,ae,oe,se,re,ie,ne=$[0].mime+"",ce,de,fe,pe,_e,he,Ae=formatBytes($[0].size)+"",$e,ke;return N=new Spinner({props:{height:30}}),{c(){r=element("div"),p=element("div"),v=element("img"),x=space(),S=element("div"),L=text("Downloading "),O=text(I),F=text(" to RAM..."),U=space(),R=element("div"),create_component(N.$$.fragment),j=space(),q=element("table"),H=element("tr"),Q=element("td"),Q.textContent="Name",V=space(),K=element("td"),Y=text(G),J=space(),Z=element("tr"),X=element("td"),X.textContent="Path",ee=space(),te=element("td"),ue=text(le),ae=space(),oe=element("tr"),se=element("td"),se.textContent="Mimetype",re=space(),ie=element("td"),ce=text(ne),de=space(),fe=element("tr"),pe=element("td"),pe.textContent="Size",_e=space(),he=element("td"),$e=text(Ae),src_url_equal(v.src,k=icon$1)||attr(v,"src",k),attr(v,"alt",""),attr(p,"class","icon"),attr(S,"class","caption"),attr(R,"class","spin"),attr(r,"class","openingfile-wrapper"),attr(Q,"class","key"),attr(X,"class","key"),attr(se,"class","key"),attr(pe,"class","key"),attr(q,"class","openfile-details")},m(ve,be){insert(ve,r,be),append(r,p),append(p,v),append(r,x),append(r,S),append(S,L),append(S,O),append(S,F),append(r,U),append(r,R),mount_component(N,R,null),insert(ve,j,be),insert(ve,q,be),append(q,H),append(H,Q),append(H,V),append(H,K),append(K,Y),append(q,J),append(q,Z),append(Z,X),append(Z,ee),append(Z,te),append(te,ue),append(q,ae),append(q,oe),append(oe,se),append(oe,re),append(oe,ie),append(ie,ce),append(q,de),append(q,fe),append(fe,pe),append(fe,_e),append(fe,he),append(he,$e),ke=!0},p(ve,be){(!ke||be&1)&&I!==(I=ve[0].filename+"")&&set_data(O,I),(!ke||be&1)&&G!==(G=ve[0].filename+"")&&set_data(Y,G),(!ke||be&1)&&le!==(le=ve[0].filename+"")&&set_data(ue,le),(!ke||be&1)&&ne!==(ne=ve[0].mime+"")&&set_data(ce,ne),(!ke||be&1)&&Ae!==(Ae=formatBytes(ve[0].size)+"")&&set_data($e,Ae)},i(ve){ke||(transition_in(N.$$.fragment,ve),ke=!0)},o(ve){transition_out(N.$$.fragment,ve),ke=!1},d(ve){ve&&detach(r),destroy_component(N),ve&&detach(j),ve&&detach(q)}}}function create_fragment$3h($){let r,p,v,k,x,S=$[0]&&create_if_block$1h($);return{c(){S&&S.c(),r=space(),p=element("button"),p.textContent="Cancel",attr(p,"class","cancel")},m(L,I){S&&S.m(L,I),insert(L,r,I),insert(L,p,I),v=!0,k||(x=listen(p,"click",$[1]),k=!0)},p(L,[I]){L[0]?S?(S.p(L,I),I&1&&transition_in(S,1)):(S=create_if_block$1h(L),S.c(),transition_in(S,1),S.m(r.parentNode,r)):S&&(group_outros(),transition_out(S,1,1,()=>{S=null}),check_outros())},i(L){v||(transition_in(S),v=!0)},o(L){transition_out(S),v=!1},d(L){S&&S.d(L),L&&detach(r),L&&detach(p),k=!1,x()}}}function instance$2$($,r,p){let v;component_subscribe($,FileBrowserOpeningFile,x=>p(0,v=x));function k(){abortFileReader.set(!0),hideOverlay("openingFile","FileManager")}return[v,k]}class OpeningFile extends SvelteComponent{constructor(r){super(),init(this,r,instance$2$,create_fragment$3h,safe_not_equal,{})}}function create_fragment$3g($){let r,p,v,k,x,S,L,I,O,F,U,R,N,j,q,H,Q,V,K,G,Y,J;return{c(){r=element("div"),p=element("div"),v=element("img"),x=space(),S=element("div"),L=element("p"),I=text("Enter a new name for "),O=text($[4]),F=text(":"),U=space(),R=element("input"),N=space(),j=element("div"),q=element("div"),H=element("button"),Q=text("Rename"),K=space(),G=element("button"),G.textContent="Cancel",src_url_equal(v.src,k=$[2]?folder:$[1])||attr(v,"src",k),attr(v,"alt",""),attr(p,"class","image"),attr(R,"type","text"),attr(R,"placeholder",$[4]),H.disabled=V=$[3]||!$[0],attr(q,"class","inner"),attr(j,"class","actions"),attr(r,"class","fb-overlay-mutator-wrapper")},m(Z,X){insert(Z,r,X),append(r,p),append(p,v),append(r,x),append(r,S),append(S,L),append(L,I),append(L,O),append(L,F),append(S,U),append(S,R),set_input_value(R,$[0]),append(S,N),append(S,j),append(j,q),append(q,H),append(H,Q),append(q,K),append(q,G),Y||(J=[listen(R,"input",$[8]),listen(R,"input",$[5]),listen(H,"click",$[6]),listen(G,"click",$[7])],Y=!0)},p(Z,[X]){X&6&&!src_url_equal(v.src,k=Z[2]?folder:Z[1])&&attr(v,"src",k),X&16&&set_data(O,Z[4]),X&16&&attr(R,"placeholder",Z[4]),X&1&&R.value!==Z[0]&&set_input_value(R,Z[0]),X&9&&V!==(V=Z[3]||!Z[0])&&(H.disabled=V)},i:noop$1,o:noop$1,d(Z){Z&&detach(r),Y=!1,run_all(J)}}}function instance$2_($,r,p){let v,k,x;component_subscribe($,FileBrowserCurrentDir,q=>p(9,v=q)),component_subscribe($,FileBrowserSelectedFilename,q=>p(4,k=q)),component_subscribe($,FileBrowserDirContents,q=>p(10,x=q));let S="",L="",I=!1,O=!1;function F(){const q=x.directories,H=x.files;p(2,I=U());for(let Q=0;Q<q.length;Q++)q[Q].name==v&&p(2,I=!0);for(let Q=0;Q<H.length;Q++)if(H[Q].filename==S)return p(3,O=!0);p(3,O=!1)}FileBrowserSelectedFilename.subscribe(q=>{q&&(p(2,I=U()),p(1,L=getMimeIcon(q)))});function U(){const q=x.directories;for(let H=0;H<q.length;H++)if(q[H].name==k)return!0;return!1}async function R(){await renameItem(`${v}/${k}`,`${v}/${S}`),FileBrowserSelectedFilename.set(S),N(),p(0,S=""),fbClass.refresh()}function N(){hideOverlay("renameItem","FileManager")}function j(){S=this.value,p(0,S)}return[S,L,I,O,k,F,R,N,j]}class RenameItem extends SvelteComponent{constructor(r){super(),init(this,r,instance$2_,create_fragment$3g,safe_not_equal,{})}}const uploadingfile="";function create_if_block$1g($){let r,p,v,k,x,S,L,I=$[0].name+"",O,F,U,R,N,j,q,H,Q=$[1].toFixed(0)+"",V,K,G,Y,J,Z,X,ee,te=$[0].path+"",le,ue,ae,oe,se,re,ie=$[0].mime+"",ne,ce,de,fe,pe,_e;return{c(){r=element("div"),p=element("div"),v=element("img"),x=space(),S=element("div"),L=text("Uploading "),O=text(I),F=text("..."),U=space(),R=element("div"),N=element("div"),j=element("div"),q=space(),H=element("div"),V=text(Q),K=text("%"),G=space(),Y=element("table"),J=element("tr"),Z=element("td"),Z.textContent="Path",X=space(),ee=element("td"),le=text(te),ue=space(),ae=element("tr"),oe=element("td"),oe.textContent="Type",se=space(),re=element("td"),ne=text(ie),ce=space(),de=element("tr"),fe=element("td"),fe.textContent="Target",pe=space(),_e=element("td"),_e.textContent=`${getServer()}`,src_url_equal(v.src,k=icon$2)||attr(v,"src",k),attr(v,"alt",""),attr(p,"class","icon"),attr(S,"class","caption"),attr(r,"class","uploadingfile-wrapper"),attr(j,"class","inner"),set_style(j,"width",Math.floor($[1])+"%"),attr(N,"class","progress"),attr(H,"class","percentage"),attr(R,"class","progress-wrapper"),attr(Z,"class","key"),attr(oe,"class","key"),attr(fe,"class","key"),attr(Y,"class","openfile-details")},m(he,Ae){insert(he,r,Ae),append(r,p),append(p,v),append(r,x),append(r,S),append(S,L),append(S,O),append(S,F),insert(he,U,Ae),insert(he,R,Ae),append(R,N),append(N,j),append(R,q),append(R,H),append(H,V),append(H,K),insert(he,G,Ae),insert(he,Y,Ae),append(Y,J),append(J,Z),append(J,X),append(J,ee),append(ee,le),append(Y,ue),append(Y,ae),append(ae,oe),append(ae,se),append(ae,re),append(re,ne),append(Y,ce),append(Y,de),append(de,fe),append(de,pe),append(de,_e)},p(he,Ae){Ae&1&&I!==(I=he[0].name+"")&&set_data(O,I),Ae&2&&set_style(j,"width",Math.floor(he[1])+"%"),Ae&2&&Q!==(Q=he[1].toFixed(0)+"")&&set_data(V,Q),Ae&1&&te!==(te=he[0].path+"")&&set_data(le,te),Ae&1&&ie!==(ie=he[0].mime+"")&&set_data(ne,ie)},d(he){he&&detach(r),he&&detach(U),he&&detach(R),he&&detach(G),he&&detach(Y)}}}function create_fragment$3f($){let r,p=$[0]&&create_if_block$1g($);return{c(){p&&p.c(),r=empty()},m(v,k){p&&p.m(v,k),insert(v,r,k)},p(v,[k]){v[0]?p?p.p(v,k):(p=create_if_block$1g(v),p.c(),p.m(r.parentNode,r)):p&&(p.d(1),p=null)},i:noop$1,o:noop$1,d(v){p&&p.d(v),v&&detach(r)}}}function instance$2Z($,r,p){let v,k;return component_subscribe($,FileBrowserUploadFile,x=>p(0,v=x)),component_subscribe($,FileBrowserUploadProgress,x=>p(1,k=x)),[v,k]}class UploadingFile extends SvelteComponent{constructor(r){super(),init(this,r,instance$2Z,create_fragment$3f,safe_not_equal,{})}}const fbOverlays={openingFile:{info:{name:"Opening File",version:"1.0.0",author:"ArcOS Team"},content:OpeningFile,size:{w:430,h:165},show:!1},deletingItem:{info:{name:"Deleting Item",version:"1.0.0",author:"ArcOS Team"},content:DeletingItem,size:{w:430,h:75},show:!1},createFolder:{info:{name:"Create Folder",version:"1.0.0",author:"ArcOS Team"},content:CreateFolder,size:{w:350,h:115},show:!1},createFile:{info:{name:"Create File",version:"1.0.0",author:"ArcOS Team"},content:CreateFile,size:{w:350,h:115},show:!1},uploadingFile:{info:{name:"Uploading File",version:"1.0.0",author:"ArcOS Team"},content:UploadingFile,size:{w:430,h:175},show:!1},renameItem:{info:{name:"Rename Item",version:"1.0.0",author:"ArcOS Team"},content:RenameItem,size:{w:350,h:115},show:!1}},FileBrowserApp={info:{name:"File Manager",description:"Browse your files",builtin:!0,version:"2.5.1",author:"ArcOS Team",icon:fileManager},size:{w:700,h:450},pos:{x:30,y:40},minSize:{w:700,h:450},maxSize:{w:1e3,h:600},controls:{min:!0,max:!0,cls:!0},state:{headless:!1,resizable:!0,windowState:{min:!1,max:!1,fll:!1}},content:FileBrowser,glass:!0,overlays:fbOverlays,contextMenu:FileManagerContextMenu},logo$7=""+new URL("helpcenter-dc574bdf.svg",import.meta.url).href,HelpCenter$2="";function create_if_block$1f($){let r,p=$[0].title+"",v,k,x;return{c(){r=element("button"),v=text(p),attr(r,"class","redirect")},m(S,L){insert(S,r,L),append(r,v),k||(x=listen(r,"click",$[1]),k=!0)},p(S,L){L&1&&p!==(p=S[0].title+"")&&set_data(v,p)},d(S){S&&detach(r),k=!1,x()}}}function create_fragment$3e($){let r,p=$[0]&&create_if_block$1f($);return{c(){p&&p.c(),r=empty()},m(v,k){p&&p.m(v,k),insert(v,r,k)},p(v,[k]){v[0]?p?p.p(v,k):(p=create_if_block$1f(v),p.c(),p.m(r.parentNode,r)):p&&(p.d(1),p=null)},i:noop$1,o:noop$1,d(v){p&&p.d(v),v&&detach(r)}}}function instance$2Y($,r,p){let{id:v}=r,k;onMount(()=>{p(0,k=helpCenterArticles[v])});function x(){currentArticle.set(v)}return $.$$set=S=>{"id"in S&&p(2,v=S.id)},[k,x,v]}class Redirect extends SvelteComponent{constructor(r){super(),init(this,r,instance$2Y,create_fragment$3e,safe_not_equal,{id:2})}}function create_fragment$3d($){let r,p,v,k,x,S,L,I,O,F,U,R,N,j;return x=new Redirect({props:{id:"personalization"}}),L=new Redirect({props:{id:"arctermConfiguration"}}),O=new Redirect({props:{id:"appsTurnOnAndOff"}}),N=new Redirect({props:{id:"homePageChanges"}}),{c(){r=element("h1"),r.textContent="ArcOS Help Center",p=space(),v=element("p"),v.textContent=`Welcome to the ArcOS help center. Got a question or a problem to solve?
  There's a good chance that the information you're looking for already happens
  to be in this very app. Perhaps one of these common articles can help you out?`,k=space(),create_component(x.$$.fragment),S=space(),create_component(L.$$.fragment),I=space(),create_component(O.$$.fragment),F=space(),U=element("hr"),R=space(),create_component(N.$$.fragment)},m(q,H){insert(q,r,H),insert(q,p,H),insert(q,v,H),insert(q,k,H),mount_component(x,q,H),insert(q,S,H),mount_component(L,q,H),insert(q,I,H),mount_component(O,q,H),insert(q,F,H),insert(q,U,H),insert(q,R,H),mount_component(N,q,H),j=!0},p:noop$1,i(q){j||(transition_in(x.$$.fragment,q),transition_in(L.$$.fragment,q),transition_in(O.$$.fragment,q),transition_in(N.$$.fragment,q),j=!0)},o(q){transition_out(x.$$.fragment,q),transition_out(L.$$.fragment,q),transition_out(O.$$.fragment,q),transition_out(N.$$.fragment,q),j=!1},d(q){q&&detach(r),q&&detach(p),q&&detach(v),q&&detach(k),destroy_component(x,q),q&&detach(S),destroy_component(L,q),q&&detach(I),destroy_component(O,q),q&&detach(F),q&&detach(U),q&&detach(R),destroy_component(N,q)}}}class HomePage extends SvelteComponent{constructor(r){super(),init(this,r,null,create_fragment$3d,safe_not_equal,{})}}function create_fragment$3c($){let r,p,v;return{c(){r=element("h1"),r.textContent="Not implemented",p=space(),v=element("p"),v.textContent="This article has not yet been written. Sorry about that."},m(k,x){insert(k,r,x),insert(k,p,x),insert(k,v,x)},p:noop$1,i:noop$1,o:noop$1,d(k){k&&detach(r),k&&detach(p),k&&detach(v)}}}class NotImplemented extends SvelteComponent{constructor(r){super(),init(this,r,null,create_fragment$3c,safe_not_equal,{})}}function create_fragment$3b($){let r,p,v,k,x,S,L,I,O,F,U,R,N,j,q,H,Q,V,K,G;return U=new Redirect({props:{id:"personalizationShell"}}),K=new Redirect({props:{id:"personalizationDesktop"}}),{c(){r=element("h1"),r.textContent="Personalization",p=space(),v=element("p"),v.textContent=`One of the key things we care about in ArcOS is customization; the ability to
  change every aspect of your desktop precisely how you like it. I like to think
  we did a pretty good job, with a ton of options and things to tweak.`,k=space(),x=element("p"),x.textContent=`In this help center article, you will learn what customization options there
  are, and more.`,S=space(),L=element("h2"),L.textContent="The shell",I=space(),O=element("p"),O.innerHTML=`The shell is <b>the Taskbar</b>, <b>Start Menu</b>, <b>Action Center</b> and
  <b>ArcFind</b>. It too can be customized. You can customize the shell by going
  to the Shell page in Settings. From there you can change the behaviour of
  every component of the shell.`,F=space(),create_component(U.$$.fragment),R=space(),N=element("h2"),N.textContent="Desktop",j=space(),q=element("p"),q.textContent=`The very first thing you see every time you log in. On the desktop you'll find
  your desktop icons and the wallpaper. The wallpaper can be changed using
  either a built-in wallpaper or a custom one via URL or ArcFS file.`,H=space(),Q=element("p"),Q.textContent=`Do you want to save your current options? Good news, you can! On the
  Appearance page of the Settings app, you can click on the save icon to save
  your current appearance as a theme so that you can easily switch between
  different styles.`,V=space(),create_component(K.$$.fragment)},m(Y,J){insert(Y,r,J),insert(Y,p,J),insert(Y,v,J),insert(Y,k,J),insert(Y,x,J),insert(Y,S,J),insert(Y,L,J),insert(Y,I,J),insert(Y,O,J),insert(Y,F,J),mount_component(U,Y,J),insert(Y,R,J),insert(Y,N,J),insert(Y,j,J),insert(Y,q,J),insert(Y,H,J),insert(Y,Q,J),insert(Y,V,J),mount_component(K,Y,J),G=!0},p:noop$1,i(Y){G||(transition_in(U.$$.fragment,Y),transition_in(K.$$.fragment,Y),G=!0)},o(Y){transition_out(U.$$.fragment,Y),transition_out(K.$$.fragment,Y),G=!1},d(Y){Y&&detach(r),Y&&detach(p),Y&&detach(v),Y&&detach(k),Y&&detach(x),Y&&detach(S),Y&&detach(L),Y&&detach(I),Y&&detach(O),Y&&detach(F),destroy_component(U,Y),Y&&detach(R),Y&&detach(N),Y&&detach(j),Y&&detach(q),Y&&detach(H),Y&&detach(Q),Y&&detach(V),destroy_component(K,Y)}}}let Personalization$1=class extends SvelteComponent{constructor(r){super(),init(this,r,null,create_fragment$3b,safe_not_equal,{})}};const desktop$2={personalizationDesktop:{title:"Desktop",authors:["Izaak Kuipers"],content:NotImplemented,parentId:"personalization"},personalizationDesktopThemes:{title:"Themes",authors:["Izaak Kuipers"],content:NotImplemented,parentId:"personalizationDesktop"},personalizationDesktopCustomWallpapers:{title:"Wallpapers",authors:["Izaak Kuipers"],content:NotImplemented,parentId:"personalizationDesktop"}},shell={personalizationShell:{title:"Shell",authors:["Izaak Kuipers"],content:NotImplemented,parentId:"personalization"},personalizationShellColoring:{title:"Coloring",authors:["Izaak Kuipers"],content:NotImplemented,parentId:"personalizationShell"},personalizationShellTaskbar:{title:"Taskbar",authors:["Izaak Kuipers"],content:NotImplemented,parentId:"personalizationShell"},personalizationShellStartMenu:{title:"Start Menu",authors:["Izaak Kuipers"],content:NotImplemented,parentId:"personalizationShell"},personalizationShellActionCenter:{title:"Action Center",authors:["Izaak Kuipers"],content:NotImplemented,parentId:"personalizationShell"}},windows={personalizationWindows:{title:"Windows",authors:["Izaak Kuipers"],content:NotImplemented,parentId:"personalization"},personalizationWindowsTitlebar:{title:"Titlebar",authors:["Izaak Kuipers"],content:NotImplemented,parentId:"personalizationWindows"}},personalization={personalization:{title:"Personalization",content:Personalization$1,authors:["Izaak Kuipers"],sep:!0},personalizationPerformance:{title:"Performance",authors:["Izaak Kuipers"],content:NotImplemented,parentId:"personalization"},...shell,...desktop$2,...windows},actioncenter$1={actionCenter:{title:"Action Center",authors:["Izaak Kuipers"],content:NotImplemented,sep:!0},actionCenterNotifications:{title:"Notifications",authors:["Izaak Kuipers"],content:NotImplemented,parentId:"actionCenter"},actionCenterQuickActions:{title:"Quick Actions",authors:["Izaak Kuipers"],content:NotImplemented,parentId:"actionCenter"}},accounts={accounts:{title:"Accounts",authors:["Izaak Kuipers"],content:NotImplemented,sep:!0},accountsChangeCred:{title:"Changing my Credentials",authors:["Izaak Kuipers"],content:NotImplemented,parentId:"accounts"},accountsChangeProfile:{title:"Changing my Profile Picture",authors:["Izaak Kuipers"],content:NotImplemented,parentId:"accounts"},accountsDelete:{title:"Deleting my Account",authors:["Izaak Kuipers"],content:NotImplemented,parentId:"accounts"}},configuration={arctermConfiguration:{title:"Configuration",authors:["Izaak Kuipers"],content:NotImplemented,parentId:"arcterm"},arctermConfigurationPrompt:{title:"Prompt",authors:["Izaak Kuipers"],content:NotImplemented,parentId:"arctermConfiguration"},arctermConfigurationIntro:{title:"Intro",authors:["Izaak Kuipers"],content:NotImplemented,parentId:"arctermConfiguration"}},arcterm={arcterm:{title:"ArcTerm",authors:["Izaak Kuipers"],content:NotImplemented,sep:!0},...configuration,arctermMode:{title:"ArcTerm Mode",authors:["Izaak Kuipers"],content:NotImplemented,parentId:"arcterm"}},arcfs={arcfs:{title:"ArcFS",authors:["Izaak Kuipers"],content:NotImplemented,sep:!0},arcfsUploading:{title:"Uploading Files",authors:["Izaak Kuipers"],content:NotImplemented,parentId:"arcfs"},arcfsDownloading:{title:"Downloading Files",authors:["Izaak Kuipers"],content:NotImplemented,parentId:"arcfs"},arcfsOpenWith:{title:"Open With",authors:["Izaak Kuipers"],content:NotImplemented,parentId:"arcfs"},arcfsLimitations:{title:"Limitations",authors:["Izaak Kuipers"],content:NotImplemented,parentId:"arcfs"},arcfsQuota:{title:"ArcFS Quota",authors:["Izaak Kuipers"],content:NotImplemented,parentId:"arcfs"}},arcfind$1={arcfind:{title:"ArcFind",authors:["Izaak Kuipers"],content:NotImplemented,sep:!0},arcfindTypes:{title:"Types of Results",authors:["Izaak Kuipers"],content:NotImplemented,parentId:"arcfind"},arcfindInitialIndex:{title:"Initial Index",authors:["Izaak Kuipers"],content:NotImplemented,parentId:"arcfind"}},messaging$1={appsMessaging:{title:"Messaging",authors:["Izaak Kuipers"],content:NotImplemented,parentId:"apps"},appsMessagingSending:{title:"Sending",authors:["Izaak Kuipers"],content:NotImplemented,parentId:"appsMessaging"},appsMessagingReceiving:{title:"Receiving",authors:["Izaak Kuipers"],content:NotImplemented,parentId:"appsMessaging"},appsMessagingDeleting:{title:"Deleting",authors:["Izaak Kuipers"],content:NotImplemented,parentId:"appsMessaging"},appsMessagingReplies:{title:"Replies",authors:["Izaak Kuipers"],content:NotImplemented,parentId:"appsMessaging"},appsMessagingLimitations:{title:"Limitations",authors:["Izaak Kuipers"],content:NotImplemented,parentId:"appsMessaging"}},apps$1={apps:{title:"Apps",authors:["Izaak Kuipers"],content:NotImplemented,sep:!0},appsSystem:{title:"About System Apps",authors:["Izaak Kuipers"],content:NotImplemented,parentId:"apps"},appsTurnOnAndOff:{title:"Turn apps on and off",authors:["Izaak Kuipers"],content:NotImplemented,parentId:"apps"},...messaging$1},logging={logging:{title:"Logging",authors:["Izaak Kuipers"],content:NotImplemented},loggingTypes:{title:"Log Types",authors:["Izaak Kuipers"],content:NotImplemented,parentId:"logging"},loggingDevTools:{title:"Developer Tools",authors:["Izaak Kuipers"],content:NotImplemented,parentId:"logging"}};async function getLatestRelease(){try{return await(await fetch("https://api.github.com/repos/IzK-ArcOS/ArcOS-Frontend/releases/latest",{cache:"no-store"})).json()}catch{return null}}async function getLatestVersion(){const $=parseVersion(ArcOSVersion);try{const r=await getLatestRelease();if(!r)return $;const p=parseVersion(filterTagName(r.tag_name));return versionBigger(p,$)?p:$}catch{return $}}function parseVersion($){const r=$.replaceAll("v","").split(".");return console.log(r),[r[0],r[1],r[2]].map(p=>{try{return parseInt(p)}catch{return 0}})}function filterTagName($){return $.split("-")[0]}function versionBigger($,r){for(let p=0;p<$.length;p++)if($[p]>r[p])return!0;return!1}async function checkForUpdates(){const $=await getLatestVersion();if(versionBigger($,parseVersion(ArcOSVersion))){const r=`v${$.join(".")}`,p="https://github.com/IzK-ArcOS/ArcOS-Frontend/releases/latest";makeNotification({icon:"sync",title:"Updates available!",message:`ArcOS Desktop ${r} is available for download. Install it to get the latest features.`,buttons:[{caption:"Open",action:()=>window.open(p,"_blank")}]})}}function supressWarnings(){const $=console.warn;console.warn=r=>{r.includes("unknown prop")||r.includes("unexpected slot")||$(r)},onMount(()=>{console.warn=$})}function get_each_context_5($,r,p){const v=$.slice();return v[18]=r[p],v}function get_each_context_4($,r,p){const v=$.slice();return v[18]=r[p],v}function get_each_context_1$9($,r,p){const v=$.slice();return v[10]=r[p],v}function get_each_context_2$1($,r,p){const v=$.slice();return v[13]=r[p],v[15]=p,v}function get_each_context_3($,r,p){const v=$.slice();return v[16]=r[p],v[15]=p,v}function get_each_context$I($,r,p){const v=$.slice();return v[7]=r[p],v}function create_if_block_1$o($){let r,p,v,k;const x=[create_if_block_2$5,create_if_block_3$2,create_else_block_1],S=[];function L(I,O){return I[0]==="table"?0:I[0]==="list"?1:2}return r=L($),p=S[r]=x[r]($),{c(){p.c(),v=empty()},m(I,O){S[r].m(I,O),insert(I,v,O),k=!0},p(I,O){let F=r;r=L(I),r===F?S[r].p(I,O):(group_outros(),transition_out(S[F],1,1,()=>{S[F]=null}),check_outros(),p=S[r],p?p.p(I,O):(p=S[r]=x[r](I),p.c()),transition_in(p,1),p.m(v.parentNode,v))},i(I){k||(transition_in(p),k=!0)},o(I){transition_out(p),k=!1},d(I){S[r].d(I),I&&detach(v)}}}function create_if_block$1e($){let r,p,v=$[1],k=[];for(let S=0;S<v.length;S+=1)k[S]=create_each_block$I(get_each_context$I($,v,S));const x=S=>transition_out(k[S],1,1,()=>{k[S]=null});return{c(){for(let S=0;S<k.length;S+=1)k[S].c();r=empty()},m(S,L){for(let I=0;I<k.length;I+=1)k[I]&&k[I].m(S,L);insert(S,r,L),p=!0},p(S,L){if(L&34){v=S[1];let I;for(I=0;I<v.length;I+=1){const O=get_each_context$I(S,v,I);k[I]?(k[I].p(O,L),transition_in(k[I],1)):(k[I]=create_each_block$I(O),k[I].c(),transition_in(k[I],1),k[I].m(r.parentNode,r))}for(group_outros(),I=v.length;I<k.length;I+=1)x(I);check_outros()}},i(S){if(!p){for(let L=0;L<v.length;L+=1)transition_in(k[L]);p=!0}},o(S){k=k.filter(Boolean);for(let L=0;L<k.length;L+=1)transition_out(k[L]);p=!1},d(S){destroy_each(k,S),S&&detach(r)}}}function create_else_block_1($){let r,p,v;const k=[$[6]];var x=$[5][$[0]];function S(L){let I={$$slots:{default:[create_default_slot_11]},$$scope:{ctx:L}};for(let O=0;O<k.length;O+=1)I=assign(I,k[O]);return{props:I}}return x&&(r=construct_svelte_component(x,S($))),{c(){r&&create_component(r.$$.fragment),p=empty()},m(L,I){r&&mount_component(r,L,I),insert(L,p,I),v=!0},p(L,I){const O=I&64?get_spread_update(k,[get_spread_object(L[6])]):{};if(I&8388706&&(O.$$scope={dirty:I,ctx:L}),I&33&&x!==(x=L[5][L[0]])){if(r){group_outros();const F=r;transition_out(F.$$.fragment,1,0,()=>{destroy_component(F,1)}),check_outros()}x?(r=construct_svelte_component(x,S(L)),create_component(r.$$.fragment),transition_in(r.$$.fragment,1),mount_component(r,p.parentNode,p)):r=null}else x&&r.$set(O)},i(L){v||(r&&transition_in(r.$$.fragment,L),v=!0)},o(L){r&&transition_out(r.$$.fragment,L),v=!1},d(L){L&&detach(p),r&&destroy_component(r,L)}}}function create_if_block_3$2($){let r,p,v,k;const x=[create_if_block_4$2,create_else_block$p],S=[];function L(I,O){return I[4]?0:1}return r=L($),p=S[r]=x[r]($),{c(){p.c(),v=empty()},m(I,O){S[r].m(I,O),insert(I,v,O),k=!0},p(I,O){let F=r;r=L(I),r===F?S[r].p(I,O):(group_outros(),transition_out(S[F],1,1,()=>{S[F]=null}),check_outros(),p=S[r],p?p.p(I,O):(p=S[r]=x[r](I),p.c()),transition_in(p,1),p.m(v.parentNode,v))},i(I){k||(transition_in(p),k=!0)},o(I){transition_out(p),k=!1},d(I){S[r].d(I),I&&detach(v)}}}function create_if_block_2$5($){let r,p,v;var k=$[5].table;function x(S){return{props:{$$slots:{default:[create_default_slot$a]},$$scope:{ctx:S}}}}return k&&(r=construct_svelte_component(k,x($))),{c(){r&&create_component(r.$$.fragment),p=empty()},m(S,L){r&&mount_component(r,S,L),insert(S,p,L),v=!0},p(S,L){const I={};if(L&8388716&&(I.$$scope={dirty:L,ctx:S}),L&32&&k!==(k=S[5].table)){if(r){group_outros();const O=r;transition_out(O.$$.fragment,1,0,()=>{destroy_component(O,1)}),check_outros()}k?(r=construct_svelte_component(k,x(S)),create_component(r.$$.fragment),transition_in(r.$$.fragment,1),mount_component(r,p.parentNode,p)):r=null}else k&&r.$set(I)},i(S){v||(r&&transition_in(r.$$.fragment,S),v=!0)},o(S){r&&transition_out(r.$$.fragment,S),v=!1},d(S){S&&detach(p),r&&destroy_component(r,S)}}}function create_else_block_2($){let r=$[6].raw+"",p;return{c(){p=text(r)},m(v,k){insert(v,p,k)},p(v,k){k&64&&r!==(r=v[6].raw+"")&&set_data(p,r)},i:noop$1,o:noop$1,d(v){v&&detach(p)}}}function create_if_block_5$2($){let r,p;return r=new Parser$1({props:{tokens:$[1],renderers:$[5]}}),{c(){create_component(r.$$.fragment)},m(v,k){mount_component(r,v,k),p=!0},p(v,k){const x={};k&2&&(x.tokens=v[1]),k&32&&(x.renderers=v[5]),r.$set(x)},i(v){p||(transition_in(r.$$.fragment,v),p=!0)},o(v){transition_out(r.$$.fragment,v),p=!1},d(v){destroy_component(r,v)}}}function create_default_slot_11($){let r,p,v,k;const x=[create_if_block_5$2,create_else_block_2],S=[];function L(I,O){return I[1]?0:1}return r=L($),p=S[r]=x[r]($),{c(){p.c(),v=empty()},m(I,O){S[r].m(I,O),insert(I,v,O),k=!0},p(I,O){let F=r;r=L(I),r===F?S[r].p(I,O):(group_outros(),transition_out(S[F],1,1,()=>{S[F]=null}),check_outros(),p=S[r],p?p.p(I,O):(p=S[r]=x[r](I),p.c()),transition_in(p,1),p.m(v.parentNode,v))},i(I){k||(transition_in(p),k=!0)},o(I){transition_out(p),k=!1},d(I){S[r].d(I),I&&detach(v)}}}function create_else_block$p($){let r,p,v;const k=[{ordered:$[4]},$[6]];var x=$[5].list;function S(L){let I={$$slots:{default:[create_default_slot_9$1]},$$scope:{ctx:L}};for(let O=0;O<k.length;O+=1)I=assign(I,k[O]);return{props:I}}return x&&(r=construct_svelte_component(x,S($))),{c(){r&&create_component(r.$$.fragment),p=empty()},m(L,I){r&&mount_component(r,L,I),insert(L,p,I),v=!0},p(L,I){const O=I&80?get_spread_update(k,[I&16&&{ordered:L[4]},I&64&&get_spread_object(L[6])]):{};if(I&8388704&&(O.$$scope={dirty:I,ctx:L}),I&32&&x!==(x=L[5].list)){if(r){group_outros();const F=r;transition_out(F.$$.fragment,1,0,()=>{destroy_component(F,1)}),check_outros()}x?(r=construct_svelte_component(x,S(L)),create_component(r.$$.fragment),transition_in(r.$$.fragment,1),mount_component(r,p.parentNode,p)):r=null}else x&&r.$set(O)},i(L){v||(r&&transition_in(r.$$.fragment,L),v=!0)},o(L){r&&transition_out(r.$$.fragment,L),v=!1},d(L){L&&detach(p),r&&destroy_component(r,L)}}}function create_if_block_4$2($){let r,p,v;const k=[{ordered:$[4]},$[6]];var x=$[5].list;function S(L){let I={$$slots:{default:[create_default_slot_7$1]},$$scope:{ctx:L}};for(let O=0;O<k.length;O+=1)I=assign(I,k[O]);return{props:I}}return x&&(r=construct_svelte_component(x,S($))),{c(){r&&create_component(r.$$.fragment),p=empty()},m(L,I){r&&mount_component(r,L,I),insert(L,p,I),v=!0},p(L,I){const O=I&80?get_spread_update(k,[I&16&&{ordered:L[4]},I&64&&get_spread_object(L[6])]):{};if(I&8388704&&(O.$$scope={dirty:I,ctx:L}),I&32&&x!==(x=L[5].list)){if(r){group_outros();const F=r;transition_out(F.$$.fragment,1,0,()=>{destroy_component(F,1)}),check_outros()}x?(r=construct_svelte_component(x,S(L)),create_component(r.$$.fragment),transition_in(r.$$.fragment,1),mount_component(r,p.parentNode,p)):r=null}else x&&r.$set(O)},i(L){v||(r&&transition_in(r.$$.fragment,L),v=!0)},o(L){r&&transition_out(r.$$.fragment,L),v=!1},d(L){L&&detach(p),r&&destroy_component(r,L)}}}function create_default_slot_10($){let r,p,v;return r=new Parser$1({props:{tokens:$[18].tokens,renderers:$[5]}}),{c(){create_component(r.$$.fragment),p=space()},m(k,x){mount_component(r,k,x),insert(k,p,x),v=!0},p(k,x){const S={};x&64&&(S.tokens=k[18].tokens),x&32&&(S.renderers=k[5]),r.$set(S)},i(k){v||(transition_in(r.$$.fragment,k),v=!0)},o(k){transition_out(r.$$.fragment,k),v=!1},d(k){destroy_component(r,k),k&&detach(p)}}}function create_each_block_5($){let r,p,v;const k=[$[18]];var x=$[5].unorderedlistitem||$[5].listitem;function S(L){let I={$$slots:{default:[create_default_slot_10]},$$scope:{ctx:L}};for(let O=0;O<k.length;O+=1)I=assign(I,k[O]);return{props:I}}return x&&(r=construct_svelte_component(x,S($))),{c(){r&&create_component(r.$$.fragment),p=empty()},m(L,I){r&&mount_component(r,L,I),insert(L,p,I),v=!0},p(L,I){const O=I&64?get_spread_update(k,[get_spread_object(L[18])]):{};if(I&8388704&&(O.$$scope={dirty:I,ctx:L}),I&32&&x!==(x=L[5].unorderedlistitem||L[5].listitem)){if(r){group_outros();const F=r;transition_out(F.$$.fragment,1,0,()=>{destroy_component(F,1)}),check_outros()}x?(r=construct_svelte_component(x,S(L)),create_component(r.$$.fragment),transition_in(r.$$.fragment,1),mount_component(r,p.parentNode,p)):r=null}else x&&r.$set(O)},i(L){v||(r&&transition_in(r.$$.fragment,L),v=!0)},o(L){r&&transition_out(r.$$.fragment,L),v=!1},d(L){L&&detach(p),r&&destroy_component(r,L)}}}function create_default_slot_9$1($){let r,p,v=$[6].items,k=[];for(let S=0;S<v.length;S+=1)k[S]=create_each_block_5(get_each_context_5($,v,S));const x=S=>transition_out(k[S],1,1,()=>{k[S]=null});return{c(){for(let S=0;S<k.length;S+=1)k[S].c();r=empty()},m(S,L){for(let I=0;I<k.length;I+=1)k[I]&&k[I].m(S,L);insert(S,r,L),p=!0},p(S,L){if(L&96){v=S[6].items;let I;for(I=0;I<v.length;I+=1){const O=get_each_context_5(S,v,I);k[I]?(k[I].p(O,L),transition_in(k[I],1)):(k[I]=create_each_block_5(O),k[I].c(),transition_in(k[I],1),k[I].m(r.parentNode,r))}for(group_outros(),I=v.length;I<k.length;I+=1)x(I);check_outros()}},i(S){if(!p){for(let L=0;L<v.length;L+=1)transition_in(k[L]);p=!0}},o(S){k=k.filter(Boolean);for(let L=0;L<k.length;L+=1)transition_out(k[L]);p=!1},d(S){destroy_each(k,S),S&&detach(r)}}}function create_default_slot_8$1($){let r,p,v;return r=new Parser$1({props:{tokens:$[18].tokens,renderers:$[5]}}),{c(){create_component(r.$$.fragment),p=space()},m(k,x){mount_component(r,k,x),insert(k,p,x),v=!0},p(k,x){const S={};x&64&&(S.tokens=k[18].tokens),x&32&&(S.renderers=k[5]),r.$set(S)},i(k){v||(transition_in(r.$$.fragment,k),v=!0)},o(k){transition_out(r.$$.fragment,k),v=!1},d(k){destroy_component(r,k),k&&detach(p)}}}function create_each_block_4($){let r,p,v;const k=[$[18]];var x=$[5].orderedlistitem||$[5].listitem;function S(L){let I={$$slots:{default:[create_default_slot_8$1]},$$scope:{ctx:L}};for(let O=0;O<k.length;O+=1)I=assign(I,k[O]);return{props:I}}return x&&(r=construct_svelte_component(x,S($))),{c(){r&&create_component(r.$$.fragment),p=empty()},m(L,I){r&&mount_component(r,L,I),insert(L,p,I),v=!0},p(L,I){const O=I&64?get_spread_update(k,[get_spread_object(L[18])]):{};if(I&8388704&&(O.$$scope={dirty:I,ctx:L}),I&32&&x!==(x=L[5].orderedlistitem||L[5].listitem)){if(r){group_outros();const F=r;transition_out(F.$$.fragment,1,0,()=>{destroy_component(F,1)}),check_outros()}x?(r=construct_svelte_component(x,S(L)),create_component(r.$$.fragment),transition_in(r.$$.fragment,1),mount_component(r,p.parentNode,p)):r=null}else x&&r.$set(O)},i(L){v||(r&&transition_in(r.$$.fragment,L),v=!0)},o(L){r&&transition_out(r.$$.fragment,L),v=!1},d(L){L&&detach(p),r&&destroy_component(r,L)}}}function create_default_slot_7$1($){let r,p,v=$[6].items,k=[];for(let S=0;S<v.length;S+=1)k[S]=create_each_block_4(get_each_context_4($,v,S));const x=S=>transition_out(k[S],1,1,()=>{k[S]=null});return{c(){for(let S=0;S<k.length;S+=1)k[S].c();r=empty()},m(S,L){for(let I=0;I<k.length;I+=1)k[I]&&k[I].m(S,L);insert(S,r,L),p=!0},p(S,L){if(L&96){v=S[6].items;let I;for(I=0;I<v.length;I+=1){const O=get_each_context_4(S,v,I);k[I]?(k[I].p(O,L),transition_in(k[I],1)):(k[I]=create_each_block_4(O),k[I].c(),transition_in(k[I],1),k[I].m(r.parentNode,r))}for(group_outros(),I=v.length;I<k.length;I+=1)x(I);check_outros()}},i(S){if(!p){for(let L=0;L<v.length;L+=1)transition_in(k[L]);p=!0}},o(S){k=k.filter(Boolean);for(let L=0;L<k.length;L+=1)transition_out(k[L]);p=!1},d(S){destroy_each(k,S),S&&detach(r)}}}function create_default_slot_6$2($){let r,p,v;return r=new Parser$1({props:{tokens:$[16].tokens,renderers:$[5]}}),{c(){create_component(r.$$.fragment),p=space()},m(k,x){mount_component(r,k,x),insert(k,p,x),v=!0},p(k,x){const S={};x&4&&(S.tokens=k[16].tokens),x&32&&(S.renderers=k[5]),r.$set(S)},i(k){v||(transition_in(r.$$.fragment,k),v=!0)},o(k){transition_out(r.$$.fragment,k),v=!1},d(k){destroy_component(r,k),k&&detach(p)}}}function create_each_block_3($){let r,p,v;var k=$[5].tablecell;function x(S){return{props:{header:!0,align:S[6].align[S[15]]||"center",$$slots:{default:[create_default_slot_6$2]},$$scope:{ctx:S}}}}return k&&(r=construct_svelte_component(k,x($))),{c(){r&&create_component(r.$$.fragment),p=empty()},m(S,L){r&&mount_component(r,S,L),insert(S,p,L),v=!0},p(S,L){const I={};if(L&64&&(I.align=S[6].align[S[15]]||"center"),L&8388644&&(I.$$scope={dirty:L,ctx:S}),L&32&&k!==(k=S[5].tablecell)){if(r){group_outros();const O=r;transition_out(O.$$.fragment,1,0,()=>{destroy_component(O,1)}),check_outros()}k?(r=construct_svelte_component(k,x(S)),create_component(r.$$.fragment),transition_in(r.$$.fragment,1),mount_component(r,p.parentNode,p)):r=null}else k&&r.$set(I)},i(S){v||(r&&transition_in(r.$$.fragment,S),v=!0)},o(S){r&&transition_out(r.$$.fragment,S),v=!1},d(S){S&&detach(p),r&&destroy_component(r,S)}}}function create_default_slot_5$2($){let r,p,v=$[2],k=[];for(let S=0;S<v.length;S+=1)k[S]=create_each_block_3(get_each_context_3($,v,S));const x=S=>transition_out(k[S],1,1,()=>{k[S]=null});return{c(){for(let S=0;S<k.length;S+=1)k[S].c();r=empty()},m(S,L){for(let I=0;I<k.length;I+=1)k[I]&&k[I].m(S,L);insert(S,r,L),p=!0},p(S,L){if(L&100){v=S[2];let I;for(I=0;I<v.length;I+=1){const O=get_each_context_3(S,v,I);k[I]?(k[I].p(O,L),transition_in(k[I],1)):(k[I]=create_each_block_3(O),k[I].c(),transition_in(k[I],1),k[I].m(r.parentNode,r))}for(group_outros(),I=v.length;I<k.length;I+=1)x(I);check_outros()}},i(S){if(!p){for(let L=0;L<v.length;L+=1)transition_in(k[L]);p=!0}},o(S){k=k.filter(Boolean);for(let L=0;L<k.length;L+=1)transition_out(k[L]);p=!1},d(S){destroy_each(k,S),S&&detach(r)}}}function create_default_slot_4$2($){let r,p,v;var k=$[5].tablerow;function x(S){return{props:{$$slots:{default:[create_default_slot_5$2]},$$scope:{ctx:S}}}}return k&&(r=construct_svelte_component(k,x($))),{c(){r&&create_component(r.$$.fragment),p=empty()},m(S,L){r&&mount_component(r,S,L),insert(S,p,L),v=!0},p(S,L){const I={};if(L&8388708&&(I.$$scope={dirty:L,ctx:S}),L&32&&k!==(k=S[5].tablerow)){if(r){group_outros();const O=r;transition_out(O.$$.fragment,1,0,()=>{destroy_component(O,1)}),check_outros()}k?(r=construct_svelte_component(k,x(S)),create_component(r.$$.fragment),transition_in(r.$$.fragment,1),mount_component(r,p.parentNode,p)):r=null}else k&&r.$set(I)},i(S){v||(r&&transition_in(r.$$.fragment,S),v=!0)},o(S){r&&transition_out(r.$$.fragment,S),v=!1},d(S){S&&detach(p),r&&destroy_component(r,S)}}}function create_default_slot_3$2($){let r,p;return r=new Parser$1({props:{tokens:$[13].tokens,renderers:$[5]}}),{c(){create_component(r.$$.fragment)},m(v,k){mount_component(r,v,k),p=!0},p(v,k){const x={};k&8&&(x.tokens=v[13].tokens),k&32&&(x.renderers=v[5]),r.$set(x)},i(v){p||(transition_in(r.$$.fragment,v),p=!0)},o(v){transition_out(r.$$.fragment,v),p=!1},d(v){destroy_component(r,v)}}}function create_each_block_2$1($){let r,p,v;var k=$[5].tablecell;function x(S){return{props:{header:!1,align:S[6].align[S[15]]||"center",$$slots:{default:[create_default_slot_3$2]},$$scope:{ctx:S}}}}return k&&(r=construct_svelte_component(k,x($))),{c(){r&&create_component(r.$$.fragment),p=empty()},m(S,L){r&&mount_component(r,S,L),insert(S,p,L),v=!0},p(S,L){const I={};if(L&64&&(I.align=S[6].align[S[15]]||"center"),L&8388648&&(I.$$scope={dirty:L,ctx:S}),L&32&&k!==(k=S[5].tablecell)){if(r){group_outros();const O=r;transition_out(O.$$.fragment,1,0,()=>{destroy_component(O,1)}),check_outros()}k?(r=construct_svelte_component(k,x(S)),create_component(r.$$.fragment),transition_in(r.$$.fragment,1),mount_component(r,p.parentNode,p)):r=null}else k&&r.$set(I)},i(S){v||(r&&transition_in(r.$$.fragment,S),v=!0)},o(S){r&&transition_out(r.$$.fragment,S),v=!1},d(S){S&&detach(p),r&&destroy_component(r,S)}}}function create_default_slot_2$4($){let r,p,v=$[10],k=[];for(let S=0;S<v.length;S+=1)k[S]=create_each_block_2$1(get_each_context_2$1($,v,S));const x=S=>transition_out(k[S],1,1,()=>{k[S]=null});return{c(){for(let S=0;S<k.length;S+=1)k[S].c();r=space()},m(S,L){for(let I=0;I<k.length;I+=1)k[I]&&k[I].m(S,L);insert(S,r,L),p=!0},p(S,L){if(L&104){v=S[10];let I;for(I=0;I<v.length;I+=1){const O=get_each_context_2$1(S,v,I);k[I]?(k[I].p(O,L),transition_in(k[I],1)):(k[I]=create_each_block_2$1(O),k[I].c(),transition_in(k[I],1),k[I].m(r.parentNode,r))}for(group_outros(),I=v.length;I<k.length;I+=1)x(I);check_outros()}},i(S){if(!p){for(let L=0;L<v.length;L+=1)transition_in(k[L]);p=!0}},o(S){k=k.filter(Boolean);for(let L=0;L<k.length;L+=1)transition_out(k[L]);p=!1},d(S){destroy_each(k,S),S&&detach(r)}}}function create_each_block_1$9($){let r,p,v;var k=$[5].tablerow;function x(S){return{props:{$$slots:{default:[create_default_slot_2$4]},$$scope:{ctx:S}}}}return k&&(r=construct_svelte_component(k,x($))),{c(){r&&create_component(r.$$.fragment),p=empty()},m(S,L){r&&mount_component(r,S,L),insert(S,p,L),v=!0},p(S,L){const I={};if(L&8388712&&(I.$$scope={dirty:L,ctx:S}),L&32&&k!==(k=S[5].tablerow)){if(r){group_outros();const O=r;transition_out(O.$$.fragment,1,0,()=>{destroy_component(O,1)}),check_outros()}k?(r=construct_svelte_component(k,x(S)),create_component(r.$$.fragment),transition_in(r.$$.fragment,1),mount_component(r,p.parentNode,p)):r=null}else k&&r.$set(I)},i(S){v||(r&&transition_in(r.$$.fragment,S),v=!0)},o(S){r&&transition_out(r.$$.fragment,S),v=!1},d(S){S&&detach(p),r&&destroy_component(r,S)}}}function create_default_slot_1$5($){let r,p,v=$[3],k=[];for(let S=0;S<v.length;S+=1)k[S]=create_each_block_1$9(get_each_context_1$9($,v,S));const x=S=>transition_out(k[S],1,1,()=>{k[S]=null});return{c(){for(let S=0;S<k.length;S+=1)k[S].c();r=empty()},m(S,L){for(let I=0;I<k.length;I+=1)k[I]&&k[I].m(S,L);insert(S,r,L),p=!0},p(S,L){if(L&104){v=S[3];let I;for(I=0;I<v.length;I+=1){const O=get_each_context_1$9(S,v,I);k[I]?(k[I].p(O,L),transition_in(k[I],1)):(k[I]=create_each_block_1$9(O),k[I].c(),transition_in(k[I],1),k[I].m(r.parentNode,r))}for(group_outros(),I=v.length;I<k.length;I+=1)x(I);check_outros()}},i(S){if(!p){for(let L=0;L<v.length;L+=1)transition_in(k[L]);p=!0}},o(S){k=k.filter(Boolean);for(let L=0;L<k.length;L+=1)transition_out(k[L]);p=!1},d(S){destroy_each(k,S),S&&detach(r)}}}function create_default_slot$a($){let r,p,v,k,x;var S=$[5].tablehead;function L(F){return{props:{$$slots:{default:[create_default_slot_4$2]},$$scope:{ctx:F}}}}S&&(r=construct_svelte_component(S,L($)));var I=$[5].tablebody;function O(F){return{props:{$$slots:{default:[create_default_slot_1$5]},$$scope:{ctx:F}}}}return I&&(v=construct_svelte_component(I,O($))),{c(){r&&create_component(r.$$.fragment),p=space(),v&&create_component(v.$$.fragment),k=empty()},m(F,U){r&&mount_component(r,F,U),insert(F,p,U),v&&mount_component(v,F,U),insert(F,k,U),x=!0},p(F,U){const R={};if(U&8388708&&(R.$$scope={dirty:U,ctx:F}),U&32&&S!==(S=F[5].tablehead)){if(r){group_outros();const j=r;transition_out(j.$$.fragment,1,0,()=>{destroy_component(j,1)}),check_outros()}S?(r=construct_svelte_component(S,L(F)),create_component(r.$$.fragment),transition_in(r.$$.fragment,1),mount_component(r,p.parentNode,p)):r=null}else S&&r.$set(R);const N={};if(U&8388712&&(N.$$scope={dirty:U,ctx:F}),U&32&&I!==(I=F[5].tablebody)){if(v){group_outros();const j=v;transition_out(j.$$.fragment,1,0,()=>{destroy_component(j,1)}),check_outros()}I?(v=construct_svelte_component(I,O(F)),create_component(v.$$.fragment),transition_in(v.$$.fragment,1),mount_component(v,k.parentNode,k)):v=null}else I&&v.$set(N)},i(F){x||(r&&transition_in(r.$$.fragment,F),v&&transition_in(v.$$.fragment,F),x=!0)},o(F){r&&transition_out(r.$$.fragment,F),v&&transition_out(v.$$.fragment,F),x=!1},d(F){r&&destroy_component(r,F),F&&detach(p),F&&detach(k),v&&destroy_component(v,F)}}}function create_each_block$I($){let r,p;const v=[$[7],{renderers:$[5]}];let k={};for(let x=0;x<v.length;x+=1)k=assign(k,v[x]);return r=new Parser$1({props:k}),{c(){create_component(r.$$.fragment)},m(x,S){mount_component(r,x,S),p=!0},p(x,S){const L=S&34?get_spread_update(v,[S&2&&get_spread_object(x[7]),S&32&&{renderers:x[5]}]):{};r.$set(L)},i(x){p||(transition_in(r.$$.fragment,x),p=!0)},o(x){transition_out(r.$$.fragment,x),p=!1},d(x){destroy_component(r,x)}}}function create_fragment$3a($){let r,p,v,k;const x=[create_if_block$1e,create_if_block_1$o],S=[];function L(I,O){return I[0]?I[5][I[0]]?1:-1:0}return~(r=L($))&&(p=S[r]=x[r]($)),{c(){p&&p.c(),v=empty()},m(I,O){~r&&S[r].m(I,O),insert(I,v,O),k=!0},p(I,[O]){let F=r;r=L(I),r===F?~r&&S[r].p(I,O):(p&&(group_outros(),transition_out(S[F],1,1,()=>{S[F]=null}),check_outros()),~r?(p=S[r],p?p.p(I,O):(p=S[r]=x[r](I),p.c()),transition_in(p,1),p.m(v.parentNode,v)):p=null)},i(I){k||(transition_in(p),k=!0)},o(I){transition_out(p),k=!1},d(I){~r&&S[r].d(I),I&&detach(v)}}}function instance$2X($,r,p){const v=["type","tokens","header","rows","ordered","renderers"];let k=compute_rest_props(r,v),{type:x=void 0}=r,{tokens:S=void 0}=r,{header:L=void 0}=r,{rows:I=void 0}=r,{ordered:O=!1}=r,{renderers:F}=r;return supressWarnings(),$.$$set=U=>{r=assign(assign({},r),exclude_internal_props(U)),p(6,k=compute_rest_props(r,v)),"type"in U&&p(0,x=U.type),"tokens"in U&&p(1,S=U.tokens),"header"in U&&p(2,L=U.header),"rows"in U&&p(3,I=U.rows),"ordered"in U&&p(4,O=U.ordered),"renderers"in U&&p(5,F=U.renderers)},[x,S,L,I,O,F,k]}let Parser$1=class extends SvelteComponent{constructor(r){super(),init(this,r,instance$2X,create_fragment$3a,safe_not_equal,{type:0,tokens:1,header:2,rows:3,ordered:4,renderers:5})}};function getDefaults(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}let defaults=getDefaults();function changeDefaults($){defaults=$}const escapeTest=/[&<>"']/,escapeReplace=new RegExp(escapeTest.source,"g"),escapeTestNoEncode=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode=new RegExp(escapeTestNoEncode.source,"g"),escapeReplacements={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},getEscapeReplacement=$=>escapeReplacements[$];function escape($,r){if(r){if(escapeTest.test($))return $.replace(escapeReplace,getEscapeReplacement)}else if(escapeTestNoEncode.test($))return $.replace(escapeReplaceNoEncode,getEscapeReplacement);return $}const unescapeTest=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function unescape$1($){return $.replace(unescapeTest,(r,p)=>(p=p.toLowerCase(),p==="colon"?":":p.charAt(0)==="#"?p.charAt(1)==="x"?String.fromCharCode(parseInt(p.substring(2),16)):String.fromCharCode(+p.substring(1)):""))}const caret=/(^|[^\[])\^/g;function edit($,r){$=typeof $=="string"?$:$.source,r=r||"";const p={replace:(v,k)=>(k=k.source||k,k=k.replace(caret,"$1"),$=$.replace(v,k),p),getRegex:()=>new RegExp($,r)};return p}const nonWordAndColonTest=/[^\w:]/g,originIndependentUrl=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function cleanUrl($,r,p){if($){let v;try{v=decodeURIComponent(unescape$1(p)).replace(nonWordAndColonTest,"").toLowerCase()}catch{return null}if(v.indexOf("javascript:")===0||v.indexOf("vbscript:")===0||v.indexOf("data:")===0)return null}r&&!originIndependentUrl.test(p)&&(p=resolveUrl(r,p));try{p=encodeURI(p).replace(/%25/g,"%")}catch{return null}return p}const baseUrls={},justDomain=/^[^:]+:\/*[^/]*$/,protocol=/^([^:]+:)[\s\S]*$/,domain=/^([^:]+:\/*[^/]*)[\s\S]*$/;function resolveUrl($,r){baseUrls[" "+$]||(justDomain.test($)?baseUrls[" "+$]=$+"/":baseUrls[" "+$]=rtrim($,"/",!0)),$=baseUrls[" "+$];const p=$.indexOf(":")===-1;return r.substring(0,2)==="//"?p?r:$.replace(protocol,"$1")+r:r.charAt(0)==="/"?p?r:$.replace(domain,"$1")+r:$+r}const noopTest={exec:function $(){}};function merge($){let r=1,p,v;for(;r<arguments.length;r++){p=arguments[r];for(v in p)Object.prototype.hasOwnProperty.call(p,v)&&($[v]=p[v])}return $}function splitCells($,r){const p=$.replace(/\|/g,(x,S,L)=>{let I=!1,O=S;for(;--O>=0&&L[O]==="\\";)I=!I;return I?"|":" |"}),v=p.split(/ \|/);let k=0;if(v[0].trim()||v.shift(),v.length>0&&!v[v.length-1].trim()&&v.pop(),v.length>r)v.splice(r);else for(;v.length<r;)v.push("");for(;k<v.length;k++)v[k]=v[k].trim().replace(/\\\|/g,"|");return v}function rtrim($,r,p){const v=$.length;if(v===0)return"";let k=0;for(;k<v;){const x=$.charAt(v-k-1);if(x===r&&!p)k++;else if(x!==r&&p)k++;else break}return $.slice(0,v-k)}function findClosingBracket($,r){if($.indexOf(r[1])===-1)return-1;const p=$.length;let v=0,k=0;for(;k<p;k++)if($[k]==="\\")k++;else if($[k]===r[0])v++;else if($[k]===r[1]&&(v--,v<0))return k;return-1}function checkSanitizeDeprecation($){$&&$.sanitize&&!$.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function repeatString($,r){if(r<1)return"";let p="";for(;r>1;)r&1&&(p+=$),r>>=1,$+=$;return p+$}function outputLink($,r,p,v){const k=r.href,x=r.title?escape(r.title):null,S=$[1].replace(/\\([\[\]])/g,"$1");if($[0].charAt(0)!=="!"){v.state.inLink=!0;const L={type:"link",raw:p,href:k,title:x,text:S,tokens:v.inlineTokens(S)};return v.state.inLink=!1,L}return{type:"image",raw:p,href:k,title:x,text:escape(S)}}function indentCodeCompensation($,r){const p=$.match(/^(\s+)(?:```)/);if(p===null)return r;const v=p[1];return r.split(`
`).map(k=>{const x=k.match(/^\s+/);if(x===null)return k;const[S]=x;return S.length>=v.length?k.slice(v.length):k}).join(`
`)}class Tokenizer{constructor(r){this.options=r||defaults}space(r){const p=this.rules.block.newline.exec(r);if(p&&p[0].length>0)return{type:"space",raw:p[0]}}code(r){const p=this.rules.block.code.exec(r);if(p){const v=p[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:p[0],codeBlockStyle:"indented",text:this.options.pedantic?v:rtrim(v,`
`)}}}fences(r){const p=this.rules.block.fences.exec(r);if(p){const v=p[0],k=indentCodeCompensation(v,p[3]||"");return{type:"code",raw:v,lang:p[2]?p[2].trim().replace(this.rules.inline._escapes,"$1"):p[2],text:k}}}heading(r){const p=this.rules.block.heading.exec(r);if(p){let v=p[2].trim();if(/#$/.test(v)){const k=rtrim(v,"#");(this.options.pedantic||!k||/ $/.test(k))&&(v=k.trim())}return{type:"heading",raw:p[0],depth:p[1].length,text:v,tokens:this.lexer.inline(v)}}}hr(r){const p=this.rules.block.hr.exec(r);if(p)return{type:"hr",raw:p[0]}}blockquote(r){const p=this.rules.block.blockquote.exec(r);if(p){const v=p[0].replace(/^ *>[ \t]?/gm,""),k=this.lexer.state.top;this.lexer.state.top=!0;const x=this.lexer.blockTokens(v);return this.lexer.state.top=k,{type:"blockquote",raw:p[0],tokens:x,text:v}}}list(r){let p=this.rules.block.list.exec(r);if(p){let v,k,x,S,L,I,O,F,U,R,N,j,q=p[1].trim();const H=q.length>1,Q={type:"list",raw:"",ordered:H,start:H?+q.slice(0,-1):"",loose:!1,items:[]};q=H?`\\d{1,9}\\${q.slice(-1)}`:`\\${q}`,this.options.pedantic&&(q=H?q:"[*+-]");const V=new RegExp(`^( {0,3}${q})((?:[	 ][^\\n]*)?(?:\\n|$))`);for(;r&&(j=!1,!(!(p=V.exec(r))||this.rules.block.hr.test(r)));){if(v=p[0],r=r.substring(v.length),F=p[2].split(`
`,1)[0].replace(/^\t+/,G=>" ".repeat(3*G.length)),U=r.split(`
`,1)[0],this.options.pedantic?(S=2,N=F.trimLeft()):(S=p[2].search(/[^ ]/),S=S>4?1:S,N=F.slice(S),S+=p[1].length),I=!1,!F&&/^ *$/.test(U)&&(v+=U+`
`,r=r.substring(U.length+1),j=!0),!j){const G=new RegExp(`^ {0,${Math.min(3,S-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),Y=new RegExp(`^ {0,${Math.min(3,S-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),J=new RegExp(`^ {0,${Math.min(3,S-1)}}(?:\`\`\`|~~~)`),Z=new RegExp(`^ {0,${Math.min(3,S-1)}}#`);for(;r&&(R=r.split(`
`,1)[0],U=R,this.options.pedantic&&(U=U.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(J.test(U)||Z.test(U)||G.test(U)||Y.test(r)));){if(U.search(/[^ ]/)>=S||!U.trim())N+=`
`+U.slice(S);else{if(I||F.search(/[^ ]/)>=4||J.test(F)||Z.test(F)||Y.test(F))break;N+=`
`+U}!I&&!U.trim()&&(I=!0),v+=R+`
`,r=r.substring(R.length+1),F=U.slice(S)}}Q.loose||(O?Q.loose=!0:/\n *\n *$/.test(v)&&(O=!0)),this.options.gfm&&(k=/^\[[ xX]\] /.exec(N),k&&(x=k[0]!=="[ ] ",N=N.replace(/^\[[ xX]\] +/,""))),Q.items.push({type:"list_item",raw:v,task:!!k,checked:x,loose:!1,text:N}),Q.raw+=v}Q.items[Q.items.length-1].raw=v.trimRight(),Q.items[Q.items.length-1].text=N.trimRight(),Q.raw=Q.raw.trimRight();const K=Q.items.length;for(L=0;L<K;L++)if(this.lexer.state.top=!1,Q.items[L].tokens=this.lexer.blockTokens(Q.items[L].text,[]),!Q.loose){const G=Q.items[L].tokens.filter(J=>J.type==="space"),Y=G.length>0&&G.some(J=>/\n.*\n/.test(J.raw));Q.loose=Y}if(Q.loose)for(L=0;L<K;L++)Q.items[L].loose=!0;return Q}}html(r){const p=this.rules.block.html.exec(r);if(p){const v={type:"html",raw:p[0],pre:!this.options.sanitizer&&(p[1]==="pre"||p[1]==="script"||p[1]==="style"),text:p[0]};if(this.options.sanitize){const k=this.options.sanitizer?this.options.sanitizer(p[0]):escape(p[0]);v.type="paragraph",v.text=k,v.tokens=this.lexer.inline(k)}return v}}def(r){const p=this.rules.block.def.exec(r);if(p){const v=p[1].toLowerCase().replace(/\s+/g," "),k=p[2]?p[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",x=p[3]?p[3].substring(1,p[3].length-1).replace(this.rules.inline._escapes,"$1"):p[3];return{type:"def",tag:v,raw:p[0],href:k,title:x}}}table(r){const p=this.rules.block.table.exec(r);if(p){const v={type:"table",header:splitCells(p[1]).map(k=>({text:k})),align:p[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:p[3]&&p[3].trim()?p[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(v.header.length===v.align.length){v.raw=p[0];let k=v.align.length,x,S,L,I;for(x=0;x<k;x++)/^ *-+: *$/.test(v.align[x])?v.align[x]="right":/^ *:-+: *$/.test(v.align[x])?v.align[x]="center":/^ *:-+ *$/.test(v.align[x])?v.align[x]="left":v.align[x]=null;for(k=v.rows.length,x=0;x<k;x++)v.rows[x]=splitCells(v.rows[x],v.header.length).map(O=>({text:O}));for(k=v.header.length,S=0;S<k;S++)v.header[S].tokens=this.lexer.inline(v.header[S].text);for(k=v.rows.length,S=0;S<k;S++)for(I=v.rows[S],L=0;L<I.length;L++)I[L].tokens=this.lexer.inline(I[L].text);return v}}}lheading(r){const p=this.rules.block.lheading.exec(r);if(p)return{type:"heading",raw:p[0],depth:p[2].charAt(0)==="="?1:2,text:p[1],tokens:this.lexer.inline(p[1])}}paragraph(r){const p=this.rules.block.paragraph.exec(r);if(p){const v=p[1].charAt(p[1].length-1)===`
`?p[1].slice(0,-1):p[1];return{type:"paragraph",raw:p[0],text:v,tokens:this.lexer.inline(v)}}}text(r){const p=this.rules.block.text.exec(r);if(p)return{type:"text",raw:p[0],text:p[0],tokens:this.lexer.inline(p[0])}}escape(r){const p=this.rules.inline.escape.exec(r);if(p)return{type:"escape",raw:p[0],text:escape(p[1])}}tag(r){const p=this.rules.inline.tag.exec(r);if(p)return!this.lexer.state.inLink&&/^<a /i.test(p[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(p[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(p[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(p[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:p[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(p[0]):escape(p[0]):p[0]}}link(r){const p=this.rules.inline.link.exec(r);if(p){const v=p[2].trim();if(!this.options.pedantic&&/^</.test(v)){if(!/>$/.test(v))return;const S=rtrim(v.slice(0,-1),"\\");if((v.length-S.length)%2===0)return}else{const S=findClosingBracket(p[2],"()");if(S>-1){const I=(p[0].indexOf("!")===0?5:4)+p[1].length+S;p[2]=p[2].substring(0,S),p[0]=p[0].substring(0,I).trim(),p[3]=""}}let k=p[2],x="";if(this.options.pedantic){const S=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(k);S&&(k=S[1],x=S[3])}else x=p[3]?p[3].slice(1,-1):"";return k=k.trim(),/^</.test(k)&&(this.options.pedantic&&!/>$/.test(v)?k=k.slice(1):k=k.slice(1,-1)),outputLink(p,{href:k&&k.replace(this.rules.inline._escapes,"$1"),title:x&&x.replace(this.rules.inline._escapes,"$1")},p[0],this.lexer)}}reflink(r,p){let v;if((v=this.rules.inline.reflink.exec(r))||(v=this.rules.inline.nolink.exec(r))){let k=(v[2]||v[1]).replace(/\s+/g," ");if(k=p[k.toLowerCase()],!k){const x=v[0].charAt(0);return{type:"text",raw:x,text:x}}return outputLink(v,k,v[0],this.lexer)}}emStrong(r,p,v=""){let k=this.rules.inline.emStrong.lDelim.exec(r);if(!k||k[3]&&v.match(/[\p{L}\p{N}]/u))return;const x=k[1]||k[2]||"";if(!x||x&&(v===""||this.rules.inline.punctuation.exec(v))){const S=k[0].length-1;let L,I,O=S,F=0;const U=k[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(U.lastIndex=0,p=p.slice(-1*r.length+S);(k=U.exec(p))!=null;){if(L=k[1]||k[2]||k[3]||k[4]||k[5]||k[6],!L)continue;if(I=L.length,k[3]||k[4]){O+=I;continue}else if((k[5]||k[6])&&S%3&&!((S+I)%3)){F+=I;continue}if(O-=I,O>0)continue;I=Math.min(I,I+O+F);const R=r.slice(0,S+k.index+(k[0].length-L.length)+I);if(Math.min(S,I)%2){const j=R.slice(1,-1);return{type:"em",raw:R,text:j,tokens:this.lexer.inlineTokens(j)}}const N=R.slice(2,-2);return{type:"strong",raw:R,text:N,tokens:this.lexer.inlineTokens(N)}}}}codespan(r){const p=this.rules.inline.code.exec(r);if(p){let v=p[2].replace(/\n/g," ");const k=/[^ ]/.test(v),x=/^ /.test(v)&&/ $/.test(v);return k&&x&&(v=v.substring(1,v.length-1)),v=escape(v,!0),{type:"codespan",raw:p[0],text:v}}}br(r){const p=this.rules.inline.br.exec(r);if(p)return{type:"br",raw:p[0]}}del(r){const p=this.rules.inline.del.exec(r);if(p)return{type:"del",raw:p[0],text:p[2],tokens:this.lexer.inlineTokens(p[2])}}autolink(r,p){const v=this.rules.inline.autolink.exec(r);if(v){let k,x;return v[2]==="@"?(k=escape(this.options.mangle?p(v[1]):v[1]),x="mailto:"+k):(k=escape(v[1]),x=k),{type:"link",raw:v[0],text:k,href:x,tokens:[{type:"text",raw:k,text:k}]}}}url(r,p){let v;if(v=this.rules.inline.url.exec(r)){let k,x;if(v[2]==="@")k=escape(this.options.mangle?p(v[0]):v[0]),x="mailto:"+k;else{let S;do S=v[0],v[0]=this.rules.inline._backpedal.exec(v[0])[0];while(S!==v[0]);k=escape(v[0]),v[1]==="www."?x="http://"+v[0]:x=v[0]}return{type:"link",raw:v[0],text:k,href:x,tokens:[{type:"text",raw:k,text:k}]}}}inlineText(r,p){const v=this.rules.inline.text.exec(r);if(v){let k;return this.lexer.state.inRawBlock?k=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(v[0]):escape(v[0]):v[0]:k=escape(this.options.smartypants?p(v[0]):v[0]),{type:"text",raw:v[0],text:k}}}}const block={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:noopTest,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};block._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/;block._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/;block.def=edit(block.def).replace("label",block._label).replace("title",block._title).getRegex();block.bullet=/(?:[*+-]|\d{1,9}[.)])/;block.listItemStart=edit(/^( *)(bull) */).replace("bull",block.bullet).getRegex();block.list=edit(block.list).replace(/bull/g,block.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+block.def.source+")").getRegex();block._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";block._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/;block.html=edit(block.html,"i").replace("comment",block._comment).replace("tag",block._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();block.paragraph=edit(block._paragraph).replace("hr",block.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",block._tag).getRegex();block.blockquote=edit(block.blockquote).replace("paragraph",block.paragraph).getRegex();block.normal=merge({},block);block.gfm=merge({},block.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"});block.gfm.table=edit(block.gfm.table).replace("hr",block.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",block._tag).getRegex();block.gfm.paragraph=edit(block._paragraph).replace("hr",block.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",block.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",block._tag).getRegex();block.pedantic=merge({},block.normal,{html:edit(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",block._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:noopTest,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:edit(block.normal._paragraph).replace("hr",block.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",block.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const inline={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:noopTest,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:noopTest,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};inline._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~";inline.punctuation=edit(inline.punctuation).replace(/punctuation/g,inline._punctuation).getRegex();inline.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g;inline.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g;inline._comment=edit(block._comment).replace("(?:-->|$)","-->").getRegex();inline.emStrong.lDelim=edit(inline.emStrong.lDelim).replace(/punct/g,inline._punctuation).getRegex();inline.emStrong.rDelimAst=edit(inline.emStrong.rDelimAst,"g").replace(/punct/g,inline._punctuation).getRegex();inline.emStrong.rDelimUnd=edit(inline.emStrong.rDelimUnd,"g").replace(/punct/g,inline._punctuation).getRegex();inline._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g;inline._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;inline._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;inline.autolink=edit(inline.autolink).replace("scheme",inline._scheme).replace("email",inline._email).getRegex();inline._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;inline.tag=edit(inline.tag).replace("comment",inline._comment).replace("attribute",inline._attribute).getRegex();inline._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;inline._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;inline._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;inline.link=edit(inline.link).replace("label",inline._label).replace("href",inline._href).replace("title",inline._title).getRegex();inline.reflink=edit(inline.reflink).replace("label",inline._label).replace("ref",block._label).getRegex();inline.nolink=edit(inline.nolink).replace("ref",block._label).getRegex();inline.reflinkSearch=edit(inline.reflinkSearch,"g").replace("reflink",inline.reflink).replace("nolink",inline.nolink).getRegex();inline.normal=merge({},inline);inline.pedantic=merge({},inline.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:edit(/^!?\[(label)\]\((.*?)\)/).replace("label",inline._label).getRegex(),reflink:edit(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",inline._label).getRegex()});inline.gfm=merge({},inline.normal,{escape:edit(inline.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/});inline.gfm.url=edit(inline.gfm.url,"i").replace("email",inline.gfm._extended_email).getRegex();inline.breaks=merge({},inline.gfm,{br:edit(inline.br).replace("{2,}","*").getRegex(),text:edit(inline.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function smartypants($){return $.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function mangle($){let r="",p,v;const k=$.length;for(p=0;p<k;p++)v=$.charCodeAt(p),Math.random()>.5&&(v="x"+v.toString(16)),r+="&#"+v+";";return r}class Lexer{constructor(r){this.tokens=[],this.tokens.links=Object.create(null),this.options=r||defaults,this.options.tokenizer=this.options.tokenizer||new Tokenizer,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const p={block:block.normal,inline:inline.normal};this.options.pedantic?(p.block=block.pedantic,p.inline=inline.pedantic):this.options.gfm&&(p.block=block.gfm,this.options.breaks?p.inline=inline.breaks:p.inline=inline.gfm),this.tokenizer.rules=p}static get rules(){return{block,inline}}static lex(r,p){return new Lexer(p).lex(r)}static lexInline(r,p){return new Lexer(p).inlineTokens(r)}lex(r){r=r.replace(/\r\n|\r/g,`
`),this.blockTokens(r,this.tokens);let p;for(;p=this.inlineQueue.shift();)this.inlineTokens(p.src,p.tokens);return this.tokens}blockTokens(r,p=[]){this.options.pedantic?r=r.replace(/\t/g,"    ").replace(/^ +$/gm,""):r=r.replace(/^( *)(\t+)/gm,(L,I,O)=>I+"    ".repeat(O.length));let v,k,x,S;for(;r;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(L=>(v=L.call({lexer:this},r,p))?(r=r.substring(v.raw.length),p.push(v),!0):!1))){if(v=this.tokenizer.space(r)){r=r.substring(v.raw.length),v.raw.length===1&&p.length>0?p[p.length-1].raw+=`
`:p.push(v);continue}if(v=this.tokenizer.code(r)){r=r.substring(v.raw.length),k=p[p.length-1],k&&(k.type==="paragraph"||k.type==="text")?(k.raw+=`
`+v.raw,k.text+=`
`+v.text,this.inlineQueue[this.inlineQueue.length-1].src=k.text):p.push(v);continue}if(v=this.tokenizer.fences(r)){r=r.substring(v.raw.length),p.push(v);continue}if(v=this.tokenizer.heading(r)){r=r.substring(v.raw.length),p.push(v);continue}if(v=this.tokenizer.hr(r)){r=r.substring(v.raw.length),p.push(v);continue}if(v=this.tokenizer.blockquote(r)){r=r.substring(v.raw.length),p.push(v);continue}if(v=this.tokenizer.list(r)){r=r.substring(v.raw.length),p.push(v);continue}if(v=this.tokenizer.html(r)){r=r.substring(v.raw.length),p.push(v);continue}if(v=this.tokenizer.def(r)){r=r.substring(v.raw.length),k=p[p.length-1],k&&(k.type==="paragraph"||k.type==="text")?(k.raw+=`
`+v.raw,k.text+=`
`+v.raw,this.inlineQueue[this.inlineQueue.length-1].src=k.text):this.tokens.links[v.tag]||(this.tokens.links[v.tag]={href:v.href,title:v.title});continue}if(v=this.tokenizer.table(r)){r=r.substring(v.raw.length),p.push(v);continue}if(v=this.tokenizer.lheading(r)){r=r.substring(v.raw.length),p.push(v);continue}if(x=r,this.options.extensions&&this.options.extensions.startBlock){let L=1/0;const I=r.slice(1);let O;this.options.extensions.startBlock.forEach(function(F){O=F.call({lexer:this},I),typeof O=="number"&&O>=0&&(L=Math.min(L,O))}),L<1/0&&L>=0&&(x=r.substring(0,L+1))}if(this.state.top&&(v=this.tokenizer.paragraph(x))){k=p[p.length-1],S&&k.type==="paragraph"?(k.raw+=`
`+v.raw,k.text+=`
`+v.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=k.text):p.push(v),S=x.length!==r.length,r=r.substring(v.raw.length);continue}if(v=this.tokenizer.text(r)){r=r.substring(v.raw.length),k=p[p.length-1],k&&k.type==="text"?(k.raw+=`
`+v.raw,k.text+=`
`+v.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=k.text):p.push(v);continue}if(r){const L="Infinite loop on byte: "+r.charCodeAt(0);if(this.options.silent){console.error(L);break}else throw new Error(L)}}return this.state.top=!0,p}inline(r,p=[]){return this.inlineQueue.push({src:r,tokens:p}),p}inlineTokens(r,p=[]){let v,k,x,S=r,L,I,O;if(this.tokens.links){const F=Object.keys(this.tokens.links);if(F.length>0)for(;(L=this.tokenizer.rules.inline.reflinkSearch.exec(S))!=null;)F.includes(L[0].slice(L[0].lastIndexOf("[")+1,-1))&&(S=S.slice(0,L.index)+"["+repeatString("a",L[0].length-2)+"]"+S.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(L=this.tokenizer.rules.inline.blockSkip.exec(S))!=null;)S=S.slice(0,L.index)+"["+repeatString("a",L[0].length-2)+"]"+S.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(L=this.tokenizer.rules.inline.escapedEmSt.exec(S))!=null;)S=S.slice(0,L.index+L[0].length-2)+"++"+S.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;r;)if(I||(O=""),I=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(F=>(v=F.call({lexer:this},r,p))?(r=r.substring(v.raw.length),p.push(v),!0):!1))){if(v=this.tokenizer.escape(r)){r=r.substring(v.raw.length),p.push(v);continue}if(v=this.tokenizer.tag(r)){r=r.substring(v.raw.length),k=p[p.length-1],k&&v.type==="text"&&k.type==="text"?(k.raw+=v.raw,k.text+=v.text):p.push(v);continue}if(v=this.tokenizer.link(r)){r=r.substring(v.raw.length),p.push(v);continue}if(v=this.tokenizer.reflink(r,this.tokens.links)){r=r.substring(v.raw.length),k=p[p.length-1],k&&v.type==="text"&&k.type==="text"?(k.raw+=v.raw,k.text+=v.text):p.push(v);continue}if(v=this.tokenizer.emStrong(r,S,O)){r=r.substring(v.raw.length),p.push(v);continue}if(v=this.tokenizer.codespan(r)){r=r.substring(v.raw.length),p.push(v);continue}if(v=this.tokenizer.br(r)){r=r.substring(v.raw.length),p.push(v);continue}if(v=this.tokenizer.del(r)){r=r.substring(v.raw.length),p.push(v);continue}if(v=this.tokenizer.autolink(r,mangle)){r=r.substring(v.raw.length),p.push(v);continue}if(!this.state.inLink&&(v=this.tokenizer.url(r,mangle))){r=r.substring(v.raw.length),p.push(v);continue}if(x=r,this.options.extensions&&this.options.extensions.startInline){let F=1/0;const U=r.slice(1);let R;this.options.extensions.startInline.forEach(function(N){R=N.call({lexer:this},U),typeof R=="number"&&R>=0&&(F=Math.min(F,R))}),F<1/0&&F>=0&&(x=r.substring(0,F+1))}if(v=this.tokenizer.inlineText(x,smartypants)){r=r.substring(v.raw.length),v.raw.slice(-1)!=="_"&&(O=v.raw.slice(-1)),I=!0,k=p[p.length-1],k&&k.type==="text"?(k.raw+=v.raw,k.text+=v.text):p.push(v);continue}if(r){const F="Infinite loop on byte: "+r.charCodeAt(0);if(this.options.silent){console.error(F);break}else throw new Error(F)}}return p}}class Renderer{constructor(r){this.options=r||defaults}code(r,p,v){const k=(p||"").match(/\S*/)[0];if(this.options.highlight){const x=this.options.highlight(r,k);x!=null&&x!==r&&(v=!0,r=x)}return r=r.replace(/\n$/,"")+`
`,k?'<pre><code class="'+this.options.langPrefix+escape(k)+'">'+(v?r:escape(r,!0))+`</code></pre>
`:"<pre><code>"+(v?r:escape(r,!0))+`</code></pre>
`}blockquote(r){return`<blockquote>
${r}</blockquote>
`}html(r){return r}heading(r,p,v,k){if(this.options.headerIds){const x=this.options.headerPrefix+k.slug(v);return`<h${p} id="${x}">${r}</h${p}>
`}return`<h${p}>${r}</h${p}>
`}hr(){return this.options.xhtml?`<hr/>
`:`<hr>
`}list(r,p,v){const k=p?"ol":"ul",x=p&&v!==1?' start="'+v+'"':"";return"<"+k+x+`>
`+r+"</"+k+`>
`}listitem(r){return`<li>${r}</li>
`}checkbox(r){return"<input "+(r?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(r){return`<p>${r}</p>
`}table(r,p){return p&&(p=`<tbody>${p}</tbody>`),`<table>
<thead>
`+r+`</thead>
`+p+`</table>
`}tablerow(r){return`<tr>
${r}</tr>
`}tablecell(r,p){const v=p.header?"th":"td";return(p.align?`<${v} align="${p.align}">`:`<${v}>`)+r+`</${v}>
`}strong(r){return`<strong>${r}</strong>`}em(r){return`<em>${r}</em>`}codespan(r){return`<code>${r}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(r){return`<del>${r}</del>`}link(r,p,v){if(r=cleanUrl(this.options.sanitize,this.options.baseUrl,r),r===null)return v;let k='<a href="'+r+'"';return p&&(k+=' title="'+p+'"'),k+=">"+v+"</a>",k}image(r,p,v){if(r=cleanUrl(this.options.sanitize,this.options.baseUrl,r),r===null)return v;let k=`<img src="${r}" alt="${v}"`;return p&&(k+=` title="${p}"`),k+=this.options.xhtml?"/>":">",k}text(r){return r}}class TextRenderer{strong(r){return r}em(r){return r}codespan(r){return r}del(r){return r}html(r){return r}text(r){return r}link(r,p,v){return""+v}image(r,p,v){return""+v}br(){return""}}class Slugger{constructor(){this.seen={}}serialize(r){return r.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(r,p){let v=r,k=0;if(this.seen.hasOwnProperty(v)){k=this.seen[r];do k++,v=r+"-"+k;while(this.seen.hasOwnProperty(v))}return p||(this.seen[r]=k,this.seen[v]=0),v}slug(r,p={}){const v=this.serialize(r);return this.getNextSafeSlug(v,p.dryrun)}}class Parser{constructor(r){this.options=r||defaults,this.options.renderer=this.options.renderer||new Renderer,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new TextRenderer,this.slugger=new Slugger}static parse(r,p){return new Parser(p).parse(r)}static parseInline(r,p){return new Parser(p).parseInline(r)}parse(r,p=!0){let v="",k,x,S,L,I,O,F,U,R,N,j,q,H,Q,V,K,G,Y,J;const Z=r.length;for(k=0;k<Z;k++){if(N=r[k],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[N.type]&&(J=this.options.extensions.renderers[N.type].call({parser:this},N),J!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(N.type))){v+=J||"";continue}switch(N.type){case"space":continue;case"hr":{v+=this.renderer.hr();continue}case"heading":{v+=this.renderer.heading(this.parseInline(N.tokens),N.depth,unescape$1(this.parseInline(N.tokens,this.textRenderer)),this.slugger);continue}case"code":{v+=this.renderer.code(N.text,N.lang,N.escaped);continue}case"table":{for(U="",F="",L=N.header.length,x=0;x<L;x++)F+=this.renderer.tablecell(this.parseInline(N.header[x].tokens),{header:!0,align:N.align[x]});for(U+=this.renderer.tablerow(F),R="",L=N.rows.length,x=0;x<L;x++){for(O=N.rows[x],F="",I=O.length,S=0;S<I;S++)F+=this.renderer.tablecell(this.parseInline(O[S].tokens),{header:!1,align:N.align[S]});R+=this.renderer.tablerow(F)}v+=this.renderer.table(U,R);continue}case"blockquote":{R=this.parse(N.tokens),v+=this.renderer.blockquote(R);continue}case"list":{for(j=N.ordered,q=N.start,H=N.loose,L=N.items.length,R="",x=0;x<L;x++)V=N.items[x],K=V.checked,G=V.task,Q="",V.task&&(Y=this.renderer.checkbox(K),H?V.tokens.length>0&&V.tokens[0].type==="paragraph"?(V.tokens[0].text=Y+" "+V.tokens[0].text,V.tokens[0].tokens&&V.tokens[0].tokens.length>0&&V.tokens[0].tokens[0].type==="text"&&(V.tokens[0].tokens[0].text=Y+" "+V.tokens[0].tokens[0].text)):V.tokens.unshift({type:"text",text:Y}):Q+=Y),Q+=this.parse(V.tokens,H),R+=this.renderer.listitem(Q,G,K);v+=this.renderer.list(R,j,q);continue}case"html":{v+=this.renderer.html(N.text);continue}case"paragraph":{v+=this.renderer.paragraph(this.parseInline(N.tokens));continue}case"text":{for(R=N.tokens?this.parseInline(N.tokens):N.text;k+1<Z&&r[k+1].type==="text";)N=r[++k],R+=`
`+(N.tokens?this.parseInline(N.tokens):N.text);v+=p?this.renderer.paragraph(R):R;continue}default:{const X='Token with "'+N.type+'" type was not found.';if(this.options.silent){console.error(X);return}else throw new Error(X)}}}return v}parseInline(r,p){p=p||this.renderer;let v="",k,x,S;const L=r.length;for(k=0;k<L;k++){if(x=r[k],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[x.type]&&(S=this.options.extensions.renderers[x.type].call({parser:this},x),S!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(x.type))){v+=S||"";continue}switch(x.type){case"escape":{v+=p.text(x.text);break}case"html":{v+=p.html(x.text);break}case"link":{v+=p.link(x.href,x.title,this.parseInline(x.tokens,p));break}case"image":{v+=p.image(x.href,x.title,x.text);break}case"strong":{v+=p.strong(this.parseInline(x.tokens,p));break}case"em":{v+=p.em(this.parseInline(x.tokens,p));break}case"codespan":{v+=p.codespan(x.text);break}case"br":{v+=p.br();break}case"del":{v+=p.del(this.parseInline(x.tokens,p));break}case"text":{v+=p.text(x.text);break}default:{const I='Token with "'+x.type+'" type was not found.';if(this.options.silent){console.error(I);return}else throw new Error(I)}}}return v}}function marked($,r,p){if(typeof $>"u"||$===null)throw new Error("marked(): input parameter is undefined or null");if(typeof $!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call($)+", string expected");if(typeof r=="function"&&(p=r,r=null),r=merge({},marked.defaults,r||{}),checkSanitizeDeprecation(r),p){const k=r.highlight;let x;try{x=Lexer.lex($,r)}catch(I){return p(I)}const S=function(I){let O;if(!I)try{r.walkTokens&&marked.walkTokens(x,r.walkTokens),O=Parser.parse(x,r)}catch(F){I=F}return r.highlight=k,I?p(I):p(null,O)};if(!k||k.length<3||(delete r.highlight,!x.length))return S();let L=0;marked.walkTokens(x,function(I){I.type==="code"&&(L++,setTimeout(()=>{k(I.text,I.lang,function(O,F){if(O)return S(O);F!=null&&F!==I.text&&(I.text=F,I.escaped=!0),L--,L===0&&S()})},0))}),L===0&&S();return}function v(k){if(k.message+=`
Please report this to https://github.com/markedjs/marked.`,r.silent)return"<p>An error occurred:</p><pre>"+escape(k.message+"",!0)+"</pre>";throw k}try{const k=Lexer.lex($,r);if(r.walkTokens){if(r.async)return Promise.all(marked.walkTokens(k,r.walkTokens)).then(()=>Parser.parse(k,r)).catch(v);marked.walkTokens(k,r.walkTokens)}return Parser.parse(k,r)}catch(k){v(k)}}marked.options=marked.setOptions=function($){return merge(marked.defaults,$),changeDefaults(marked.defaults),marked};marked.getDefaults=getDefaults;marked.defaults=defaults;marked.use=function(...$){const r=marked.defaults.extensions||{renderers:{},childTokens:{}};$.forEach(p=>{const v=merge({},p);if(v.async=marked.defaults.async||v.async,p.extensions&&(p.extensions.forEach(k=>{if(!k.name)throw new Error("extension name required");if(k.renderer){const x=r.renderers[k.name];x?r.renderers[k.name]=function(...S){let L=k.renderer.apply(this,S);return L===!1&&(L=x.apply(this,S)),L}:r.renderers[k.name]=k.renderer}if(k.tokenizer){if(!k.level||k.level!=="block"&&k.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");r[k.level]?r[k.level].unshift(k.tokenizer):r[k.level]=[k.tokenizer],k.start&&(k.level==="block"?r.startBlock?r.startBlock.push(k.start):r.startBlock=[k.start]:k.level==="inline"&&(r.startInline?r.startInline.push(k.start):r.startInline=[k.start]))}k.childTokens&&(r.childTokens[k.name]=k.childTokens)}),v.extensions=r),p.renderer){const k=marked.defaults.renderer||new Renderer;for(const x in p.renderer){const S=k[x];k[x]=(...L)=>{let I=p.renderer[x].apply(k,L);return I===!1&&(I=S.apply(k,L)),I}}v.renderer=k}if(p.tokenizer){const k=marked.defaults.tokenizer||new Tokenizer;for(const x in p.tokenizer){const S=k[x];k[x]=(...L)=>{let I=p.tokenizer[x].apply(k,L);return I===!1&&(I=S.apply(k,L)),I}}v.tokenizer=k}if(p.walkTokens){const k=marked.defaults.walkTokens;v.walkTokens=function(x){let S=[];return S.push(p.walkTokens.call(this,x)),k&&(S=S.concat(k.call(this,x))),S}}marked.setOptions(v)})};marked.walkTokens=function($,r){let p=[];for(const v of $)switch(p=p.concat(r.call(marked,v)),v.type){case"table":{for(const k of v.header)p=p.concat(marked.walkTokens(k.tokens,r));for(const k of v.rows)for(const x of k)p=p.concat(marked.walkTokens(x.tokens,r));break}case"list":{p=p.concat(marked.walkTokens(v.items,r));break}default:marked.defaults.extensions&&marked.defaults.extensions.childTokens&&marked.defaults.extensions.childTokens[v.type]?marked.defaults.extensions.childTokens[v.type].forEach(function(k){p=p.concat(marked.walkTokens(v[k],r))}):v.tokens&&(p=p.concat(marked.walkTokens(v.tokens,r)))}return p};marked.parseInline=function($,r){if(typeof $>"u"||$===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof $!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call($)+", string expected");r=merge({},marked.defaults,r||{}),checkSanitizeDeprecation(r);try{const p=Lexer.lexInline($,r);return r.walkTokens&&marked.walkTokens(p,r.walkTokens),Parser.parseInline(p,r)}catch(p){if(p.message+=`
Please report this to https://github.com/markedjs/marked.`,r.silent)return"<p>An error occurred:</p><pre>"+escape(p.message+"",!0)+"</pre>";throw p}};marked.Parser=Parser;marked.parser=Parser.parse;marked.Renderer=Renderer;marked.TextRenderer=TextRenderer;marked.Lexer=Lexer;marked.lexer=Lexer.lex;marked.Tokenizer=Tokenizer;marked.Slugger=Slugger;marked.parse=marked;marked.options;marked.setOptions;marked.use;marked.walkTokens;marked.parseInline;Parser.parse;Lexer.lex;const key={};function create_else_block$o($){let r;return{c(){r=text($[1])},m(p,v){insert(p,r,v)},p(p,v){v&2&&set_data(r,p[1])},i:noop$1,o:noop$1,d(p){p&&detach(r)}}}function create_if_block_5$1($){let r,p;const v=$[5].default,k=create_slot(v,$,$[4],null);return{c(){r=element("h6"),k&&k.c(),attr(r,"id",$[2])},m(x,S){insert(x,r,S),k&&k.m(r,null),p=!0},p(x,S){k&&k.p&&(!p||S&16)&&update_slot_base(k,v,x,x[4],p?get_slot_changes(v,x[4],S,null):get_all_dirty_from_scope(x[4]),null),(!p||S&4)&&attr(r,"id",x[2])},i(x){p||(transition_in(k,x),p=!0)},o(x){transition_out(k,x),p=!1},d(x){x&&detach(r),k&&k.d(x)}}}function create_if_block_4$1($){let r,p;const v=$[5].default,k=create_slot(v,$,$[4],null);return{c(){r=element("h5"),k&&k.c(),attr(r,"id",$[2])},m(x,S){insert(x,r,S),k&&k.m(r,null),p=!0},p(x,S){k&&k.p&&(!p||S&16)&&update_slot_base(k,v,x,x[4],p?get_slot_changes(v,x[4],S,null):get_all_dirty_from_scope(x[4]),null),(!p||S&4)&&attr(r,"id",x[2])},i(x){p||(transition_in(k,x),p=!0)},o(x){transition_out(k,x),p=!1},d(x){x&&detach(r),k&&k.d(x)}}}function create_if_block_3$1($){let r,p;const v=$[5].default,k=create_slot(v,$,$[4],null);return{c(){r=element("h4"),k&&k.c(),attr(r,"id",$[2])},m(x,S){insert(x,r,S),k&&k.m(r,null),p=!0},p(x,S){k&&k.p&&(!p||S&16)&&update_slot_base(k,v,x,x[4],p?get_slot_changes(v,x[4],S,null):get_all_dirty_from_scope(x[4]),null),(!p||S&4)&&attr(r,"id",x[2])},i(x){p||(transition_in(k,x),p=!0)},o(x){transition_out(k,x),p=!1},d(x){x&&detach(r),k&&k.d(x)}}}function create_if_block_2$4($){let r,p;const v=$[5].default,k=create_slot(v,$,$[4],null);return{c(){r=element("h3"),k&&k.c(),attr(r,"id",$[2])},m(x,S){insert(x,r,S),k&&k.m(r,null),p=!0},p(x,S){k&&k.p&&(!p||S&16)&&update_slot_base(k,v,x,x[4],p?get_slot_changes(v,x[4],S,null):get_all_dirty_from_scope(x[4]),null),(!p||S&4)&&attr(r,"id",x[2])},i(x){p||(transition_in(k,x),p=!0)},o(x){transition_out(k,x),p=!1},d(x){x&&detach(r),k&&k.d(x)}}}function create_if_block_1$n($){let r,p;const v=$[5].default,k=create_slot(v,$,$[4],null);return{c(){r=element("h2"),k&&k.c(),attr(r,"id",$[2])},m(x,S){insert(x,r,S),k&&k.m(r,null),p=!0},p(x,S){k&&k.p&&(!p||S&16)&&update_slot_base(k,v,x,x[4],p?get_slot_changes(v,x[4],S,null):get_all_dirty_from_scope(x[4]),null),(!p||S&4)&&attr(r,"id",x[2])},i(x){p||(transition_in(k,x),p=!0)},o(x){transition_out(k,x),p=!1},d(x){x&&detach(r),k&&k.d(x)}}}function create_if_block$1d($){let r,p;const v=$[5].default,k=create_slot(v,$,$[4],null);return{c(){r=element("h1"),k&&k.c(),attr(r,"id",$[2])},m(x,S){insert(x,r,S),k&&k.m(r,null),p=!0},p(x,S){k&&k.p&&(!p||S&16)&&update_slot_base(k,v,x,x[4],p?get_slot_changes(v,x[4],S,null):get_all_dirty_from_scope(x[4]),null),(!p||S&4)&&attr(r,"id",x[2])},i(x){p||(transition_in(k,x),p=!0)},o(x){transition_out(k,x),p=!1},d(x){x&&detach(r),k&&k.d(x)}}}function create_fragment$39($){let r,p,v,k;const x=[create_if_block$1d,create_if_block_1$n,create_if_block_2$4,create_if_block_3$1,create_if_block_4$1,create_if_block_5$1,create_else_block$o],S=[];function L(I,O){return I[0]===1?0:I[0]===2?1:I[0]===3?2:I[0]===4?3:I[0]===5?4:I[0]===6?5:6}return r=L($),p=S[r]=x[r]($),{c(){p.c(),v=empty()},m(I,O){S[r].m(I,O),insert(I,v,O),k=!0},p(I,[O]){let F=r;r=L(I),r===F?S[r].p(I,O):(group_outros(),transition_out(S[F],1,1,()=>{S[F]=null}),check_outros(),p=S[r],p?p.p(I,O):(p=S[r]=x[r](I),p.c()),transition_in(p,1),p.m(v.parentNode,v))},i(I){k||(transition_in(p),k=!0)},o(I){transition_out(p),k=!1},d(I){S[r].d(I),I&&detach(v)}}}function instance$2W($,r,p){let v,{$$slots:k={},$$scope:x}=r,{depth:S}=r,{raw:L}=r,{text:I}=r;const{slug:O,getOptions:F}=getContext(key),U=F();return $.$$set=R=>{"depth"in R&&p(0,S=R.depth),"raw"in R&&p(1,L=R.raw),"text"in R&&p(3,I=R.text),"$$scope"in R&&p(4,x=R.$$scope)},$.$$.update=()=>{$.$$.dirty&8&&p(2,v=U.headerIds?U.headerPrefix+O(I):void 0)},[S,L,v,I,x,k]}class Heading extends SvelteComponent{constructor(r){super(),init(this,r,instance$2W,create_fragment$39,safe_not_equal,{depth:0,raw:1,text:3})}}function create_fragment$38($){let r,p;const v=$[1].default,k=create_slot(v,$,$[0],null);return{c(){r=element("p"),k&&k.c()},m(x,S){insert(x,r,S),k&&k.m(r,null),p=!0},p(x,[S]){k&&k.p&&(!p||S&1)&&update_slot_base(k,v,x,x[0],p?get_slot_changes(v,x[0],S,null):get_all_dirty_from_scope(x[0]),null)},i(x){p||(transition_in(k,x),p=!0)},o(x){transition_out(k,x),p=!1},d(x){x&&detach(r),k&&k.d(x)}}}function instance$2V($,r,p){let{$$slots:v={},$$scope:k}=r;return $.$$set=x=>{"$$scope"in x&&p(0,k=x.$$scope)},[k,v]}class Paragraph extends SvelteComponent{constructor(r){super(),init(this,r,instance$2V,create_fragment$38,safe_not_equal,{})}}function create_fragment$37($){let r;const p=$[3].default,v=create_slot(p,$,$[2],null);return{c(){v&&v.c()},m(k,x){v&&v.m(k,x),r=!0},p(k,[x]){v&&v.p&&(!r||x&4)&&update_slot_base(v,p,k,k[2],r?get_slot_changes(p,k[2],x,null):get_all_dirty_from_scope(k[2]),null)},i(k){r||(transition_in(v,k),r=!0)},o(k){transition_out(v,k),r=!1},d(k){v&&v.d(k)}}}function instance$2U($,r,p){let{$$slots:v={},$$scope:k}=r,{text:x}=r,{raw:S}=r;return $.$$set=L=>{"text"in L&&p(0,x=L.text),"raw"in L&&p(1,S=L.raw),"$$scope"in L&&p(2,k=L.$$scope)},[x,S,k,v]}class Text extends SvelteComponent{constructor(r){super(),init(this,r,instance$2U,create_fragment$37,safe_not_equal,{text:0,raw:1})}}function create_fragment$36($){let r,p;return{c(){r=element("img"),src_url_equal(r.src,p=$[0])||attr(r,"src",p),attr(r,"title",$[1]),attr(r,"alt",$[2])},m(v,k){insert(v,r,k)},p(v,[k]){k&1&&!src_url_equal(r.src,p=v[0])&&attr(r,"src",p),k&2&&attr(r,"title",v[1]),k&4&&attr(r,"alt",v[2])},i:noop$1,o:noop$1,d(v){v&&detach(r)}}}function instance$2T($,r,p){let{href:v=""}=r,{title:k=void 0}=r,{text:x=""}=r;return $.$$set=S=>{"href"in S&&p(0,v=S.href),"title"in S&&p(1,k=S.title),"text"in S&&p(2,x=S.text)},[v,k,x]}let Image$1=class extends SvelteComponent{constructor(r){super(),init(this,r,instance$2T,create_fragment$36,safe_not_equal,{href:0,title:1,text:2})}};function create_fragment$35($){let r,p;const v=$[3].default,k=create_slot(v,$,$[2],null);return{c(){r=element("a"),k&&k.c(),attr(r,"href",$[0]),attr(r,"title",$[1])},m(x,S){insert(x,r,S),k&&k.m(r,null),p=!0},p(x,[S]){k&&k.p&&(!p||S&4)&&update_slot_base(k,v,x,x[2],p?get_slot_changes(v,x[2],S,null):get_all_dirty_from_scope(x[2]),null),(!p||S&1)&&attr(r,"href",x[0]),(!p||S&2)&&attr(r,"title",x[1])},i(x){p||(transition_in(k,x),p=!0)},o(x){transition_out(k,x),p=!1},d(x){x&&detach(r),k&&k.d(x)}}}function instance$2S($,r,p){let{$$slots:v={},$$scope:k}=r,{href:x=""}=r,{title:S=void 0}=r;return $.$$set=L=>{"href"in L&&p(0,x=L.href),"title"in L&&p(1,S=L.title),"$$scope"in L&&p(2,k=L.$$scope)},[x,S,k,v]}let Link$1=class extends SvelteComponent{constructor(r){super(),init(this,r,instance$2S,create_fragment$35,safe_not_equal,{href:0,title:1})}};function create_fragment$34($){let r,p;const v=$[1].default,k=create_slot(v,$,$[0],null);return{c(){r=element("em"),k&&k.c()},m(x,S){insert(x,r,S),k&&k.m(r,null),p=!0},p(x,[S]){k&&k.p&&(!p||S&1)&&update_slot_base(k,v,x,x[0],p?get_slot_changes(v,x[0],S,null):get_all_dirty_from_scope(x[0]),null)},i(x){p||(transition_in(k,x),p=!0)},o(x){transition_out(k,x),p=!1},d(x){x&&detach(r),k&&k.d(x)}}}function instance$2R($,r,p){let{$$slots:v={},$$scope:k}=r;return $.$$set=x=>{"$$scope"in x&&p(0,k=x.$$scope)},[k,v]}class Em extends SvelteComponent{constructor(r){super(),init(this,r,instance$2R,create_fragment$34,safe_not_equal,{})}}function create_fragment$33($){let r,p;const v=$[1].default,k=create_slot(v,$,$[0],null);return{c(){r=element("del"),k&&k.c()},m(x,S){insert(x,r,S),k&&k.m(r,null),p=!0},p(x,[S]){k&&k.p&&(!p||S&1)&&update_slot_base(k,v,x,x[0],p?get_slot_changes(v,x[0],S,null):get_all_dirty_from_scope(x[0]),null)},i(x){p||(transition_in(k,x),p=!0)},o(x){transition_out(k,x),p=!1},d(x){x&&detach(r),k&&k.d(x)}}}function instance$2Q($,r,p){let{$$slots:v={},$$scope:k}=r;return $.$$set=x=>{"$$scope"in x&&p(0,k=x.$$scope)},[k,v]}class Del extends SvelteComponent{constructor(r){super(),init(this,r,instance$2Q,create_fragment$33,safe_not_equal,{})}}function create_fragment$32($){let r,p=$[0].replace(/`/g,"")+"",v;return{c(){r=element("code"),v=text(p)},m(k,x){insert(k,r,x),append(r,v)},p(k,[x]){x&1&&p!==(p=k[0].replace(/`/g,"")+"")&&set_data(v,p)},i:noop$1,o:noop$1,d(k){k&&detach(r)}}}function instance$2P($,r,p){let{raw:v}=r;return $.$$set=k=>{"raw"in k&&p(0,v=k.raw)},[v]}class Codespan extends SvelteComponent{constructor(r){super(),init(this,r,instance$2P,create_fragment$32,safe_not_equal,{raw:0})}}function create_fragment$31($){let r,p;const v=$[1].default,k=create_slot(v,$,$[0],null);return{c(){r=element("strong"),k&&k.c()},m(x,S){insert(x,r,S),k&&k.m(r,null),p=!0},p(x,[S]){k&&k.p&&(!p||S&1)&&update_slot_base(k,v,x,x[0],p?get_slot_changes(v,x[0],S,null):get_all_dirty_from_scope(x[0]),null)},i(x){p||(transition_in(k,x),p=!0)},o(x){transition_out(k,x),p=!1},d(x){x&&detach(r),k&&k.d(x)}}}function instance$2O($,r,p){let{$$slots:v={},$$scope:k}=r;return $.$$set=x=>{"$$scope"in x&&p(0,k=x.$$scope)},[k,v]}class Strong extends SvelteComponent{constructor(r){super(),init(this,r,instance$2O,create_fragment$31,safe_not_equal,{})}}function create_fragment$30($){let r,p;const v=$[1].default,k=create_slot(v,$,$[0],null);return{c(){r=element("table"),k&&k.c()},m(x,S){insert(x,r,S),k&&k.m(r,null),p=!0},p(x,[S]){k&&k.p&&(!p||S&1)&&update_slot_base(k,v,x,x[0],p?get_slot_changes(v,x[0],S,null):get_all_dirty_from_scope(x[0]),null)},i(x){p||(transition_in(k,x),p=!0)},o(x){transition_out(k,x),p=!1},d(x){x&&detach(r),k&&k.d(x)}}}function instance$2N($,r,p){let{$$slots:v={},$$scope:k}=r;return $.$$set=x=>{"$$scope"in x&&p(0,k=x.$$scope)},[k,v]}class Table extends SvelteComponent{constructor(r){super(),init(this,r,instance$2N,create_fragment$30,safe_not_equal,{})}}function create_fragment$2$($){let r,p;const v=$[1].default,k=create_slot(v,$,$[0],null);return{c(){r=element("thead"),k&&k.c()},m(x,S){insert(x,r,S),k&&k.m(r,null),p=!0},p(x,[S]){k&&k.p&&(!p||S&1)&&update_slot_base(k,v,x,x[0],p?get_slot_changes(v,x[0],S,null):get_all_dirty_from_scope(x[0]),null)},i(x){p||(transition_in(k,x),p=!0)},o(x){transition_out(k,x),p=!1},d(x){x&&detach(r),k&&k.d(x)}}}function instance$2M($,r,p){let{$$slots:v={},$$scope:k}=r;return $.$$set=x=>{"$$scope"in x&&p(0,k=x.$$scope)},[k,v]}class TableHead extends SvelteComponent{constructor(r){super(),init(this,r,instance$2M,create_fragment$2$,safe_not_equal,{})}}function create_fragment$2_($){let r,p;const v=$[1].default,k=create_slot(v,$,$[0],null);return{c(){r=element("tbody"),k&&k.c()},m(x,S){insert(x,r,S),k&&k.m(r,null),p=!0},p(x,[S]){k&&k.p&&(!p||S&1)&&update_slot_base(k,v,x,x[0],p?get_slot_changes(v,x[0],S,null):get_all_dirty_from_scope(x[0]),null)},i(x){p||(transition_in(k,x),p=!0)},o(x){transition_out(k,x),p=!1},d(x){x&&detach(r),k&&k.d(x)}}}function instance$2L($,r,p){let{$$slots:v={},$$scope:k}=r;return $.$$set=x=>{"$$scope"in x&&p(0,k=x.$$scope)},[k,v]}class TableBody extends SvelteComponent{constructor(r){super(),init(this,r,instance$2L,create_fragment$2_,safe_not_equal,{})}}function create_fragment$2Z($){let r,p;const v=$[1].default,k=create_slot(v,$,$[0],null);return{c(){r=element("tr"),k&&k.c()},m(x,S){insert(x,r,S),k&&k.m(r,null),p=!0},p(x,[S]){k&&k.p&&(!p||S&1)&&update_slot_base(k,v,x,x[0],p?get_slot_changes(v,x[0],S,null):get_all_dirty_from_scope(x[0]),null)},i(x){p||(transition_in(k,x),p=!0)},o(x){transition_out(k,x),p=!1},d(x){x&&detach(r),k&&k.d(x)}}}function instance$2K($,r,p){let{$$slots:v={},$$scope:k}=r;return $.$$set=x=>{"$$scope"in x&&p(0,k=x.$$scope)},[k,v]}class TableRow extends SvelteComponent{constructor(r){super(),init(this,r,instance$2K,create_fragment$2Z,safe_not_equal,{})}}function create_else_block$n($){let r,p;const v=$[3].default,k=create_slot(v,$,$[2],null);return{c(){r=element("td"),k&&k.c(),attr(r,"align",$[1])},m(x,S){insert(x,r,S),k&&k.m(r,null),p=!0},p(x,S){k&&k.p&&(!p||S&4)&&update_slot_base(k,v,x,x[2],p?get_slot_changes(v,x[2],S,null):get_all_dirty_from_scope(x[2]),null),(!p||S&2)&&attr(r,"align",x[1])},i(x){p||(transition_in(k,x),p=!0)},o(x){transition_out(k,x),p=!1},d(x){x&&detach(r),k&&k.d(x)}}}function create_if_block$1c($){let r,p;const v=$[3].default,k=create_slot(v,$,$[2],null);return{c(){r=element("th"),k&&k.c(),attr(r,"align",$[1])},m(x,S){insert(x,r,S),k&&k.m(r,null),p=!0},p(x,S){k&&k.p&&(!p||S&4)&&update_slot_base(k,v,x,x[2],p?get_slot_changes(v,x[2],S,null):get_all_dirty_from_scope(x[2]),null),(!p||S&2)&&attr(r,"align",x[1])},i(x){p||(transition_in(k,x),p=!0)},o(x){transition_out(k,x),p=!1},d(x){x&&detach(r),k&&k.d(x)}}}function create_fragment$2Y($){let r,p,v,k;const x=[create_if_block$1c,create_else_block$n],S=[];function L(I,O){return I[0]?0:1}return r=L($),p=S[r]=x[r]($),{c(){p.c(),v=empty()},m(I,O){S[r].m(I,O),insert(I,v,O),k=!0},p(I,[O]){let F=r;r=L(I),r===F?S[r].p(I,O):(group_outros(),transition_out(S[F],1,1,()=>{S[F]=null}),check_outros(),p=S[r],p?p.p(I,O):(p=S[r]=x[r](I),p.c()),transition_in(p,1),p.m(v.parentNode,v))},i(I){k||(transition_in(p),k=!0)},o(I){transition_out(p),k=!1},d(I){S[r].d(I),I&&detach(v)}}}function instance$2J($,r,p){let{$$slots:v={},$$scope:k}=r,{header:x}=r,{align:S}=r;return $.$$set=L=>{"header"in L&&p(0,x=L.header),"align"in L&&p(1,S=L.align),"$$scope"in L&&p(2,k=L.$$scope)},[x,S,k,v]}class TableCell extends SvelteComponent{constructor(r){super(),init(this,r,instance$2J,create_fragment$2Y,safe_not_equal,{header:0,align:1})}}function create_else_block$m($){let r,p;const v=$[3].default,k=create_slot(v,$,$[2],null);return{c(){r=element("ul"),k&&k.c()},m(x,S){insert(x,r,S),k&&k.m(r,null),p=!0},p(x,S){k&&k.p&&(!p||S&4)&&update_slot_base(k,v,x,x[2],p?get_slot_changes(v,x[2],S,null):get_all_dirty_from_scope(x[2]),null)},i(x){p||(transition_in(k,x),p=!0)},o(x){transition_out(k,x),p=!1},d(x){x&&detach(r),k&&k.d(x)}}}function create_if_block$1b($){let r,p;const v=$[3].default,k=create_slot(v,$,$[2],null);return{c(){r=element("ol"),k&&k.c(),attr(r,"start",$[1])},m(x,S){insert(x,r,S),k&&k.m(r,null),p=!0},p(x,S){k&&k.p&&(!p||S&4)&&update_slot_base(k,v,x,x[2],p?get_slot_changes(v,x[2],S,null):get_all_dirty_from_scope(x[2]),null),(!p||S&2)&&attr(r,"start",x[1])},i(x){p||(transition_in(k,x),p=!0)},o(x){transition_out(k,x),p=!1},d(x){x&&detach(r),k&&k.d(x)}}}function create_fragment$2X($){let r,p,v,k;const x=[create_if_block$1b,create_else_block$m],S=[];function L(I,O){return I[0]?0:1}return r=L($),p=S[r]=x[r]($),{c(){p.c(),v=empty()},m(I,O){S[r].m(I,O),insert(I,v,O),k=!0},p(I,[O]){let F=r;r=L(I),r===F?S[r].p(I,O):(group_outros(),transition_out(S[F],1,1,()=>{S[F]=null}),check_outros(),p=S[r],p?p.p(I,O):(p=S[r]=x[r](I),p.c()),transition_in(p,1),p.m(v.parentNode,v))},i(I){k||(transition_in(p),k=!0)},o(I){transition_out(p),k=!1},d(I){S[r].d(I),I&&detach(v)}}}function instance$2I($,r,p){let{$$slots:v={},$$scope:k}=r,{ordered:x}=r,{start:S}=r;return $.$$set=L=>{"ordered"in L&&p(0,x=L.ordered),"start"in L&&p(1,S=L.start),"$$scope"in L&&p(2,k=L.$$scope)},[x,S,k,v]}class List extends SvelteComponent{constructor(r){super(),init(this,r,instance$2I,create_fragment$2X,safe_not_equal,{ordered:0,start:1})}}function create_fragment$2W($){let r,p;const v=$[1].default,k=create_slot(v,$,$[0],null);return{c(){r=element("li"),k&&k.c()},m(x,S){insert(x,r,S),k&&k.m(r,null),p=!0},p(x,[S]){k&&k.p&&(!p||S&1)&&update_slot_base(k,v,x,x[0],p?get_slot_changes(v,x[0],S,null):get_all_dirty_from_scope(x[0]),null)},i(x){p||(transition_in(k,x),p=!0)},o(x){transition_out(k,x),p=!1},d(x){x&&detach(r),k&&k.d(x)}}}function instance$2H($,r,p){let{$$slots:v={},$$scope:k}=r;return $.$$set=x=>{"$$scope"in x&&p(0,k=x.$$scope)},[k,v]}class ListItem extends SvelteComponent{constructor(r){super(),init(this,r,instance$2H,create_fragment$2W,safe_not_equal,{})}}function create_fragment$2V($){let r;return{c(){r=element("hr")},m(p,v){insert(p,r,v)},p:noop$1,i:noop$1,o:noop$1,d(p){p&&detach(r)}}}class Hr extends SvelteComponent{constructor(r){super(),init(this,r,null,create_fragment$2V,safe_not_equal,{})}}function create_fragment$2U($){let r,p;return{c(){r=new HtmlTag(!1),p=empty(),r.a=p},m(v,k){r.m($[0],v,k),insert(v,p,k)},p(v,[k]){k&1&&r.p(v[0])},i:noop$1,o:noop$1,d(v){v&&detach(p),v&&r.d()}}}function instance$2G($,r,p){let{text:v}=r;return $.$$set=k=>{"text"in k&&p(0,v=k.text)},[v]}class Html extends SvelteComponent{constructor(r){super(),init(this,r,instance$2G,create_fragment$2U,safe_not_equal,{text:0})}}function create_fragment$2T($){let r,p;const v=$[1].default,k=create_slot(v,$,$[0],null);return{c(){r=element("blockquote"),k&&k.c()},m(x,S){insert(x,r,S),k&&k.m(r,null),p=!0},p(x,[S]){k&&k.p&&(!p||S&1)&&update_slot_base(k,v,x,x[0],p?get_slot_changes(v,x[0],S,null):get_all_dirty_from_scope(x[0]),null)},i(x){p||(transition_in(k,x),p=!0)},o(x){transition_out(k,x),p=!1},d(x){x&&detach(r),k&&k.d(x)}}}function instance$2F($,r,p){let{$$slots:v={},$$scope:k}=r;return $.$$set=x=>{"$$scope"in x&&p(0,k=x.$$scope)},[k,v]}class Blockquote extends SvelteComponent{constructor(r){super(),init(this,r,instance$2F,create_fragment$2T,safe_not_equal,{})}}function create_fragment$2S($){let r,p,v;return{c(){r=element("pre"),p=element("code"),v=text($[1]),attr(r,"class",$[0])},m(k,x){insert(k,r,x),append(r,p),append(p,v)},p(k,[x]){x&2&&set_data(v,k[1]),x&1&&attr(r,"class",k[0])},i:noop$1,o:noop$1,d(k){k&&detach(r)}}}function instance$2E($,r,p){let{lang:v}=r,{text:k}=r;return $.$$set=x=>{"lang"in x&&p(0,v=x.lang),"text"in x&&p(1,k=x.text)},[v,k]}class Code extends SvelteComponent{constructor(r){super(),init(this,r,instance$2E,create_fragment$2S,safe_not_equal,{lang:0,text:1})}}function create_fragment$2R($){let r,p;const v=$[1].default,k=create_slot(v,$,$[0],null);return{c(){r=element("br"),k&&k.c()},m(x,S){insert(x,r,S),k&&k.m(x,S),p=!0},p(x,[S]){k&&k.p&&(!p||S&1)&&update_slot_base(k,v,x,x[0],p?get_slot_changes(v,x[0],S,null):get_all_dirty_from_scope(x[0]),null)},i(x){p||(transition_in(k,x),p=!0)},o(x){transition_out(k,x),p=!1},d(x){x&&detach(r),k&&k.d(x)}}}function instance$2D($,r,p){let{$$slots:v={},$$scope:k}=r;return $.$$set=x=>{"$$scope"in x&&p(0,k=x.$$scope)},[k,v]}class Br extends SvelteComponent{constructor(r){super(),init(this,r,instance$2D,create_fragment$2R,safe_not_equal,{})}}const defaultRenderers={heading:Heading,paragraph:Paragraph,text:Text,image:Image$1,link:Link$1,em:Em,strong:Strong,codespan:Codespan,del:Del,table:Table,tablehead:TableHead,tablebody:TableBody,tablerow:TableRow,tablecell:TableCell,list:List,orderedlistitem:null,unorderedlistitem:null,listitem:ListItem,hr:Hr,html:Html,blockquote:Blockquote,code:Code,br:Br},defaultOptions={baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,xhtml:!1};function create_fragment$2Q($){let r,p;return r=new Parser$1({props:{tokens:$[0],renderers:$[1]}}),{c(){create_component(r.$$.fragment)},m(v,k){mount_component(r,v,k),p=!0},p(v,[k]){const x={};k&1&&(x.tokens=v[0]),k&2&&(x.renderers=v[1]),r.$set(x)},i(v){p||(transition_in(r.$$.fragment,v),p=!0)},o(v){transition_out(r.$$.fragment,v),p=!1},d(v){destroy_component(r,v)}}}function instance$2C($,r,p){let v,k,x,S,{source:L=[]}=r,{renderers:I={}}=r,{options:O={}}=r,{isInline:F=!1}=r;const U=createEventDispatcher();let R,N,j;return setContext(key,{slug:q=>k?k.slug(q):"",getOptions:()=>x}),onMount(()=>{p(7,j=!0)}),$.$$set=q=>{"source"in q&&p(2,L=q.source),"renderers"in q&&p(3,I=q.renderers),"options"in q&&p(4,O=q.options),"isInline"in q&&p(5,F=q.isInline)},$.$$.update=()=>{$.$$.dirty&4&&p(8,v=Array.isArray(L)),$.$$.dirty&4&&(k=L?new Slugger:void 0),$.$$.dirty&16&&p(9,x={...defaultOptions,...O}),$.$$.dirty&869&&(v?p(0,R=L):(p(6,N=new Lexer(x)),p(0,R=F?N.inlineTokens(L):N.lex(L)),U("parsed",{tokens:R}))),$.$$.dirty&8&&p(1,S={...defaultRenderers,...I}),$.$$.dirty&385&&j&&!v&&U("parsed",{tokens:R})},[R,S,L,I,O,F,N,j,v,x]}class SvelteMarkdown extends SvelteComponent{constructor(r){super(),init(this,r,instance$2C,create_fragment$2Q,safe_not_equal,{source:2,renderers:3,options:4,isInline:5})}}function create_else_block$l($){let r,p,v,k,x;return p=new Spinner({props:{height:32}}),{c(){r=element("div"),create_component(p.$$.fragment),v=space(),k=element("p"),k.textContent="Reading items...",attr(k,"class","caption"),attr(r,"class","loading")},m(S,L){insert(S,r,L),mount_component(p,r,null),append(r,v),append(r,k),x=!0},p:noop$1,i(S){x||(transition_in(p.$$.fragment,S),x=!0)},o(S){transition_out(p.$$.fragment,S),x=!1},d(S){S&&detach(r),destroy_component(p)}}}function create_if_block_1$m($){let r;return{c(){r=element("p"),r.textContent=`ArcOS is currently unable to get the latest release information from the
    github repository. Please try again later.`},m(p,v){insert(p,r,v)},p:noop$1,i:noop$1,o:noop$1,d(p){p&&detach(r)}}}function create_if_block$1a($){let r,p,v=$[0].tag_name+"",k,x,S,L;return S=new SvelteMarkdown({props:{source:$[0].body}}),{c(){r=element("h3"),p=text("Changelog for ArcOS v"),k=text(v),x=space(),create_component(S.$$.fragment)},m(I,O){insert(I,r,O),append(r,p),append(r,k),insert(I,x,O),mount_component(S,I,O),L=!0},p(I,O){(!L||O&1)&&v!==(v=I[0].tag_name+"")&&set_data(k,v);const F={};O&1&&(F.source=I[0].body),S.$set(F)},i(I){L||(transition_in(S.$$.fragment,I),L=!0)},o(I){transition_out(S.$$.fragment,I),L=!1},d(I){I&&detach(r),I&&detach(x),destroy_component(S,I)}}}function create_fragment$2P($){let r,p,v,k;const x=[create_if_block$1a,create_if_block_1$m,create_else_block$l],S=[];function L(I,O){return I[0]?0:I[1]?2:1}return r=L($),p=S[r]=x[r]($),{c(){p.c(),v=empty()},m(I,O){S[r].m(I,O),insert(I,v,O),k=!0},p(I,[O]){let F=r;r=L(I),r===F?S[r].p(I,O):(group_outros(),transition_out(S[F],1,1,()=>{S[F]=null}),check_outros(),p=S[r],p?p.p(I,O):(p=S[r]=x[r](I),p.c()),transition_in(p,1),p.m(v.parentNode,v))},i(I){k||(transition_in(p),k=!0)},o(I){transition_out(p),k=!1},d(I){S[r].d(I),I&&detach(v)}}}function instance$2B($,r,p){let v,k=!1;return onMount(async()=>{p(1,k=!0),p(0,v=await getLatestRelease()),p(1,k=!1)}),[v,k]}class RecentChanges extends SvelteComponent{constructor(r){super(),init(this,r,instance$2B,create_fragment$2P,safe_not_equal,{})}}const helpCenterArticles={homePage:{title:"Home",content:HomePage,sep:!0,authors:["Izaak Kuipers"]},homePageChanges:{title:"Recent Changes",content:RecentChanges,authors:["Izaak Kuipers"],parentId:"homePage"},...personalization,...actioncenter$1,...accounts,...arcterm,...arcfs,...arcfind$1,...apps$1,...logging},currentArticle=writable();function create_if_block$19($){let r,p,v;var k=helpCenterArticles[$[0]].content;function x(S){return{}}return k&&(r=construct_svelte_component(k,x())),{c(){r&&create_component(r.$$.fragment),p=empty()},m(S,L){r&&mount_component(r,S,L),insert(S,p,L),v=!0},p(S,L){if(L&1&&k!==(k=helpCenterArticles[S[0]].content)){if(r){group_outros();const I=r;transition_out(I.$$.fragment,1,0,()=>{destroy_component(I,1)}),check_outros()}k?(r=construct_svelte_component(k,x()),create_component(r.$$.fragment),transition_in(r.$$.fragment,1),mount_component(r,p.parentNode,p)):r=null}},i(S){v||(r&&transition_in(r.$$.fragment,S),v=!0)},o(S){r&&transition_out(r.$$.fragment,S),v=!1},d(S){S&&detach(p),r&&destroy_component(r,S)}}}function create_fragment$2O($){let r,p,v=$[0]&&helpCenterArticles[$[0]]&&create_if_block$19($);return{c(){r=element("div"),v&&v.c(),attr(r,"class","article-renderer markdownrenderer")},m(k,x){insert(k,r,x),v&&v.m(r,null),p=!0},p(k,[x]){k[0]&&helpCenterArticles[k[0]]?v?(v.p(k,x),x&1&&transition_in(v,1)):(v=create_if_block$19(k),v.c(),transition_in(v,1),v.m(r,null)):v&&(group_outros(),transition_out(v,1,1,()=>{v=null}),check_outros())},i(k){p||(transition_in(v),p=!0)},o(k){transition_out(v),p=!1},d(k){k&&detach(r),v&&v.d()}}}function instance$2A($,r,p){let v;return component_subscribe($,currentArticle,k=>p(0,v=k)),[v]}class ArticleRenderer extends SvelteComponent{constructor(r){super(),init(this,r,instance$2A,create_fragment$2O,safe_not_equal,{})}}function get_each_context$H($,r,p){const v=$.slice();return v[5]=r[p],v}function create_if_block_1$l($){let r,p;return r=new Article_1({props:{article:$[5][1],id:$[5][0],articles:$[2]}}),{c(){create_component(r.$$.fragment)},m(v,k){mount_component(r,v,k),p=!0},p(v,k){const x={};k&4&&(x.article=v[5][1]),k&4&&(x.id=v[5][0]),k&4&&(x.articles=v[2]),r.$set(x)},i(v){p||(transition_in(r.$$.fragment,v),p=!0)},o(v){transition_out(r.$$.fragment,v),p=!1},d(v){destroy_component(r,v)}}}function create_each_block$H($){let r,p,v=$[5][1].parentId==$[1]&&create_if_block_1$l($);return{c(){v&&v.c(),r=empty()},m(k,x){v&&v.m(k,x),insert(k,r,x),p=!0},p(k,x){k[5][1].parentId==k[1]?v?(v.p(k,x),x&6&&transition_in(v,1)):(v=create_if_block_1$l(k),v.c(),transition_in(v,1),v.m(r.parentNode,r)):v&&(group_outros(),transition_out(v,1,1,()=>{v=null}),check_outros())},i(k){p||(transition_in(v),p=!0)},o(k){transition_out(v),p=!1},d(k){v&&v.d(k),k&&detach(r)}}}function create_if_block$18($){let r;return{c(){r=element("hr")},m(p,v){insert(p,r,v)},d(p){p&&detach(r)}}}function create_fragment$2N($){let r,p=$[0].title+"",v,k,x,S,L,I,O,F,U=$[2],R=[];for(let q=0;q<U.length;q+=1)R[q]=create_each_block$H(get_each_context$H($,U,q));const N=q=>transition_out(R[q],1,1,()=>{R[q]=null});let j=$[0].sep&&create_if_block$18();return{c(){r=element("button"),v=text(p),k=space(),x=element("div");for(let q=0;q<R.length;q+=1)R[q].c();S=space(),j&&j.c(),L=empty(),attr(r,"class","article-link"),toggle_class(r,"selected",$[3]==$[1]),attr(x,"class","indent")},m(q,H){insert(q,r,H),append(r,v),insert(q,k,H),insert(q,x,H);for(let Q=0;Q<R.length;Q+=1)R[Q]&&R[Q].m(x,null);insert(q,S,H),j&&j.m(q,H),insert(q,L,H),I=!0,O||(F=listen(r,"click",$[4]),O=!0)},p(q,[H]){if((!I||H&1)&&p!==(p=q[0].title+"")&&set_data(v,p),(!I||H&10)&&toggle_class(r,"selected",q[3]==q[1]),H&6){U=q[2];let Q;for(Q=0;Q<U.length;Q+=1){const V=get_each_context$H(q,U,Q);R[Q]?(R[Q].p(V,H),transition_in(R[Q],1)):(R[Q]=create_each_block$H(V),R[Q].c(),transition_in(R[Q],1),R[Q].m(x,null))}for(group_outros(),Q=U.length;Q<R.length;Q+=1)N(Q);check_outros()}q[0].sep?j||(j=create_if_block$18(),j.c(),j.m(L.parentNode,L)):j&&(j.d(1),j=null)},i(q){if(!I){for(let H=0;H<U.length;H+=1)transition_in(R[H]);I=!0}},o(q){R=R.filter(Boolean);for(let H=0;H<R.length;H+=1)transition_out(R[H]);I=!1},d(q){q&&detach(r),q&&detach(k),q&&detach(x),destroy_each(R,q),q&&detach(S),j&&j.d(q),q&&detach(L),O=!1,F()}}}function instance$2z($,r,p){let v;component_subscribe($,currentArticle,I=>p(3,v=I));let{article:k}=r,{id:x}=r,{articles:S=[]}=r;function L(){currentArticle.set(x)}return $.$$set=I=>{"article"in I&&p(0,k=I.article),"id"in I&&p(1,x=I.id),"articles"in I&&p(2,S=I.articles)},[k,x,S,v,L]}class Article_1 extends SvelteComponent{constructor(r){super(),init(this,r,instance$2z,create_fragment$2N,safe_not_equal,{article:0,id:1,articles:2})}}function get_each_context$G($,r,p){const v=$.slice();return v[1]=r[p],v}function create_if_block$17($){let r,p;return r=new Article_1({props:{article:$[1][1],id:$[1][0],articles:$[0]}}),{c(){create_component(r.$$.fragment)},m(v,k){mount_component(r,v,k),p=!0},p(v,k){const x={};k&1&&(x.article=v[1][1]),k&1&&(x.id=v[1][0]),k&1&&(x.articles=v[0]),r.$set(x)},i(v){p||(transition_in(r.$$.fragment,v),p=!0)},o(v){transition_out(r.$$.fragment,v),p=!1},d(v){destroy_component(r,v)}}}function create_each_block$G($){let r,p,v=!$[1][1].parentId&&create_if_block$17($);return{c(){v&&v.c(),r=empty()},m(k,x){v&&v.m(k,x),insert(k,r,x),p=!0},p(k,x){k[1][1].parentId?v&&(group_outros(),transition_out(v,1,1,()=>{v=null}),check_outros()):v?(v.p(k,x),x&1&&transition_in(v,1)):(v=create_if_block$17(k),v.c(),transition_in(v,1),v.m(r.parentNode,r))},i(k){p||(transition_in(v),p=!0)},o(k){transition_out(v),p=!1},d(k){v&&v.d(k),k&&detach(r)}}}function create_fragment$2M($){let r,p,v=$[0],k=[];for(let S=0;S<v.length;S+=1)k[S]=create_each_block$G(get_each_context$G($,v,S));const x=S=>transition_out(k[S],1,1,()=>{k[S]=null});return{c(){r=element("div");for(let S=0;S<k.length;S+=1)k[S].c();attr(r,"class","sidebar")},m(S,L){insert(S,r,L);for(let I=0;I<k.length;I+=1)k[I]&&k[I].m(r,null);p=!0},p(S,[L]){if(L&1){v=S[0];let I;for(I=0;I<v.length;I+=1){const O=get_each_context$G(S,v,I);k[I]?(k[I].p(O,L),transition_in(k[I],1)):(k[I]=create_each_block$G(O),k[I].c(),transition_in(k[I],1),k[I].m(r,null))}for(group_outros(),I=v.length;I<k.length;I+=1)x(I);check_outros()}},i(S){if(!p){for(let L=0;L<v.length;L+=1)transition_in(k[L]);p=!0}},o(S){k=k.filter(Boolean);for(let L=0;L<k.length;L+=1)transition_out(k[L]);p=!1},d(S){S&&detach(r),destroy_each(k,S)}}}function instance$2y($,r,p){let v=[];return onMount(()=>{p(0,v=Object.entries(helpCenterArticles))}),[v]}let SideBar$2=class extends SvelteComponent{constructor(r){super(),init(this,r,instance$2y,create_fragment$2M,safe_not_equal,{})}};function create_fragment$2L($){let r,p,v,k;return r=new ArticleRenderer({}),v=new SideBar$2({}),{c(){create_component(r.$$.fragment),p=space(),create_component(v.$$.fragment)},m(x,S){mount_component(r,x,S),insert(x,p,S),mount_component(v,x,S),k=!0},p:noop$1,i(x){k||(transition_in(r.$$.fragment,x),transition_in(v.$$.fragment,x),k=!0)},o(x){transition_out(r.$$.fragment,x),transition_out(v.$$.fragment,x),k=!1},d(x){destroy_component(r,x),x&&detach(p),destroy_component(v,x)}}}let HelpCenter$1=class extends SvelteComponent{constructor(r){super(),init(this,r,null,create_fragment$2L,safe_not_equal,{})}};const HelpCenter={info:{name:"Help Center",description:"You have questions, I have answers.",builtin:!0,version:"1.0.0",author:"ArcOS Team",icon:logo$7,hidden:!0},size:{w:800,h:600},pos:{x:30,y:40},minSize:{w:800,h:600},maxSize:{w:901,h:700},controls:{min:!0,max:!0,cls:!0},state:{headless:!1,resizable:!1,windowState:{min:!1,max:!1,fll:!1}},content:HelpCenter$1,glass:!0,events:{open(){createOverlayableError({title:"Caution!",message:"This application is still in development past the release of 5.0.6. It was hidden to prevent you from seeing this half finished help center. Do not take the content or UI serious.",buttons:[{caption:"OK",action(){}}]},"HelpCenter")}}},logo$6=""+new URL("imageviewer-5b7c750b.svg",import.meta.url).href,imageviewer="";function create_if_block$16($){let r,p,v,k;return{c(){r=element("img"),src_url_equal(r.src,p=$[1])||attr(r,"src",p),attr(r,"alt",v=$[0].openedFile.name),attr(r,"data-caller","output"),attr(r,"data-path",k=$[0].openedFile.path)},m(x,S){insert(x,r,S)},p(x,S){S&2&&!src_url_equal(r.src,p=x[1])&&attr(r,"src",p),S&1&&v!==(v=x[0].openedFile.name)&&attr(r,"alt",v),S&1&&k!==(k=x[0].openedFile.path)&&attr(r,"data-path",k)},d(x){x&&detach(r)}}}function create_fragment$2K($){let r,p=$[0].openedFile&&$[1]&&create_if_block$16($);return{c(){p&&p.c(),r=empty()},m(v,k){p&&p.m(v,k),insert(v,r,k)},p(v,[k]){v[0].openedFile&&v[1]?p?p.p(v,k):(p=create_if_block$16(v),p.c(),p.m(r.parentNode,r)):p&&(p.d(1),p=null)},i:noop$1,o:noop$1,d(v){p&&p.d(v),v&&detach(r)}}}function instance$2x($,r,p){let{app:v}=r,k="";return WindowStore.subscribe(()=>{if(!v.openedFile)return p(1,k="");const x=new Blob([new Uint8Array(v.openedFile.data)],{type:v.openedFile.mime});p(1,k=URL.createObjectURL(x))}),$.$$set=x=>{"app"in x&&p(0,v=x.app)},[v,k]}class ImageView extends SvelteComponent{constructor(r){super(),init(this,r,instance$2x,create_fragment$2K,safe_not_equal,{app:0})}}const textview="",chooseTargets=writable({});function setTargetFile($,r){const p=get_store_value(chooseTargets),v=p[$],k=get_store_value(WindowStore);let x=null;for(let S=0;S<k.length;S++)k[S].id==v&&(x=S);return x==null?!1:(k[x].openedFile=r,k[x].events&&k[x].events.openFile&&k[x].events.openFile(k[x]),delete k[x].overlays[$],WindowStore.set(k),delete p[$],chooseTargets.set(p),!0)}function getChooserTarget($){return get_store_value(chooseTargets)[$]||!1}function assignTarget($,r){const p=get_store_value(chooseTargets);return p[$]?!1:(p[$]=r,chooseTargets.set(p),!0)}function create_fragment$2J($){let r,p,v,k,x,S,L,I,O;return{c(){r=element("div"),p=element("div"),v=element("button"),v.textContent="Cancel",k=space(),x=element("button"),S=text("Open"),attr(v,"class","cancel"),attr(x,"class","confirm"),x.disabled=L=!$[5]||!$[4],attr(p,"class","buttons"),attr(r,"class","bottompane")},m(F,U){insert(F,r,U),append(r,p),append(p,v),append(p,k),append(p,x),append(x,S),I||(O=[listen(v,"click",$[7]),listen(x,"click",$[6])],I=!0)},p(F,[U]){U&48&&L!==(L=!F[5]||!F[4])&&(x.disabled=L)},i:noop$1,o:noop$1,d(F){F&&detach(r),I=!1,run_all(O)}}}function instance$2w($,r,p){let v,k=noop$1,x=()=>(k(),k=subscribe(V,J=>p(9,v=J)),V),S,L=noop$1,I=()=>(L(),L=subscribe(q,J=>p(10,S=J)),q),O,F=noop$1,U=()=>(F(),F=subscribe(Q,J=>p(4,O=J)),Q),R,N=noop$1,j=()=>(N(),N=subscribe(H,J=>p(5,R=J)),H);$.$$.on_destroy.push(()=>k()),$.$$.on_destroy.push(()=>L()),$.$$.on_destroy.push(()=>F()),$.$$.on_destroy.push(()=>N());let{currentDir:q}=r;I();let{currentPath:H}=r;j();let{selected:Q}=r;U();let{processing:V}=r;x();let{overlay:K}=r;async function G(){set_store_value(V,v=!0,v);let J;for(let X=0;X<S.files.length;X++)S.files[X].filename==O&&(J=S.files[X]);const Z={name:J.filename,path:J.scopedPath,data:await readFile(J.scopedPath),mime:J.mime};hideOverlay(K.id,getChooserTarget(K.id)),setTargetFile(K.id,Z),set_store_value(V,v=!1,v)}function Y(){const J=getChooserTarget(K.id),Z=getWindow(J);hideOverlay(K.id,J),setTargetFile(K.id,Z.openedFile)}return $.$$set=J=>{"currentDir"in J&&I(p(0,q=J.currentDir)),"currentPath"in J&&j(p(1,H=J.currentPath)),"selected"in J&&U(p(2,Q=J.selected)),"processing"in J&&x(p(3,V=J.processing)),"overlay"in J&&p(8,K=J.overlay)},[q,H,Q,V,O,R,G,Y,K]}let BottomPane$1=class extends SvelteComponent{constructor(r){super(),init(this,r,instance$2w,create_fragment$2J,safe_not_equal,{currentDir:0,currentPath:1,selected:2,processing:3,overlay:8})}};function create_fragment$2I($){let r,p,v,k,x,S,L,I=$[0].name+"",O,F,U,R,N,j,q;return{c(){r=element("button"),p=element("div"),v=element("img"),S=space(),L=element("div"),O=text(I),F=space(),U=element("div"),U.textContent="Folder",R=space(),N=element("div"),N.textContent="-",src_url_equal(v.src,k=folder)||attr(v,"src",k),attr(v,"alt",x=$[0].name),attr(p,"class","image"),attr(L,"class","name"),attr(U,"class","mime"),attr(N,"class","size"),attr(r,"class","item dir")},m(H,Q){insert(H,r,Q),append(r,p),append(p,v),append(r,S),append(r,L),append(L,O),append(r,F),append(r,U),append(r,R),append(r,N),j||(q=listen(r,"dblclick",$[2]),j=!0)},p(H,[Q]){Q&1&&x!==(x=H[0].name)&&attr(v,"alt",x),Q&1&&I!==(I=H[0].name+"")&&set_data(O,I)},i:noop$1,o:noop$1,d(H){H&&detach(r),j=!1,q()}}}function instance$2v($,r,p){let{dir:v}=r,{setDir:k}=r;const x=()=>k(v.scopedPath);return $.$$set=S=>{"dir"in S&&p(0,v=S.dir),"setDir"in S&&p(1,k=S.setDir)},[v,k,x]}let Dir$1=class extends SvelteComponent{constructor(r){super(),init(this,r,instance$2v,create_fragment$2I,safe_not_equal,{dir:0,setDir:1})}};function create_fragment$2H($){let r,p,v,k,x,S,L,I=$[2].filename+"",O,F,U,R=$[2].mime.split("; ")[0].split("/").join(" - ")+"",N,j,q,H=formatBytes($[2].size)+"",Q,V,K;return{c(){r=element("button"),p=element("div"),v=element("img"),S=space(),L=element("div"),O=text(I),F=space(),U=element("div"),N=text(R),j=space(),q=element("div"),Q=text(H),src_url_equal(v.src,k=$[3])||attr(v,"src",k),attr(v,"alt",x=$[2].filename),attr(p,"class","image"),attr(L,"class","name"),attr(U,"class","mime"),attr(q,"class","size"),attr(r,"class","item file"),toggle_class(r,"selected",$[4]==$[2].filename)},m(G,Y){insert(G,r,Y),append(r,p),append(p,v),append(r,S),append(r,L),append(L,O),append(r,F),append(r,U),append(U,N),append(r,j),append(r,q),append(q,Q),V||(K=[listen(r,"dblclick",$[5]),listen(r,"click",$[7])],V=!0)},p(G,[Y]){Y&8&&!src_url_equal(v.src,k=G[3])&&attr(v,"src",k),Y&4&&x!==(x=G[2].filename)&&attr(v,"alt",x),Y&4&&I!==(I=G[2].filename+"")&&set_data(O,I),Y&4&&R!==(R=G[2].mime.split("; ")[0].split("/").join(" - ")+"")&&set_data(N,R),Y&4&&H!==(H=formatBytes(G[2].size)+"")&&set_data(Q,H),Y&20&&toggle_class(r,"selected",G[4]==G[2].filename)},i:noop$1,o:noop$1,d(G){G&&detach(r),V=!1,run_all(K)}}}function instance$2u($,r,p){let v,k=noop$1,x=()=>(k(),k=subscribe(U,H=>p(8,v=H)),U),S,L=noop$1,I=()=>(L(),L=subscribe(F,H=>p(4,S=H)),F);$.$$.on_destroy.push(()=>k()),$.$$.on_destroy.push(()=>L());let{overlay:O}=r,{selected:F}=r;I();let{processing:U}=r;x();let R="";onMount(()=>{p(3,R=getMimeIcon(j.filename))});async function N(){set_store_value(U,v=!0,v);const H={name:j.filename,path:j.scopedPath,data:await readFile(j.scopedPath),mime:j.mime};setTargetFile(O.id,H),set_store_value(U,v=!1,v)}let{file:j}=r;const q=()=>set_store_value(F,S=j.filename,S);return $.$$set=H=>{"overlay"in H&&p(6,O=H.overlay),"selected"in H&&I(p(0,F=H.selected)),"processing"in H&&x(p(1,U=H.processing)),"file"in H&&p(2,j=H.file)},[F,U,j,R,S,N,O,q]}let File$1=class extends SvelteComponent{constructor(r){super(),init(this,r,instance$2u,create_fragment$2H,safe_not_equal,{overlay:6,selected:0,processing:1,file:2})}};function getAppPreference($,r){const p=get_store_value(UserData);if(!(!p.appdata||!p.appdata[$]))return p.appdata[$][r]}function setAppPreference($,r,p){const v=get_store_value(UserData);return!v.appdata||!v.appdata[$]?!1:(v.appdata[$][r]=p,UserData.set(v),!0)}function create_if_block$15($){let r,p,v,k;return{c(){r=element("button"),p=text($[0]),attr(r,"class","crumb")},m(x,S){insert(x,r,S),append(r,p),v||(k=listen(r,"click",$[1]),v=!0)},p(x,S){S&1&&set_data(p,x[0])},d(x){x&&detach(r),v=!1,k()}}}function create_fragment$2G($){let r,p=$[0]&&$[0]!="."&&create_if_block$15($);return{c(){p&&p.c(),r=empty()},m(v,k){p&&p.m(v,k),insert(v,r,k)},p(v,[k]){v[0]&&v[0]!="."?p?p.p(v,k):(p=create_if_block$15(v),p.c(),p.m(r.parentNode,r)):p&&(p.d(1),p=null)},i:noop$1,o:noop$1,d(v){p&&p.d(v),v&&detach(r)}}}function instance$2t($,r,p){let{crumb:v}=r,{path:k}=r,{setDir:x}=r;function S(){x(k)}return $.$$set=L=>{"crumb"in L&&p(0,v=L.crumb),"path"in L&&p(2,k=L.path),"setDir"in L&&p(3,x=L.setDir)},[v,S,k,x]}class Crumb extends SvelteComponent{constructor(r){super(),init(this,r,instance$2t,create_fragment$2G,safe_not_equal,{crumb:0,path:2,setDir:3})}}function get_each_context$F($,r,p){const v=$.slice();return v[10]=r[p],v[12]=p,v}function create_each_block$F($){let r,p;return r=new Crumb({props:{crumb:$[10],path:$[6]($[10],$[12]),setDir:$[3]}}),{c(){create_component(r.$$.fragment)},m(v,k){mount_component(r,v,k),p=!0},p(v,k){const x={};k&16&&(x.crumb=v[10]),k&16&&(x.path=v[6](v[10],v[12])),k&8&&(x.setDir=v[3]),r.$set(x)},i(v){p||(transition_in(r.$$.fragment,v),p=!0)},o(v){transition_out(r.$$.fragment,v),p=!1},d(v){destroy_component(r,v)}}}function create_fragment$2F($){let r,p,v,k,x,S,L,I,O,F,U,R,N,j,q,H,Q,V,K,G,Y,J=$[4],Z=[];for(let ee=0;ee<J.length;ee+=1)Z[ee]=create_each_block$F(get_each_context$F($,J,ee));const X=ee=>transition_out(Z[ee],1,1,()=>{Z[ee]=null});return{c(){r=element("div"),p=element("button"),v=text("arrow_upward"),x=space(),S=element("button"),S.textContent="home",L=space(),I=element("div");for(let ee=0;ee<Z.length;ee+=1)Z[ee].c();O=space(),F=element("button"),F.textContent="refresh",U=space(),R=element("div"),N=element("button"),j=text("format_list_bulleted"),H=space(),Q=element("button"),V=text("grid_view"),attr(p,"class","parentdir material-icons-round"),p.disabled=k=$[4].length==2&&$[4][0]=="."&&!$[4][1],attr(S,"class","home material-icons-round"),attr(I,"class","addressbar"),attr(F,"class","refresh material-icons-round"),attr(N,"class","material-icons-round"),N.disabled=q=!$[0],attr(N,"title","List view"),toggle_class(N,"selected",$[0]),attr(Q,"class","material-icons-round"),Q.disabled=$[0],attr(Q,"title","Tile view"),toggle_class(Q,"selected",!$[0]),attr(R,"class","group"),attr(r,"class","topbar")},m(ee,te){insert(ee,r,te),append(r,p),append(p,v),append(r,x),append(r,S),append(r,L),append(r,I);for(let le=0;le<Z.length;le+=1)Z[le]&&Z[le].m(I,null);append(r,O),append(r,F),append(r,U),append(r,R),append(R,N),append(N,j),append(R,H),append(R,Q),append(Q,V),K=!0,G||(Y=[listen(p,"click",$[7]),listen(S,"click",$[5]),listen(F,"click",function(){is_function($[2])&&$[2].apply(this,arguments)}),listen(N,"click",$[8]),listen(Q,"click",$[8])],G=!0)},p(ee,[te]){if($=ee,(!K||te&16&&k!==(k=$[4].length==2&&$[4][0]=="."&&!$[4][1]))&&(p.disabled=k),te&88){J=$[4];let le;for(le=0;le<J.length;le+=1){const ue=get_each_context$F($,J,le);Z[le]?(Z[le].p(ue,te),transition_in(Z[le],1)):(Z[le]=create_each_block$F(ue),Z[le].c(),transition_in(Z[le],1),Z[le].m(I,null))}for(group_outros(),le=J.length;le<Z.length;le+=1)X(le);check_outros()}(!K||te&1&&q!==(q=!$[0]))&&(N.disabled=q),(!K||te&1)&&toggle_class(N,"selected",$[0]),(!K||te&1)&&(Q.disabled=$[0]),(!K||te&1)&&toggle_class(Q,"selected",!$[0])},i(ee){if(!K){for(let te=0;te<J.length;te+=1)transition_in(Z[te]);K=!0}},o(ee){Z=Z.filter(Boolean);for(let te=0;te<Z.length;te+=1)transition_out(Z[te]);K=!1},d(ee){ee&&detach(r),destroy_each(Z,ee),G=!1,run_all(Y)}}}function instance$2s($,r,p){let v,k=noop$1,x=()=>(k(),k=subscribe(S,q=>p(9,v=q)),S);$.$$.on_destroy.push(()=>k());let{currentPath:S}=r;x();let{refresh:L}=r,{setDir:I}=r,O,{tiled:F}=r;S.subscribe(q=>{p(4,O=q.split("/")),L(),p(0,F=!!getAppPreference("FileManager","tiled"))});function U(){S.set("./")}function R(q,H){let Q="";for(let V=0;V<H;V++)Q+=`${O[V]}/`;return`${Q}${q}`}function N(){I(getParentDirectory(v))}function j(){p(0,F=!F),setAppPreference("FileManager","tiled",F)}return UserData.subscribe(()=>{p(0,F=!!getAppPreference("FileManager","tiled"))}),$.$$set=q=>{"currentPath"in q&&x(p(1,S=q.currentPath)),"refresh"in q&&p(2,L=q.refresh),"setDir"in q&&p(3,I=q.setDir),"tiled"in q&&p(0,F=q.tiled)},[F,S,L,I,O,U,R,N,j]}let TopBar$1=class extends SvelteComponent{constructor(r){super(),init(this,r,instance$2s,create_fragment$2F,safe_not_equal,{currentPath:1,refresh:2,setDir:3,tiled:0})}};const chooseroverlay="";function create_fragment$2E($){let r,p,v,k,x,S,L=$[0].name+"",I,O,F;return{c(){r=element("button"),p=element("img"),x=space(),S=element("p"),I=text(L),src_url_equal(p.src,v=folder)||attr(p,"src",v),attr(p,"alt",k=$[0].name),attr(S,"class","caption"),attr(r,"class","tile dir")},m(U,R){insert(U,r,R),append(r,p),append(r,x),append(r,S),append(S,I),O||(F=listen(r,"dblclick",$[1]),O=!0)},p(U,[R]){R&1&&k!==(k=U[0].name)&&attr(p,"alt",k),R&1&&L!==(L=U[0].name+"")&&set_data(I,L)},i:noop$1,o:noop$1,d(U){U&&detach(r),O=!1,F()}}}function instance$2r($,r,p){let{dir:v}=r,{setDir:k}=r;function x(){k(v.scopedPath)}return $.$$set=S=>{"dir"in S&&p(0,v=S.dir),"setDir"in S&&p(2,k=S.setDir)},[v,x,k]}class Dir extends SvelteComponent{constructor(r){super(),init(this,r,instance$2r,create_fragment$2E,safe_not_equal,{dir:0,setDir:2})}}function create_fragment$2D($){let r,p,v,k,x,S,L,I=$[2].filename+"",O,F,U;return{c(){r=element("button"),p=element("div"),v=element("img"),S=space(),L=element("p"),O=text(I),src_url_equal(v.src,k=$[3])||attr(v,"src",k),attr(v,"alt",x=$[2].filename),attr(p,"class","image"),attr(L,"class","name"),attr(r,"class","tile file"),toggle_class(r,"selected",$[4]==$[2].filename)},m(R,N){insert(R,r,N),append(r,p),append(p,v),append(r,S),append(r,L),append(L,O),F||(U=[listen(r,"dblclick",$[5]),listen(r,"click",$[7])],F=!0)},p(R,[N]){N&8&&!src_url_equal(v.src,k=R[3])&&attr(v,"src",k),N&4&&x!==(x=R[2].filename)&&attr(v,"alt",x),N&4&&I!==(I=R[2].filename+"")&&set_data(O,I),N&20&&toggle_class(r,"selected",R[4]==R[2].filename)},i:noop$1,o:noop$1,d(R){R&&detach(r),F=!1,run_all(U)}}}function instance$2q($,r,p){let v,k=noop$1,x=()=>(k(),k=subscribe(U,H=>p(8,v=H)),U),S,L=noop$1,I=()=>(L(),L=subscribe(F,H=>p(4,S=H)),F);$.$$.on_destroy.push(()=>k()),$.$$.on_destroy.push(()=>L());let{overlay:O}=r,{selected:F}=r;I();let{processing:U}=r;x();let R="";onMount(()=>{p(3,R=getMimeIcon(j.filename))});async function N(){set_store_value(U,v=!0,v);const H={name:j.filename,path:j.scopedPath,data:await readFile(j.scopedPath),mime:j.mime};setTargetFile(O.id,H),set_store_value(U,v=!1,v)}let{file:j}=r;const q=()=>set_store_value(F,S=j.filename,S);return $.$$set=H=>{"overlay"in H&&p(6,O=H.overlay),"selected"in H&&I(p(0,F=H.selected)),"processing"in H&&x(p(1,U=H.processing)),"file"in H&&p(2,j=H.file)},[F,U,j,R,S,N,O,q]}class File extends SvelteComponent{constructor(r){super(),init(this,r,instance$2q,create_fragment$2D,safe_not_equal,{overlay:6,selected:0,processing:1,file:2})}}function get_each_context$E($,r,p){const v=$.slice();return v[5]=r[p],v}function get_each_context_1$8($,r,p){const v=$.slice();return v[8]=r[p],v}function create_if_block$14($){let r,p,v=$[3].directories,k=[];for(let S=0;S<v.length;S+=1)k[S]=create_each_block_1$8(get_each_context_1$8($,v,S));const x=S=>transition_out(k[S],1,1,()=>{k[S]=null});return{c(){r=element("div");for(let S=0;S<k.length;S+=1)k[S].c();attr(r,"class","dirs")},m(S,L){insert(S,r,L);for(let I=0;I<k.length;I+=1)k[I]&&k[I].m(r,null);p=!0},p(S,L){if(L&24){v=S[3].directories;let I;for(I=0;I<v.length;I+=1){const O=get_each_context_1$8(S,v,I);k[I]?(k[I].p(O,L),transition_in(k[I],1)):(k[I]=create_each_block_1$8(O),k[I].c(),transition_in(k[I],1),k[I].m(r,null))}for(group_outros(),I=v.length;I<k.length;I+=1)x(I);check_outros()}},i(S){if(!p){for(let L=0;L<v.length;L+=1)transition_in(k[L]);p=!0}},o(S){k=k.filter(Boolean);for(let L=0;L<k.length;L+=1)transition_out(k[L]);p=!1},d(S){S&&detach(r),destroy_each(k,S)}}}function create_each_block_1$8($){let r,p;return r=new Dir({props:{dir:$[8],setDir:$[4]}}),{c(){create_component(r.$$.fragment)},m(v,k){mount_component(r,v,k),p=!0},p(v,k){const x={};k&8&&(x.dir=v[8]),k&16&&(x.setDir=v[4]),r.$set(x)},i(v){p||(transition_in(r.$$.fragment,v),p=!0)},o(v){transition_out(r.$$.fragment,v),p=!1},d(v){destroy_component(r,v)}}}function create_each_block$E($){let r,p;return r=new File({props:{file:$[5],overlay:$[0],selected:$[1],processing:$[2]}}),{c(){create_component(r.$$.fragment)},m(v,k){mount_component(r,v,k),p=!0},p(v,k){const x={};k&8&&(x.file=v[5]),k&1&&(x.overlay=v[0]),k&2&&(x.selected=v[1]),k&4&&(x.processing=v[2]),r.$set(x)},i(v){p||(transition_in(r.$$.fragment,v),p=!0)},o(v){transition_out(r.$$.fragment,v),p=!1},d(v){destroy_component(r,v)}}}function create_fragment$2C($){let r,p,v,k,x=$[3].directories.length&&create_if_block$14($),S=$[3].files,L=[];for(let O=0;O<S.length;O+=1)L[O]=create_each_block$E(get_each_context$E($,S,O));const I=O=>transition_out(L[O],1,1,()=>{L[O]=null});return{c(){r=element("div"),x&&x.c(),p=space(),v=element("div");for(let O=0;O<L.length;O+=1)L[O].c();attr(v,"class","files"),attr(r,"class","tiled")},m(O,F){insert(O,r,F),x&&x.m(r,null),append(r,p),append(r,v);for(let U=0;U<L.length;U+=1)L[U]&&L[U].m(v,null);k=!0},p(O,[F]){if(O[3].directories.length?x?(x.p(O,F),F&8&&transition_in(x,1)):(x=create_if_block$14(O),x.c(),transition_in(x,1),x.m(r,p)):x&&(group_outros(),transition_out(x,1,1,()=>{x=null}),check_outros()),F&15){S=O[3].files;let U;for(U=0;U<S.length;U+=1){const R=get_each_context$E(O,S,U);L[U]?(L[U].p(R,F),transition_in(L[U],1)):(L[U]=create_each_block$E(R),L[U].c(),transition_in(L[U],1),L[U].m(v,null))}for(group_outros(),U=S.length;U<L.length;U+=1)I(U);check_outros()}},i(O){if(!k){transition_in(x);for(let F=0;F<S.length;F+=1)transition_in(L[F]);k=!0}},o(O){transition_out(x),L=L.filter(Boolean);for(let F=0;F<L.length;F+=1)transition_out(L[F]);k=!1},d(O){O&&detach(r),x&&x.d(),destroy_each(L,O)}}}function instance$2p($,r,p){let{overlay:v}=r,{selected:k}=r,{processing:x}=r,{data:S}=r,{setDir:L}=r;return $.$$set=I=>{"overlay"in I&&p(0,v=I.overlay),"selected"in I&&p(1,k=I.selected),"processing"in I&&p(2,x=I.processing),"data"in I&&p(3,S=I.data),"setDir"in I&&p(4,L=I.setDir)},[v,k,x,S,L]}class Tiled extends SvelteComponent{constructor(r){super(),init(this,r,instance$2p,create_fragment$2C,safe_not_equal,{overlay:0,selected:1,processing:2,data:3,setDir:4})}}function create_fragment$2B($){let r,p,v,k,x,S,L=$[0].name+"",I,O,F;return{c(){r=element("button"),p=element("img"),x=space(),S=element("p"),I=text(L),src_url_equal(p.src,v=folder)||attr(p,"src",v),attr(p,"alt",k=$[0].name),attr(S,"class","caption"),attr(r,"class","link"),toggle_class(r,"selected",$[1])},m(U,R){insert(U,r,R),append(r,p),append(r,x),append(r,S),append(S,I),O||(F=listen(r,"click",$[2]),O=!0)},p(U,[R]){R&1&&k!==(k=U[0].name)&&attr(p,"alt",k),R&1&&L!==(L=U[0].name+"")&&set_data(I,L),R&2&&toggle_class(r,"selected",U[1])},i:noop$1,o:noop$1,d(U){U&&detach(r),O=!1,F()}}}function instance$2o($,r,p){let{folder:v}=r,{setDir:k}=r,{currentPath:x}=r,S=!1;function L(){k(v.scopedPath)}return x.subscribe(I=>{p(1,S=I==v.scopedPath)}),$.$$set=I=>{"folder"in I&&p(0,v=I.folder),"setDir"in I&&p(3,k=I.setDir),"currentPath"in I&&p(4,x=I.currentPath)},[v,S,L,k,x]}class Link extends SvelteComponent{constructor(r){super(),init(this,r,instance$2o,create_fragment$2B,safe_not_equal,{folder:0,setDir:3,currentPath:4})}}function get_each_context$D($,r,p){const v=$.slice();return v[4]=r[p],v}function create_each_block$D($){let r,p;return r=new Link({props:{setDir:$[1],currentPath:$[0],folder:$[4]}}),{c(){create_component(r.$$.fragment)},m(v,k){mount_component(r,v,k),p=!0},p(v,k){const x={};k&2&&(x.setDir=v[1]),k&1&&(x.currentPath=v[0]),k&4&&(x.folder=v[4]),r.$set(x)},i(v){p||(transition_in(r.$$.fragment,v),p=!0)},o(v){transition_out(r.$$.fragment,v),p=!1},d(v){destroy_component(r,v)}}}function create_fragment$2A($){let r,p,v=$[2],k=[];for(let S=0;S<v.length;S+=1)k[S]=create_each_block$D(get_each_context$D($,v,S));const x=S=>transition_out(k[S],1,1,()=>{k[S]=null});return{c(){r=element("div");for(let S=0;S<k.length;S+=1)k[S].c();attr(r,"class","sidebar")},m(S,L){insert(S,r,L);for(let I=0;I<k.length;I+=1)k[I]&&k[I].m(r,null);p=!0},p(S,[L]){if(L&7){v=S[2];let I;for(I=0;I<v.length;I+=1){const O=get_each_context$D(S,v,I);k[I]?(k[I].p(O,L),transition_in(k[I],1)):(k[I]=create_each_block$D(O),k[I].c(),transition_in(k[I],1),k[I].m(r,null))}for(group_outros(),I=v.length;I<k.length;I+=1)x(I);check_outros()}},i(S){if(!p){for(let L=0;L<v.length;L+=1)transition_in(k[L]);p=!0}},o(S){k=k.filter(Boolean);for(let L=0;L<k.length;L+=1)transition_out(k[L]);p=!1},d(S){S&&detach(r),destroy_each(k,S)}}}function instance$2n($,r,p){let v=[],{currentDir:k}=r,{currentPath:x}=r,{setDir:S}=r;return k.subscribe(async L=>{p(2,v=(await getDirectory("./")).directories)}),$.$$set=L=>{"currentDir"in L&&p(3,k=L.currentDir),"currentPath"in L&&p(0,x=L.currentPath),"setDir"in L&&p(1,S=L.setDir)},[x,S,v,k]}let SideBar$1=class extends SvelteComponent{constructor(r){super(),init(this,r,instance$2n,create_fragment$2A,safe_not_equal,{currentDir:3,currentPath:0,setDir:1})}};function get_each_context$C($,r,p){const v=$.slice();return v[13]=r[p],v}function get_each_context_1$7($,r,p){const v=$.slice();return v[16]=r[p],v}function create_if_block$13($){let r,p,v,k,x,S,L,I,O,F,U,R;function N(K){$[11](K)}let j={currentPath:$[6],refresh:$[10],setDir:$[9]};$[1]!==void 0&&(j.tiled=$[1]),r=new TopBar$1({props:j}),binding_callbacks.push(()=>bind$1(r,"tiled",N)),x=new SideBar$1({props:{currentDir:$[5],setDir:$[9],currentPath:$[6]}});const q=[create_if_block_2$3,create_else_block$k],H=[];function Q(K,G){return K[1]?0:1}L=Q($),I=H[L]=q[L]($);let V=$[3]&&create_if_block_1$k($);return U=new BottomPane$1({props:{currentDir:$[5],currentPath:$[6],selected:$[7],overlay:$[0],processing:$[8]}}),{c(){create_component(r.$$.fragment),v=space(),k=element("div"),create_component(x.$$.fragment),S=space(),I.c(),O=space(),V&&V.c(),F=space(),create_component(U.$$.fragment),attr(k,"class","content")},m(K,G){mount_component(r,K,G),insert(K,v,G),insert(K,k,G),mount_component(x,k,null),append(k,S),H[L].m(k,null),append(k,O),V&&V.m(k,null),insert(K,F,G),mount_component(U,K,G),R=!0},p(K,G){const Y={};!p&&G&2&&(p=!0,Y.tiled=K[1],add_flush_callback(()=>p=!1)),r.$set(Y);let J=L;L=Q(K),L===J?H[L].p(K,G):(group_outros(),transition_out(H[J],1,1,()=>{H[J]=null}),check_outros(),I=H[L],I?I.p(K,G):(I=H[L]=q[L](K),I.c()),transition_in(I,1),I.m(k,O)),K[3]?V?(V.p(K,G),G&8&&transition_in(V,1)):(V=create_if_block_1$k(K),V.c(),transition_in(V,1),V.m(k,null)):V&&(group_outros(),transition_out(V,1,1,()=>{V=null}),check_outros());const Z={};G&1&&(Z.overlay=K[0]),U.$set(Z)},i(K){R||(transition_in(r.$$.fragment,K),transition_in(x.$$.fragment,K),transition_in(I),transition_in(V),transition_in(U.$$.fragment,K),R=!0)},o(K){transition_out(r.$$.fragment,K),transition_out(x.$$.fragment,K),transition_out(I),transition_out(V),transition_out(U.$$.fragment,K),R=!1},d(K){destroy_component(r,K),K&&detach(v),K&&detach(k),destroy_component(x),H[L].d(),V&&V.d(),K&&detach(F),destroy_component(U,K)}}}function create_else_block$k($){let r,p,v,k,x;p=new TopRow({});let S=$[2].directories,L=[];for(let R=0;R<S.length;R+=1)L[R]=create_each_block_1$7(get_each_context_1$7($,S,R));const I=R=>transition_out(L[R],1,1,()=>{L[R]=null});let O=$[2].files,F=[];for(let R=0;R<O.length;R+=1)F[R]=create_each_block$C(get_each_context$C($,O,R));const U=R=>transition_out(F[R],1,1,()=>{F[R]=null});return{c(){r=element("div"),create_component(p.$$.fragment),v=space();for(let R=0;R<L.length;R+=1)L[R].c();k=space();for(let R=0;R<F.length;R+=1)F[R].c();attr(r,"class","list")},m(R,N){insert(R,r,N),mount_component(p,r,null),append(r,v);for(let j=0;j<L.length;j+=1)L[j]&&L[j].m(r,null);append(r,k);for(let j=0;j<F.length;j+=1)F[j]&&F[j].m(r,null);x=!0},p(R,N){if(N&516){S=R[2].directories;let j;for(j=0;j<S.length;j+=1){const q=get_each_context_1$7(R,S,j);L[j]?(L[j].p(q,N),transition_in(L[j],1)):(L[j]=create_each_block_1$7(q),L[j].c(),transition_in(L[j],1),L[j].m(r,k))}for(group_outros(),j=S.length;j<L.length;j+=1)I(j);check_outros()}if(N&389){O=R[2].files;let j;for(j=0;j<O.length;j+=1){const q=get_each_context$C(R,O,j);F[j]?(F[j].p(q,N),transition_in(F[j],1)):(F[j]=create_each_block$C(q),F[j].c(),transition_in(F[j],1),F[j].m(r,null))}for(group_outros(),j=O.length;j<F.length;j+=1)U(j);check_outros()}},i(R){if(!x){transition_in(p.$$.fragment,R);for(let N=0;N<S.length;N+=1)transition_in(L[N]);for(let N=0;N<O.length;N+=1)transition_in(F[N]);x=!0}},o(R){transition_out(p.$$.fragment,R),L=L.filter(Boolean);for(let N=0;N<L.length;N+=1)transition_out(L[N]);F=F.filter(Boolean);for(let N=0;N<F.length;N+=1)transition_out(F[N]);x=!1},d(R){R&&detach(r),destroy_component(p),destroy_each(L,R),destroy_each(F,R)}}}function create_if_block_2$3($){let r,p;return r=new Tiled({props:{data:$[2],setDir:$[9],overlay:$[0],selected:$[7],processing:$[8]}}),{c(){create_component(r.$$.fragment)},m(v,k){mount_component(r,v,k),p=!0},p(v,k){const x={};k&4&&(x.data=v[2]),k&1&&(x.overlay=v[0]),r.$set(x)},i(v){p||(transition_in(r.$$.fragment,v),p=!0)},o(v){transition_out(r.$$.fragment,v),p=!1},d(v){destroy_component(r,v)}}}function create_each_block_1$7($){let r,p;return r=new Dir$1({props:{setDir:$[9],dir:$[16]}}),{c(){create_component(r.$$.fragment)},m(v,k){mount_component(r,v,k),p=!0},p(v,k){const x={};k&4&&(x.dir=v[16]),r.$set(x)},i(v){p||(transition_in(r.$$.fragment,v),p=!0)},o(v){transition_out(r.$$.fragment,v),p=!1},d(v){destroy_component(r,v)}}}function create_each_block$C($){let r,p;return r=new File$1({props:{file:$[13],overlay:$[0],selected:$[7],processing:$[8]}}),{c(){create_component(r.$$.fragment)},m(v,k){mount_component(r,v,k),p=!0},p(v,k){const x={};k&4&&(x.file=v[13]),k&1&&(x.overlay=v[0]),r.$set(x)},i(v){p||(transition_in(r.$$.fragment,v),p=!0)},o(v){transition_out(r.$$.fragment,v),p=!1},d(v){destroy_component(r,v)}}}function create_if_block_1$k($){let r,p,v,k,x,S,L,I,O,F,U,R,N;return R=new Spinner({props:{height:30}}),{c(){r=element("div"),p=element("div"),v=element("div"),k=element("img"),S=space(),L=element("p"),I=text("Opening "),O=text($[4]),F=text("..."),U=space(),create_component(R.$$.fragment),src_url_equal(k.src,x=icon$4)||attr(k,"src",x),attr(k,"alt",""),attr(L,"class","caption"),attr(v,"class","processing"),attr(p,"class","processing-content"),attr(r,"class","processing-overlay")},m(j,q){insert(j,r,q),append(r,p),append(p,v),append(v,k),append(v,S),append(v,L),append(L,I),append(L,O),append(L,F),append(v,U),mount_component(R,v,null),N=!0},p(j,q){(!N||q&16)&&set_data(O,j[4])},i(j){N||(transition_in(R.$$.fragment,j),N=!0)},o(j){transition_out(R.$$.fragment,j),N=!1},d(j){j&&detach(r),destroy_component(R)}}}function create_fragment$2z($){let r,p,v=$[0]&&create_if_block$13($);return{c(){v&&v.c(),r=empty()},m(k,x){v&&v.m(k,x),insert(k,r,x),p=!0},p(k,[x]){k[0]?v?(v.p(k,x),x&1&&transition_in(v,1)):(v=create_if_block$13(k),v.c(),transition_in(v,1),v.m(r.parentNode,r)):v&&(group_outros(),transition_out(v,1,1,()=>{v=null}),check_outros())},i(k){p||(transition_in(v),p=!0)},o(k){transition_out(v),p=!1},d(k){v&&v.d(k),k&&detach(r)}}}function instance$2m($,r,p){let v,k,x,S,{overlay:L}=r,I=!1,O=writable(defaultDirectory);component_subscribe($,O,H=>p(2,k=H));let F=writable("./");component_subscribe($,F,H=>p(12,v=H));let U=writable(null);component_subscribe($,U,H=>p(4,S=H));let R=writable(!1);component_subscribe($,R,H=>p(3,x=H));async function N(H){set_store_value(F,v=H,v),await j()}async function j(){set_store_value(O,k=defaultDirectory,k),set_store_value(O,k=await getDirectory(v)||null,k)}function q(H){I=H,p(1,I)}return $.$$set=H=>{"overlay"in H&&p(0,L=H.overlay)},[L,I,k,x,S,O,F,U,R,N,j,q]}class ChooserOverlay extends SvelteComponent{constructor(r){super(),init(this,r,instance$2m,create_fragment$2z,safe_not_equal,{overlay:0})}}function generateChooserOverlayData($="Choose File"){return{info:{name:$,author:"ArcOS Generated",version:"1"},size:{w:NaN,h:NaN},show:!0,id:`CHOOSER#${Math.floor(Math.random()*1e6)}`,content:ChooserOverlay}}function showOpenFileDialog($){const r=get_store_value(WindowStore);let p=null;for(let k=0;k<r.length;k++)if(r[k].id==$){p=k;break}if(p==null)return!1;const v=generateChooserOverlayData();assignTarget(v.id,$),r[p].overlays||(r[p].overlays={}),r[p].overlays[v.id]=v,WindowStore.set(r)}const TextEditorContent=writable(null);async function saveTextEditorFile($,r){const p=new Blob([$]);await writeFile(r.path,p)}async function setShortcuts($,r){registerShortcuts([{key:"o",alt:!0,action:()=>{showOpenFileDialog($.id)}},{key:"m",alt:!0,action:()=>{!$.openedFile||!$.openedFile.name.endsWith(".md")||(openWindow("MarkDownViewer"),closeFile("MarkDownViewer"))}},{key:"s",alt:!0,action:r}],"TextEditor"),$.events.close=()=>{get_store_value(TextEditorContent)&&closeWindow("MarkDownViewer")}}async function doLoadError($,r){return createOverlayableError({title:$,message:r,buttons:[{caption:"Close",action:()=>closeWindow("TextEditor")}]},"TextEditor")}function tryParse($){try{return JSON.parse($)}catch{return!1}}function create_fragment$2y($){let r,p,v,k,x,S,L,I,O,F,U,R,N,j;return{c(){r=element("div"),p=element("button"),p.textContent="folder_open",v=space(),k=element("button"),x=text("save"),L=space(),I=element("div"),O=element("button"),F=element("img"),attr(p,"class","material-icons-round open"),attr(k,"class","material-icons-round save"),k.disabled=S=!$[0].openedFile,src_url_equal(F.src,U=icon$3)||attr(F,"src",U),attr(F,"alt","Markdown Viewer"),attr(O,"title","Open Markdown Viewer"),O.disabled=R=!$[0].openedFile||!$[0].openedFile.name.endsWith(".md"),attr(O,"class","markdown-open"),attr(I,"class","right"),attr(r,"class","actions")},m(q,H){insert(q,r,H),append(r,p),append(r,v),append(r,k),append(k,x),append(r,L),append(r,I),append(I,O),append(O,F),N||(j=[listen(p,"click",$[2]),listen(k,"click",function(){is_function($[1])&&$[1].apply(this,arguments)}),listen(O,"click",$[3])],N=!0)},p(q,[H]){$=q,H&1&&S!==(S=!$[0].openedFile)&&(k.disabled=S),H&1&&R!==(R=!$[0].openedFile||!$[0].openedFile.name.endsWith(".md"))&&(O.disabled=R)},i:noop$1,o:noop$1,d(q){q&&detach(r),N=!1,run_all(j)}}}function instance$2l($,r,p){let{app:v}=r,{saveFile:k}=r;const x=()=>showOpenFileDialog(v.id),S=()=>openWindow("MarkDownViewer");return $.$$set=L=>{"app"in L&&p(0,v=L.app),"saveFile"in L&&p(1,k=L.saveFile)},[v,k,x,S]}let Actions$1=class extends SvelteComponent{constructor(r){super(),init(this,r,instance$2l,create_fragment$2y,safe_not_equal,{app:0,saveFile:1})}};function create_fragment$2x($){let r,p,v,k,x=formatBytes($[0].length)+"",S,L,I,O=$[1].openedFile.name+"",F,U,R,N=$[1].openedFile.mime.split(";")[0]+"",j;return{c(){r=element("div"),p=element("div"),v=element("div"),k=text("Size: "),S=text(x),L=space(),I=element("div"),F=text(O),U=space(),R=element("div"),j=text(N),attr(v,"class","section"),attr(I,"class","section"),attr(R,"class","section"),attr(p,"class","right"),attr(r,"class","bottom")},m(q,H){insert(q,r,H),append(r,p),append(p,v),append(v,k),append(v,S),append(p,L),append(p,I),append(I,F),append(p,U),append(p,R),append(R,j)},p(q,[H]){H&1&&x!==(x=formatBytes(q[0].length)+"")&&set_data(S,x),H&2&&O!==(O=q[1].openedFile.name+"")&&set_data(F,O),H&2&&N!==(N=q[1].openedFile.mime.split(";")[0]+"")&&set_data(j,N)},i:noop$1,o:noop$1,d(q){q&&detach(r)}}}function instance$2k($,r,p){let{fileContents:v}=r,{app:k}=r;return $.$$set=x=>{"fileContents"in x&&p(0,v=x.fileContents),"app"in x&&p(1,k=x.app)},[v,k]}let Bottom$1=class extends SvelteComponent{constructor(r){super(),init(this,r,instance$2k,create_fragment$2x,safe_not_equal,{fileContents:0,app:1})}};const icon=""+new URL("save-13107e70.svg",import.meta.url).href;function create_if_block$12($){let r,p,v,k,x,S,L,I=$[1].openedFile.name+"",O,F,U,R,N;return R=new Spinner({props:{height:24}}),{c(){r=element("div"),p=element("div"),v=element("img"),x=space(),S=element("p"),L=text("Saving "),O=text(I),F=text("..."),U=space(),create_component(R.$$.fragment),src_url_equal(v.src,k=icon)||attr(v,"src",k),attr(v,"alt","Saving"),attr(S,"class","caption"),attr(p,"class","saving-content"),attr(r,"class","saving-wrapper")},m(j,q){insert(j,r,q),append(r,p),append(p,v),append(p,x),append(p,S),append(S,L),append(S,O),append(S,F),append(p,U),mount_component(R,p,null),N=!0},p(j,q){(!N||q&2)&&I!==(I=j[1].openedFile.name+"")&&set_data(O,I)},i(j){N||(transition_in(R.$$.fragment,j),N=!0)},o(j){transition_out(R.$$.fragment,j),N=!1},d(j){j&&detach(r),destroy_component(R)}}}function create_fragment$2w($){let r,p,v=$[0]&&$[1].openedFile&&create_if_block$12($);return{c(){v&&v.c(),r=empty()},m(k,x){v&&v.m(k,x),insert(k,r,x),p=!0},p(k,[x]){k[0]&&k[1].openedFile?v?(v.p(k,x),x&3&&transition_in(v,1)):(v=create_if_block$12(k),v.c(),transition_in(v,1),v.m(r.parentNode,r)):v&&(group_outros(),transition_out(v,1,1,()=>{v=null}),check_outros())},i(k){p||(transition_in(v),p=!0)},o(k){transition_out(v),p=!1},d(k){v&&v.d(k),k&&detach(r)}}}function instance$2j($,r,p){let{saving:v}=r,{app:k}=r;return $.$$set=x=>{"saving"in x&&p(0,v=x.saving),"app"in x&&p(1,k=x.app)},[v,k]}class Saving extends SvelteComponent{constructor(r){super(),init(this,r,instance$2j,create_fragment$2w,safe_not_equal,{saving:0,app:1})}}function create_fragment$2v($){let r,p,v;return{c(){r=element("textarea"),attr(r,"spellcheck",!1)},m(k,x){insert(k,r,x),set_input_value(r,$[0]),p||(v=[listen(r,"input",$[2]),listen(r,"change",function(){is_function($[1])&&$[1].apply(this,arguments)}),listen(r,"input",function(){is_function($[1])&&$[1].apply(this,arguments)}),listen(r,"keydown",function(){is_function($[1])&&$[1].apply(this,arguments)})],p=!0)},p(k,[x]){$=k,x&1&&set_input_value(r,$[0])},i:noop$1,o:noop$1,d(k){k&&detach(r),p=!1,run_all(v)}}}function instance$2i($,r,p){let{onchange:v}=r,{fileContents:k}=r;function x(){k=this.value,p(0,k)}return $.$$set=S=>{"onchange"in S&&p(1,v=S.onchange),"fileContents"in S&&p(0,k=S.fileContents)},[k,v,x]}class TextArea extends SvelteComponent{constructor(r){super(),init(this,r,instance$2i,create_fragment$2v,safe_not_equal,{onchange:1,fileContents:0})}}function create_if_block$11($){let r,p,v,k,x;function S(I){$[6](I)}let L={onchange:$[5]};return $[3]!==void 0&&(L.fileContents=$[3]),r=new TextArea({props:L}),binding_callbacks.push(()=>bind$1(r,"fileContents",S)),k=new Bottom$1({props:{fileContents:$[3],app:$[0]}}),{c(){create_component(r.$$.fragment),v=space(),create_component(k.$$.fragment)},m(I,O){mount_component(r,I,O),insert(I,v,O),mount_component(k,I,O),x=!0},p(I,O){const F={};!p&&O&8&&(p=!0,F.fileContents=I[3],add_flush_callback(()=>p=!1)),r.$set(F);const U={};O&8&&(U.fileContents=I[3]),O&1&&(U.app=I[0]),k.$set(U)},i(I){x||(transition_in(r.$$.fragment,I),transition_in(k.$$.fragment,I),x=!0)},o(I){transition_out(r.$$.fragment,I),transition_out(k.$$.fragment,I),x=!1},d(I){destroy_component(r,I),I&&detach(v),destroy_component(k,I)}}}function create_fragment$2u($){let r,p,v,k,x,S,L;r=new Actions$1({props:{app:$[0],saveFile:$[4]}});let I=$[0].openedFile&&!$[1]&&create_if_block$11($);function O(U){$[7](U)}let F={saving:$[2]};return $[0]!==void 0&&(F.app=$[0]),x=new Saving({props:F}),binding_callbacks.push(()=>bind$1(x,"app",O)),{c(){create_component(r.$$.fragment),p=space(),v=element("div"),I&&I.c(),k=space(),create_component(x.$$.fragment),attr(v,"class","content"),toggle_class(v,"nofile",!$[0].openedFile)},m(U,R){mount_component(r,U,R),insert(U,p,R),insert(U,v,R),I&&I.m(v,null),insert(U,k,R),mount_component(x,U,R),L=!0},p(U,[R]){const N={};R&1&&(N.app=U[0]),r.$set(N),U[0].openedFile&&!U[1]?I?(I.p(U,R),R&3&&transition_in(I,1)):(I=create_if_block$11(U),I.c(),transition_in(I,1),I.m(v,null)):I&&(group_outros(),transition_out(I,1,1,()=>{I=null}),check_outros()),(!L||R&1)&&toggle_class(v,"nofile",!U[0].openedFile);const j={};R&4&&(j.saving=U[2]),!S&&R&1&&(S=!0,j.app=U[0],add_flush_callback(()=>S=!1)),x.$set(j)},i(U){L||(transition_in(r.$$.fragment,U),transition_in(I),transition_in(x.$$.fragment,U),L=!0)},o(U){transition_out(r.$$.fragment,U),transition_out(I),transition_out(x.$$.fragment,U),L=!1},d(U){destroy_component(r,U),U&&detach(p),U&&detach(v),I&&I.d(),U&&detach(k),destroy_component(x,U)}}}function instance$2h($,r,p){let v;component_subscribe($,TextEditorContent,N=>p(9,v=N));let{app:k}=r,x=!1,S=!1,L="";onMount(()=>{p(0,k.events={},k),p(0,k.events.openFile=N=>{if(p(1,x=!1),!N.openedFile)return p(3,L="");const j=new TextDecoder().decode(N.openedFile.data);p(3,L=j),N.openedFile.path,TextEditorContent.set(L);const q=tryParse(L);q&&q.error&&q.valid==!1&&(p(1,x=!0),doLoadError(q.error.title,q.error.message))},k),p(0,k.events.open=F,k),setShortcuts(k,I)});async function I(){if(!k.openedFile.path){showOverlay("saveNewFile","TextEditor");return}p(2,S=!0),await saveTextEditorFile(L,k.openedFile),p(2,S=!1)}async function O(){v!=L&&TextEditorContent.set(L)}async function F(){k.openedFile||p(0,k.openedFile={name:"Untitled",path:"",data:new ArrayBuffer(0),mime:"text/plain"},k)}function U(N){L=N,p(3,L)}function R(N){k=N,p(0,k)}return $.$$set=N=>{"app"in N&&p(0,k=N.app)},[k,x,S,L,I,O,U,R]}class TextView extends SvelteComponent{constructor(r){super(),init(this,r,instance$2h,create_fragment$2u,safe_not_equal,{app:0})}}function setTitleSuffix($,r){Log({msg:`Setting title suffix of ${r}`,source:"title.ts: setTitleSuffix",level:LogLevel.info});const p=get_store_value(WindowStore);for(let v=0;v<p.length;v++)p[v].id==r&&(Originals[r]||(Originals[r]=`${p[v].info.titleSuffix}`),p[v].info.titleSuffix=$);WindowStore.set(p)}const Originals={},ImageViewer={info:{name:"Image Viewer",description:"Display images from the ArcAPI",builtin:!0,version:"2.0.1",author:"Izaak Kuipers",hidden:!0,icon:logo$6},size:{w:500,h:400},pos:{x:30,y:40},minSize:{w:500,h:400},maxSize:{w:1e3,h:700},controls:{min:!0,max:!0,cls:!0},state:{headless:!1,resizable:!0,windowState:{min:!1,max:!1,fll:!1}},content:ImageView,glass:!0,fileMimes:["image/png","image/jpeg","image/svg+xml","image/vnd.microsoft.icon","image/bmp","image/jpeg","image/webp","image/gif"],events:{openFile($){$.openedFile&&setTitleSuffix(` - ${$.openedFile.name}`,$.id)}},contextMenu:{output:[{caption:"Set as wallpaper",icon:"image",action($,r,p){const v=get_store_value(UserData);v.sh.desktop.wallpaper=`@local:${btoa(r.path)}`,UserData.set(v)}}]}},logo$5=""+new URL("lightsoff-d0f0c697.svg",import.meta.url).href,LOGrid=writable([[!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1]]);function LOContainsLights(){return JSON.stringify(get_store_value(LOGrid)).includes("true")}const LOClicks=writable(0);LOClicks.subscribe($=>console.log($));function LOFinish(){return LO_LEVEL.set(0),LOClicks.set(0),loadLevel(get_store_value(LO_LEVEL)),createOverlayableError({title:"You Win!",message:"You've managed to complete all 8 levels of Lights Off. The game will be reset so you can play it again in the future.",buttons:[{caption:"OK",action(){}}],image:logo$5},"LightsOff"),!1}let LO_LEVEL=writable(0);const LOLevels=[[[!1,!1,!1,!1,!0],[!1,!1,!1,!0,!0],[!1,!1,!1,!1,!0],[!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1]],[[!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1],[!0,!1,!1,!1,!0],[!0,!0,!1,!0,!0]],[[!0,!0,!1,!0,!0],[!1,!0,!0,!0,!1],[!1,!0,!0,!0,!1],[!1,!1,!0,!1,!1],[!1,!1,!1,!1,!1]],[[!1,!0,!1,!1,!1],[!0,!0,!1,!1,!1],[!1,!0,!0,!0,!1],[!0,!0,!1,!1,!1],[!1,!0,!1,!1,!1]],[[!0,!1,!1,!1,!0],[!1,!0,!1,!0,!1],[!1,!0,!1,!0,!1],[!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1]],[[!0,!0,!0,!1,!1],[!0,!0,!0,!1,!1],[!0,!1,!0,!0,!1],[!0,!0,!0,!1,!1],[!0,!0,!0,!1,!1]],[[!0,!0,!1,!1,!1],[!1,!1,!0,!0,!1],[!1,!1,!0,!1,!1],[!1,!0,!1,!0,!1],[!0,!0,!1,!0,!1]],[[!0,!1,!1,!1,!0],[!0,!1,!1,!1,!0],[!1,!0,!0,!0,!1],[!1,!1,!0,!1,!1],[!1,!1,!0,!1,!1]]];function loadLevel($){if(console.log(loadLevel,$,LOLevels.length),$>=LOLevels.length)return LOFinish();LOLevels[$]&&(LOGrid.set(JSON.parse(JSON.stringify(LOLevels[$]))),LO_LEVEL.set($),LOClicks.set(0))}function checkNextLevel(){return LOContainsLights()||get_store_value(LOClicks)==0?!1:(LO_LEVEL.set(get_store_value(LO_LEVEL)+1),get_store_value(LO_LEVEL)>LOLevels.length?LOFinish():(loadLevel(get_store_value(LO_LEVEL)),!0))}const xModifiers=[-1,0,1],yModifiers=[-1,1];function SwitchLightsState($,r){const p=get_store_value(LOGrid);if(!p[r])throw new Error(`y doesn't exist ${r}`);if(typeof p[r][$]!="boolean")throw new Error(`x doesn't exist ${r} ${$}`);LOClicks.set(get_store_value(LOClicks)+1);for(let v=0;v<xModifiers.length;v++){const k=p[r][$+xModifiers[v]];typeof k=="boolean"&&(p[r][$+xModifiers[v]]=!k)}for(let v=0;v<yModifiers.length;v++){if(!Array.isArray(p[r+yModifiers[v]]))continue;const x=p[r+yModifiers[v]][$];typeof x=="boolean"&&(p[r+yModifiers[v]][$]=!x)}LOGrid.set(p)}LOGrid.subscribe($=>{console.table($),checkNextLevel()});const Light_svelte_svelte_type_style_lang="";function create_fragment$2t($){let r,p,v,k;return{c(){r=element("button"),attr(r,"id",p="pos-"+$[1]+"x"+$[2]),attr(r,"class","light svelte-11uaj66"),toggle_class(r,"lit",$[0])},m(x,S){insert(x,r,S),v||(k=listen(r,"click",$[3]),v=!0)},p(x,[S]){S&6&&p!==(p="pos-"+x[1]+"x"+x[2])&&attr(r,"id",p),S&1&&toggle_class(r,"lit",x[0])},i:noop$1,o:noop$1,d(x){x&&detach(r),v=!1,k()}}}function instance$2g($,r,p){let{light:v=!1}=r,{x:k}=r,{y:x}=r;function S(){SwitchLightsState(k,x)}return $.$$set=L=>{"light"in L&&p(0,v=L.light),"x"in L&&p(1,k=L.x),"y"in L&&p(2,x=L.y)},[v,k,x,S]}class Light extends SvelteComponent{constructor(r){super(),init(this,r,instance$2g,create_fragment$2t,safe_not_equal,{light:0,x:1,y:2})}}const Stats_svelte_svelte_type_style_lang="";function create_fragment$2s($){let r,p,v,k,x,S,L,I,O,F,U,R=$[1]==1?"":"s",N,j,q;return{c(){r=element("div"),p=element("button"),p.textContent="Reset",v=space(),k=element("div"),x=element("div"),S=text("Level "),L=text($[0]),I=space(),O=element("div"),F=text($[1]),U=text(" Click"),N=text(R),attr(p,"class","reset-game"),attr(x,"class","stat svelte-1gm5381"),attr(O,"class","stat svelte-1gm5381"),attr(k,"class","right svelte-1gm5381"),attr(r,"class","statistics svelte-1gm5381")},m(H,Q){insert(H,r,Q),append(r,p),append(r,v),append(r,k),append(k,x),append(x,S),append(x,L),append(k,I),append(k,O),append(O,F),append(O,U),append(O,N),j||(q=listen(p,"click",$[2]),j=!0)},p(H,[Q]){Q&1&&set_data(L,H[0]),Q&2&&set_data(F,H[1]),Q&2&&R!==(R=H[1]==1?"":"s")&&set_data(N,R)},i:noop$1,o:noop$1,d(H){H&&detach(r),j=!1,q()}}}function instance$2f($,r,p){let v,k,x;component_subscribe($,UserData,O=>p(5,v=O)),component_subscribe($,LO_LEVEL,O=>p(0,k=O)),component_subscribe($,LOClicks,O=>p(1,x=O));let{app:S}=r,{load:L}=r;function I(){set_store_value(UserData,v.appdata[S.id]=null,v),L()}return $.$$set=O=>{"app"in O&&p(3,S=O.app),"load"in O&&p(4,L=O.load)},[k,x,I,S,L]}class Stats extends SvelteComponent{constructor(r){super(),init(this,r,instance$2f,create_fragment$2s,safe_not_equal,{app:3,load:4})}}const LightsOff_svelte_svelte_type_style_lang="";function get_each_context$B($,r,p){const v=$.slice();return v[7]=r[p],v[9]=p,v}function get_each_context_1$6($,r,p){const v=$.slice();return v[10]=r[p],v[12]=p,v}function create_each_block_1$6($){let r,p;return r=new Light({props:{light:$[10],x:$[12],y:$[9]}}),{c(){create_component(r.$$.fragment)},m(v,k){mount_component(r,v,k),p=!0},p(v,k){const x={};k&2&&(x.light=v[10]),r.$set(x)},i(v){p||(transition_in(r.$$.fragment,v),p=!0)},o(v){transition_out(r.$$.fragment,v),p=!1},d(v){destroy_component(r,v)}}}function create_each_block$B($){let r,p,v=$[7],k=[];for(let S=0;S<v.length;S+=1)k[S]=create_each_block_1$6(get_each_context_1$6($,v,S));const x=S=>transition_out(k[S],1,1,()=>{k[S]=null});return{c(){for(let S=0;S<k.length;S+=1)k[S].c();r=empty()},m(S,L){for(let I=0;I<k.length;I+=1)k[I]&&k[I].m(S,L);insert(S,r,L),p=!0},p(S,L){if(L&2){v=S[7];let I;for(I=0;I<v.length;I+=1){const O=get_each_context_1$6(S,v,I);k[I]?(k[I].p(O,L),transition_in(k[I],1)):(k[I]=create_each_block_1$6(O),k[I].c(),transition_in(k[I],1),k[I].m(r.parentNode,r))}for(group_outros(),I=v.length;I<k.length;I+=1)x(I);check_outros()}},i(S){if(!p){for(let L=0;L<v.length;L+=1)transition_in(k[L]);p=!0}},o(S){k=k.filter(Boolean);for(let L=0;L<k.length;L+=1)transition_out(k[L]);p=!1},d(S){destroy_each(k,S),S&&detach(r)}}}function create_fragment$2r($){let r,p,v,k;r=new Stats({props:{app:$[0],load:$[2]}});let x=$[1],S=[];for(let I=0;I<x.length;I+=1)S[I]=create_each_block$B(get_each_context$B($,x,I));const L=I=>transition_out(S[I],1,1,()=>{S[I]=null});return{c(){create_component(r.$$.fragment),p=space(),v=element("div");for(let I=0;I<S.length;I+=1)S[I].c();attr(v,"class","grid svelte-svdnfe")},m(I,O){mount_component(r,I,O),insert(I,p,O),insert(I,v,O);for(let F=0;F<S.length;F+=1)S[F]&&S[F].m(v,null);k=!0},p(I,[O]){const F={};if(O&1&&(F.app=I[0]),r.$set(F),O&2){x=I[1];let U;for(U=0;U<x.length;U+=1){const R=get_each_context$B(I,x,U);S[U]?(S[U].p(R,O),transition_in(S[U],1)):(S[U]=create_each_block$B(R),S[U].c(),transition_in(S[U],1),S[U].m(v,null))}for(group_outros(),U=x.length;U<S.length;U+=1)L(U);check_outros()}},i(I){if(!k){transition_in(r.$$.fragment,I);for(let O=0;O<x.length;O+=1)transition_in(S[O]);k=!0}},o(I){transition_out(r.$$.fragment,I),S=S.filter(Boolean);for(let O=0;O<S.length;O+=1)transition_out(S[O]);k=!1},d(I){destroy_component(r,I),I&&detach(p),I&&detach(v),destroy_each(S,I)}}}function instance$2e($,r,p){let v,k,x,S;component_subscribe($,LOGrid,F=>p(1,v=F)),component_subscribe($,LO_LEVEL,F=>p(3,k=F)),component_subscribe($,LOClicks,F=>p(4,x=F)),component_subscribe($,UserData,F=>p(5,S=F));let{app:L}=r;onMount(I);function I(){if(S.appdata[L.id]){const F=S.appdata[L.id];loadLevel(F.level),set_store_value(LOGrid,v=F.grid,v),set_store_value(LOClicks,x=F.clicks,x)}else loadLevel(0)}function O(){k==0&&!LOContainsLights()||set_store_value(UserData,S.appdata[L.id]={clicks:x,level:k,grid:v},S)}return LOClicks.subscribe(O),LO_LEVEL.subscribe(O),LOGrid.subscribe(O),$.$$set=F=>{"app"in F&&p(0,L=F.app)},[L,v,I]}let LightsOff$1=class extends SvelteComponent{constructor(r){super(),init(this,r,instance$2e,create_fragment$2r,safe_not_equal,{app:0})}};const LightsOff={info:{name:"Lights Off",description:"Turn off all the lights!",builtin:!0,version:"1.0.0",author:"Tim Horton, ported to ArcOS by IzKuipers",hidden:!1,icon:logo$5},size:{w:NaN,h:NaN},pos:{x:80,y:80},minSize:{w:NaN,h:NaN},maxSize:{w:NaN,h:NaN},controls:{min:!0,max:!1,cls:!0},state:{headless:!1,resizable:!1,windowState:{min:!1,max:!1,fll:!1}},content:LightsOff$1,glass:!0,events:{keyboardShortcuts:[{key:"o",alt:!0,shift:!0,ctrl:!0,action:()=>{console.log("next lo level"),loadLevel(get_store_value(LO_LEVEL)+1)}}]}},logo$4=""+new URL("logger-53b4bb5a.svg",import.meta.url).href,logger="";function collectLogsBySource(){const $=get_store_value(log);let r=[],p={};for(let v=0;v<$.length;v++){const k=$[v];r.includes(k.source)||r.push(k.source),p[k.source]=Array.prototype.concat(p[k.source]||[],[k])}return p}function create_fragment$2q($){let r,p,v=$[0][1]+"",k,x,S,L,I;return{c(){r=element("button"),p=element("span"),k=text(v),attr(p,"class","material-icons-round"),attr(r,"class",x="filter "+LogLevel[$[0][0]]),r.disabled=S=!$[1]||$[4],toggle_class(r,"selected",$[0][0]==$[2])},m(O,F){insert(O,r,F),append(r,p),append(p,k),L||(I=listen(r,"click",$[5]),L=!0)},p(O,[F]){F&1&&v!==(v=O[0][1]+"")&&set_data(k,v),F&1&&x!==(x="filter "+LogLevel[O[0][0]])&&attr(r,"class",x),F&18&&S!==(S=!O[1]||O[4])&&(r.disabled=S),F&5&&toggle_class(r,"selected",O[0][0]==O[2])},i:noop$1,o:noop$1,d(O){O&&detach(r),L=!1,I()}}}function instance$2d($,r,p){let v;component_subscribe($,log,F=>p(6,v=F));let{data:k}=r,{currentSource:x}=r,{currentFilter:S}=r,{filter:L}=r,I=!1;log.subscribe(()=>{setTimeout(()=>{let F=0;for(let U=0;U<v.length;U++)v[U].level==k[0]&&v[U].source==x&&F++;p(4,I=!F)}),p(4,I=!1)});const O=()=>L(k[0]);return $.$$set=F=>{"data"in F&&p(0,k=F.data),"currentSource"in F&&p(1,x=F.currentSource),"currentFilter"in F&&p(2,S=F.currentFilter),"filter"in F&&p(3,L=F.filter)},[k,x,S,L,I,O]}class Filter extends SvelteComponent{constructor(r){super(),init(this,r,instance$2d,create_fragment$2q,safe_not_equal,{data:0,currentSource:1,currentFilter:2,filter:3})}}function get_each_context$A($,r,p){const v=$.slice();return v[4]=r[p],v}function create_each_block$A($){let r,p;return r=new Filter({props:{data:$[4],currentSource:$[2],currentFilter:$[0],filter:$[1]}}),{c(){create_component(r.$$.fragment)},m(v,k){mount_component(r,v,k),p=!0},p(v,k){const x={};k&4&&(x.currentSource=v[2]),k&1&&(x.currentFilter=v[0]),k&2&&(x.filter=v[1]),r.$set(x)},i(v){p||(transition_in(r.$$.fragment,v),p=!0)},o(v){transition_out(r.$$.fragment,v),p=!1},d(v){destroy_component(r,v)}}}function create_fragment$2p($){let r,p,v=$[3],k=[];for(let S=0;S<v.length;S+=1)k[S]=create_each_block$A(get_each_context$A($,v,S));const x=S=>transition_out(k[S],1,1,()=>{k[S]=null});return{c(){r=element("div");for(let S=0;S<k.length;S+=1)k[S].c();attr(r,"class","filters")},m(S,L){insert(S,r,L);for(let I=0;I<k.length;I+=1)k[I]&&k[I].m(r,null);p=!0},p(S,[L]){if(L&15){v=S[3];let I;for(I=0;I<v.length;I+=1){const O=get_each_context$A(S,v,I);k[I]?(k[I].p(O,L),transition_in(k[I],1)):(k[I]=create_each_block$A(O),k[I].c(),transition_in(k[I],1),k[I].m(r,null))}for(group_outros(),I=v.length;I<k.length;I+=1)x(I);check_outros()}},i(S){if(!p){for(let L=0;L<v.length;L+=1)transition_in(k[L]);p=!0}},o(S){k=k.filter(Boolean);for(let L=0;L<k.length;L+=1)transition_out(k[L]);p=!1},d(S){S&&detach(r),destroy_each(k,S)}}}function instance$2c($,r,p){let{filter:v}=r,{currentFilter:k}=r,{currentSource:x}=r;const S=[[LogLevel.error,"error"],[LogLevel.warn,"warning"],[LogLevel.info,"info"],[LogLevel.critical,"cancel"]];return log.subscribe(()=>{p(0,k=null)}),$.$$set=L=>{"filter"in L&&p(1,v=L.filter),"currentFilter"in L&&p(0,k=L.currentFilter),"currentSource"in L&&p(2,x=L.currentSource)},[k,v,x,S]}class Filters extends SvelteComponent{constructor(r){super(),init(this,r,instance$2c,create_fragment$2p,safe_not_equal,{filter:1,currentFilter:0,currentSource:2})}}function create_fragment$2o($){let r,p,v,k,x,S,L,I,O,F,U,R,N,j,q,H,Q;return{c(){r=element("div"),p=element("button"),v=element("img"),x=text(`
    Clear`),L=space(),I=element("div"),O=space(),F=element("button"),U=element("span"),U.textContent="refresh",R=text(`
    Refresh`),j=space(),q=element("button"),q.innerHTML=`<span class="material-icons-round">title</span>
    monospace`,src_url_equal(v.src,k=clear$1)||attr(v,"src",k),attr(v,"alt","Clear"),attr(p,"class","action"),p.disabled=S=!$[0],attr(I,"class","sep"),attr(U,"class","material-icons-round"),attr(F,"class","action"),F.disabled=N=!$[0],attr(q,"class","action"),attr(r,"class","static")},m(V,K){insert(V,r,K),append(r,p),append(p,v),append(p,x),append(r,L),append(r,I),append(r,O),append(r,F),append(F,U),append(F,R),append(r,j),append(r,q),H||(Q=[listen(p,"click",$[10]),listen(F,"click",$[2]),listen(q,"click",$[3])],H=!0)},p(V,[K]){K&1&&S!==(S=!V[0])&&(p.disabled=S),K&1&&N!==(N=!V[0])&&(F.disabled=N)},i:noop$1,o:noop$1,d(V){V&&detach(r),H=!1,run_all(Q)}}}function instance$2b($,r,p){let v,k;component_subscribe($,UserData,H=>p(11,v=H)),component_subscribe($,log,H=>p(12,k=H));let{currentSource:x}=r,{currentFilter:S}=r,{logItems:L}=r,{setView:I}=r,{filter:O}=r,{appdata:F}=r,{app:U}=r;function R(H){for(let Q=0;Q<k.length;Q++)k[Q].source==H&&k.splice(Q,1);p(0,x=""),p(4,L=[]),log.set(k)}function N(){Log({source:"Logger: refresh",msg:"Refreshing current view",level:LogLevel.warn}),I(x),S&&O(S)}function j(){p(5,F.monospace=!F.monospace,F),set_store_value(UserData,v.appdata[U.id]=F,v)}const q=()=>R(x);return $.$$set=H=>{"currentSource"in H&&p(0,x=H.currentSource),"currentFilter"in H&&p(6,S=H.currentFilter),"logItems"in H&&p(4,L=H.logItems),"setView"in H&&p(7,I=H.setView),"filter"in H&&p(8,O=H.filter),"appdata"in H&&p(5,F=H.appdata),"app"in H&&p(9,U=H.app)},[x,R,N,j,L,F,S,I,O,U,q]}class Static extends SvelteComponent{constructor(r){super(),init(this,r,instance$2b,create_fragment$2o,safe_not_equal,{currentSource:0,currentFilter:6,logItems:4,setView:7,filter:8,appdata:5,app:9})}}function create_fragment$2n($){let r,p,v,k,x,S,L,I;function O(N){$[8](N)}function F(N){$[9](N)}function U(N){$[10](N)}let R={currentFilter:$[5],filter:$[6],setView:$[4],app:$[3]};return $[0]!==void 0&&(R.currentSource=$[0]),$[1]!==void 0&&(R.logItems=$[1]),$[2]!==void 0&&(R.appdata=$[2]),p=new Static({props:R}),binding_callbacks.push(()=>bind$1(p,"currentSource",O)),binding_callbacks.push(()=>bind$1(p,"logItems",F)),binding_callbacks.push(()=>bind$1(p,"appdata",U)),L=new Filters({props:{currentFilter:$[5],currentSource:$[0],filter:$[6]}}),{c(){r=element("div"),create_component(p.$$.fragment),S=space(),create_component(L.$$.fragment),attr(r,"class","actions")},m(N,j){insert(N,r,j),mount_component(p,r,null),append(r,S),mount_component(L,r,null),I=!0},p(N,[j]){const q={};j&32&&(q.currentFilter=N[5]),j&16&&(q.setView=N[4]),j&8&&(q.app=N[3]),!v&&j&1&&(v=!0,q.currentSource=N[0],add_flush_callback(()=>v=!1)),!k&&j&2&&(k=!0,q.logItems=N[1],add_flush_callback(()=>k=!1)),!x&&j&4&&(x=!0,q.appdata=N[2],add_flush_callback(()=>x=!1)),p.$set(q);const H={};j&32&&(H.currentFilter=N[5]),j&1&&(H.currentSource=N[0]),L.$set(H)},i(N){I||(transition_in(p.$$.fragment,N),transition_in(L.$$.fragment,N),I=!0)},o(N){transition_out(p.$$.fragment,N),transition_out(L.$$.fragment,N),I=!1},d(N){N&&detach(r),destroy_component(p),destroy_component(L)}}}function instance$2a($,r,p){let{app:v}=r,{currentSource:k}=r,{logItems:x}=r,{setView:S}=r,{updating:L}=r,{appdata:I}=r,O=[],F;log.subscribe(q=>{p(7,L=!0),O=[],p(5,F=null);const H=Object.entries(q);for(let Q=0;Q<H.length;Q++)H[Q][0]==k&&O.push(H[Q][1]);setTimeout(()=>{p(7,L=!1)})});function U(q){if(F==q){const Q=`${k}`;S(null),setTimeout(()=>{S(Q)});return}O.length||(O=x);const H=[];for(let Q=0;Q<O.length;Q++)q==O[Q].level&&H.push(O[Q]);p(1,x=H),p(5,F=q)}function R(q){k=q,p(0,k)}function N(q){x=q,p(1,x)}function j(q){I=q,p(2,I)}return $.$$set=q=>{"app"in q&&p(3,v=q.app),"currentSource"in q&&p(0,k=q.currentSource),"logItems"in q&&p(1,x=q.logItems),"setView"in q&&p(4,S=q.setView),"updating"in q&&p(7,L=q.updating),"appdata"in q&&p(2,I=q.appdata)},[k,x,I,v,S,F,U,L,R,N,j]}class Actions extends SvelteComponent{constructor(r){super(),init(this,r,instance$2a,create_fragment$2n,safe_not_equal,{app:3,currentSource:0,logItems:1,setView:4,updating:7,appdata:2})}}function create_fragment$2m($){let r,p,v=$[1][$[0].level]+"",k,x,S,L,I=dayjs($[0].timestamp).format("HH:mm:ss.SSS")+"",O,F,U,R=$[0].msg+"",N;return{c(){r=element("div"),p=element("div"),k=text(v),S=space(),L=element("div"),O=text(I),F=space(),U=element("div"),N=text(R),attr(p,"class",x="level material-icons-round "+LogLevel[$[0].level]),attr(L,"class","timestamp"),attr(U,"class","msg"),attr(r,"class","logitem")},m(j,q){insert(j,r,q),append(r,p),append(p,k),append(r,S),append(r,L),append(L,O),append(r,F),append(r,U),append(U,N)},p(j,[q]){q&1&&v!==(v=j[1][j[0].level]+"")&&set_data(k,v),q&1&&x!==(x="level material-icons-round "+LogLevel[j[0].level])&&attr(p,"class",x),q&1&&I!==(I=dayjs(j[0].timestamp).format("HH:mm:ss.SSS")+"")&&set_data(O,I),q&1&&R!==(R=j[0].msg+"")&&set_data(N,R)},i:noop$1,o:noop$1,d(j){j&&detach(r)}}}function instance$29($,r,p){let{logItem:v}=r;const k={0:"info",1:"warning",2:"error",3:"cancel"};return $.$$set=x=>{"logItem"in x&&p(0,v=x.logItem)},[v,k]}class LogItem extends SvelteComponent{constructor(r){super(),init(this,r,instance$29,create_fragment$2m,safe_not_equal,{logItem:0})}}function get_each_context$z($,r,p){const v=$.slice();return v[4]=r[p],v}function create_if_block_1$j($){let r,p,v=$[1],k=[];for(let S=0;S<v.length;S+=1)k[S]=create_each_block$z(get_each_context$z($,v,S));const x=S=>transition_out(k[S],1,1,()=>{k[S]=null});return{c(){for(let S=0;S<k.length;S+=1)k[S].c();r=empty()},m(S,L){for(let I=0;I<k.length;I+=1)k[I]&&k[I].m(S,L);insert(S,r,L),p=!0},p(S,L){if(L&2){v=S[1];let I;for(I=0;I<v.length;I+=1){const O=get_each_context$z(S,v,I);k[I]?(k[I].p(O,L),transition_in(k[I],1)):(k[I]=create_each_block$z(O),k[I].c(),transition_in(k[I],1),k[I].m(r.parentNode,r))}for(group_outros(),I=v.length;I<k.length;I+=1)x(I);check_outros()}},i(S){if(!p){for(let L=0;L<v.length;L+=1)transition_in(k[L]);p=!0}},o(S){k=k.filter(Boolean);for(let L=0;L<k.length;L+=1)transition_out(k[L]);p=!1},d(S){destroy_each(k,S),S&&detach(r)}}}function create_each_block$z($){let r,p;return r=new LogItem({props:{logItem:$[4]}}),{c(){create_component(r.$$.fragment)},m(v,k){mount_component(r,v,k),p=!0},p(v,k){const x={};k&2&&(x.logItem=v[4]),r.$set(x)},i(v){p||(transition_in(r.$$.fragment,v),p=!0)},o(v){transition_out(r.$$.fragment,v),p=!1},d(v){destroy_component(r,v)}}}function create_if_block$10($){let r,p,v,k,x,S;return{c(){r=element("div"),p=element("img"),x=space(),S=element("p"),S.textContent="No items found.",src_url_equal(p.src,v=getAppIcon($[0]))||attr(p,"src",v),attr(p,"alt",k=$[0].info.name),attr(r,"class","noitems")},m(L,I){insert(L,r,I),append(r,p),append(r,x),append(r,S)},p(L,I){I&1&&!src_url_equal(p.src,v=getAppIcon(L[0]))&&attr(p,"src",v),I&1&&k!==(k=L[0].info.name)&&attr(p,"alt",k)},d(L){L&&detach(r)}}}function create_fragment$2l($){let r,p,v,k=!$[2]&&create_if_block_1$j($),x=!$[1].length&&create_if_block$10($);return{c(){r=element("div"),k&&k.c(),p=space(),x&&x.c(),attr(r,"class","items"),toggle_class(r,"cflex",!$[1].length),toggle_class(r,"monospace",!!$[3].monospace)},m(S,L){insert(S,r,L),k&&k.m(r,null),append(r,p),x&&x.m(r,null),v=!0},p(S,[L]){S[2]?k&&(group_outros(),transition_out(k,1,1,()=>{k=null}),check_outros()):k?(k.p(S,L),L&4&&transition_in(k,1)):(k=create_if_block_1$j(S),k.c(),transition_in(k,1),k.m(r,p)),S[1].length?x&&(x.d(1),x=null):x?x.p(S,L):(x=create_if_block$10(S),x.c(),x.m(r,null)),(!v||L&2)&&toggle_class(r,"cflex",!S[1].length),(!v||L&8)&&toggle_class(r,"monospace",!!S[3].monospace)},i(S){v||(transition_in(k),v=!0)},o(S){transition_out(k),v=!1},d(S){S&&detach(r),k&&k.d(),x&&x.d()}}}function instance$28($,r,p){let{app:v}=r,{logItems:k}=r,{updating:x}=r,{appdata:S}=r;return $.$$set=L=>{"app"in L&&p(0,v=L.app),"logItems"in L&&p(1,k=L.logItems),"updating"in L&&p(2,x=L.updating),"appdata"in L&&p(3,S=L.appdata)},[v,k,x,S]}class Items extends SvelteComponent{constructor(r){super(),init(this,r,instance$28,create_fragment$2l,safe_not_equal,{app:0,logItems:1,updating:2,appdata:3})}}function create_fragment$2k($){let r,p,v,k,x,S,L,I,O,F,U,R,N;function j(X){$[6](X)}function q(X){$[7](X)}function H(X){$[8](X)}function Q(X){$[9](X)}function V(X){$[10](X)}function K(X){$[11](X)}let G={};$[1]!==void 0&&(G.currentSource=$[1]),$[2]!==void 0&&(G.logItems=$[2]),$[3]!==void 0&&(G.setView=$[3]),$[5]!==void 0&&(G.updating=$[5]),$[4]!==void 0&&(G.appdata=$[4]),$[0]!==void 0&&(G.app=$[0]),p=new Actions({props:G}),binding_callbacks.push(()=>bind$1(p,"currentSource",j)),binding_callbacks.push(()=>bind$1(p,"logItems",q)),binding_callbacks.push(()=>bind$1(p,"setView",H)),binding_callbacks.push(()=>bind$1(p,"updating",Q)),binding_callbacks.push(()=>bind$1(p,"appdata",V)),binding_callbacks.push(()=>bind$1(p,"app",K));function Y(X){$[12](X)}function J(X){$[13](X)}let Z={app:$[0],appdata:$[4]};return $[2]!==void 0&&(Z.logItems=$[2]),$[5]!==void 0&&(Z.updating=$[5]),F=new Items({props:Z}),binding_callbacks.push(()=>bind$1(F,"logItems",Y)),binding_callbacks.push(()=>bind$1(F,"updating",J)),{c(){r=element("div"),create_component(p.$$.fragment),O=space(),create_component(F.$$.fragment),attr(r,"class","content")},m(X,ee){insert(X,r,ee),mount_component(p,r,null),append(r,O),mount_component(F,r,null),N=!0},p(X,[ee]){const te={};!v&&ee&2&&(v=!0,te.currentSource=X[1],add_flush_callback(()=>v=!1)),!k&&ee&4&&(k=!0,te.logItems=X[2],add_flush_callback(()=>k=!1)),!x&&ee&8&&(x=!0,te.setView=X[3],add_flush_callback(()=>x=!1)),!S&&ee&32&&(S=!0,te.updating=X[5],add_flush_callback(()=>S=!1)),!L&&ee&16&&(L=!0,te.appdata=X[4],add_flush_callback(()=>L=!1)),!I&&ee&1&&(I=!0,te.app=X[0],add_flush_callback(()=>I=!1)),p.$set(te);const le={};ee&1&&(le.app=X[0]),ee&16&&(le.appdata=X[4]),!U&&ee&4&&(U=!0,le.logItems=X[2],add_flush_callback(()=>U=!1)),!R&&ee&32&&(R=!0,le.updating=X[5],add_flush_callback(()=>R=!1)),F.$set(le)},i(X){N||(transition_in(p.$$.fragment,X),transition_in(F.$$.fragment,X),N=!0)},o(X){transition_out(p.$$.fragment,X),transition_out(F.$$.fragment,X),N=!1},d(X){X&&detach(r),destroy_component(p),destroy_component(F)}}}function instance$27($,r,p){let{app:v}=r,{currentSource:k}=r,{logItems:x}=r,{setView:S}=r,{appdata:L}=r,I=!1;function O(Q){k=Q,p(1,k)}function F(Q){x=Q,p(2,x)}function U(Q){S=Q,p(3,S)}function R(Q){I=Q,p(5,I)}function N(Q){L=Q,p(4,L)}function j(Q){v=Q,p(0,v)}function q(Q){x=Q,p(2,x)}function H(Q){I=Q,p(5,I)}return $.$$set=Q=>{"app"in Q&&p(0,v=Q.app),"currentSource"in Q&&p(1,k=Q.currentSource),"logItems"in Q&&p(2,x=Q.logItems),"setView"in Q&&p(3,S=Q.setView),"appdata"in Q&&p(4,L=Q.appdata)},[v,k,x,S,L,I,O,F,U,R,N,j,q,H]}let Content$3=class extends SvelteComponent{constructor(r){super(),init(this,r,instance$27,create_fragment$2k,safe_not_equal,{app:0,currentSource:1,logItems:2,setView:3,appdata:4})}};function create_fragment$2j($){let r,p,v=$[0][0]+"",k,x,S,L=$[0][1].length+"",I,O,F,U;return{c(){r=element("button"),p=element("div"),k=text(v),x=space(),S=element("div"),I=text(L),O=text(" items"),attr(p,"class","name"),attr(S,"class","items"),toggle_class(r,"active",$[0][0]==$[1])},m(R,N){insert(R,r,N),append(r,p),append(p,k),append(r,x),append(r,S),append(S,I),append(S,O),F||(U=listen(r,"click",$[2]),F=!0)},p(R,[N]){N&1&&v!==(v=R[0][0]+"")&&set_data(k,v),N&1&&L!==(L=R[0][1].length+"")&&set_data(I,L),N&3&&toggle_class(r,"active",R[0][0]==R[1])},i:noop$1,o:noop$1,d(R){R&&detach(r),F=!1,U()}}}function instance$26($,r,p){let{category:v}=r,{setView:k}=r,{currentSource:x}=r;function S(){k&&k(v[0])}return $.$$set=L=>{"category"in L&&p(0,v=L.category),"setView"in L&&p(3,k=L.setView),"currentSource"in L&&p(1,x=L.currentSource)},[v,x,S,k]}class Category extends SvelteComponent{constructor(r){super(),init(this,r,instance$26,create_fragment$2j,safe_not_equal,{category:0,setView:3,currentSource:1})}}function get_each_context$y($,r,p){const v=$.slice();return v[6]=r[p],v[7]=r,v[8]=p,v}function create_each_block$y($){let r,p,v,k,x;function S(F){$[3](F)}function L(F){$[4](F,$[6],$[7],$[8])}function I(F){$[5](F)}let O={};return $[1]!==void 0&&(O.setView=$[1]),$[6]!==void 0&&(O.category=$[6]),$[2]!==void 0&&(O.currentSource=$[2]),r=new Category({props:O}),binding_callbacks.push(()=>bind$1(r,"setView",S)),binding_callbacks.push(()=>bind$1(r,"category",L)),binding_callbacks.push(()=>bind$1(r,"currentSource",I)),{c(){create_component(r.$$.fragment)},m(F,U){mount_component(r,F,U),x=!0},p(F,U){$=F;const R={};!p&&U&2&&(p=!0,R.setView=$[1],add_flush_callback(()=>p=!1)),!v&&U&1&&(v=!0,R.category=$[6],add_flush_callback(()=>v=!1)),!k&&U&4&&(k=!0,R.currentSource=$[2],add_flush_callback(()=>k=!1)),r.$set(R)},i(F){x||(transition_in(r.$$.fragment,F),x=!0)},o(F){transition_out(r.$$.fragment,F),x=!1},d(F){destroy_component(r,F)}}}function create_fragment$2i($){let r,p,v=$[0],k=[];for(let S=0;S<v.length;S+=1)k[S]=create_each_block$y(get_each_context$y($,v,S));const x=S=>transition_out(k[S],1,1,()=>{k[S]=null});return{c(){r=element("div");for(let S=0;S<k.length;S+=1)k[S].c();attr(r,"class","sidebar")},m(S,L){insert(S,r,L);for(let I=0;I<k.length;I+=1)k[I]&&k[I].m(r,null);p=!0},p(S,[L]){if(L&7){v=S[0];let I;for(I=0;I<v.length;I+=1){const O=get_each_context$y(S,v,I);k[I]?(k[I].p(O,L),transition_in(k[I],1)):(k[I]=create_each_block$y(O),k[I].c(),transition_in(k[I],1),k[I].m(r,null))}for(group_outros(),I=v.length;I<k.length;I+=1)x(I);check_outros()}},i(S){if(!p){for(let L=0;L<v.length;L+=1)transition_in(k[L]);p=!0}},o(S){k=k.filter(Boolean);for(let L=0;L<k.length;L+=1)transition_out(k[L]);p=!1},d(S){S&&detach(r),destroy_each(k,S)}}}function instance$25($,r,p){let{logs:v}=r,{setView:k}=r,{currentSource:x}=r;function S(O){k=O,p(1,k)}function L(O,F,U,R){U[R]=O,p(0,v)}function I(O){x=O,p(2,x)}return $.$$set=O=>{"logs"in O&&p(0,v=O.logs),"setView"in O&&p(1,k=O.setView),"currentSource"in O&&p(2,x=O.currentSource)},[v,k,x,S,L,I]}let Sidebar$1=class extends SvelteComponent{constructor(r){super(),init(this,r,instance$25,create_fragment$2i,safe_not_equal,{logs:0,setView:1,currentSource:2})}};function create_if_block$$($){let r,p,v,k,x,S,L,I,O;function F(Q){$[6](Q)}function U(Q){$[7](Q)}let R={setView:$[5]};$[4]!==void 0&&(R.currentSource=$[4]),$[2]!==void 0&&(R.logs=$[2]),r=new Sidebar$1({props:R}),binding_callbacks.push(()=>bind$1(r,"currentSource",F)),binding_callbacks.push(()=>bind$1(r,"logs",U));function N(Q){$[8](Q)}function j(Q){$[9](Q)}function q(Q){$[10](Q)}let H={setView:$[5],app:$[0]};return $[4]!==void 0&&(H.currentSource=$[4]),$[3]!==void 0&&(H.logItems=$[3]),$[1]!==void 0&&(H.appdata=$[1]),x=new Content$3({props:H}),binding_callbacks.push(()=>bind$1(x,"currentSource",N)),binding_callbacks.push(()=>bind$1(x,"logItems",j)),binding_callbacks.push(()=>bind$1(x,"appdata",q)),{c(){create_component(r.$$.fragment),k=space(),create_component(x.$$.fragment)},m(Q,V){mount_component(r,Q,V),insert(Q,k,V),mount_component(x,Q,V),O=!0},p(Q,V){const K={};!p&&V&16&&(p=!0,K.currentSource=Q[4],add_flush_callback(()=>p=!1)),!v&&V&4&&(v=!0,K.logs=Q[2],add_flush_callback(()=>v=!1)),r.$set(K);const G={};V&1&&(G.app=Q[0]),!S&&V&16&&(S=!0,G.currentSource=Q[4],add_flush_callback(()=>S=!1)),!L&&V&8&&(L=!0,G.logItems=Q[3],add_flush_callback(()=>L=!1)),!I&&V&2&&(I=!0,G.appdata=Q[1],add_flush_callback(()=>I=!1)),x.$set(G)},i(Q){O||(transition_in(r.$$.fragment,Q),transition_in(x.$$.fragment,Q),O=!0)},o(Q){transition_out(r.$$.fragment,Q),transition_out(x.$$.fragment,Q),O=!1},d(Q){destroy_component(r,Q),Q&&detach(k),destroy_component(x,Q)}}}function create_fragment$2h($){let r,p,v=$[0]&&create_if_block$$($);return{c(){v&&v.c(),r=empty()},m(k,x){v&&v.m(k,x),insert(k,r,x),p=!0},p(k,[x]){k[0]?v?(v.p(k,x),x&1&&transition_in(v,1)):(v=create_if_block$$(k),v.c(),transition_in(v,1),v.m(r.parentNode,r)):v&&(group_outros(),transition_out(v,1,1,()=>{v=null}),check_outros())},i(k){p||(transition_in(v),p=!0)},o(k){transition_out(v),p=!1},d(k){v&&v.d(k),k&&detach(r)}}}function instance$24($,r,p){let v;component_subscribe($,log,q=>p(11,v=q));let k=[],x=[],S="",{app:L}=r,{appdata:I}=r;function O(q){Log({source:"apps/Logger: setView",msg:`Setting source to "${q}"`,level:LogLevel.info});for(let H=0;H<k.length;H++)k[H][0]==q&&p(3,x=k[H][1]);x.length||Log({source:"apps/Logger: setView",msg:`Source "${q}" contains no items or could not be found.`,level:LogLevel.info}),p(4,S=q)}log.subscribe(()=>{p(2,k=Object.entries(collectLogsBySource())),p(0,L.info.titleSuffix=` - ${v.length} items`,L)});function F(q){S=q,p(4,S)}function U(q){k=q,p(2,k)}function R(q){S=q,p(4,S)}function N(q){x=q,p(3,x)}function j(q){I=q,p(1,I)}return $.$$set=q=>{"app"in q&&p(0,L=q.app),"appdata"in q&&p(1,I=q.appdata)},[L,I,k,x,S,O,F,U,R,N,j]}class Logger extends SvelteComponent{constructor(r){super(),init(this,r,instance$24,create_fragment$2h,safe_not_equal,{app:0,appdata:1})}}const LoggerApp={info:{name:"System Logger",description:"All the ArcOS logs in one place",builtin:!0,version:"1.0.0",author:"ArcOS Team",icon:logo$4},size:{w:900,h:600},pos:{x:30,y:40},minSize:{w:900,h:600},maxSize:{w:901,h:601},controls:{min:!0,max:!0,cls:!0},state:{headless:!1,resizable:!1,windowState:{min:!1,max:!1,fll:!1}},content:Logger,glass:!0},markdownviewer="";function create_fragment$2g($){let r,p,v,k,x,S,L,I;return{c(){r=element("div"),p=element("div"),v=element("img"),x=space(),S=element("h3"),S.textContent="Render failed",L=space(),I=element("p"),I.textContent="The markdown content could not be parsed. The opened file may be empty.",src_url_equal(v.src,k=warning)||attr(v,"src",k),attr(v,"alt","Error"),attr(p,"class","content"),attr(r,"class","unreadable")},m(O,F){insert(O,r,F),append(r,p),append(p,v),append(p,x),append(p,S),append(p,L),append(p,I)},p:noop$1,i:noop$1,o:noop$1,d(O){O&&detach(r)}}}class Unreadable extends SvelteComponent{constructor(r){super(),init(this,r,null,create_fragment$2g,safe_not_equal,{})}}function create_if_block$_($){let r,p,v,k;const x=[create_if_block_1$i,create_else_block$j],S=[];function L(I,O){return I[1]?0:1}return r=L($),p=S[r]=x[r]($),{c(){p.c(),v=empty()},m(I,O){S[r].m(I,O),insert(I,v,O),k=!0},p(I,O){let F=r;r=L(I),r===F?S[r].p(I,O):(group_outros(),transition_out(S[F],1,1,()=>{S[F]=null}),check_outros(),p=S[r],p?p.p(I,O):(p=S[r]=x[r](I),p.c()),transition_in(p,1),p.m(v.parentNode,v))},i(I){k||(transition_in(p),k=!0)},o(I){transition_out(p),k=!1},d(I){S[r].d(I),I&&detach(v)}}}function create_else_block$j($){let r,p;return r=new Unreadable({}),{c(){create_component(r.$$.fragment)},m(v,k){mount_component(r,v,k),p=!0},p:noop$1,i(v){p||(transition_in(r.$$.fragment,v),p=!0)},o(v){transition_out(r.$$.fragment,v),p=!1},d(v){destroy_component(r,v)}}}function create_if_block_1$i($){let r,p,v;return p=new SvelteMarkdown({props:{source:$[1]}}),{c(){r=element("div"),create_component(p.$$.fragment),attr(r,"class","markdownrenderer")},m(k,x){insert(k,r,x),mount_component(p,r,null),v=!0},p(k,x){const S={};x&2&&(S.source=k[1]),p.$set(S)},i(k){v||(transition_in(p.$$.fragment,k),v=!0)},o(k){transition_out(p.$$.fragment,k),v=!1},d(k){k&&detach(r),destroy_component(p)}}}function create_fragment$2f($){let r,p,v=$[0]&&create_if_block$_($);return{c(){v&&v.c(),r=empty()},m(k,x){v&&v.m(k,x),insert(k,r,x),p=!0},p(k,[x]){k[0]?v?(v.p(k,x),x&1&&transition_in(v,1)):(v=create_if_block$_(k),v.c(),transition_in(v,1),v.m(r.parentNode,r)):v&&(group_outros(),transition_out(v,1,1,()=>{v=null}),check_outros())},i(k){p||(transition_in(v),p=!0)},o(k){transition_out(v),p=!1},d(k){v&&v.d(k),k&&detach(r)}}}function instance$23($,r,p){let v;component_subscribe($,TextEditorContent,L=>p(3,v=L));let{app:k}=r,x="",S="";return WindowStore.subscribe(()=>{if(getWindow("TextEditor"),!k)return;const L=k.openedFile;!L||!L.mime.startsWith("text/")||(x=new TextDecoder().decode(L.data),p(1,S=k.openedFile?x:v))}),TextEditorContent.subscribe(()=>{closeFile("MarkDownViewer"),setTitleSuffix("","MarkDownViewer"),p(1,S=k.openedFile?x:v)}),$.$$set=L=>{"app"in L&&p(0,k=L.app)},[k,S]}let MarkDownViewer$1=class extends SvelteComponent{constructor(r){super(),init(this,r,instance$23,create_fragment$2f,safe_not_equal,{app:0})}};const MarkDownViewer={info:{name:"Markdown Viewer",description:"View .MD files",author:"ArcOS Team",version:"1.0.0",icon:icon$3,builtin:!0,hidden:!0},size:{w:700,h:550},pos:{x:30,y:40},minSize:{w:400,h:300},maxSize:{w:1e3,h:800},controls:{min:!0,max:!0,cls:!0},state:{headless:!1,resizable:!0,windowState:{min:!1,max:!1,fll:!1}},content:MarkDownViewer$1,glass:!1,fileMimes:["text/plain; charset=utf-8","text/markdown; charset=utf-8"],events:{openFile($){$.openedFile&&setTitleSuffix(` - ${$.openedFile.path}`,$.id)}}},logo$3=""+new URL("mediaplayer-8f0c4cdf.svg",import.meta.url).href,mediaplayer="";function create_if_block$Z($){let r,p,v=!1,k,x,S,L,I;function O(){cancelAnimationFrame(k),r.paused||(k=raf(O),v=!0),$[13].call(r)}let F=$[1]&&create_if_block_1$h($);return{c(){r=element("audio"),x=space(),F&&F.c(),S=empty(),src_url_equal(r.src,p=$[5])||attr(r,"src",p),r.controls=!0,r.autoplay=!0,$[3]===void 0&&add_render_callback(()=>$[12].call(r))},m(U,R){insert(U,r,R),$[11](r),insert(U,x,R),F&&F.m(U,R),insert(U,S,R),L||(I=[listen(r,"durationchange",$[12]),listen(r,"timeupdate",O),listen(r,"timeupdate",$[9])],L=!0)},p(U,R){R&32&&!src_url_equal(r.src,p=U[5])&&attr(r,"src",p),!v&&R&16&&!isNaN(U[4])&&(r.currentTime=U[4]),v=!1,U[1]?F?F.p(U,R):(F=create_if_block_1$h(U),F.c(),F.m(S.parentNode,S)):F&&(F.d(1),F=null)},d(U){U&&detach(r),$[11](null),U&&detach(x),F&&F.d(U),U&&detach(S),L=!1,run_all(I)}}}function create_if_block_1$h($){let r,p,v,k,x,S,L,I,O,F,U,R,N,j,q,H,Q,V,K=formatTime($[4])+"",G,Y,J=formatTime($[3])+"",Z,X,ee,te,le,ue,ae,oe,se,re,ie=$[0].openedFile.path+"",ne,ce,de,fe;return{c(){r=element("div"),p=element("div"),v=element("div"),k=element("button"),x=text("play_arrow"),L=space(),I=element("button"),O=text("pause"),F=space(),U=element("div"),R=element("button"),R.textContent="fast_rewind",N=space(),j=element("button"),j.textContent="fast_forward",q=space(),H=element("button"),H.textContent="stop",Q=space(),V=element("div"),G=text(K),Y=text(" / "),Z=text(J),X=space(),ee=element("div"),te=element("div"),le=space(),ue=element("div"),ae=element("img"),re=element("span"),ne=text(ie),attr(k,"class","material-icons-round"),k.disabled=S=!$[6]&&$[2]<100,attr(I,"class","material-icons-round"),I.disabled=$[6],attr(v,"class","group"),attr(R,"class","material-icons-round"),attr(j,"class","material-icons-round"),attr(U,"class","group"),attr(H,"class","material-icons-round"),attr(V,"class","right"),attr(p,"class","controls"),attr(te,"class","inner"),set_style(te,"width",$[2]+"%"),attr(ee,"class","bar"),src_url_equal(ae.src,oe=getMimeIcon($[0].openedFile.name))||attr(ae,"src",oe),attr(ae,"alt",se=$[0].openedFile.name),attr(ue,"class","filename"),attr(ue,"title",ce=$[0].openedFile.path),attr(r,"class","media-player")},m(pe,_e){insert(pe,r,_e),append(r,p),append(p,v),append(v,k),append(k,x),append(v,L),append(v,I),append(I,O),append(p,F),append(p,U),append(U,R),append(U,N),append(U,j),append(p,q),append(p,H),append(p,Q),append(p,V),append(V,G),append(V,Y),append(V,Z),append(r,X),append(r,ee),append(ee,te),append(r,le),append(r,ue),append(ue,ae),append(ue,re),append(re,ne),de||(fe=[listen(k,"click",$[14]),listen(I,"click",$[15]),listen(R,"click",$[7]),listen(j,"click",$[8]),listen(H,"click",$[10])],de=!0)},p(pe,_e){_e&68&&S!==(S=!pe[6]&&pe[2]<100)&&(k.disabled=S),_e&64&&(I.disabled=pe[6]),_e&16&&K!==(K=formatTime(pe[4])+"")&&set_data(G,K),_e&8&&J!==(J=formatTime(pe[3])+"")&&set_data(Z,J),_e&4&&set_style(te,"width",pe[2]+"%"),_e&1&&!src_url_equal(ae.src,oe=getMimeIcon(pe[0].openedFile.name))&&attr(ae,"src",oe),_e&1&&se!==(se=pe[0].openedFile.name)&&attr(ae,"alt",se),_e&1&&ie!==(ie=pe[0].openedFile.path+"")&&set_data(ne,ie),_e&1&&ce!==(ce=pe[0].openedFile.path)&&attr(ue,"title",ce)},d(pe){pe&&detach(r),de=!1,run_all(fe)}}}function create_fragment$2e($){let r,p=$[0].openedFile&&create_if_block$Z($);return{c(){p&&p.c(),r=empty()},m(v,k){p&&p.m(v,k),insert(v,r,k)},p(v,[k]){v[0].openedFile?p?p.p(v,k):(p=create_if_block$Z(v),p.c(),p.m(r.parentNode,r)):p&&(p.d(1),p=null)},i:noop$1,o:noop$1,d(v){p&&p.d(v),v&&detach(r)}}}function formatTime($){const r=Math.floor($/60),p=Math.floor($%60);return`${r}:${p.toString().padStart(2,"0")}`}function instance$22($,r,p){let v,{app:k}=r,x=0,S=0,L=0,I="",O="",F=!0;WindowStore.subscribe(()=>{!k.openedFile||!v||O==k.openedFile.name||(O=k.openedFile.name,p(5,I=URL.createObjectURL(new Blob([k.openedFile.data],{type:k.openedFile.mime}))),setTimeout(()=>{v.play()}))});function U(){p(1,v.currentTime-=10,v)}function R(){p(1,v.currentTime+=10,v)}function N(){p(2,x=v.currentTime/v.duration*100),p(6,F=v.paused)}function j(){p(1,v.currentTime=0,v),v.pause()}onMount(()=>{registerShortcuts([{key:"space",action:()=>{v==null||v.pause()}}])});function q(G){binding_callbacks[G?"unshift":"push"](()=>{v=G,p(1,v)})}function H(){S=this.duration,p(3,S)}function Q(){L=this.currentTime,p(4,L)}const V=()=>v.play(),K=()=>v.pause();return $.$$set=G=>{"app"in G&&p(0,k=G.app)},[k,v,x,S,L,I,F,U,R,N,j,q,H,Q,V,K]}class MediaPlayer extends SvelteComponent{constructor(r){super(),init(this,r,instance$22,create_fragment$2e,safe_not_equal,{app:0})}}const MediaPlayerApp={info:{name:"Media Player",description:"Play audio files",builtin:!0,version:"2.0.0",author:"Izaak Kuipers",icon:logo$3,hidden:!0},size:{w:442,h:NaN},pos:{x:100,y:100},minSize:{w:442,h:NaN},maxSize:{w:442,h:NaN},controls:{min:!0,max:!1,cls:!0},state:{headless:!1,resizable:!1,windowState:{min:!1,max:!1,fll:!1}},content:MediaPlayer,glass:!0,fileMimes:["audio/x-flac","audio/wave","audio/mpeg"],events:{open:$=>{if(!$.openedFile)return disposeTrayIcon("MediaPlayerApp"),closeWindow("MediaPlayerApp");createTrayIcon({onOpen(){openWindow("MediaPlayerApp")},image:logo$3,identifier:"MediaPlayerApp"})},close(){disposeTrayIcon("MediaPlayerApp")}}},logo$2=""+new URL("messaging-9e309b2f.svg",import.meta.url).href;async function deleteMessage($){const r=get_store_value(ConnectedServer);return r?!await apiCall(r,"messages/delete",{id:btoa($)},get_store_value(UserToken)):!1}const MessagingUpdaters=writable([]);function messageSubscribe($){const r=get_store_value(MessagingUpdaters);r.push($),MessagingUpdaters.set(r)}function messageUpdateTrigger(){const $=get_store_value(MessagingUpdaters);for(let r=0;r<$.length;r++)$[r]()}const messageSidebarActions=[{icon:"add",name:"New Message",action(){replyMessageId.set(null),creatingMessage.set(!0)}}],messageItemActions=[{icon:"reply",name:"Reply",async action($){replyMessageId.set($.id),creatingMessage.set(!0)}},{icon:"save",name:"Save to ArcFS",async action($){const r=new Blob([$.body],{type:"text/markdown"});await createDirectory("./Messages");const p=`Message from ${$.sender} - ${$.id}.md`,v=`./Messages/${p}`;await writeFile(v,r),openWindow("FileManager"),await fbClass.goToDirectory("./Messages"),setTimeout(()=>{FileBrowserSelectedFilename.set(p)})}},{icon:"delete",name:"Delete message for everyone",async action($){createOverlayableError({title:"Delete message?",message:`Are you sure you want to delete this message from ${$.sender}? This cannot be undone.`,image:warning,buttons:[{caption:"Delete",action:async()=>{await deleteMessage($.id),messageUpdateTrigger(),selectedMessageId.set(null)}},{caption:"Cancel",action:()=>{}}]},"MessagingApp")}}];async function getSentMessages(){const $=await getMessages();let r=[];for(let p=0;p<$.length;p++)$[p].sender==get_store_value(UserName)&&r.push($[p]);return r}async function getReceivedMessages(){const $=await getMessages();let r=[];for(let p=0;p<$.length;p++)$[p].receiver==get_store_value(UserName)&&r.push($[p]);return r}async function getUnreadMessages(){const $=await getReceivedMessages();let r=[];for(let p=0;p<$.length;p++)$[p].read||r.push($[p]);return r}const messagingPage=writable(null);messagingPage.subscribe(()=>{setTimeout(messageUpdateTrigger,100)});selectedMessageId.subscribe(()=>{messageUpdateTrigger(),creatingMessage.set(!1)});const MessagingPages={unread:{name:"Unread",icon:"mark_email_unread",msgGetter:getUnreadMessages},inbox:{name:"Inbox",icon:"inbox",msgGetter:getReceivedMessages},sent:{name:"Sent",icon:"send",msgGetter:getSentMessages}},pfp1=""+new URL("1-ce0ed19a.png",import.meta.url).href,pfp10=""+new URL("10-a17f4986.png",import.meta.url).href,pfp11=""+new URL("11-0772df5b.png",import.meta.url).href,pfp12=""+new URL("12-e9d77a32.png",import.meta.url).href,pfp13=""+new URL("13-0dcda114.png",import.meta.url).href,pfp14="data:image/png;base64,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",pfp15="data:image/png;base64,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",pfp16="data:image/png;base64,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",pfp17=""+new URL("17-662a7167.png",import.meta.url).href,pfp18=""+new URL("18-240e69f8.png",import.meta.url).href,pfp19=""+new URL("19-42714701.png",import.meta.url).href,pfp2=""+new URL("2-73afb162.png",import.meta.url).href,pfp20="data:image/png;base64,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",pfp21=""+new URL("21-6ad724fd.png",import.meta.url).href,pfp22="data:image/png;base64,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",pfp23="data:image/png;base64,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",pfp24="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAIAAABt+uBvAAAHDklEQVR42u3chXMbSRbH8WNmpoJjZiZ7mUGKzMwOMzOzMcyMZmYWS2NFG9X9O9/zW+iKXVqN7yxX7Yy66hdOJjWfeq1+3e6ZD2G8lSA6GkgDaSANpIE0kAbSQBpI54MNNP14bjQQysVvMO6hb4j2bkn/MBNeAoaSSjEgRRN6RO8gZ86xdTsVlRQUkpcvKSykqpodOzl/kYERwlHFlEJAUi+Hj1JSypIlOBw4nXMiv+lyUVbOiRoGR8UoFYDkPgPTXL1BZdU7EAKUIO/8haXLuH1PKk6YbAmkdHxh6hrIyZlLY8qUn8/ZC4IrRnYFCkaobyQrK76OmZGwnrsodWRboGu3yM0110lgVFDAvYdSRDYDklsaGJG5yVzHzGjlKkanlJFNgGRcHDu5IBoVl4vGMzaqIFU+ZeWqfBZYRDKpjUkR2QUoEuPiZVyuhdKoZGVx865c1iZAwWl278HhSBaQXOrwYcJROwDJQJjysXyFGl/JGWWrihjvkovbAWhonJLSpAItoeQN2rYSNmwB1DdEYWGSgQrf5OZruO9jxKwP1D9MYVGSgQocXH2a3pWEAhiPLQ40MklZWbIryMG1Z2h5nomr1gdyB1i9ZlGAmtLoKifoFiNLAqk2+uBhHI7kAzU/RfOzjJ6yOFAkxo07ZGYtClBTOh15+EfFyMJLjTG3aoWSDTSTpxk+hhG1+HbH2fNkZCwOUDptLnx9GDErb3dMeFm3PilFJEDFb3JDAYkRA7sJR6wJpIxaOyhNQkstQKtf497TQqOAWl/H0ypFZO1N+xu3F9hVi062k5oXVPkoI/o2EA5jPLYyUDjKzbv/996Q6OQ42fcy96V85gK1vMTkHSkiqwKpdHSzeQuZmTgd/4OUS0YWjc/zQETiJY2eZYT8UkTWBpL22s+V6/KxnZs7X6AsJw3P06I44qX5ecYvWRxIGQlTgOZ2du2Z135j1hvU/Jnm9ARAUkSdJQQmxcgmhxei/5nXhqzTRfFT1HyZu3+i6emERs8wWm+j4y+RGBeuJAJyOch+jZJ09nyDug9x6Xs0JS6idDpy8A9LEdkBaDpGSwd5eTid8Qun8m/s/zLHPzmjI2n8BHd+n7iIJEOHMKL2AHqMNyQnYByOOJN61mvs+hb1QqPChW/yMM2kiNqceLsxYhYHUkbd/axYOfv4i5PsTDb+npqPCMqTafgYt35tVkTpDOwgPG0LILUze+iInKTKL6CoiPUbuH6DvgZu/IOGT1I72+jcV3nwLxOg1tdwN0sRWR5IGQUjjE7S3S9YniDSCsQITNGznyu/of5jion6j3DjZ+ZF1LuWUAjjsfWBVOKc4xQmvEN0rOfCD6h7b8Sd+SL3/2EC1PIikzdtAWQeGSm4O2ku5+y3EKMPc+1HApEoaXRXEfSKkc2BVE8QfsT4Pe67OP0lTn2Ge38xGWjNzzF2PmWAFFMozPBFbj3H9Z/z8N9mi48iAhNilCpA6oMp6GP4NF1VND8vEO9r9DQjNbatIHOmkF9W8F2lsgqLvwpJpz0L36D8/ZQCUkySwBSjDXTkikhcpsH9GI9SE0gxvYV/hKHDtC0RI8mTi4838XZixFIWSDFF8fbIOqP1tdlM6fRvIWykMpBKjHBE1hm966RXbEp7r298hakHGDEN9B5TKMTkLbqrpRsSpjR6VhEKSqFpIPX5Ld3A+HnphpqeloZg4poGijvNTUg31J5JV4U6MaOB5k5z+AZlmpu8rSvo/ZnCEWT5GtVAZtWkgeYdDaSBNJAGmrsVrYEUSiRGOIovJGc9xz34wu98STolXyygRKRnC8tzcW1dXL7G0eNs3Ex5BRWVbN7K8ZPy6HhHD+Nu/IaJl1WAzEX8YcbdcttXrgvBDERlJXl5cvrV4VCvF3jn5/Kb+flUVbN1GydruXaTzl4mPCZeFgBSLiJiMOGlq1du70St3GpVldz2bJFEz4Upr8xM8guoXsq2HdTUyVnH7n4mfQSmlZR1gEKPeNhKTZ3cTHW1iMhpO6eJiGmUl9MpFywokIdXd+yitoHWTsJRiwDJ6xVCbNrCm2/OU2SBXvIf7d4rpWQZIG+IjZvUcZZFj8PBrt0aSANpoPlHA2mgDZtkclFT2OLNYk4Hb7xhJSBJMMKtexw4xNp1lJSQkyP3k4wpf9bbu3JyKS1l3QZ53vN+kzX6oLnvcPMEGRrjQTNnzrP/oDzaW1xC9vy9lIiMVoEuKRX0GfpzF2lqZXgCb1BoLNFJJ1iISWa83AEGRrnXxOmz7N3PqtUUF5OdPcvrCRGhnAFdvVZwZ4gftAi3JyiXisTmLMcsBmTuFYzg9sthzbsPaDwjrfCKlRQWUVQscDN8p88J5cCosJqIWBzI3Oud861T4sXAiIgEI/KbcUX0jqJE7yjqPWkNpIF0NJAG0kAaSANpIEvnvy7V3Oc1ANVFAAAAAElFTkSuQmCC",pfp25="data:image/png;base64,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",pfp26="data:image/png;base64,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",pfp27="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAIAAABt+uBvAAAFHUlEQVR42u3cA5zrShvH8a7x8tq2bdu2bdu2bdu2bSOdam3v1sr8bp9r34NumvTM//McrIpvMMlgffhN/V0ZAgNkgAyQATJABsgAGSBTBsgAGSADZIAMkAEyQKbcClRJcCpUPf4KVA0GSCD8VahGeg6g50DaNyfxDv2n0bUzIzfRvDSB/0hNoUCWj9Y1Gb6G3qPJ9WDHyIQB8kPkegGijxN7htF7CE495QFF5qN1dUbvBtBJsPljdP5Hr4FzGDiXyLxTBpDlI/B/Ys/JO88P8s+x0Vl0jt5Dfzw9lTlQ06J070vaz0RF50l+KAddywplDRT4D9En0Bl0lkmIzsm53CpXIFVF0yLEnmWSo9Py4z2HoOrLEah1DTJKWqvJTCZMaLZyBOrYAnuUyU/qEzo2J/Cv8gLq2JrYC8UB0hnyA3Rsg1U+QNUMX08Rkx+hcwdUTVkAqWraNmDsQXSOYkWnyQTpPQp/lfeBQrOQ9jMeGbkNVedxIFUt95zJDyh+8iRelyY/0OhZIMtH2/pkQthxxinZFrlH8+4eJKdSO8b4JfWltI+B/3gRqEJ04i9hRxm/SJM/ROcuWJ4DUrWM3IEDsWN07Y6q8RSQqqF9Y6KPQZ7xjs5Ik993IqraO0DhueXc7GTG7kc1eARI1UivTepTnItN4i16DyfwHy8AtW9GJiJNu8PJdUhvnOV+oK490SmcT9qic3sC/3UzUCVduxJ/WXYf56OzchPbvQ+Wa4FUg9yUljA6SfcBqFpXAqlaOfvEnga7dEBZafL7T0eM3AYUWUjujNyQ6OME/u0yIFVD66qkv6b00STfldHawP9cA2T56NhWdh87gUuS66V5GSzX7EFyatRZ3JNMkM6dCfzfBUCqiu69iL+CTuKe6Cx2lJ6DsUoP9G9puVwYnZGbD1VbUiBVT8eWxJ4HjdsiTX6YgfNQ9aUDal6SbAdoXJv4i3LzUSKgSlqWJ23h5iTfRzr2/1MKoLZ1RcdO8k954dOPjrvjxhPuvKmIVXjAwsNOeJPvNNCP1z72GBOQ4++40bfByr6NVytiFR6w8LBMSJLvEpnPcSBVJz3BE3ZvUdjg8pY2W7OIVXjAwsMyIbGjjD1McBpngZoWk9MzeAAIZOQyNJOzQMHpiD4KtgeAdJbBiwj821mg8BxEn/AEkCQ/QPtGWI4BWT7aN8GOeuQQs0m8S9PiDh9iUzN4CTrlkUPsUlSDw61YAyO3gvbGIZb2E57VWaDAv2WsTidBux0o/a3MzFZ1jgJJhWdn9F4vAFkluFCUCvxfxjPB1UB2XMZ4I/OXAkjVSFdZ7Dl00rVAch6ILIC/snQdZt17ozOuBLIRoAd+bL9KBtS6mqyCy4TAdheQDJCdIh0ype60r5QBlv4zXLQH6Qzk5f4rOC2WS4Z9Wlcn+pQsENTJ0gMl3pTu+rZ1ijKLungzEgONMi0oEybbTLYdSR70eALd/MsyKTQ6TfwFGbzsO0FoLDdOXqihZUWZGD1wDrk+WW6abUUnTrjlBN/GqxcbaPUTbj5OOsNA+hWiT8r/m5eUw0o1uH4KXnAqYQpOLXN0ew844YolfZsUU0dqk7VOuGJRmhen9whpyIP/JzQj/kpPLmY5/tK5fRutXXhLRazCAxYeFuXD8vxiFt8td860xhFLrn3UEkWswgPefOdMqLJYDpX6unL08+qiV+Fhy2hBnSp6uW5JpvnlJqYMkAEyQAbIABkgA2SATBkgA2SADJABMkAGyACZ+g5eG3xTXD3mYQAAAABJRU5ErkJggg==",pfp28="data:image/png;base64,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",pfp29="data:image/png;base64,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",pfp3=""+new URL("3-f0871c58.png",import.meta.url).href,pfp4=""+new URL("4-61f6a6d6.png",import.meta.url).href,pfp5=""+new URL("5-17c42ca6.png",import.meta.url).href,pfp6=""+new URL("6-ae5f3eff.png",import.meta.url).href,pfp7=""+new URL("7-8a53975d.png",import.meta.url).href,pfp8=""+new URL("8-0ff7188c.png",import.meta.url).href,pfp9=""+new URL("9-fdbbb4a2.png",import.meta.url).href,def="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAgMAAACJFjxpAAAADFBMVEXFxcX////p6enW1tbAmiBwAAAFiElEQVR4AezAgQAAAACAoP2pF6kAAAAAAAAAAAAAAIDbu2MkvY0jiuMWWQoUmI50BB+BgRTpCAz4G6C8CJDrC3AEXGKPoMTlYA/gAJfwETawI8cuBs5Nk2KtvfiLW+gLfK9m+r3X82G653+JP/zjF8afP1S//y+An4/i51//AsB4aH+/QPD6EQAY/zwZwN8BAP50bh786KP4+VT+3fs4/noigEc+jnHeJrzxX+NWMDDh4g8+EXcnLcC9T8U5S/CdT8bcUeBEIrwBOiI8ki7Ba5+NrePgWUy89/nYyxQ8Iw3f+pWY4h1gb3eAW7sDTPEOsLc7wK1TIeDuDB+I/OA1QOUHv/dFsZQkhKkh4QlEfOULYz2nGj2/Nn1LmwR/86VxlCoAW6kCsHRGANx1RgCMo5Qh2EsZgrXNQZZShp5Liv7Il8eIc5C91EHY2hxk6bwYmNscZIReDBwtCdhbErC1JGBpScBcOgFMLQsZMQs5Whayd+UQsLYsZGlZyNyykKllISNmIUfAwifw8NXvTojAjGFrdYi11SGWVoeYWx1i6lmQCiEjFkKOVgjZ+xxIhZCtFULWHkCqxCw9gNQKmP9vNHzipdEPrRcxtVbAeDkAvve0iM2QozVD9hfjhp4YP/UrkJYDbD2AtBxgfSkAvvHEeNcDSAsilgtAWxIy91J8AXgZAJ5e33+4tuACcAG4AFwALgBXRXQB6AFcB5MXAuA6nl9/0Vx/011/1V5/1/dfTPJvRtdnu/zL6beeFO/7r+fXBYbrEkt/j+i6ytXfpuvvE/ZXOnsA/a3a/l5xf7O6v1t+Xe/vOyz6HpO8yyboM8o7rfJes77bru83THk48p7TvOs27zvOO6/73vO++z7l4cgnMPQzKPopHC0N9noSSz6LJp/Gk88jyicy5TOp6qlc+VyyfDJbPpuuns6XzyfMJzTmMyrrKZ35nNJ8Ums+q7af1tvPK+4nNodEnPKp3fnc8npyez67/qVP7+/fL8hfcMjfsOhf8cjfMclfcnn9+BkOnLECP8Q58OYeyJ40eoyF6Ee/En/JHlP6mIlRVXprF4BxtAvArV0AxtEuALd2ARhHuwDc2gVgHPX/hFv9fMBddjIGeKg/WCxlCsI46u+Ga5mCcJd+sIG9UkGAW32ZbApFAHhod4Bb3eo04h3god0BbiUHYApVCNjbHeBW+QDAXT4a7qg7r7e214057vg0QhkEHkoSwq0kIdydXw4/Q3H8hjYJ3vL0WConBJhCHQaOToeBrU0BljYFmEoVgHGUKgAPnREAt84IgLuqFgAYSUEOAHszDwuAtSkHAZhLGYIpdCLgKGUIHtocZG1zkLmUIRhxDnJU1RDA1uYga5uDzKUOwhTnIEfnxcDe5iBrcyQAYGlzkKkUYhhxDrKXQgxbSwLWUohhbknA1JKAEZOAvSUBW0sC1pYEzC0JmFoSMMJyCDhaFrK3JGDtyiFgaVnI3LKQqWUhI2YhR8tC9paFrC0LWVoWMrcsZGpZyIhZyNGykL2rSIGtlQHWVgZYWhlgbmWAqZUBRiwDHK0MsLcywNbKAGsOoNUhllaHmFsdYmp1iBHrEEerQ+w5gFYI2VodYm11iKXVIeYcQCuETK0QMmIh5MgBtELI3gohWyuErDmAVolZWiFkzgG0SszUKjGjfj6gVmKOVonZcwCtFbB9HQC+ozWDbz1bvGu9iKW1AuYcQOtFTLEX1GbIaFegN0OOHEBrhuw5gNYM2XIArRuz5gDacoB3bTnAEktxXQ4wfw0AvveM8b4tiJjSJOwLIsbXsAKeNeKCiOO3D+AVbUl0AfjGs8ZPbUnIdgFoa1LWC0BblfMuB9AeC1j6gqQE0J9LmC8AOYD2ZMb7i4bt2ZTpWoHfPoB7Tj2fXzT8N1X41vkq/QHOAAAAAElFTkSuQmCC",ProfilePictures={pfp1,pfp2,pfp3,pfp4,pfp5,pfp6,pfp7,pfp8,pfp9,pfp10,pfp11,pfp12,pfp13,pfp14,pfp15,pfp16,pfp17,pfp18,pfp19,pfp20,pfp21,pfp22,pfp23,pfp24,pfp25,pfp26,pfp27,pfp28,pfp29,def};function getProfilePicture($){return typeof $=="number"?ProfilePictures[`pfp${$}`]||def:$.toString()}async function applyCustomPfp($){const r=get_store_value(UserData);r.acc.profilePicture=$,UserData.set(r)}const ProfilePicture_svelte_svelte_type_style_lang$1="";function create_fragment$2d($){let r,p;return{c(){r=element("div"),attr(r,"class",p="pfprenderer "+$[2]+" pfp svelte-11jeot8"),set_style(r,"background-image","url('"+$[0]+"')"),set_style(r,"height",$[1]+"px")},m(v,k){insert(v,r,k)},p(v,[k]){k&4&&p!==(p="pfprenderer "+v[2]+" pfp svelte-11jeot8")&&attr(r,"class",p),k&1&&set_style(r,"background-image","url('"+v[0]+"')"),k&2&&set_style(r,"height",v[1]+"px")},i:noop$1,o:noop$1,d(v){v&&detach(r)}}}function instance$21($,r,p){let{src:v}=r,{height:k}=r,{className:x=""}=r;return $.$$set=S=>{"src"in S&&p(0,v=S.src),"height"in S&&p(1,k=S.height),"className"in S&&p(2,x=S.className)},[v,k,x]}let ProfilePicture$1=class extends SvelteComponent{constructor(r){super(),init(this,r,instance$21,create_fragment$2d,safe_not_equal,{src:0,height:1,className:2})}};function create_fragment$2c($){let r,p=$[0].icon+"",v,k,x,S;return{c(){r=element("button"),v=text(p),attr(r,"class","material-icons-round"),attr(r,"title",k=$[0].name)},m(L,I){insert(L,r,I),append(r,v),x||(S=listen(r,"click",function(){is_function($[0].action)&&$[0].action.apply(this,arguments)}),x=!0)},p(L,[I]){$=L,I&1&&p!==(p=$[0].icon+"")&&set_data(v,p),I&1&&k!==(k=$[0].name)&&attr(r,"title",k)},i:noop$1,o:noop$1,d(L){L&&detach(r),x=!1,S()}}}function instance$20($,r,p){let{action:v}=r;return $.$$set=k=>{"action"in k&&p(0,v=k.action)},[v]}class Action extends SvelteComponent{constructor(r){super(),init(this,r,instance$20,create_fragment$2c,safe_not_equal,{action:0})}}function create_fragment$2b($){let r,p=$[0].icon+"",v,k,x,S;return{c(){r=element("button"),v=text(p),attr(r,"class","material-icons-round"),attr(r,"title",k=$[0].name),toggle_class(r,"active",$[1]&&$[0].name==$[1].name)},m(L,I){insert(L,r,I),append(r,v),x||(S=listen(r,"click",$[2]),x=!0)},p(L,[I]){I&1&&p!==(p=L[0].icon+"")&&set_data(v,p),I&1&&k!==(k=L[0].name)&&attr(r,"title",k),I&3&&toggle_class(r,"active",L[1]&&L[0].name==L[1].name)},i:noop$1,o:noop$1,d(L){L&&detach(r),x=!1,S()}}}function instance$1$($,r,p){let v;component_subscribe($,messagingPage,S=>p(1,v=S));let{data:k}=r;function x(){set_store_value(messagingPage,v=k,v)}return $.$$set=S=>{"data"in S&&p(0,k=S.data)},[k,v,x]}let Page$1=class extends SvelteComponent{constructor(r){super(),init(this,r,instance$1$,create_fragment$2b,safe_not_equal,{data:0})}};function get_each_context$x($,r,p){const v=$.slice();return v[2]=r[p],v}function get_each_context_1$5($,r,p){const v=$.slice();return v[5]=r[p],v}function create_each_block_1$5($){let r,p;return r=new Page$1({props:{data:$[5][1]}}),{c(){create_component(r.$$.fragment)},m(v,k){mount_component(r,v,k),p=!0},p:noop$1,i(v){p||(transition_in(r.$$.fragment,v),p=!0)},o(v){transition_out(r.$$.fragment,v),p=!1},d(v){destroy_component(r,v)}}}function create_each_block$x($){let r,p;return r=new Action({props:{action:$[2]}}),{c(){create_component(r.$$.fragment)},m(v,k){mount_component(r,v,k),p=!0},p:noop$1,i(v){p||(transition_in(r.$$.fragment,v),p=!0)},o(v){transition_out(r.$$.fragment,v),p=!1},d(v){destroy_component(r,v)}}}function create_fragment$2a($){let r,p,v,k,x,S,L,I,O,F=Object.entries(MessagingPages),U=[];for(let H=0;H<F.length;H+=1)U[H]=create_each_block_1$5(get_each_context_1$5($,F,H));const R=H=>transition_out(U[H],1,1,()=>{U[H]=null});let N=messageSidebarActions,j=[];for(let H=0;H<N.length;H+=1)j[H]=create_each_block$x(get_each_context$x($,N,H));const q=H=>transition_out(j[H],1,1,()=>{j[H]=null});return I=new ProfilePicture$1({props:{src:$[0],height:20}}),{c(){r=element("div"),p=element("div");for(let H=0;H<U.length;H+=1)U[H].c();v=space(),k=element("hr"),x=space(),S=element("div");for(let H=0;H<j.length;H+=1)j[H].c();L=space(),create_component(I.$$.fragment),attr(p,"class","pages"),attr(S,"class","actions"),attr(r,"class","sidebar")},m(H,Q){insert(H,r,Q),append(r,p);for(let V=0;V<U.length;V+=1)U[V]&&U[V].m(p,null);append(r,v),append(r,k),append(r,x),append(r,S);for(let V=0;V<j.length;V+=1)j[V]&&j[V].m(S,null);append(r,L),mount_component(I,r,null),O=!0},p(H,[Q]){if(Q&0){F=Object.entries(MessagingPages);let K;for(K=0;K<F.length;K+=1){const G=get_each_context_1$5(H,F,K);U[K]?(U[K].p(G,Q),transition_in(U[K],1)):(U[K]=create_each_block_1$5(G),U[K].c(),transition_in(U[K],1),U[K].m(p,null))}for(group_outros(),K=F.length;K<U.length;K+=1)R(K);check_outros()}if(Q&0){N=messageSidebarActions;let K;for(K=0;K<N.length;K+=1){const G=get_each_context$x(H,N,K);j[K]?(j[K].p(G,Q),transition_in(j[K],1)):(j[K]=create_each_block$x(G),j[K].c(),transition_in(j[K],1),j[K].m(S,null))}for(group_outros(),K=N.length;K<j.length;K+=1)q(K);check_outros()}const V={};Q&1&&(V.src=H[0]),I.$set(V)},i(H){if(!O){for(let Q=0;Q<F.length;Q+=1)transition_in(U[Q]);for(let Q=0;Q<N.length;Q+=1)transition_in(j[Q]);transition_in(I.$$.fragment,H),O=!0}},o(H){U=U.filter(Boolean);for(let Q=0;Q<U.length;Q+=1)transition_out(U[Q]);j=j.filter(Boolean);for(let Q=0;Q<j.length;Q+=1)transition_out(j[Q]);transition_out(I.$$.fragment,H),O=!1},d(H){H&&detach(r),destroy_each(U,H),destroy_each(j,H),destroy_component(I)}}}function instance$1_($,r,p){let v;component_subscribe($,UserData,x=>p(1,v=x));let k;return UserData.subscribe(()=>{p(0,k=getProfilePicture(v.acc.profilePicture))}),[k]}class SideBar extends SvelteComponent{constructor(r){super(),init(this,r,instance$1_,create_fragment$2a,safe_not_equal,{})}}const messaging="",pfpCache={};async function getUserPfp($){if(!get_store_value(ConnectedServer))return def;if(pfpCache[$])return getProfilePicture(pfpCache[$]);const p=await getUsers();return p[$]?(pfpCache[$]=getProfilePicture(p[$].acc.profilePicture),pfpCache[$]):def}const partialFilters=["#","](","![","!",">","|","(",")"];function filterPartial($){let r=$;for(let p=0;p<partialFilters.length;p++)r=r.split(partialFilters[p]).join("");return r}function create_if_block$Y($){let r,p,v;return{c(){r=element("span"),p=text("reply"),attr(r,"class","material-icons-round"),attr(r,"title",v=$[0].replyingTo)},m(k,x){insert(k,r,x),append(r,p)},p(k,x){x&1&&v!==(v=k[0].replyingTo)&&attr(r,"title",v)},d(k){k&&detach(r)}}}function create_fragment$29($){let r,p,v,k,x,S=($[1]?$[0].receiver:$[0].sender)+"",L,I,O,F,U=(filterPartial($[0].partialBody)||"(no content)")+"",R,N,j,q=dayjs($[0].timestamp).format("DD-MM HH:mm")+"",H,Q,V,K;p=new ProfilePicture$1({props:{src:$[2],height:26}});let G=$[0].replyingTo&&create_if_block$Y($);return{c(){r=element("button"),create_component(p.$$.fragment),v=space(),k=element("div"),x=element("p"),L=text(S),I=space(),G&&G.c(),O=space(),F=element("p"),R=text(U),N=space(),j=element("div"),H=text(q),attr(x,"class","username"),attr(F,"class","partial"),attr(k,"class","content"),attr(j,"class","timestamp"),attr(r,"class","message"),toggle_class(r,"selected",$[3]==$[0].id)},m(Y,J){insert(Y,r,J),mount_component(p,r,null),append(r,v),append(r,k),append(k,x),append(x,L),append(x,I),G&&G.m(x,null),append(k,O),append(k,F),append(F,R),append(r,N),append(r,j),append(j,H),Q=!0,V||(K=listen(r,"click",$[4]),V=!0)},p(Y,[J]){const Z={};J&4&&(Z.src=Y[2]),p.$set(Z),(!Q||J&3)&&S!==(S=(Y[1]?Y[0].receiver:Y[0].sender)+"")&&set_data(L,S),Y[0].replyingTo?G?G.p(Y,J):(G=create_if_block$Y(Y),G.c(),G.m(x,null)):G&&(G.d(1),G=null),(!Q||J&1)&&U!==(U=(filterPartial(Y[0].partialBody)||"(no content)")+"")&&set_data(R,U),(!Q||J&1)&&q!==(q=dayjs(Y[0].timestamp).format("DD-MM HH:mm")+"")&&set_data(H,q),(!Q||J&9)&&toggle_class(r,"selected",Y[3]==Y[0].id)},i(Y){Q||(transition_in(p.$$.fragment,Y),Q=!0)},o(Y){transition_out(p.$$.fragment,Y),Q=!1},d(Y){Y&&detach(r),destroy_component(p),G&&G.d(),V=!1,K()}}}function instance$1Z($,r,p){let v;component_subscribe($,selectedMessageId,O=>p(3,v=O));let{item:k}=r,x=!1,S="";onMount(I),messageSubscribe(I);function L(){set_store_value(selectedMessageId,v=k.id,v)}async function I(){p(2,S=await getUserPfp(x?k.receiver:k.sender))}return messagingPage.subscribe(O=>{p(1,x=O.name=="Sent")}),$.$$set=O=>{"item"in O&&p(0,k=O.item)},[k,x,S,v,L]}class MessageItem extends SvelteComponent{constructor(r){super(),init(this,r,instance$1Z,create_fragment$29,safe_not_equal,{item:0})}}function get_each_context$w($,r,p){const v=$.slice();return v[5]=r[p],v}function create_if_block$X($){let r,p,v=$[2].name+"",k,x,S,L,I,O,F,U,R,N=$[0],j=[];for(let Q=0;Q<N.length;Q+=1)j[Q]=create_each_block$w(get_each_context$w($,N,Q));const q=Q=>transition_out(j[Q],1,1,()=>{j[Q]=null});let H=!$[0].length&&create_if_block_1$g($);return{c(){r=element("div"),p=element("p"),k=text(v),x=space(),S=element("button"),S.textContent="sync",L=space(),I=element("div");for(let Q=0;Q<j.length;Q+=1)j[Q].c();O=space(),H&&H.c(),attr(p,"class","title"),attr(S,"class","material-icons-round refresh"),attr(r,"class","header"),attr(I,"class","list")},m(Q,V){insert(Q,r,V),append(r,p),append(p,k),append(r,x),append(r,S),insert(Q,L,V),insert(Q,I,V);for(let K=0;K<j.length;K+=1)j[K]&&j[K].m(I,null);append(I,O),H&&H.m(I,null),F=!0,U||(R=listen(S,"click",$[3]),U=!0)},p(Q,V){if((!F||V&4)&&v!==(v=Q[2].name+"")&&set_data(k,v),V&1){N=Q[0];let K;for(K=0;K<N.length;K+=1){const G=get_each_context$w(Q,N,K);j[K]?(j[K].p(G,V),transition_in(j[K],1)):(j[K]=create_each_block$w(G),j[K].c(),transition_in(j[K],1),j[K].m(I,O))}for(group_outros(),K=N.length;K<j.length;K+=1)q(K);check_outros()}Q[0].length?H&&(H.d(1),H=null):H?H.p(Q,V):(H=create_if_block_1$g(Q),H.c(),H.m(I,null))},i(Q){if(!F){for(let V=0;V<N.length;V+=1)transition_in(j[V]);F=!0}},o(Q){j=j.filter(Boolean);for(let V=0;V<j.length;V+=1)transition_out(j[V]);F=!1},d(Q){Q&&detach(r),Q&&detach(L),Q&&detach(I),destroy_each(j,Q),H&&H.d(),U=!1,R()}}}function create_each_block$w($){let r,p;return r=new MessageItem({props:{item:$[5]}}),{c(){create_component(r.$$.fragment)},m(v,k){mount_component(r,v,k),p=!0},p(v,k){const x={};k&1&&(x.item=v[5]),r.$set(x)},i(v){p||(transition_in(r.$$.fragment,v),p=!0)},o(v){transition_out(r.$$.fragment,v),p=!1},d(v){destroy_component(r,v)}}}function create_if_block_1$g($){let r,p=$[1]?"Loading...":"No messages!",v;return{c(){r=element("div"),v=text(p),attr(r,"class","noitems")},m(k,x){insert(k,r,x),append(r,v)},p(k,x){x&2&&p!==(p=k[1]?"Loading...":"No messages!")&&set_data(v,p)},d(k){k&&detach(r)}}}function create_fragment$28($){let r,p,v=$[2]&&create_if_block$X($);return{c(){r=element("div"),v&&v.c(),attr(r,"class","listbar")},m(k,x){insert(k,r,x),v&&v.m(r,null),p=!0},p(k,[x]){k[2]?v?(v.p(k,x),x&4&&transition_in(v,1)):(v=create_if_block$X(k),v.c(),transition_in(v,1),v.m(r,null)):v&&(group_outros(),transition_out(v,1,1,()=>{v=null}),check_outros())},i(k){p||(transition_in(v),p=!0)},o(k){transition_out(v),p=!1},d(k){k&&detach(r),v&&v.d()}}}function sort($){return $.sort(function(r,p){return new Date(p.timestamp).getTime()-new Date(r.timestamp).getTime()})}function isSame($,r){if($.length!=r.length)return!1;for(let p=0;p<r.length;p++){let v=!1;for(let k=0;k<$.length;k++)$[k].id==r[p].id&&(v=!0);if(!v)return!1}return!0}function instance$1Y($,r,p){let v;component_subscribe($,messagingPage,I=>p(2,v=I));let k=[],x=!1;onMount(()=>{messageUpdateTrigger()}),messageSubscribe(S);async function S(){if(p(1,x=!0),!v)return;const I=await v.msgGetter();isSame(k,I)||L(sort(I)),p(1,x=!1)}function L(I){p(0,k=[]),setTimeout(()=>{p(0,k=I)})}return[k,x,v,S]}class ListBar extends SvelteComponent{constructor(r){super(),init(this,r,instance$1Y,create_fragment$28,safe_not_equal,{})}}async function sendMessage($,r){const p=await get_store_value(ConnectedServer);return p?!await apiCall(p,"messages/send",{target:btoa($)},get_store_value(UserToken),null,r):!1}async function replyToMessage($,r,p){const v=await get_store_value(ConnectedServer);return v?!await apiCall(v,"messages/reply",{target:btoa(r),id:$},get_store_value(UserToken),null,p):!1}function create_if_block$W($){let r,p=2e3-$[1].length+"",v;return{c(){r=element("div"),v=text(p),attr(r,"class","counter"),toggle_class(r,"critical",$[1].length>1980)},m(k,x){insert(k,r,x),append(r,v)},p(k,x){x&2&&p!==(p=2e3-k[1].length+"")&&set_data(v,p),x&2&&toggle_class(r,"critical",k[1].length>1980)},d(k){k&&detach(r)}}}function create_fragment$27($){let r,p,v,k,x,S,L,I,O,F,U,R=$[3]?"Reply":"Send",N,j,q,H,Q=$[1].length>1950&&create_if_block$W($);return{c(){r=element("div"),p=element("div"),v=element("button"),v.textContent="remove_red_eye",k=space(),x=element("button"),x.textContent="edit",S=space(),Q&&Q.c(),L=space(),I=element("div"),O=element("button"),O.textContent="Delete",F=space(),U=element("button"),N=text(R),attr(v,"class","material-icons-round"),toggle_class(v,"selected",$[0]),attr(x,"class","material-icons-round"),toggle_class(x,"selected",!$[0]),attr(p,"class","view-group"),U.disabled=j=!$[1]||!$[2],attr(I,"class","right"),attr(r,"class","editor-send")},m(V,K){insert(V,r,K),append(r,p),append(p,v),append(p,k),append(p,x),append(r,S),Q&&Q.m(r,null),append(r,L),append(r,I),append(I,O),append(I,F),append(I,U),append(U,N),q||(H=[listen(v,"click",$[7]),listen(x,"click",$[6]),listen(O,"click",$[5]),listen(U,"click",$[4])],q=!0)},p(V,[K]){K&1&&toggle_class(v,"selected",V[0]),K&1&&toggle_class(x,"selected",!V[0]),V[1].length>1950?Q?Q.p(V,K):(Q=create_if_block$W(V),Q.c(),Q.m(r,L)):Q&&(Q.d(1),Q=null),K&8&&R!==(R=V[3]?"Reply":"Send")&&set_data(N,R),K&6&&j!==(j=!V[1]||!V[2])&&(U.disabled=j)},i:noop$1,o:noop$1,d(V){V&&detach(r),Q&&Q.d(),q=!1,run_all(H)}}}function instance$1X($,r,p){let v;component_subscribe($,replyMessageId,U=>p(3,v=U));let{content:k}=r,{target:x}=r,{viewing:S}=r;async function L(){v?await replyToMessage(v,x,k):await sendMessage(x,k),creatingMessage.set(!1),messageUpdateTrigger()}function I(){createOverlayableError({title:"Delete message?",message:"Are you sure you want to delete this draft? This cannot be undone.",image:warning,buttons:[{caption:"Delete",action:()=>{creatingMessage.set(!1),messageUpdateTrigger()}},{caption:"Cancel",action:()=>{}}]},"MessagingApp")}function O(){p(0,S=!1)}function F(){p(0,S=!0)}return $.$$set=U=>{"content"in U&&p(1,k=U.content),"target"in U&&p(2,x=U.target),"viewing"in U&&p(0,S=U.viewing)},[S,k,x,v,L,I,O,F]}class Bottom extends SvelteComponent{constructor(r){super(),init(this,r,instance$1X,create_fragment$27,safe_not_equal,{content:1,target:2,viewing:0})}}function create_fragment$26($){let r,p,v,k,x=($[0][0]||"<unknown>")+"",S,L,I,O;return p=new ProfilePicture$1({props:{src:$[1]||def,height:24}}),{c(){r=element("button"),create_component(p.$$.fragment),v=space(),k=element("p"),S=text(x),attr(r,"class","user")},m(F,U){insert(F,r,U),mount_component(p,r,null),append(r,v),append(r,k),append(k,S),L=!0,I||(O=listen(r,"click",$[2]),I=!0)},p(F,[U]){const R={};U&2&&(R.src=F[1]||def),p.$set(R),(!L||U&1)&&x!==(x=(F[0][0]||"<unknown>")+"")&&set_data(S,x)},i(F){L||(transition_in(p.$$.fragment,F),L=!0)},o(F){transition_out(p.$$.fragment,F),L=!1},d(F){F&&detach(r),destroy_component(p),I=!1,O()}}}function instance$1W($,r,p){let{selecting:v}=r,{target:k}=r,{entry:x}=r,{pfp:S}=r,L;onMount(async()=>{p(1,L=await getUserPfp(x[0]))});function I(){p(3,v=!1),p(4,k=x[0]),p(5,S=L)}return $.$$set=O=>{"selecting"in O&&p(3,v=O.selecting),"target"in O&&p(4,k=O.target),"entry"in O&&p(0,x=O.entry),"pfp"in O&&p(5,S=O.pfp)},[x,L,I,v,k,S]}let User$1=class extends SvelteComponent{constructor(r){super(),init(this,r,instance$1W,create_fragment$26,safe_not_equal,{selecting:3,target:4,entry:0,pfp:5})}};function get_each_context$v($,r,p){const v=$.slice();return v[10]=r[p],v}function create_each_block$v($){let r,p,v,k,x;function S(F){$[6](F)}function L(F){$[7](F)}function I(F){$[8](F)}let O={entry:$[10]};return $[0]!==void 0&&(O.target=$[0]),$[3]!==void 0&&(O.selecting=$[3]),$[2]!==void 0&&(O.pfp=$[2]),r=new User$1({props:O}),binding_callbacks.push(()=>bind$1(r,"target",S)),binding_callbacks.push(()=>bind$1(r,"selecting",L)),binding_callbacks.push(()=>bind$1(r,"pfp",I)),{c(){create_component(r.$$.fragment)},m(F,U){mount_component(r,F,U),x=!0},p(F,U){const R={};U&2&&(R.entry=F[10]),!p&&U&1&&(p=!0,R.target=F[0],add_flush_callback(()=>p=!1)),!v&&U&8&&(v=!0,R.selecting=F[3],add_flush_callback(()=>v=!1)),!k&&U&4&&(k=!0,R.pfp=F[2],add_flush_callback(()=>k=!1)),r.$set(R)},i(F){x||(transition_in(r.$$.fragment,F),x=!0)},o(F){transition_out(r.$$.fragment,F),x=!1},d(F){destroy_component(r,F)}}}function create_fragment$25($){let r,p,v,k,x,S,L,I=$[4]?"Reply":"Send",O,F,U,R,N=($[4]?`#${$[4]} (${$[0]})`:$[0]||"Please select")+"",j,q,H,Q,V,K;k=new ProfilePicture$1({props:{src:$[2]||def,height:32}});let G=$[1],Y=[];for(let Z=0;Z<G.length;Z+=1)Y[Z]=create_each_block$v(get_each_context$v($,G,Z));const J=Z=>transition_out(Y[Z],1,1,()=>{Y[Z]=null});return{c(){r=element("div"),p=element("div"),v=element("div"),create_component(k.$$.fragment),x=space(),S=element("div"),L=element("p"),O=text(I),F=text(" to:"),U=space(),R=element("p"),j=text(N),q=space(),H=element("div");for(let Z=0;Z<Y.length;Z+=1)Y[Z].c();attr(L,"class","header"),attr(v,"class","current"),attr(p,"class","target-selector"),attr(H,"class","target-options"),toggle_class(H,"visible",$[3]),attr(r,"class","target-wrapper")},m(Z,X){insert(Z,r,X),append(r,p),append(p,v),mount_component(k,v,null),append(v,x),append(v,S),append(S,L),append(L,O),append(L,F),append(S,U),append(S,R),append(R,j),append(r,q),append(r,H);for(let ee=0;ee<Y.length;ee+=1)Y[ee]&&Y[ee].m(H,null);Q=!0,V||(K=listen(p,"click",$[5]),V=!0)},p(Z,[X]){const ee={};if(X&4&&(ee.src=Z[2]||def),k.$set(ee),(!Q||X&16)&&I!==(I=Z[4]?"Reply":"Send")&&set_data(O,I),(!Q||X&17)&&N!==(N=(Z[4]?`#${Z[4]} (${Z[0]})`:Z[0]||"Please select")+"")&&set_data(j,N),X&15){G=Z[1];let te;for(te=0;te<G.length;te+=1){const le=get_each_context$v(Z,G,te);Y[te]?(Y[te].p(le,X),transition_in(Y[te],1)):(Y[te]=create_each_block$v(le),Y[te].c(),transition_in(Y[te],1),Y[te].m(H,null))}for(group_outros(),te=G.length;te<Y.length;te+=1)J(te);check_outros()}(!Q||X&8)&&toggle_class(H,"visible",Z[3])},i(Z){if(!Q){transition_in(k.$$.fragment,Z);for(let X=0;X<G.length;X+=1)transition_in(Y[X]);Q=!0}},o(Z){transition_out(k.$$.fragment,Z),Y=Y.filter(Boolean);for(let X=0;X<Y.length;X+=1)transition_out(Y[X]);Q=!1},d(Z){Z&&detach(r),destroy_component(k),destroy_each(Y,Z),V=!1,K()}}}function instance$1V($,r,p){let v;component_subscribe($,replyMessageId,N=>p(4,v=N));let{users:k}=r,{target:x}=r,S="",L=!1;async function I(){p(2,S=await getUserPfp(x))}function O(){if(v)return p(3,L=!1);p(3,L=!L)}replyMessageId.subscribe(()=>setTimeout(I,500));function F(N){x=N,p(0,x)}function U(N){L=N,p(3,L)}function R(N){S=N,p(2,S)}return $.$$set=N=>{"users"in N&&p(1,k=N.users),"target"in N&&p(0,x=N.target)},[x,k,S,L,v,O,F,U,R]}class TargetSelector extends SvelteComponent{constructor(r){super(),init(this,r,instance$1V,create_fragment$25,safe_not_equal,{users:1,target:0})}}function create_else_block$i($){let r,p,v;return p=new SvelteMarkdown({props:{source:$[2]}}),{c(){r=element("div"),create_component(p.$$.fragment),attr(r,"class","markdownrenderer")},m(k,x){insert(k,r,x),mount_component(p,r,null),v=!0},p(k,x){const S={};x&4&&(S.source=k[2]),p.$set(S)},i(k){v||(transition_in(p.$$.fragment,k),v=!0)},o(k){transition_out(p.$$.fragment,k),v=!1},d(k){k&&detach(r),destroy_component(p)}}}function create_if_block$V($){let r,p,v;return{c(){r=element("textarea"),attr(r,"placeholder","New message"),attr(r,"maxlength","2000")},m(k,x){insert(k,r,x),set_input_value(r,$[2]),p||(v=listen(r,"input",$[5]),p=!0)},p(k,x){x&4&&set_input_value(r,k[2])},i:noop$1,o:noop$1,d(k){k&&detach(r),p=!1,v()}}}function create_fragment$24($){let r,p,v,k,x,S,L,I,O,F;function U(V){$[4](V)}let R={users:$[0]};$[1]!==void 0&&(R.target=$[1]),p=new TargetSelector({props:R}),binding_callbacks.push(()=>bind$1(p,"target",U));const N=[create_if_block$V,create_else_block$i],j=[];function q(V,K){return V[3]?1:0}x=q($),S=j[x]=N[x]($);function H(V){$[6](V)}let Q={target:$[1],content:$[2]};return $[3]!==void 0&&(Q.viewing=$[3]),I=new Bottom({props:Q}),binding_callbacks.push(()=>bind$1(I,"viewing",H)),{c(){r=element("div"),create_component(p.$$.fragment),k=space(),S.c(),L=space(),create_component(I.$$.fragment),attr(r,"class","editor")},m(V,K){insert(V,r,K),mount_component(p,r,null),insert(V,k,K),j[x].m(V,K),insert(V,L,K),mount_component(I,V,K),F=!0},p(V,[K]){const G={};K&1&&(G.users=V[0]),!v&&K&2&&(v=!0,G.target=V[1],add_flush_callback(()=>v=!1)),p.$set(G);let Y=x;x=q(V),x===Y?j[x].p(V,K):(group_outros(),transition_out(j[Y],1,1,()=>{j[Y]=null}),check_outros(),S=j[x],S?S.p(V,K):(S=j[x]=N[x](V),S.c()),transition_in(S,1),S.m(L.parentNode,L));const J={};K&2&&(J.target=V[1]),K&4&&(J.content=V[2]),!O&&K&8&&(O=!0,J.viewing=V[3],add_flush_callback(()=>O=!1)),I.$set(J)},i(V){F||(transition_in(p.$$.fragment,V),transition_in(S),transition_in(I.$$.fragment,V),F=!0)},o(V){transition_out(p.$$.fragment,V),transition_out(S),transition_out(I.$$.fragment,V),F=!1},d(V){V&&detach(r),destroy_component(p),V&&detach(k),j[x].d(V),V&&detach(L),destroy_component(I,V)}}}function instance$1U($,r,p){let v=[],k="",x="",S=!1;onMount(async()=>{p(0,v=Object.entries(await getUsers()))}),replyMessageId.subscribe(async F=>{if(!F)return;const U=await getMessage(F);U&&p(1,k=U.sender)});function L(F){k=F,p(1,k)}function I(){x=this.value,p(2,x)}function O(F){S=F,p(3,S)}return[v,k,x,S,L,I,O]}class Editor extends SvelteComponent{constructor(r){super(),init(this,r,instance$1U,create_fragment$24,safe_not_equal,{})}}function create_fragment$23($){let r,p,v,k,x,S,L,I,O,F,U,R,N,j;return{c(){r=element("div"),p=element("div"),v=element("img"),x=space(),S=element("p"),S.textContent="No content.",L=space(),I=element("p"),I.textContent="Please select a message or create a new one.",O=space(),F=element("br"),U=space(),R=element("button"),R.textContent="New Message",src_url_equal(v.src,k=logo$2)||attr(v,"src",k),attr(v,"alt","Messaging"),attr(S,"class","header"),attr(p,"class","no-content"),attr(r,"class","no-content-wrapper")},m(q,H){insert(q,r,H),append(r,p),append(p,v),append(p,x),append(p,S),append(p,L),append(p,I),append(p,O),append(p,F),append(p,U),append(p,R),N||(j=listen(R,"click",$[1]),N=!0)},p:noop$1,i:noop$1,o:noop$1,d(q){q&&detach(r),N=!1,j()}}}function instance$1T($,r,p){let v;return component_subscribe($,creatingMessage,x=>p(0,v=x)),[v,()=>set_store_value(creatingMessage,v=!0,v)]}class NoContent extends SvelteComponent{constructor(r){super(),init(this,r,instance$1T,create_fragment$23,safe_not_equal,{})}}const content="";async function getPartialTree($){const r=get_store_value(ConnectedServer);return r?(await apiCall(r,"messages/thread",{id:btoa($)},get_store_value(UserToken))).data:!1}async function getParentMessage($){const r=await getMessages();let p;for(let k=0;k<r.length;k++)r[k].id==$&&(p=r[k].replyingTo);if(!p)return;const v=await getMessage(p);return v.replyingTo?await getParentMessage(p):v}function get_each_context$u($,r,p){const v=$.slice();return v[4]=r[p],v}function create_if_block$U($){let r,p,v;return{c(){r=element("button"),p=element("img"),src_url_equal(p.src,v=warning)||attr(p,"src",v),attr(p,"alt",""),attr(r,"class","material-icons-round"),attr(r,"title","Receiver no longer exists")},m(k,x){insert(k,r,x),append(r,p)},p:noop$1,d(k){k&&detach(r)}}}function create_each_block$u($){let r,p=$[4].icon+"",v,k,x;function S(){return $[3]($[4])}return{c(){r=element("button"),v=text(p),attr(r,"class","material-icons-round"),attr(r,"title",$[4].name)},m(L,I){insert(L,r,I),append(r,v),k||(x=listen(r,"click",S),k=!0)},p(L,I){$=L},d(L){L&&detach(r),k=!1,x()}}}function create_fragment$22($){let r,p,v,k,x,S=$[0].sender+"",L,I,O,F=$[2]($[0].timestamp)+"",U,R,N,j=$[0].receiver.startsWith("deleted#"),q,H;p=new ProfilePicture$1({props:{height:32,src:$[1]}});let Q=j&&create_if_block$U(),V=messageItemActions,K=[];for(let G=0;G<V.length;G+=1)K[G]=create_each_block$u(get_each_context$u($,V,G));return{c(){r=element("div"),create_component(p.$$.fragment),v=space(),k=element("div"),x=element("p"),L=text(S),I=space(),O=element("p"),U=text(F),R=space(),N=element("div"),Q&&Q.c(),q=space();for(let G=0;G<K.length;G+=1)K[G].c();attr(x,"class","name"),attr(O,"class","id"),attr(k,"class","context"),attr(N,"class","actions"),attr(r,"class","message-header")},m(G,Y){insert(G,r,Y),mount_component(p,r,null),append(r,v),append(r,k),append(k,x),append(x,L),append(k,I),append(k,O),append(O,U),append(r,R),append(r,N),Q&&Q.m(N,null),append(N,q);for(let J=0;J<K.length;J+=1)K[J]&&K[J].m(N,null);H=!0},p(G,[Y]){const J={};if(Y&2&&(J.src=G[1]),p.$set(J),(!H||Y&1)&&S!==(S=G[0].sender+"")&&set_data(L,S),(!H||Y&1)&&F!==(F=G[2](G[0].timestamp)+"")&&set_data(U,F),Y&1&&(j=G[0].receiver.startsWith("deleted#")),j?Q?Q.p(G,Y):(Q=create_if_block$U(),Q.c(),Q.m(N,q)):Q&&(Q.d(1),Q=null),Y&1){V=messageItemActions;let Z;for(Z=0;Z<V.length;Z+=1){const X=get_each_context$u(G,V,Z);K[Z]?K[Z].p(X,Y):(K[Z]=create_each_block$u(X),K[Z].c(),K[Z].m(N,null))}for(;Z<K.length;Z+=1)K[Z].d(1);K.length=V.length}},i(G){H||(transition_in(p.$$.fragment,G),H=!0)},o(G){transition_out(p.$$.fragment,G),H=!1},d(G){G&&detach(r),destroy_component(p),Q&&Q.d(),destroy_each(K,G)}}}function instance$1S($,r,p){let{message:v}=r,k="";onMount(async()=>{p(1,k=await getUserPfp(v.sender))}),messageSubscribe(async()=>{p(1,k=await getUserPfp(v.sender))});function x(L){return dayjs(L).format("DD MMM, HH:mm")}const S=L=>L.action(v);return $.$$set=L=>{"message"in L&&p(0,v=L.message)},[v,k,x,S]}class Header extends SvelteComponent{constructor(r){super(),init(this,r,instance$1S,create_fragment$22,safe_not_equal,{message:0})}}function create_if_block$T($){let r,p,v,k,x,S=$[1]?"Loading...":"View Thread",L,I,O;return{c(){r=element("div"),p=element("p"),p.textContent="Message is part of a thread.",v=space(),k=element("div"),x=element("button"),L=text(S),attr(p,"class","caption"),x.disabled=$[1],attr(k,"class","right"),attr(r,"class","reply-wrapper")},m(F,U){insert(F,r,U),append(r,p),append(r,v),append(r,k),append(k,x),append(x,L),I||(O=listen(x,"click",$[2]),I=!0)},p(F,U){U&2&&S!==(S=F[1]?"Loading...":"View Thread")&&set_data(L,S),U&2&&(x.disabled=F[1])},d(F){F&&detach(r),I=!1,O()}}}function create_fragment$21($){let r,p,v,k,x,S,L;r=new Header({props:{message:$[0]}}),k=new SvelteMarkdown({props:{source:$[0].body}});let I=($[0].replyingTo||$[0].replies)&&create_if_block$T($);return{c(){create_component(r.$$.fragment),p=space(),v=element("div"),create_component(k.$$.fragment),x=space(),I&&I.c(),S=empty(),attr(v,"class","markdownrenderer")},m(O,F){mount_component(r,O,F),insert(O,p,F),insert(O,v,F),mount_component(k,v,null),insert(O,x,F),I&&I.m(O,F),insert(O,S,F),L=!0},p(O,[F]){const U={};F&1&&(U.message=O[0]),r.$set(U);const R={};F&1&&(R.source=O[0].body),k.$set(R),O[0].replyingTo||O[0].replies?I?I.p(O,F):(I=create_if_block$T(O),I.c(),I.m(S.parentNode,S)):I&&(I.d(1),I=null)},i(O){L||(transition_in(r.$$.fragment,O),transition_in(k.$$.fragment,O),L=!0)},o(O){transition_out(r.$$.fragment,O),transition_out(k.$$.fragment,O),L=!1},d(O){destroy_component(r,O),O&&detach(p),O&&detach(v),destroy_component(k),O&&detach(x),I&&I.d(O),O&&detach(S)}}}function instance$1R($,r,p){let{message:v}=r,k=!1;async function x(){p(1,k=!0);const S=v.replies&&!v.replyingTo?v.id:(await getParentMessage(v.id)).id;threadMessageId.set(S),showOverlay("thread","MessagingApp"),p(1,k=!1)}return $.$$set=S=>{"message"in S&&p(0,v=S.message)},[v,k,x]}class Viewer extends SvelteComponent{constructor(r){super(),init(this,r,instance$1R,create_fragment$21,safe_not_equal,{message:0})}}function create_else_block$h($){let r,p;return r=new NoContent({}),{c(){create_component(r.$$.fragment)},m(v,k){mount_component(r,v,k),p=!0},p:noop$1,i(v){p||(transition_in(r.$$.fragment,v),p=!0)},o(v){transition_out(r.$$.fragment,v),p=!1},d(v){destroy_component(r,v)}}}function create_if_block_1$f($){let r,p;return r=new Editor({}),{c(){create_component(r.$$.fragment)},m(v,k){mount_component(r,v,k),p=!0},p:noop$1,i(v){p||(transition_in(r.$$.fragment,v),p=!0)},o(v){transition_out(r.$$.fragment,v),p=!1},d(v){destroy_component(r,v)}}}function create_if_block$S($){let r,p;return r=new Viewer({props:{message:$[0]}}),{c(){create_component(r.$$.fragment)},m(v,k){mount_component(r,v,k),p=!0},p(v,k){const x={};k&1&&(x.message=v[0]),r.$set(x)},i(v){p||(transition_in(r.$$.fragment,v),p=!0)},o(v){transition_out(r.$$.fragment,v),p=!1},d(v){destroy_component(r,v)}}}function create_fragment$20($){let r,p,v,k;const x=[create_if_block$S,create_if_block_1$f,create_else_block$h],S=[];function L(I,O){return I[0]&&!I[1]?0:I[1]?1:2}return p=L($),v=S[p]=x[p]($),{c(){r=element("div"),v.c(),attr(r,"class","content")},m(I,O){insert(I,r,O),S[p].m(r,null),k=!0},p(I,[O]){let F=p;p=L(I),p===F?S[p].p(I,O):(group_outros(),transition_out(S[F],1,1,()=>{S[F]=null}),check_outros(),v=S[p],v?v.p(I,O):(v=S[p]=x[p](I),v.c()),transition_in(v,1),v.m(r,null))},i(I){k||(transition_in(v),k=!0)},o(I){transition_out(v),k=!1},d(I){I&&detach(r),S[p].d()}}}function instance$1Q($,r,p){let v;component_subscribe($,creatingMessage,x=>p(1,v=x));let k;return selectedMessageId.subscribe(async x=>{if(!x)return p(0,k=null);const S=await getMessage(x);if(!S)return createOverlayableError({title:"Can't open message",message:`No message with ID ${x} could be found on ArcAPI.`,buttons:[{caption:"OK",action(){}}],image:logo$2},"MessagingApp");p(0,k=null),setTimeout(()=>{p(0,k=S)})}),[k,v]}let Content$2=class extends SvelteComponent{constructor(r){super(),init(this,r,instance$1Q,create_fragment$20,safe_not_equal,{})}};function create_if_block$R($){let r,p,v,k;return r=new ListBar({}),v=new Content$2({}),{c(){create_component(r.$$.fragment),p=space(),create_component(v.$$.fragment)},m(x,S){mount_component(r,x,S),insert(x,p,S),mount_component(v,x,S),k=!0},i(x){k||(transition_in(r.$$.fragment,x),transition_in(v.$$.fragment,x),k=!0)},o(x){transition_out(r.$$.fragment,x),transition_out(v.$$.fragment,x),k=!1},d(x){destroy_component(r,x),x&&detach(p),destroy_component(v,x)}}}function create_fragment$1$($){let r,p,v,k;r=new SideBar({});let x=$[0]&&create_if_block$R();return{c(){create_component(r.$$.fragment),p=space(),x&&x.c(),v=empty()},m(S,L){mount_component(r,S,L),insert(S,p,L),x&&x.m(S,L),insert(S,v,L),k=!0},p(S,[L]){S[0]?x?L&1&&transition_in(x,1):(x=create_if_block$R(),x.c(),transition_in(x,1),x.m(v.parentNode,v)):x&&(group_outros(),transition_out(x,1,1,()=>{x=null}),check_outros())},i(S){k||(transition_in(r.$$.fragment,S),transition_in(x),k=!0)},o(S){transition_out(r.$$.fragment,S),transition_out(x),k=!1},d(S){destroy_component(r,S),S&&detach(p),x&&x.d(S),S&&detach(v)}}}function instance$1P($,r,p){let v;return component_subscribe($,messagingPage,k=>p(0,v=k)),onMount(()=>{set_store_value(messagingPage,v=MessagingPages.inbox,v)}),[v]}let MessagingApp$1=class extends SvelteComponent{constructor(r){super(),init(this,r,instance$1P,create_fragment$1$,safe_not_equal,{})}};const thread="";function create_fragment$1_($){let r,p,v;return{c(){r=element("button"),r.textContent="close",attr(r,"class","overlay-close material-icons-round")},m(k,x){insert(k,r,x),p||(v=listen(r,"click",$[0]),p=!0)},p:noop$1,i:noop$1,o:noop$1,d(k){k&&detach(r),p=!1,v()}}}function instance$1O($,r,p){let{app:v}=r,{id:k}=r;function x(){hideOverlay(k,v.id)}return $.$$set=S=>{"app"in S&&p(1,v=S.app),"id"in S&&p(2,k=S.id)},[x,v,k]}class CloseButton extends SvelteComponent{constructor(r){super(),init(this,r,instance$1O,create_fragment$1_,safe_not_equal,{app:1,id:2})}}function get_each_context$t($,r,p){const v=$.slice();return v[1]=r[p],v}function create_if_block$Q($){let r,p,v=$[0],k=[];for(let S=0;S<v.length;S+=1)k[S]=create_each_block$t(get_each_context$t($,v,S));const x=S=>transition_out(k[S],1,1,()=>{k[S]=null});return{c(){for(let S=0;S<k.length;S+=1)k[S].c();r=empty()},m(S,L){for(let I=0;I<k.length;I+=1)k[I]&&k[I].m(S,L);insert(S,r,L),p=!0},p(S,L){if(L&1){v=S[0];let I;for(I=0;I<v.length;I+=1){const O=get_each_context$t(S,v,I);k[I]?(k[I].p(O,L),transition_in(k[I],1)):(k[I]=create_each_block$t(O),k[I].c(),transition_in(k[I],1),k[I].m(r.parentNode,r))}for(group_outros(),I=v.length;I<k.length;I+=1)x(I);check_outros()}},i(S){if(!p){for(let L=0;L<v.length;L+=1)transition_in(k[L]);p=!0}},o(S){k=k.filter(Boolean);for(let L=0;L<k.length;L+=1)transition_out(k[L]);p=!1},d(S){destroy_each(k,S),S&&detach(r)}}}function create_each_block$t($){let r,p;return r=new Item$2({props:{item:$[1]}}),{c(){create_component(r.$$.fragment)},m(v,k){mount_component(r,v,k),p=!0},p(v,k){const x={};k&1&&(x.item=v[1]),r.$set(x)},i(v){p||(transition_in(r.$$.fragment,v),p=!0)},o(v){transition_out(r.$$.fragment,v),p=!1},d(v){destroy_component(r,v)}}}function create_fragment$1Z($){let r,p,v=$[0]&&create_if_block$Q($);return{c(){r=element("div"),v&&v.c(),attr(r,"class","branch")},m(k,x){insert(k,r,x),v&&v.m(r,null),p=!0},p(k,[x]){k[0]?v?(v.p(k,x),x&1&&transition_in(v,1)):(v=create_if_block$Q(k),v.c(),transition_in(v,1),v.m(r,null)):v&&(group_outros(),transition_out(v,1,1,()=>{v=null}),check_outros())},i(k){p||(transition_in(v),p=!0)},o(k){transition_out(v),p=!1},d(k){k&&detach(r),v&&v.d()}}}function instance$1N($,r,p){let{items:v=[]}=r;return $.$$set=k=>{"items"in k&&p(0,v=k.items)},[v]}class Branch extends SvelteComponent{constructor(r){super(),init(this,r,instance$1N,create_fragment$1Z,safe_not_equal,{items:0})}}function create_if_block$P($){let r,p,v,k,x,S=$[0].sender+"",L,I,O,F=$[0].partialBody+"",U,R=$[0].partialBody.length>29?"...":"",N,j,q,H=$[0].id+"",Q,V,K,G,Y,J;p=new ProfilePicture$1({props:{src:$[1],height:32}});let Z=$[0].replies&&create_if_block_1$e($);return{c(){r=element("button"),create_component(p.$$.fragment),v=space(),k=element("div"),x=element("p"),L=text(S),I=space(),O=element("p"),U=text(F),N=text(R),j=space(),q=element("div"),Q=text(H),V=space(),Z&&Z.c(),K=empty(),attr(x,"class","name"),attr(O,"class","partial"),attr(k,"class","context"),attr(q,"class","id"),attr(r,"class","item")},m(X,ee){insert(X,r,ee),mount_component(p,r,null),append(r,v),append(r,k),append(k,x),append(x,L),append(k,I),append(k,O),append(O,U),append(O,N),append(r,j),append(r,q),append(q,Q),insert(X,V,ee),Z&&Z.m(X,ee),insert(X,K,ee),G=!0,Y||(J=listen(r,"click",$[2]),Y=!0)},p(X,ee){const te={};ee&2&&(te.src=X[1]),p.$set(te),(!G||ee&1)&&S!==(S=X[0].sender+"")&&set_data(L,S),(!G||ee&1)&&F!==(F=X[0].partialBody+"")&&set_data(U,F),(!G||ee&1)&&R!==(R=X[0].partialBody.length>29?"...":"")&&set_data(N,R),(!G||ee&1)&&H!==(H=X[0].id+"")&&set_data(Q,H),X[0].replies?Z?(Z.p(X,ee),ee&1&&transition_in(Z,1)):(Z=create_if_block_1$e(X),Z.c(),transition_in(Z,1),Z.m(K.parentNode,K)):Z&&(group_outros(),transition_out(Z,1,1,()=>{Z=null}),check_outros())},i(X){G||(transition_in(p.$$.fragment,X),transition_in(Z),G=!0)},o(X){transition_out(p.$$.fragment,X),transition_out(Z),G=!1},d(X){X&&detach(r),destroy_component(p),X&&detach(V),Z&&Z.d(X),X&&detach(K),Y=!1,J()}}}function create_if_block_1$e($){let r,p;return r=new Branch({props:{items:$[0].replies}}),{c(){create_component(r.$$.fragment)},m(v,k){mount_component(r,v,k),p=!0},p(v,k){const x={};k&1&&(x.items=v[0].replies),r.$set(x)},i(v){p||(transition_in(r.$$.fragment,v),p=!0)},o(v){transition_out(r.$$.fragment,v),p=!1},d(v){destroy_component(r,v)}}}function create_fragment$1Y($){let r,p,v=$[0]&&create_if_block$P($);return{c(){v&&v.c(),r=empty()},m(k,x){v&&v.m(k,x),insert(k,r,x),p=!0},p(k,[x]){k[0]?v?(v.p(k,x),x&1&&transition_in(v,1)):(v=create_if_block$P(k),v.c(),transition_in(v,1),v.m(r.parentNode,r)):v&&(group_outros(),transition_out(v,1,1,()=>{v=null}),check_outros())},i(k){p||(transition_in(v),p=!0)},o(k){transition_out(v),p=!1},d(k){v&&v.d(k),k&&detach(r)}}}function instance$1M($,r,p){let v;component_subscribe($,selectedMessageId,L=>p(3,v=L));let{item:k}=r,x="";onMount(async()=>{p(1,x=await getUserPfp(k.sender))});function S(){set_store_value(selectedMessageId,v=k.id,v),hideOverlay("thread","MessagingApp"),threadMessageId.set(null)}return $.$$set=L=>{"item"in L&&p(0,k=L.item)},[k,x,S]}let Item$2=class extends SvelteComponent{constructor(r){super(),init(this,r,instance$1M,create_fragment$1Y,safe_not_equal,{item:0})}};function create_fragment$1X($){let r,p,v,k,x,S,L,I;return{c(){r=element("div"),p=element("div"),v=element("img"),x=space(),S=element("h3"),S.textContent="Unable to load thread",L=space(),I=element("p"),I.textContent=`The thread could not be found. Please make sure the owner exists and try
      again.`,src_url_equal(v.src,k=warning)||attr(v,"src",k),attr(v,"alt","Error"),attr(I,"class","caption"),attr(p,"class","content"),attr(r,"class","notfound")},m(O,F){insert(O,r,F),append(r,p),append(p,v),append(p,x),append(p,S),append(p,L),append(p,I)},p:noop$1,i:noop$1,o:noop$1,d(O){O&&detach(r)}}}class NotFound extends SvelteComponent{constructor(r){super(),init(this,r,null,create_fragment$1X,safe_not_equal,{})}}function create_else_block$g($){let r,p;return r=new NotFound({}),{c(){create_component(r.$$.fragment)},m(v,k){mount_component(r,v,k),p=!0},p:noop$1,i(v){p||(transition_in(r.$$.fragment,v),p=!0)},o(v){transition_out(r.$$.fragment,v),p=!1},d(v){destroy_component(r,v)}}}function create_if_block$O($){let r,p,v=$[2].id+"",k,x,S,L;return S=new Item$2({props:{item:$[2]}}),{c(){r=element("h3"),p=text("Thread of #"),k=text(v),x=space(),create_component(S.$$.fragment),attr(r,"class","header")},m(I,O){insert(I,r,O),append(r,p),append(r,k),insert(I,x,O),mount_component(S,I,O),L=!0},p(I,O){(!L||O&4)&&v!==(v=I[2].id+"")&&set_data(k,v);const F={};O&4&&(F.item=I[2]),S.$set(F)},i(I){L||(transition_in(S.$$.fragment,I),L=!0)},o(I){transition_out(S.$$.fragment,I),L=!1},d(I){I&&detach(r),I&&detach(x),destroy_component(S,I)}}}function create_fragment$1W($){let r,p,v,k,x,S;r=new CloseButton({props:{app:$[0],id:$[1]}});const L=[create_if_block$O,create_else_block$g],I=[];function O(F,U){return F[3]&&F[2]?0:1}return v=O($),k=I[v]=L[v]($),{c(){create_component(r.$$.fragment),p=space(),k.c(),x=empty()},m(F,U){mount_component(r,F,U),insert(F,p,U),I[v].m(F,U),insert(F,x,U),S=!0},p(F,[U]){const R={};U&1&&(R.app=F[0]),U&2&&(R.id=F[1]),r.$set(R);let N=v;v=O(F),v===N?I[v].p(F,U):(group_outros(),transition_out(I[N],1,1,()=>{I[N]=null}),check_outros(),k=I[v],k?k.p(F,U):(k=I[v]=L[v](F),k.c()),transition_in(k,1),k.m(x.parentNode,x))},i(F){S||(transition_in(r.$$.fragment,F),transition_in(k),S=!0)},o(F){transition_out(r.$$.fragment,F),transition_out(k),S=!1},d(F){destroy_component(r,F),F&&detach(p),I[v].d(F),F&&detach(x)}}}function instance$1L($,r,p){let v;component_subscribe($,threadMessageId,L=>p(3,v=L));let k,{app:x}=r,{id:S}=r;return threadMessageId.subscribe(async L=>{if(!L)return;p(2,k=null);const I=await getPartialTree(v);I&&p(2,k=I)}),$.$$set=L=>{"app"in L&&p(0,x=L.app),"id"in L&&p(1,S=L.id)},[x,S,k,v]}class Thread extends SvelteComponent{constructor(r){super(),init(this,r,instance$1L,create_fragment$1W,safe_not_equal,{app:0,id:1})}}const overlays={thread:{info:{name:"Thread View",author:"ArcOS Team",version:"1.0.0"},size:{w:550,h:400},show:!1,content:Thread}},MessagingApp={info:{name:"Messaging",description:"Send messages to other ArcOS users",builtin:!0,version:"1.0.7",author:"ArcOS Team",icon:logo$2},size:{w:700,h:450},pos:{x:100,y:100},minSize:{w:700,h:450},maxSize:{w:1e3,h:600},controls:{min:!0,max:!0,cls:!0},state:{headless:!1,resizable:!0,windowState:{min:!1,max:!1,fll:!1}},overlays,content:MessagingApp$1,glass:!0},SaveNewFile_svelte_svelte_type_style_lang="";function create_fragment$1V($){let r,p,v,k,x,S,L,I,O,F,U,R,N,j,q,H,Q,V;return{c(){r=element("div"),p=element("img"),k=space(),x=element("div"),S=element("p"),S.textContent="Enter a path to save this file to:",L=space(),I=element("input"),O=space(),F=element("div"),U=element("div"),R=element("button"),N=text("Save"),q=space(),H=element("button"),H.textContent="Cancel",src_url_equal(p.src,v=icon)||attr(p,"src",v),attr(p,"alt","Save File"),attr(p,"class","svelte-demxce"),attr(S,"class","caption svelte-demxce"),attr(I,"type","text"),attr(I,"class","svelte-demxce"),attr(x,"class","inner"),attr(r,"class","wrapper svelte-demxce"),R.disabled=j=!$[0],attr(U,"class","inner svelte-demxce"),attr(F,"class","actions svelte-demxce")},m(K,G){insert(K,r,G),append(r,p),append(r,k),append(r,x),append(x,S),append(x,L),append(x,I),set_input_value(I,$[0]),insert(K,O,G),insert(K,F,G),append(F,U),append(U,R),append(R,N),append(U,q),append(U,H),Q||(V=[listen(I,"input",$[3]),listen(R,"click",$[2]),listen(H,"click",$[1])],Q=!0)},p(K,[G]){G&1&&I.value!==K[0]&&set_input_value(I,K[0]),G&1&&j!==(j=!K[0])&&(R.disabled=j)},i:noop$1,o:noop$1,d(K){K&&detach(r),K&&detach(O),K&&detach(F),Q=!1,run_all(V)}}}function instance$1K($,r,p){let v="";function k(){hideOverlay("saveNewFile","TextEditor")}async function x(){await saveTextEditorFile(get_store_value(TextEditorContent),{name:null,path:v,data:null,mime:""});const L=v.split("/");await openUserFile({filename:L[L.length-1],mime:"text/plain",scopedPath:v}),k()}function S(){v=this.value,p(0,v)}return[v,k,x,S]}class SaveNewFile extends SvelteComponent{constructor(r){super(),init(this,r,instance$1K,create_fragment$1V,safe_not_equal,{})}}const TextEditor={info:{name:"Text Editor",description:"Edit plain text files",builtin:!0,version:"1.0.0",author:"Izaak Kuipers",hidden:!1,icon:logo$b},size:{w:700,h:550},pos:{x:30,y:40,centered:!0},minSize:{w:400,h:300},maxSize:{w:1e3,h:800},controls:{min:!0,max:!0,cls:!0},state:{headless:!1,resizable:!0,windowState:{min:!1,max:!1,fll:!1}},content:TextView,glass:!0,fileMimes:["text/plain; charset=utf-8"],overlays:{saveNewFile:{info:{name:"Save file",author:"Izaak Kuipers",version:"1.0.1"},size:{w:NaN,h:NaN},show:!1,content:SaveNewFile}}},logo$1=""+new URL("settings-ade5abd9.svg",import.meta.url).href,SettingsApp$2="",currentSettingsPage=writable(null),currentCollapsibleT=writable(null);function setSettingsPage($){Log({source:"apps/SettingsApp",level:LogLevel.info,msg:`Opening settings page '${$.name}'`}),currentCollapsibleT.set(null),currentSettingsPage.set($),hotSwapAppIcon($.icon,"SettingsApp"),setTitleSuffix(` - ${$.name}`,"SettingsApp")}function create_if_block$N($){let r,p,v;var k=$[2].content;function x(S){return{}}return k&&(r=construct_svelte_component(k,x())),{c(){r&&create_component(r.$$.fragment),p=empty()},m(S,L){r&&mount_component(r,S,L),insert(S,p,L),v=!0},p(S,L){if(L&4&&k!==(k=S[2].content)){if(r){group_outros();const I=r;transition_out(I.$$.fragment,1,0,()=>{destroy_component(I,1)}),check_outros()}k?(r=construct_svelte_component(k,x()),create_component(r.$$.fragment),transition_in(r.$$.fragment,1),mount_component(r,p.parentNode,p)):r=null}},i(S){v||(r&&transition_in(r.$$.fragment,S),v=!0)},o(S){r&&transition_out(r.$$.fragment,S),v=!1},d(S){S&&detach(p),r&&destroy_component(r,S)}}}function create_fragment$1U($){let r,p,v,k,x=$[2]&&create_if_block$N($);return{c(){r=element("div"),p=element("div"),x&&x.c(),attr(p,"class",v="inner "+$[1]),attr(r,"class","content"),toggle_class(r,"collapsed",$[0].collapsed)},m(S,L){insert(S,r,L),append(r,p),x&&x.m(p,null),k=!0},p(S,[L]){S[2]?x?(x.p(S,L),L&4&&transition_in(x,1)):(x=create_if_block$N(S),x.c(),transition_in(x,1),x.m(p,null)):x&&(group_outros(),transition_out(x,1,1,()=>{x=null}),check_outros()),(!k||L&2&&v!==(v="inner "+S[1]))&&attr(p,"class",v),(!k||L&1)&&toggle_class(r,"collapsed",S[0].collapsed)},i(S){k||(transition_in(x),k=!0)},o(S){transition_out(x),k=!1},d(S){S&&detach(r),x&&x.d()}}}function instance$1J($,r,p){let v;component_subscribe($,UserData,I=>p(4,v=I));let{appdata:k}=r,x="",S,L;return currentSettingsPage.subscribe(I=>{if(clearTimeout(L),p(1,x="static"),v&&!v.sh.anim&&I)return p(2,S=I);!I||S&&I.name==S.name||(p(1,x="slide-out-right"),L=setTimeout(()=>{p(2,S=I),p(1,x="slide-in-left"),L=setTimeout(()=>{p(1,x="static")},301)},500))}),$.$$set=I=>{"appdata"in I&&p(0,k=I.appdata)},[k,x,S]}let Content$1=class extends SvelteComponent{constructor(r){super(),init(this,r,instance$1J,create_fragment$1U,safe_not_equal,{appdata:0})}};const usericon=""+new URL("account-a7a14557.svg",import.meta.url).href,logo=""+new URL("desktop-2a5e3c36.svg",import.meta.url).href,appearance=""+new URL("loadtheme-61b4520f.svg",import.meta.url).href,shellIcon=""+new URL("taskbar-24d42588.svg",import.meta.url).href,windowsIcon=""+new URL("windows-2ef194f6.svg",import.meta.url).href,about="",dmMutators=[],dmProps=writable([]),DevModeOverride=writable(!1);function updateDevModeProps(){dmProps.set([]);let $=[];for(let r=0;r<dmMutators.length;r++){const p=[],v=dmMutators[r],k=get_store_value(dmMutators[r].store),x=v.fallback||"",S=v.value,L=v.suffix||"",I=k?`${S?k[S]:k} ${L}`:`<${x}>`;p.push(v.caption,I),$.push(p)}dmProps.set($)}function create_else_block$f($){let r,p;return{c(){r=element("h3"),p=text($[2]),attr(r,"class","header")},m(v,k){insert(v,r,k),append(r,p)},p(v,k){k&4&&set_data(p,v[2])},d(v){v&&detach(r)}}}function create_if_block$M($){let r,p,v,k;return{c(){r=element("div"),p=text($[2]),attr(r,"class","header")},m(x,S){insert(x,r,S),append(r,p),v||(k=listen(r,"click",$[4]),v=!0)},p(x,S){S&4&&set_data(p,x[2])},d(x){x&&detach(r),v=!1,k()}}}function create_fragment$1T($){let r,p,v,k;function x(F,U){return F[1]?create_if_block$M:create_else_block$f}let S=x($),L=S($);const I=$[6].default,O=create_slot(I,$,$[5],null);return{c(){r=element("div"),L.c(),p=space(),v=element("div"),O&&O.c(),attr(v,"class","section-content"),attr(r,"class","section"),toggle_class(r,"collapsible",$[1]),toggle_class(r,"collapsed",$[0]),toggle_class(r,"opt",$[3])},m(F,U){insert(F,r,U),L.m(r,null),append(r,p),append(r,v),O&&O.m(v,null),k=!0},p(F,[U]){S===(S=x(F))&&L?L.p(F,U):(L.d(1),L=S(F),L&&(L.c(),L.m(r,p))),O&&O.p&&(!k||U&32)&&update_slot_base(O,I,F,F[5],k?get_slot_changes(I,F[5],U,null):get_all_dirty_from_scope(F[5]),null),(!k||U&2)&&toggle_class(r,"collapsible",F[1]),(!k||U&1)&&toggle_class(r,"collapsed",F[0]),(!k||U&8)&&toggle_class(r,"opt",F[3])},i(F){k||(transition_in(O,F),k=!0)},o(F){transition_out(O,F),k=!1},d(F){F&&detach(r),L.d(),O&&O.d(F)}}}function instance$1I($,r,p){let{$$slots:v={},$$scope:k}=r,{collapsible:x=!1}=r,{header:S}=r,{collapsed:L=!0}=r,{opt:I=!1}=r;currentCollapsibleT.subscribe(F=>{!F||!x||p(0,L=S!=F)});function O(){p(0,L=!L),L||currentCollapsibleT.set(S)}return $.$$set=F=>{"collapsible"in F&&p(1,x=F.collapsible),"header"in F&&p(2,S=F.header),"collapsed"in F&&p(0,L=F.collapsed),"opt"in F&&p(3,I=F.opt),"$$scope"in F&&p(5,k=F.$$scope)},[L,x,S,I,O,k,v]}class Section extends SvelteComponent{constructor(r){super(),init(this,r,instance$1I,create_fragment$1T,safe_not_equal,{collapsible:1,header:2,collapsed:0,opt:3})}}function create_if_block$L($){let r,p;return r=new Section({props:{header:"Your System",collapsible:!0,$$slots:{default:[create_default_slot$9]},$$scope:{ctx:$}}}),{c(){create_component(r.$$.fragment)},m(v,k){mount_component(r,v,k),p=!0},p(v,k){const x={};k&11&&(x.$$scope={dirty:k,ctx:v}),r.$set(x)},i(v){p||(transition_in(r.$$.fragment,v),p=!0)},o(v){transition_out(r.$$.fragment,v),p=!1},d(v){destroy_component(r,v)}}}function create_default_slot$9($){let r,p,v,k,x=$[0].cpu.cores+"",S,L,I,O,F,U,R,N,j=formatBytes($[0].mem.kb)+"",q,H,Q,V,K,G,Y,J,Z=$[0].gpu.vendor+"",X,ee,te=$[0].gpu.model+"",le,ue,ae,oe,se,re,ie=$[1]?"Desktop app":"Browser",ne,ce,de;return{c(){r=element("div"),p=element("div"),p.textContent="Processor",v=space(),k=element("div"),S=text(x),L=text(" cores"),I=space(),O=element("div"),F=element("div"),F.textContent="Memory",U=space(),R=element("div"),N=text("~ "),q=text(j),H=space(),Q=element("button"),Q.textContent="help",V=space(),K=element("div"),G=element("div"),G.textContent="Graphics card",Y=space(),J=element("div"),X=text(Z),ee=space(),le=text(te),ue=space(),ae=element("div"),oe=element("div"),oe.textContent="ArcOS Mode",se=space(),re=element("div"),ne=text(ie),attr(p,"class","key"),attr(k,"class","value"),attr(r,"class","row"),attr(F,"class","key"),attr(Q,"class","material-icons-round info"),attr(R,"class","value"),attr(O,"class","row"),attr(G,"class","key"),attr(J,"class","value"),attr(K,"class","row"),attr(oe,"class","key"),attr(re,"class","value"),attr(ae,"class","row")},m(fe,pe){insert(fe,r,pe),append(r,p),append(r,v),append(r,k),append(k,S),append(k,L),insert(fe,I,pe),insert(fe,O,pe),append(O,F),append(O,U),append(O,R),append(R,N),append(R,q),append(R,H),append(R,Q),insert(fe,V,pe),insert(fe,K,pe),append(K,G),append(K,Y),append(K,J),append(J,X),append(J,ee),append(J,le),insert(fe,ue,pe),insert(fe,ae,pe),append(ae,oe),append(ae,se),append(ae,re),append(re,ne),ce||(de=listen(Q,"click",$[2]),ce=!0)},p(fe,pe){pe&1&&x!==(x=fe[0].cpu.cores+"")&&set_data(S,x),pe&1&&j!==(j=formatBytes(fe[0].mem.kb)+"")&&set_data(q,j),pe&1&&Z!==(Z=fe[0].gpu.vendor+"")&&set_data(X,Z),pe&1&&te!==(te=fe[0].gpu.model+"")&&set_data(le,te),pe&2&&ie!==(ie=fe[1]?"Desktop app":"Browser")&&set_data(ne,ie)},d(fe){fe&&detach(r),fe&&detach(I),fe&&detach(O),fe&&detach(V),fe&&detach(K),fe&&detach(ue),fe&&detach(ae),ce=!1,de()}}}function create_fragment$1S($){let r,p,v=$[0]&&create_if_block$L($);return{c(){v&&v.c(),r=empty()},m(k,x){v&&v.m(k,x),insert(k,r,x),p=!0},p(k,[x]){k[0]?v?(v.p(k,x),x&1&&transition_in(v,1)):(v=create_if_block$L(k),v.c(),transition_in(v,1),v.m(r.parentNode,r)):v&&(group_outros(),transition_out(v,1,1,()=>{v=null}),check_outros())},i(k){p||(transition_in(v),p=!0)},o(k){transition_out(v),p=!1},d(k){v&&v.d(k),k&&detach(r)}}}function instance$1H($,r,p){let v,k=!1;onMount(async()=>{p(0,v=await getDeviceInfo()),p(1,k=await inTauri())});function x(){createOverlayableError({title:"Information about system memory",message:"The memory amount visible to ArcOS may be less than you actually have. This is not a bug, but rather a limitation of the browser you are running. Most browsers can only detect up to 8GB of RAM.",buttons:[{caption:"Understood",action(){}}]},"SettingsApp")}return[v,k,x]}class SystemSection extends SvelteComponent{constructor(r){super(),init(this,r,instance$1H,create_fragment$1S,safe_not_equal,{})}}function create_default_slot_2$3($){let r,p,v;return{c(){r=text(`The whole ArcOS project is licensed under GPLv3. More information about the
    license and the project as a whole can be found in the README file of the
    `),p=element("a"),p.textContent="ArcOS project page",v=text("."),attr(p,"href","https://github.com/IzK-ArcOS"),attr(p,"target","_blank")},m(k,x){insert(k,r,x),insert(k,p,x),insert(k,v,x)},p:noop$1,d(k){k&&detach(r),k&&detach(p),k&&detach(v)}}}function create_default_slot_1$4($){let r,p;return{c(){r=text(`Thanks to the following people:
    `),p=element("ul"),p.innerHTML=`<li>Papirus Development Team for their icon set</li> 
      <li>SWHFotografie for wallpapers img08 and img13</li> 
      <li>Kees van Voorthuizen for wallpaper img14</li>`},m(v,k){insert(v,r,k),insert(v,p,k)},p:noop$1,d(v){v&&detach(r),v&&detach(p)}}}function create_default_slot$8($){let r,p,v,k;return{c(){r=text(`ArcOS started of as a weekend project, but these days it is a huge project
    with tons of amazing features. Every version of this project up to this
    point has been lead by me, Izaak Kuipers.`),p=element("br"),v=element("br"),k=text(`Feel free to visit our
    GitHub for more information about the project, and how you can contribute to
    it.`)},m(x,S){insert(x,r,S),insert(x,p,S),insert(x,v,S),insert(x,k,S)},p:noop$1,d(x){x&&detach(r),x&&detach(p),x&&detach(v),x&&detach(k)}}}function create_fragment$1R($){let r,p,v,k,x,S,L,I,O,F,U,R,N,j,q,H,Q;return F=new SystemSection({}),R=new Section({props:{header:"License Information",collapsible:!0,collapsed:!0,$$slots:{default:[create_default_slot_2$3]},$$scope:{ctx:$}}}),j=new Section({props:{header:"Credits",collapsible:!0,collapsed:!0,$$slots:{default:[create_default_slot_1$4]},$$scope:{ctx:$}}}),H=new Section({props:{header:"About",collapsible:!0,collapsed:!0,$$slots:{default:[create_default_slot$8]},$$scope:{ctx:$}}}),{c(){r=element("div"),p=element("div"),v=element("div"),k=element("img"),S=space(),L=element("div"),I=element("h1"),I.textContent=`ArcOS v${ArcOSVersion}`,O=space(),create_component(F.$$.fragment),U=space(),create_component(R.$$.fragment),N=space(),create_component(j.$$.fragment),q=space(),create_component(H.$$.fragment),src_url_equal(k.src,x=logo$c)||attr(k,"src",x),attr(k,"alt","ArcOS"),attr(k,"class","logo"),attr(I,"class","name"),attr(L,"class","text"),attr(p,"class","product"),attr(r,"class","about-page")},m(V,K){insert(V,r,K),append(r,p),append(p,v),append(v,k),append(p,S),append(p,L),append(L,I),append(r,O),mount_component(F,r,null),append(r,U),mount_component(R,r,null),append(r,N),mount_component(j,r,null),append(r,q),mount_component(H,r,null),Q=!0},p(V,[K]){const G={};K&16&&(G.$$scope={dirty:K,ctx:V}),R.$set(G);const Y={};K&16&&(Y.$$scope={dirty:K,ctx:V}),j.$set(Y);const J={};K&16&&(J.$$scope={dirty:K,ctx:V}),H.$set(J)},i(V){Q||(transition_in(F.$$.fragment,V),transition_in(R.$$.fragment,V),transition_in(j.$$.fragment,V),transition_in(H.$$.fragment,V),Q=!0)},o(V){transition_out(F.$$.fragment,V),transition_out(R.$$.fragment,V),transition_out(j.$$.fragment,V),transition_out(H.$$.fragment,V),Q=!1},d(V){V&&detach(r),destroy_component(F),destroy_component(R),destroy_component(j),destroy_component(H)}}}function instance$1G($,r,p){return component_subscribe($,UserData,v=>p(0,v)),component_subscribe($,UserName,v=>p(1,v)),[]}class About extends SvelteComponent{constructor(r){super(),init(this,r,instance$1G,create_fragment$1R,safe_not_equal,{})}}const account$1="";function create_fragment$1Q($){let r,p,v,k,x,S,L,I,O,F;const U=$[3].default,R=create_slot(U,$,$[2],null);return{c(){r=element("div"),p=element("div"),v=element("h3"),k=text($[0]),x=space(),S=element("p"),L=text($[1]),I=space(),O=element("div"),R&&R.c(),attr(v,"class","header"),attr(S,"class","context"),attr(O,"class","opt-sel"),attr(r,"class","section opt")},m(N,j){insert(N,r,j),append(r,p),append(p,v),append(v,k),append(p,x),append(p,S),append(S,L),append(r,I),append(r,O),R&&R.m(O,null),F=!0},p(N,[j]){(!F||j&1)&&set_data(k,N[0]),(!F||j&2)&&set_data(L,N[1]),R&&R.p&&(!F||j&4)&&update_slot_base(R,U,N,N[2],F?get_slot_changes(U,N[2],j,null):get_all_dirty_from_scope(N[2]),null)},i(N){F||(transition_in(R,N),F=!0)},o(N){transition_out(R,N),F=!1},d(N){N&&detach(r),R&&R.d(N)}}}function instance$1F($,r,p){let{$$slots:v={},$$scope:k}=r,{title:x}=r,{context:S}=r;return $.$$set=L=>{"title"in L&&p(0,x=L.title),"context"in L&&p(1,S=L.context),"$$scope"in L&&p(2,k=L.$$scope)},[x,S,k,v]}class OptionSection extends SvelteComponent{constructor(r){super(),init(this,r,instance$1F,create_fragment$1Q,safe_not_equal,{title:0,context:1})}}function create_default_slot_2$2($){let r,p,v;return{c(){r=element("button"),r.textContent="Change..."},m(k,x){insert(k,r,x),p||(v=listen(r,"click",$[1]),p=!0)},p:noop$1,d(k){k&&detach(r),p=!1,v()}}}function create_default_slot_1$3($){let r,p,v;return{c(){r=element("button"),r.textContent="Change..."},m(k,x){insert(k,r,x),p||(v=listen(r,"click",$[2]),p=!0)},p:noop$1,d(k){k&&detach(r),p=!1,v()}}}function create_default_slot$7($){let r,p,v;return{c(){r=element("button"),r.textContent="Delete account..."},m(k,x){insert(k,r,x),p||(v=listen(r,"click",$[0]),p=!0)},p:noop$1,d(k){k&&detach(r),p=!1,v()}}}function create_fragment$1P($){let r,p,v,k,x,S;return r=new OptionSection({props:{title:"Change username",context:"Migrate your userdata to another username.",$$slots:{default:[create_default_slot_2$2]},$$scope:{ctx:$}}}),v=new OptionSection({props:{title:"Change password",context:"Change the password you use to log in.",$$slots:{default:[create_default_slot_1$3]},$$scope:{ctx:$}}}),x=new OptionSection({props:{title:"Delete account",context:"Delete your ArcOS account",$$slots:{default:[create_default_slot$7]},$$scope:{ctx:$}}}),{c(){create_component(r.$$.fragment),p=space(),create_component(v.$$.fragment),k=space(),create_component(x.$$.fragment)},m(L,I){mount_component(r,L,I),insert(L,p,I),mount_component(v,L,I),insert(L,k,I),mount_component(x,L,I),S=!0},p(L,[I]){const O={};I&8&&(O.$$scope={dirty:I,ctx:L}),r.$set(O);const F={};I&8&&(F.$$scope={dirty:I,ctx:L}),v.$set(F);const U={};I&8&&(U.$$scope={dirty:I,ctx:L}),x.$set(U)},i(L){S||(transition_in(r.$$.fragment,L),transition_in(v.$$.fragment,L),transition_in(x.$$.fragment,L),S=!0)},o(L){transition_out(r.$$.fragment,L),transition_out(v.$$.fragment,L),transition_out(x.$$.fragment,L),S=!1},d(L){destroy_component(r,L),L&&detach(p),destroy_component(v,L),L&&detach(k),destroy_component(x,L)}}}function instance$1E($){function r(){createOverlayableError({title:"Delete ArcOS Account",message:"Are you sure you want to delete your ArcOS account? This will delete any and all user data associated with this account. These changes cannot be reverted.",image:warning,buttons:[{action:()=>deleteUser(),caption:"Proceed"},{action:()=>{},caption:"Back to safety"}]},"SettingsApp")}function p(){showOverlay("changeUsername","SettingsApp")}function v(){showOverlay("changePswd","SettingsApp")}return[r,p,v]}class DangerZone extends SvelteComponent{constructor(r){super(),init(this,r,instance$1E,create_fragment$1P,safe_not_equal,{})}}function create_if_block$K($){let r;return{c(){r=text("(developer)")},m(p,v){insert(p,r,v)},d(p){p&&detach(r)}}}function create_fragment$1O($){let r,p,v,k,x,S,L,I,O,F,U,R=(getServer()||location.hostname)+"",N,j,q,H,Q;v=new ProfilePicture$1({props:{src:$[0],height:52}});let V=$[2]&&create_if_block$K();return{c(){r=element("div"),p=element("div"),create_component(v.$$.fragment),k=space(),x=element("button"),x.textContent="edit",S=space(),L=element("div"),I=element("p"),O=text($[1]),F=space(),U=element("p"),N=text(R),j=space(),V&&V.c(),attr(x,"class","change material-icons-round"),attr(I,"class","username"),attr(U,"class","host"),attr(U,"data-caller","accountpage-hostname"),attr(r,"class","info")},m(K,G){insert(K,r,G),append(r,p),mount_component(v,p,null),append(p,k),append(p,x),append(r,S),append(r,L),append(L,I),append(I,O),append(L,F),append(L,U),append(U,N),append(U,j),V&&V.m(U,null),q=!0,H||(Q=listen(x,"click",$[3]),H=!0)},p(K,[G]){const Y={};G&1&&(Y.src=K[0]),v.$set(Y),(!q||G&2)&&set_data(O,K[1]),K[2]?V||(V=create_if_block$K(),V.c(),V.m(U,null)):V&&(V.d(1),V=null)},i(K){q||(transition_in(v.$$.fragment,K),q=!0)},o(K){transition_out(v.$$.fragment,K),q=!1},d(K){K&&detach(r),destroy_component(v),V&&V.d(),H=!1,Q()}}}function instance$1D($,r,p){let v,k;component_subscribe($,UserName,L=>p(1,v=L)),component_subscribe($,DevModeOverride,L=>p(2,k=L));let x="";UserData.subscribe(L=>{p(0,x=getProfilePicture(L.acc.profilePicture))});function S(){showOverlay("pfpSel","SettingsApp")}return[x,v,k,S]}class Profile extends SvelteComponent{constructor(r){super(),init(this,r,instance$1D,create_fragment$1O,safe_not_equal,{})}}function create_fragment$1N($){let r,p,v,k,x;return p=new Profile({}),k=new DangerZone({}),{c(){r=element("div"),create_component(p.$$.fragment),v=space(),create_component(k.$$.fragment),attr(r,"class","settingspage-account")},m(S,L){insert(S,r,L),mount_component(p,r,null),append(r,v),mount_component(k,r,null),x=!0},p:noop$1,i(S){x||(transition_in(p.$$.fragment,S),transition_in(k.$$.fragment,S),x=!0)},o(S){transition_out(p.$$.fragment,S),transition_out(k.$$.fragment,S),x=!1},d(S){S&&detach(r),destroy_component(p),destroy_component(k)}}}class Account extends SvelteComponent{constructor(r){super(),init(this,r,null,create_fragment$1N,safe_not_equal,{})}}const apps="";function create_fragment$1M($){let r,p,v,k,x,S,L,I=$[0].info.name+"",O,F,U,R=$[0].info.description+"",N,j,q;return{c(){r=element("button"),p=element("img"),x=space(),S=element("div"),L=element("p"),O=text(I),F=space(),U=element("p"),N=text(R),src_url_equal(p.src,v=getOriginalIcon($[0].id)||getAppIcon($[0]))||attr(p,"src",v),attr(p,"alt",k=$[0].info.name),attr(p,"class","icon"),attr(L,"class","title"),attr(U,"class","description"),attr(S,"class","info"),attr(r,"class","appbutton"),toggle_class(r,"disabled",$[0].disabled)},m(H,Q){insert(H,r,Q),append(r,p),append(r,x),append(r,S),append(S,L),append(L,O),append(S,F),append(S,U),append(U,N),j||(q=listen(r,"click",$[1]),j=!0)},p(H,[Q]){Q&1&&!src_url_equal(p.src,v=getOriginalIcon(H[0].id)||getAppIcon(H[0]))&&attr(p,"src",v),Q&1&&k!==(k=H[0].info.name)&&attr(p,"alt",k),Q&1&&I!==(I=H[0].info.name+"")&&set_data(O,I),Q&1&&R!==(R=H[0].info.description+"")&&set_data(N,R),Q&1&&toggle_class(r,"disabled",H[0].disabled)},i:noop$1,o:noop$1,d(H){H&&detach(r),j=!1,q()}}}function instance$1C($,r,p){let{app:v}=r;function k(){closeWindow("AppInfo"),setTimeout(()=>{AppInfoId.set(v.id),openWindow("AppInfo")},300)}return $.$$set=x=>{"app"in x&&p(0,v=x.app)},[v,k]}let AppButton$1=class extends SvelteComponent{constructor(r){super(),init(this,r,instance$1C,create_fragment$1M,safe_not_equal,{app:0})}};function create_else_block$e($){let r=$[0].id+"",p;return{c(){p=text(r)},m(v,k){insert(v,p,k)},p(v,k){k&1&&r!==(r=v[0].id+"")&&set_data(p,r)},d(v){v&&detach(p)}}}function create_if_block$J($){let r=$[0].parentId+"",p,v,k=$[0].id+"",x;return{c(){p=text(r),v=text("."),x=text(k)},m(S,L){insert(S,p,L),insert(S,v,L),insert(S,x,L)},p(S,L){L&1&&r!==(r=S[0].parentId+"")&&set_data(p,r),L&1&&k!==(k=S[0].id+"")&&set_data(x,k)},d(S){S&&detach(p),S&&detach(v),S&&detach(x)}}}function create_fragment$1L($){let r,p,v,k,x,S,L,I,O,F=$[0].info.name+"",U,R,N,j;function q(V,K){return V[0].parentId?create_if_block$J:create_else_block$e}let H=q($),Q=H($);return{c(){r=element("button"),p=element("img"),x=space(),S=element("div"),L=element("p"),Q.c(),I=space(),O=element("p"),U=text(F),R=text(" (hidden)"),src_url_equal(p.src,v=getAppIcon($[0]))||attr(p,"src",v),attr(p,"alt",k=$[0].info.name),attr(p,"class","icon"),attr(L,"class","title"),attr(O,"class","description"),attr(S,"class","info"),attr(r,"class","appbutton"),toggle_class(r,"disabled",$[0].disabled)},m(V,K){insert(V,r,K),append(r,p),append(r,x),append(r,S),append(S,L),Q.m(L,null),append(S,I),append(S,O),append(O,U),append(O,R),N||(j=listen(r,"click",$[1]),N=!0)},p(V,[K]){K&1&&!src_url_equal(p.src,v=getAppIcon(V[0]))&&attr(p,"src",v),K&1&&k!==(k=V[0].info.name)&&attr(p,"alt",k),H===(H=q(V))&&Q?Q.p(V,K):(Q.d(1),Q=H(V),Q&&(Q.c(),Q.m(L,null))),K&1&&F!==(F=V[0].info.name+"")&&set_data(U,F),K&1&&toggle_class(r,"disabled",V[0].disabled)},i:noop$1,o:noop$1,d(V){V&&detach(r),Q.d(),N=!1,j()}}}function instance$1B($,r,p){let{app:v}=r;function k(){closeWindow("AppInfo"),setTimeout(()=>{AppInfoId.set(v.id),openWindow("AppInfo")},300)}return $.$$set=x=>{"app"in x&&p(0,v=x.app)},[v,k]}class HiddenAppButton extends SvelteComponent{constructor(r){super(),init(this,r,instance$1B,create_fragment$1L,safe_not_equal,{app:0})}}function get_each_context$s($,r,p){const v=$.slice();return v[2]=r[p],v}function get_each_context_1$4($,r,p){const v=$.slice();return v[2]=r[p],v}function create_each_block_1$4($){let r,p;return r=new AppButton$1({props:{app:$[2]}}),{c(){create_component(r.$$.fragment)},m(v,k){mount_component(r,v,k),p=!0},p(v,k){const x={};k&2&&(x.app=v[2]),r.$set(x)},i(v){p||(transition_in(r.$$.fragment,v),p=!0)},o(v){transition_out(r.$$.fragment,v),p=!1},d(v){destroy_component(r,v)}}}function create_each_block$s($){let r,p;return r=new HiddenAppButton({props:{app:$[2]}}),{c(){create_component(r.$$.fragment)},m(v,k){mount_component(r,v,k),p=!0},p(v,k){const x={};k&1&&(x.app=v[2]),r.$set(x)},i(v){p||(transition_in(r.$$.fragment,v),p=!0)},o(v){transition_out(r.$$.fragment,v),p=!1},d(v){destroy_component(r,v)}}}function create_fragment$1K($){let r,p,v,k,x,S=$[1],L=[];for(let R=0;R<S.length;R+=1)L[R]=create_each_block_1$4(get_each_context_1$4($,S,R));const I=R=>transition_out(L[R],1,1,()=>{L[R]=null});let O=$[0],F=[];for(let R=0;R<O.length;R+=1)F[R]=create_each_block$s(get_each_context$s($,O,R));const U=R=>transition_out(F[R],1,1,()=>{F[R]=null});return{c(){r=element("h1"),r.textContent="Applications",p=space(),v=element("div");for(let R=0;R<L.length;R+=1)L[R].c();k=space();for(let R=0;R<F.length;R+=1)F[R].c();attr(v,"class","apps")},m(R,N){insert(R,r,N),insert(R,p,N),insert(R,v,N);for(let j=0;j<L.length;j+=1)L[j]&&L[j].m(v,null);append(v,k);for(let j=0;j<F.length;j+=1)F[j]&&F[j].m(v,null);x=!0},p(R,[N]){if(N&2){S=R[1];let j;for(j=0;j<S.length;j+=1){const q=get_each_context_1$4(R,S,j);L[j]?(L[j].p(q,N),transition_in(L[j],1)):(L[j]=create_each_block_1$4(q),L[j].c(),transition_in(L[j],1),L[j].m(v,k))}for(group_outros(),j=S.length;j<L.length;j+=1)I(j);check_outros()}if(N&1){O=R[0];let j;for(j=0;j<O.length;j+=1){const q=get_each_context$s(R,O,j);F[j]?(F[j].p(q,N),transition_in(F[j],1)):(F[j]=create_each_block$s(q),F[j].c(),transition_in(F[j],1),F[j].m(v,null))}for(group_outros(),j=O.length;j<F.length;j+=1)U(j);check_outros()}},i(R){if(!x){for(let N=0;N<S.length;N+=1)transition_in(L[N]);for(let N=0;N<O.length;N+=1)transition_in(F[N]);x=!0}},o(R){L=L.filter(Boolean);for(let N=0;N<L.length;N+=1)transition_out(L[N]);F=F.filter(Boolean);for(let N=0;N<F.length;N+=1)transition_out(F[N]);x=!1},d(R){R&&detach(r),R&&detach(p),R&&detach(v),destroy_each(L,R),destroy_each(F,R)}}}function instance$1A($,r,p){let v=[],k=[];return WindowStore.subscribe(x=>{p(0,v=[]),p(1,k=[]);for(let S=0;S<x.length;S++)x[S].info.hidden?v.push(x[S]):k.push(x[S])}),[v,k]}class Apps extends SvelteComponent{constructor(r){super(),init(this,r,instance$1A,create_fragment$1K,safe_not_equal,{})}}const desktop$1="";async function directSingleUpload($,r){$.endsWith("/")&&$.slice(0,-1);const p=document.createElement("input");p.type="file",p.accept=r;const v=writable();return p.onchange=async()=>{p.files.length||v.set("");const x=p.files[0];v.set(await fileUpload(x,$))},p.click(),new Promise(k=>{v.subscribe(x=>{x&&k(x)})})}async function fileUpload($,r){const p=new Blob([new Uint8Array(await $.arrayBuffer())]),v=`${r}/${$.name}`.split("//").join("/"),k={name:$.name,path:v,data:await $.arrayBuffer(),mime:"ArcOS Uploadable"};FileBrowserUploadFile.set(k);const x=await writeFile(v,p);return fbClass.refresh(),x?v:""}const img04=""+new URL("img04-9d473c5a.png",import.meta.url).href,img0="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABIAAAAKICAIAAACHSRZaAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAiSSURBVHhe7cEBDQAAAMKg909tDjcgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALhTAzCGAAGNmWH9AAAAAElFTkSuQmCC",img01=""+new URL("img01-bbc2eae0.png",import.meta.url).href,img02=""+new URL("img02-6950200c.png",import.meta.url).href,img03=""+new URL("img03-87b2d378.png",import.meta.url).href,img05=""+new URL("img05-3c6c1958.png",import.meta.url).href,img06=""+new URL("img06-e2fa3f96.jpg",import.meta.url).href,img07=""+new URL("img07-788d74d9.jpg",import.meta.url).href,img08=""+new URL("img08-feb75f17.jpg",import.meta.url).href,img11=""+new URL("img11-d41c172b.jpg",import.meta.url).href,img12=""+new URL("img12-c9a4396e.png",import.meta.url).href,img13=""+new URL("img13-0a31c489.png",import.meta.url).href,img14=""+new URL("img14-54c8328b.jpg",import.meta.url).href,img15=""+new URL("img15-ddfd765d.jpg",import.meta.url).href,img16=""+new URL("img16-f0145d13.jpg",import.meta.url).href,Wallpapers={img0:{url:img0,author:"Izaak Kuipers",name:"Blank"},img04:{url:img04,author:"Izaak Kuipers",name:"ArcOS Dark"},img05:{url:img05,author:"Izaak Kuipers",name:"ArcOS Light"},img01:{url:img01,author:"Izaak Kuipers",name:"Stealth Gradient - Blue"},img02:{url:img02,author:"Izaak Kuipers",name:"Stealth Gradient - Purple"},img03:{url:img03,author:"Izaak Kuipers",name:"Stealth Gradient"},img08:{url:img08,author:"SWHFotografie",name:"Wandelbos",source:"Wandelbos, The Netherlands"},img13:{url:img13,author:"SWHFotografie",name:"Agga"},img14:{url:img14,author:"Kees van Voorthuizen",name:"Scheveningen"},img15:{url:img15,author:"Matteo Scaringi",name:"Corfu",source:"Corfu, Greece"},img06:{url:img06,author:"Izaak Kuipers",name:"ArcOS Beta Dark"},img07:{url:img07,author:"Izaak Kuipers",name:"ArcOS Beta Light"},img16:{url:img16,author:"Matteo Scaringi, Izaak Kuipers",name:"Login Background - Blurred",source:"Corfu, Greece"},img11:{url:img11,author:"Unknown",name:"Legacy Login"},img12:{url:img12,author:"Izaak Kuipers",name:"Gradiented Waves"}},getters=[["@local:",async $=>await wallpaperFromFS(atob($.replace("@local:","")))],["img",$=>Wallpapers[$]||Wallpapers.img04]];async function getWallpaper($){if(Log({msg:`Getting wallpaper ${$.startsWith("img")?$:"<custom>"}`,source:"userlogic/wallpapers.ts: getWallpaper",level:LogLevel.info}),!$)return Wallpapers.img04;for(let r=0;r<getters.length;r++)if($.startsWith(getters[r][0]))return await getters[r][1]($);return Wallpapers.img04}async function wallpaperFromFS($){Log({source:"wallpapers.ts: wallpaperFromFS",msg:`Reading wallpaper from path "${$}"...`,level:LogLevel.info});const r=await readFile($);if(!r)return Log({source:"wallpapers.ts: wallpaperFromFS",msg:`Unable to get wallpaper "${$}"`,level:LogLevel.error}),Wallpapers.img04;const p=URL.createObjectURL(new Blob([new Uint8Array(r)],{type:"image/jpeg"}));return{url:p,author:get_store_value(UserName),name:p,source:""}}function create_fragment$1J($){let r,p,v,k;return{c(){r=element("div"),p=element("div"),v=space(),k=element("div"),k.innerHTML=`<div class="fake-titlebar">Window Title</div> 
    <div class="fake-body">Window body</div>`,attr(p,"class","fake-taskbar"),toggle_class(p,"colored",$[1].sh.taskbar.colored),toggle_class(p,"docked",$[1].sh.taskbar.docked),attr(k,"class","fake-window"),attr(r,"class","current"),set_style(r,"background-image","url("+$[0]+")")},m(x,S){insert(x,r,S),append(r,p),append(r,v),append(r,k)},p(x,[S]){S&2&&toggle_class(p,"colored",x[1].sh.taskbar.colored),S&2&&toggle_class(p,"docked",x[1].sh.taskbar.docked),S&1&&set_style(r,"background-image","url("+x[0]+")")},i:noop$1,o:noop$1,d(x){x&&detach(r)}}}function instance$1z($,r,p){let v;component_subscribe($,UserData,x=>p(1,v=x));let k="";return UserData.subscribe(async()=>{p(0,k=(await getWallpaper(v.sh.desktop.wallpaper)).url)}),[k,v]}class Current extends SvelteComponent{constructor(r){super(),init(this,r,instance$1z,create_fragment$1J,safe_not_equal,{})}}function create_if_block$I($){let r;return{c(){r=element("span"),r.textContent="block",attr(r,"class","material-icons-round none")},m(p,v){insert(p,r,v)},d(p){p&&detach(r)}}}function create_fragment$1I($){let r,p,v,k,x=$[0][0]=="img0"&&create_if_block$I();return{c(){r=element("div"),x&&x.c(),attr(r,"class","wallpaper"),set_style(r,"background-image","url("+$[0][1].url+")"),attr(r,"title",p=$[0][0]=="img0"?"(none)":`${$[0][1].name} from ${$[0][1].author}`),toggle_class(r,"selected",$[1].sh.desktop.wallpaper==$[0][0])},m(S,L){insert(S,r,L),x&&x.m(r,null),v||(k=listen(r,"click",$[2]),v=!0)},p(S,[L]){S[0][0]=="img0"?x||(x=create_if_block$I(),x.c(),x.m(r,null)):x&&(x.d(1),x=null),L&1&&set_style(r,"background-image","url("+S[0][1].url+")"),L&1&&p!==(p=S[0][0]=="img0"?"(none)":`${S[0][1].name} from ${S[0][1].author}`)&&attr(r,"title",p),L&3&&toggle_class(r,"selected",S[1].sh.desktop.wallpaper==S[0][0])},i:noop$1,o:noop$1,d(S){S&&detach(r),x&&x.d(),v=!1,k()}}}function instance$1y($,r,p){let v;component_subscribe($,UserData,S=>p(1,v=S));let{wallpaper:k}=r;function x(){set_store_value(UserData,v.sh.desktop.wallpaper=k[0],v)}return $.$$set=S=>{"wallpaper"in S&&p(0,k=S.wallpaper)},[k,v,x]}class ImageSelector extends SvelteComponent{constructor(r){super(),init(this,r,instance$1y,create_fragment$1I,safe_not_equal,{wallpaper:0})}}function create_fragment$1H($){let r,p,v,k;return{c(){r=element("div"),attr(r,"class","wallpaper"),set_style(r,"background-image","url("+$[0].url+")"),attr(r,"title",p=$[0].path),toggle_class(r,"selected",$[1].sh.desktop.wallpaper==$[2]($[0].path))},m(x,S){insert(x,r,S),v||(k=listen(r,"click",$[3]),v=!0)},p(x,[S]){S&1&&set_style(r,"background-image","url("+x[0].url+")"),S&1&&p!==(p=x[0].path)&&attr(r,"title",p),S&7&&toggle_class(r,"selected",x[1].sh.desktop.wallpaper==x[2](x[0].path))},i:noop$1,o:noop$1,d(x){x&&detach(r),v=!1,k()}}}function instance$1x($,r,p){let v;component_subscribe($,UserData,L=>p(1,v=L));let{wallpaper:k}=r;const x=L=>`@local:${btoa(L)}`;function S(){const L=get_store_value(UserData);L.sh.desktop.wallpaper=x(k.path),UserData.set(L)}return $.$$set=L=>{"wallpaper"in L&&p(0,k=L.wallpaper)},[k,v,x,S]}let Wallpaper$1=class extends SvelteComponent{constructor(r){super(),init(this,r,instance$1x,create_fragment$1H,safe_not_equal,{wallpaper:0})}};function get_each_context$r($,r,p){const v=$.slice();return v[5]=r[p],v}function create_if_block$H($){let r,p,v=$[0],k=[];for(let S=0;S<v.length;S+=1)k[S]=create_each_block$r(get_each_context$r($,v,S));const x=S=>transition_out(k[S],1,1,()=>{k[S]=null});return{c(){for(let S=0;S<k.length;S+=1)k[S].c();r=empty()},m(S,L){for(let I=0;I<k.length;I+=1)k[I]&&k[I].m(S,L);insert(S,r,L),p=!0},p(S,L){if(L&1){v=S[0];let I;for(I=0;I<v.length;I+=1){const O=get_each_context$r(S,v,I);k[I]?(k[I].p(O,L),transition_in(k[I],1)):(k[I]=create_each_block$r(O),k[I].c(),transition_in(k[I],1),k[I].m(r.parentNode,r))}for(group_outros(),I=v.length;I<k.length;I+=1)x(I);check_outros()}},i(S){if(!p){for(let L=0;L<v.length;L+=1)transition_in(k[L]);p=!0}},o(S){k=k.filter(Boolean);for(let L=0;L<k.length;L+=1)transition_out(k[L]);p=!1},d(S){destroy_each(k,S),S&&detach(r)}}}function create_each_block$r($){let r,p;return r=new Wallpaper$1({props:{wallpaper:$[5]}}),{c(){create_component(r.$$.fragment)},m(v,k){mount_component(r,v,k),p=!0},p(v,k){const x={};k&1&&(x.wallpaper=v[5]),r.$set(x)},i(v){p||(transition_in(r.$$.fragment,v),p=!0)},o(v){transition_out(r.$$.fragment,v),p=!1},d(v){destroy_component(r,v)}}}function create_fragment$1G($){let r,p,v=!$[1]&&create_if_block$H($);return{c(){v&&v.c(),r=empty()},m(k,x){v&&v.m(k,x),insert(k,r,x),p=!0},p(k,[x]){k[1]?v&&(group_outros(),transition_out(v,1,1,()=>{v=null}),check_outros()):v?(v.p(k,x),x&2&&transition_in(v,1)):(v=create_if_block$H(k),v.c(),transition_in(v,1),v.m(r.parentNode,r))},i(k){p||(transition_in(v),p=!0)},o(k){transition_out(v),p=!1},d(k){v&&v.d(k),k&&detach(r)}}}async function createUrl($){const r=new Blob([new Uint8Array($)],{type:"image/*"});return URL.createObjectURL(r)}function instance$1w($,r,p){let v=[],k=!1,x=0;UserData.subscribe(S);async function S(){const I=[];if((await L()).length==x)return;x=0;const O=await getDirectory("./Wallpapers");if(O){for(let F=0;F<O.files.length;F++){const U=O.files[F],{scopedPath:R,mime:N}=U;if(!N.startsWith("image"))continue;x++;const j=await readFile(R);j&&I.push({path:R,url:await createUrl(j)})}await sleep(5),I.length!=v.length&&(p(1,k=!0),p(0,v=I),setTimeout(()=>{p(1,k=!1)}))}}async function L(){const I=[],O=await getDirectory("./Wallpapers");if(!O)return[];for(let F=0;F<O.files.length;F++){const U=O.files[F],{mime:R}=U;R.startsWith("image")&&I.push(U.scopedPath)}return I}return[v,k]}class FilesystemWallpapers extends SvelteComponent{constructor(r){super(),init(this,r,instance$1w,create_fragment$1G,safe_not_equal,{})}}function get_each_context$q($,r,p){const v=$.slice();return v[2]=r[p],v}function create_each_block$q($){let r,p;return r=new ImageSelector({props:{wallpaper:$[2]}}),{c(){create_component(r.$$.fragment)},m(v,k){mount_component(r,v,k),p=!0},p:noop$1,i(v){p||(transition_in(r.$$.fragment,v),p=!0)},o(v){transition_out(r.$$.fragment,v),p=!1},d(v){destroy_component(r,v)}}}function create_fragment$1F($){let r,p,v,k,x,S,L,I,O,F,U,R,N,j,q;k=new Current({});let H=Object.entries(Wallpapers),Q=[];for(let K=0;K<H.length;K+=1)Q[K]=create_each_block$q(get_each_context$q($,H,K));const V=K=>transition_out(Q[K],1,1,()=>{Q[K]=null});return I=new FilesystemWallpapers({}),{c(){r=element("div"),p=element("h1"),p.textContent="Wallpaper",v=space(),create_component(k.$$.fragment),x=space(),S=element("div");for(let K=0;K<Q.length;K+=1)Q[K].c();L=space(),create_component(I.$$.fragment),O=space(),F=element("div"),F.textContent="upload",U=space(),R=element("div"),R.textContent="travel_explore",attr(F,"class","wallpaper nobg customwp material-icons-round"),attr(F,"title","Upload wallpaper"),attr(R,"class","wallpaper nobg customwp material-icons-round"),attr(R,"title","Wallpaper from URL"),attr(S,"class","wallpapers"),attr(r,"class","desktop-page")},m(K,G){insert(K,r,G),append(r,p),append(r,v),mount_component(k,r,null),append(r,x),append(r,S);for(let Y=0;Y<Q.length;Y+=1)Q[Y]&&Q[Y].m(S,null);append(S,L),mount_component(I,S,null),append(S,O),append(S,F),append(S,U),append(S,R),N=!0,j||(q=[listen(F,"click",$[1]),listen(R,"click",$[0])],j=!0)},p(K,[G]){if(G&0){H=Object.entries(Wallpapers);let Y;for(Y=0;Y<H.length;Y+=1){const J=get_each_context$q(K,H,Y);Q[Y]?(Q[Y].p(J,G),transition_in(Q[Y],1)):(Q[Y]=create_each_block$q(J),Q[Y].c(),transition_in(Q[Y],1),Q[Y].m(S,L))}for(group_outros(),Y=H.length;Y<Q.length;Y+=1)V(Y);check_outros()}},i(K){if(!N){transition_in(k.$$.fragment,K);for(let G=0;G<H.length;G+=1)transition_in(Q[G]);transition_in(I.$$.fragment,K),N=!0}},o(K){transition_out(k.$$.fragment,K),Q=Q.filter(Boolean);for(let G=0;G<Q.length;G+=1)transition_out(Q[G]);transition_out(I.$$.fragment,K),N=!1},d(K){K&&detach(r),destroy_component(k),destroy_each(Q,K),destroy_component(I),j=!1,run_all(q)}}}function instance$1v($){function r(){showOverlay("customWallpaper","SettingsApp")}async function p(){await createDirectory("./Wallpapers");const v=await directSingleUpload("./Wallpapers","image/png, image/jpeg, image/gif, image/svg+xml"),k=get_store_value(UserData);k.sh.desktop.wallpaper=`@local:${btoa(v)}`,UserData.set(k)}return[r,p]}let Desktop$1=class extends SvelteComponent{constructor(r){super(),init(this,r,instance$1v,create_fragment$1F,safe_not_equal,{})}};const DefaultThemes={arcDark:{author:"ArcOS Team",version:"1.0.0",name:"ArcOS Dark",anim:!0,noGlass:!1,sharp:!1,theme:"dark",wallpaper:"img04",taskbarCentered:!1,taskbarLabels:!1,taskbarPosition:"",docked:!1,accent:"70D6FF",smallStart:!0,titleButtons:"default",titlebarLarge:!1,titlebarLeft:!1,taskbarColored:!1},arcLight:{author:"ArcOS Team",version:"1.0.0",name:"ArcOS Light",anim:!0,noGlass:!1,sharp:!1,theme:"light",wallpaper:"img05",taskbarCentered:!1,taskbarLabels:!1,taskbarPosition:"",docked:!1,accent:"70D6FF",smallStart:!0,titleButtons:"default",titlebarLarge:!1,titlebarLeft:!1,taskbarColored:!1},theHague:{author:"Aron Wagener",version:"1.0.0",name:"The Hague",anim:!0,noGlass:!1,sharp:!1,theme:"dark",wallpaper:"img13",taskbarCentered:!1,taskbarLabels:!0,taskbarPosition:"",docked:!0,accent:"0A0",smallStart:!1,titleButtons:"default",titlebarLarge:!0,titlebarLeft:!1,taskbarColored:!1},wacky:{author:"Izaak Kuipers",version:"1.0.0",name:"Wacky",anim:!0,noGlass:!1,sharp:!1,theme:"dark",wallpaper:"img03",taskbarCentered:!0,taskbarLabels:!0,taskbarPosition:"vertical",docked:!1,accent:"fa0",smallStart:!0,titleButtons:"og",titlebarLarge:!0,titlebarLeft:!0,taskbarColored:!1},performance:{author:"ArcOS Team",version:"1.0.0",name:"Optimal Performance",anim:!1,noGlass:!0,sharp:!0,theme:"dark",wallpaper:"img0",taskbarCentered:!1,taskbarLabels:!1,taskbarPosition:"",docked:!0,accent:"FFF",smallStart:!0,titleButtons:"default",titlebarLarge:!1,titlebarLeft:!1,taskbarColored:!1},wandelbos:{version:"1.0.0",name:"Wandelbos",author:"Izaak",anim:!0,noGlass:!1,sharp:!1,theme:"dark",wallpaper:"img08",accent:"91F5AD",docked:!0,taskbarCentered:!1,taskbarLabels:!1,taskbarPosition:"",smallStart:!0,titleButtons:"default",titlebarLarge:!1,titlebarLeft:!1,taskbarColored:!0},scheveningen:{version:"1.0.0",name:"Scheveningen",author:"Izaak & keesvv",anim:!0,noGlass:!1,sharp:!1,theme:"dark",wallpaper:"img14",accent:"264653",docked:!0,taskbarCentered:!1,taskbarLabels:!1,taskbarPosition:"",smallStart:!0,titleButtons:"default",titlebarLarge:!1,titlebarLeft:!1,taskbarColored:!0}},accentColors=["F94144","F3722C","F8961E","F9C74F","90BE6D","43AA8B","577590","264653","E63946","F1FAEE","A8DADC","457B9D","1D3557","F72585","7209B7","03045E","FF70A6","F61067","D62828","F49E4C","E2C044","E9FF70","C2E812","61E786","91F5AD","70D6FF","AFCBFF","A09BE7"],Color_svelte_svelte_type_style_lang="";function create_fragment$1E($){let r,p,v,k;return{c(){r=element("button"),attr(r,"class","color ol svelte-17jz46c"),set_style(r,"background","#"+$[0]),attr(r,"data-caller","appearance-accentselector"),attr(r,"data-hex",$[0]),attr(r,"title",p="#"+$[0].toUpperCase()),toggle_class(r,"selected",$[0]==$[1].sh.desktop.accent)},m(x,S){insert(x,r,S),v||(k=listen(r,"click",$[2]),v=!0)},p(x,[S]){S&1&&set_style(r,"background","#"+x[0]),S&1&&attr(r,"data-hex",x[0]),S&1&&p!==(p="#"+x[0].toUpperCase())&&attr(r,"title",p),S&3&&toggle_class(r,"selected",x[0]==x[1].sh.desktop.accent)},i:noop$1,o:noop$1,d(x){x&&detach(r),v=!1,k()}}}function instance$1u($,r,p){let v;component_subscribe($,UserData,S=>p(1,v=S));let{color:k}=r;function x(){set_store_value(UserData,v.sh.desktop.accent=k,v)}return $.$$set=S=>{"color"in S&&p(0,k=S.color)},[k,v,x]}class Color extends SvelteComponent{constructor(r){super(),init(this,r,instance$1u,create_fragment$1E,safe_not_equal,{color:0})}}const AccentColor_svelte_svelte_type_style_lang="";function get_each_context$p($,r,p){const v=$.slice();return v[0]=r[p],v}function create_each_block$p($){let r,p;return r=new Color({props:{color:$[0]}}),{c(){create_component(r.$$.fragment)},m(v,k){mount_component(r,v,k),p=!0},p:noop$1,i(v){p||(transition_in(r.$$.fragment,v),p=!0)},o(v){transition_out(r.$$.fragment,v),p=!1},d(v){destroy_component(r,v)}}}function create_fragment$1D($){let r,p,v,k;r=new OptionSection({props:{title:"Accent Color",context:"Choose an accent color for ArcOS"}});let x=accentColors,S=[];for(let I=0;I<x.length;I+=1)S[I]=create_each_block$p(get_each_context$p($,x,I));const L=I=>transition_out(S[I],1,1,()=>{S[I]=null});return{c(){create_component(r.$$.fragment),p=space(),v=element("div");for(let I=0;I<S.length;I+=1)S[I].c();attr(v,"class","wrapper svelte-1xz38z7")},m(I,O){mount_component(r,I,O),insert(I,p,O),insert(I,v,O);for(let F=0;F<S.length;F+=1)S[F]&&S[F].m(v,null);k=!0},p(I,[O]){if(O&0){x=accentColors;let F;for(F=0;F<x.length;F+=1){const U=get_each_context$p(I,x,F);S[F]?(S[F].p(U,O),transition_in(S[F],1)):(S[F]=create_each_block$p(U),S[F].c(),transition_in(S[F],1),S[F].m(v,null))}for(group_outros(),F=x.length;F<S.length;F+=1)L(F);check_outros()}},i(I){if(!k){transition_in(r.$$.fragment,I);for(let O=0;O<x.length;O+=1)transition_in(S[O]);k=!0}},o(I){transition_out(r.$$.fragment,I),S=S.filter(Boolean);for(let O=0;O<S.length;O+=1)transition_out(S[O]);k=!1},d(I){destroy_component(r,I),I&&detach(p),I&&detach(v),destroy_each(S,I)}}}class AccentColor extends SvelteComponent{constructor(r){super(),init(this,r,null,create_fragment$1D,safe_not_equal,{})}}function create_fragment$1C($){let r,p,v,k,x,S,L,I,O,F,U;return{c(){r=element("button"),p=element("div"),v=element("div"),attr(v,"class","accent"),set_style(v,"color",$[0][1].accent),attr(p,"class",k="mockup-window theme-"+$[0][1].theme),attr(r,"class","themerenderer"),attr(r,"title",x=$[0][1].name+" by "+$[0][1].author),set_style(r,"background-image","url("+$[2]+")"),set_style(r,"--accent","#"+$[0][1].accent),attr(r,"data-id",S=$[0][0]),attr(r,"data-caller",L="themerenderer-"+($[1]?"user":"system")),attr(r,"data-name",I=$[0][1].name),attr(r,"data-json",O=JSON.stringify($[0][1])),toggle_class(r,"sharp",$[0][1].sharp)},m(R,N){insert(R,r,N),append(r,p),append(p,v),F||(U=listen(r,"click",$[3]),F=!0)},p(R,[N]){N&1&&set_style(v,"color",R[0][1].accent),N&1&&k!==(k="mockup-window theme-"+R[0][1].theme)&&attr(p,"class",k),N&1&&x!==(x=R[0][1].name+" by "+R[0][1].author)&&attr(r,"title",x),N&4&&set_style(r,"background-image","url("+R[2]+")"),N&1&&set_style(r,"--accent","#"+R[0][1].accent),N&1&&S!==(S=R[0][0])&&attr(r,"data-id",S),N&2&&L!==(L="themerenderer-"+(R[1]?"user":"system"))&&attr(r,"data-caller",L),N&1&&I!==(I=R[0][1].name)&&attr(r,"data-name",I),N&1&&O!==(O=JSON.stringify(R[0][1]))&&attr(r,"data-json",O),N&1&&toggle_class(r,"sharp",R[0][1].sharp)},i:noop$1,o:noop$1,d(R){R&&detach(r),F=!1,U()}}}function instance$1t($,r,p){let{theme:v}=r,{user:k=!1}=r,x="";function S(){loadTheme(v[1])}return onMount(async()=>{p(2,x=(await getWallpaper(v[1].wallpaper)).url)}),$.$$set=L=>{"theme"in L&&p(0,v=L.theme),"user"in L&&p(1,k=L.user)},[v,k,x,S]}class ThemeRenderer extends SvelteComponent{constructor(r){super(),init(this,r,instance$1t,create_fragment$1C,safe_not_equal,{theme:0,user:1})}}function get_each_context$o($,r,p){const v=$.slice();return v[4]=r[p],v}function get_each_context_1$3($,r,p){const v=$.slice();return v[4]=r[p],v}function create_each_block_1$3($){let r,p;return r=new ThemeRenderer({props:{theme:$[4]}}),{c(){create_component(r.$$.fragment)},m(v,k){mount_component(r,v,k),p=!0},p:noop$1,i(v){p||(transition_in(r.$$.fragment,v),p=!0)},o(v){transition_out(r.$$.fragment,v),p=!1},d(v){destroy_component(r,v)}}}function create_if_block$G($){let r,p,v=Object.entries($[1].sh.userThemes),k=[];for(let S=0;S<v.length;S+=1)k[S]=create_each_block$o(get_each_context$o($,v,S));const x=S=>transition_out(k[S],1,1,()=>{k[S]=null});return{c(){for(let S=0;S<k.length;S+=1)k[S].c();r=empty()},m(S,L){for(let I=0;I<k.length;I+=1)k[I]&&k[I].m(S,L);insert(S,r,L),p=!0},p(S,L){if(L&2){v=Object.entries(S[1].sh.userThemes);let I;for(I=0;I<v.length;I+=1){const O=get_each_context$o(S,v,I);k[I]?(k[I].p(O,L),transition_in(k[I],1)):(k[I]=create_each_block$o(O),k[I].c(),transition_in(k[I],1),k[I].m(r.parentNode,r))}for(group_outros(),I=v.length;I<k.length;I+=1)x(I);check_outros()}},i(S){if(!p){for(let L=0;L<v.length;L+=1)transition_in(k[L]);p=!0}},o(S){k=k.filter(Boolean);for(let L=0;L<k.length;L+=1)transition_out(k[L]);p=!1},d(S){destroy_each(k,S),S&&detach(r)}}}function create_each_block$o($){let r,p;return r=new ThemeRenderer({props:{theme:$[4],user:!0}}),{c(){create_component(r.$$.fragment)},m(v,k){mount_component(r,v,k),p=!0},p(v,k){const x={};k&2&&(x.theme=v[4]),r.$set(x)},i(v){p||(transition_in(r.$$.fragment,v),p=!0)},o(v){transition_out(r.$$.fragment,v),p=!1},d(v){destroy_component(r,v)}}}function create_fragment$1B($){let r,p,v,k,x,S,L,I=Object.entries(DefaultThemes),O=[];for(let R=0;R<I.length;R+=1)O[R]=create_each_block_1$3(get_each_context_1$3($,I,R));const F=R=>transition_out(O[R],1,1,()=>{O[R]=null});let U=!$[0]&&$[1].sh.userThemes&&create_if_block$G($);return{c(){r=element("div");for(let R=0;R<O.length;R+=1)O[R].c();p=space(),U&&U.c(),v=space(),k=element("button"),k.textContent="save",attr(k,"class","themerenderer save material-icons-round"),attr(k,"title","Save current theme"),attr(r,"class","themes")},m(R,N){insert(R,r,N);for(let j=0;j<O.length;j+=1)O[j]&&O[j].m(r,null);append(r,p),U&&U.m(r,null),append(r,v),append(r,k),x=!0,S||(L=listen(k,"click",$[2]),S=!0)},p(R,[N]){if(N&0){I=Object.entries(DefaultThemes);let j;for(j=0;j<I.length;j+=1){const q=get_each_context_1$3(R,I,j);O[j]?(O[j].p(q,N),transition_in(O[j],1)):(O[j]=create_each_block_1$3(q),O[j].c(),transition_in(O[j],1),O[j].m(r,p))}for(group_outros(),j=I.length;j<O.length;j+=1)F(j);check_outros()}!R[0]&&R[1].sh.userThemes?U?(U.p(R,N),N&3&&transition_in(U,1)):(U=create_if_block$G(R),U.c(),transition_in(U,1),U.m(r,v)):U&&(group_outros(),transition_out(U,1,1,()=>{U=null}),check_outros())},i(R){if(!x){for(let N=0;N<I.length;N+=1)transition_in(O[N]);transition_in(U),x=!0}},o(R){O=O.filter(Boolean);for(let N=0;N<O.length;N+=1)transition_out(O[N]);transition_out(U),x=!1},d(R){R&&detach(r),destroy_each(O,R),U&&U.d(),S=!1,L()}}}function instance$1s($,r,p){let v;component_subscribe($,UserData,L=>p(1,v=L));let k=0,x=!1;return UserData.subscribe(L=>{const I=Object.entries(L.sh.userThemes);k!=I.length&&(k=I.length,p(0,x=!0),setTimeout(()=>{p(0,x=!1)}))}),[x,v,()=>showOverlay("saveTheme","SettingsApp")]}class Themes extends SvelteComponent{constructor(r){super(),init(this,r,instance$1s,create_fragment$1B,safe_not_equal,{})}}function create_default_slot$6($){let r,p,v,k,x,S,L,I;return{c(){r=element("select"),p=element("option"),p.textContent="Darkmode",v=element("option"),v.textContent="Lightmode",k=element("option"),k.textContent="Amoled",x=element("option"),x.textContent="Science Fiction",S=element("option"),S.textContent="High contrast",p.__value="dark",p.value=p.__value,v.__value="light",v.value=v.__value,k.__value="amoled",k.value=k.__value,x.__value="scifi",x.value=x.__value,S.__value="hc",S.value=S.__value,attr(r,"name","aa"),attr(r,"id","bb"),$[0].sh.desktop.theme===void 0&&add_render_callback(()=>$[1].call(r))},m(O,F){insert(O,r,F),append(r,p),append(r,v),append(r,k),append(r,x),append(r,S),select_option(r,$[0].sh.desktop.theme,!0),L||(I=listen(r,"change",$[1]),L=!0)},p(O,F){F&1&&select_option(r,O[0].sh.desktop.theme)},d(O){O&&detach(r),L=!1,I()}}}function create_fragment$1A($){let r,p,v,k,x,S,L,I,O,F,U,R;return x=new Current({}),L=new Themes({}),O=new OptionSection({props:{title:"Style",context:"Change the style of the UI",$$slots:{default:[create_default_slot$6]},$$scope:{ctx:$}}}),U=new AccentColor({}),{c(){r=element("h1"),r.textContent="Appearance",p=space(),v=element("div"),k=element("div"),create_component(x.$$.fragment),S=space(),create_component(L.$$.fragment),I=space(),create_component(O.$$.fragment),F=space(),create_component(U.$$.fragment),attr(k,"class","desktop-page"),attr(v,"class","settingspage-themes")},m(N,j){insert(N,r,j),insert(N,p,j),insert(N,v,j),append(v,k),mount_component(x,k,null),append(v,S),mount_component(L,v,null),insert(N,I,j),mount_component(O,N,j),insert(N,F,j),mount_component(U,N,j),R=!0},p(N,[j]){const q={};j&5&&(q.$$scope={dirty:j,ctx:N}),O.$set(q)},i(N){R||(transition_in(x.$$.fragment,N),transition_in(L.$$.fragment,N),transition_in(O.$$.fragment,N),transition_in(U.$$.fragment,N),R=!0)},o(N){transition_out(x.$$.fragment,N),transition_out(L.$$.fragment,N),transition_out(O.$$.fragment,N),transition_out(U.$$.fragment,N),R=!1},d(N){N&&detach(r),N&&detach(p),N&&detach(v),destroy_component(x),destroy_component(L),N&&detach(I),destroy_component(O,N),N&&detach(F),destroy_component(U,N)}}}function instance$1r($,r,p){let v;component_subscribe($,UserData,x=>p(0,v=x));function k(){v.sh.desktop.theme=select_value(this),UserData.set(v)}return[v,k]}class Personalization extends SvelteComponent{constructor(r){super(),init(this,r,instance$1r,create_fragment$1A,safe_not_equal,{})}}function create_default_slot_9($){let r,p,v;return{c(){r=element("input"),attr(r,"type","checkbox"),attr(r,"id","a"),attr(r,"class","switch")},m(k,x){insert(k,r,x),r.checked=$[0].sh.taskbar.isLauncher,p||(v=listen(r,"change",$[2]),p=!0)},p(k,x){x&1&&(r.checked=k[0].sh.taskbar.isLauncher)},d(k){k&&detach(r),p=!1,v()}}}function create_if_block$F($){let r,p,v,k,x,S;return r=new OptionSection({props:{title:"Center taskbar buttons",context:"Centers the taskbar app buttons",$$slots:{default:[create_default_slot_8]},$$scope:{ctx:$}}}),v=new OptionSection({props:{title:"Taskbar app labels",context:"Display app names on the taskbar",$$slots:{default:[create_default_slot_7]},$$scope:{ctx:$}}}),x=new OptionSection({props:{title:"Taskbar position",context:"Where do you want the taskbar?",$$slots:{default:[create_default_slot_6$1]},$$scope:{ctx:$}}}),{c(){create_component(r.$$.fragment),p=space(),create_component(v.$$.fragment),k=space(),create_component(x.$$.fragment)},m(L,I){mount_component(r,L,I),insert(L,p,I),mount_component(v,L,I),insert(L,k,I),mount_component(x,L,I),S=!0},p(L,I){const O={};I&8193&&(O.$$scope={dirty:I,ctx:L}),r.$set(O);const F={};I&8193&&(F.$$scope={dirty:I,ctx:L}),v.$set(F);const U={};I&8193&&(U.$$scope={dirty:I,ctx:L}),x.$set(U)},i(L){S||(transition_in(r.$$.fragment,L),transition_in(v.$$.fragment,L),transition_in(x.$$.fragment,L),S=!0)},o(L){transition_out(r.$$.fragment,L),transition_out(v.$$.fragment,L),transition_out(x.$$.fragment,L),S=!1},d(L){destroy_component(r,L),L&&detach(p),destroy_component(v,L),L&&detach(k),destroy_component(x,L)}}}function create_default_slot_8($){let r,p,v;return{c(){r=element("input"),attr(r,"type","checkbox"),attr(r,"id","a"),attr(r,"class","switch")},m(k,x){insert(k,r,x),r.checked=$[0].sh.taskbar.centered,p||(v=listen(r,"change",$[3]),p=!0)},p(k,x){x&1&&(r.checked=k[0].sh.taskbar.centered)},d(k){k&&detach(r),p=!1,v()}}}function create_default_slot_7($){let r,p,v,k;return{c(){r=element("input"),attr(r,"type","checkbox"),attr(r,"id","a"),attr(r,"class","switch"),r.disabled=p=!!$[0].sh.taskbar.pos},m(x,S){insert(x,r,S),r.checked=$[0].sh.taskbar.labels,v||(k=listen(r,"change",$[4]),v=!0)},p(x,S){S&1&&p!==(p=!!x[0].sh.taskbar.pos)&&(r.disabled=p),S&1&&(r.checked=x[0].sh.taskbar.labels)},d(x){x&&detach(r),v=!1,k()}}}function create_default_slot_6$1($){let r,p,v,k,x,S;return{c(){r=element("select"),p=element("option"),p.textContent="Left",v=element("option"),v.textContent="Bottom",k=element("option"),k.textContent="Right",p.__value="vertical",p.value=p.__value,v.__value="",v.value=v.__value,k.__value="vertical-right",k.value=k.__value,$[0].sh.taskbar.pos===void 0&&add_render_callback(()=>$[5].call(r))},m(L,I){insert(L,r,I),append(r,p),append(r,v),append(r,k),select_option(r,$[0].sh.taskbar.pos,!0),x||(S=listen(r,"change",$[5]),x=!0)},p(L,I){I&1&&select_option(r,L[0].sh.taskbar.pos)},d(L){L&&detach(r),x=!1,S()}}}function create_default_slot_5$1($){let r,p,v;return{c(){r=element("input"),attr(r,"type","checkbox"),attr(r,"id","a"),attr(r,"class","switch")},m(k,x){insert(k,r,x),r.checked=$[0].sh.start.small,p||(v=listen(r,"change",$[6]),p=!0)},p(k,x){x&1&&(r.checked=k[0].sh.start.small)},d(k){k&&detach(r),p=!1,v()}}}function create_default_slot_4$1($){let r,p,v;return{c(){r=element("input"),attr(r,"type","checkbox"),attr(r,"id","a"),attr(r,"class","switch")},m(k,x){insert(k,r,x),r.checked=$[0].sh.showHiddenApps,p||(v=[listen(r,"change",$[7]),listen(r,"click",$[8])],p=!0)},p(k,x){x&1&&(r.checked=k[0].sh.showHiddenApps)},d(k){k&&detach(r),p=!1,run_all(v)}}}function create_default_slot_3$1($){let r,p,v;return{c(){r=element("input"),attr(r,"type","checkbox"),attr(r,"id","a"),attr(r,"class","switch")},m(k,x){insert(k,r,x),r.checked=$[0].sh.noQuickSettings,p||(v=listen(r,"change",$[9]),p=!0)},p(k,x){x&1&&(r.checked=k[0].sh.noQuickSettings)},d(k){k&&detach(r),p=!1,v()}}}function create_default_slot_2$1($){let r,p,v;return{c(){r=element("input"),attr(r,"type","checkbox"),attr(r,"id","a"),attr(r,"class","switch")},m(k,x){insert(k,r,x),r.checked=$[0].sh.taskbar.docked,p||(v=listen(r,"change",$[10]),p=!0)},p(k,x){x&1&&(r.checked=k[0].sh.taskbar.docked)},d(k){k&&detach(r),p=!1,v()}}}function create_default_slot_1$2($){let r,p,v;return{c(){r=element("input"),attr(r,"type","checkbox"),attr(r,"id","a"),attr(r,"class","switch")},m(k,x){insert(k,r,x),r.checked=$[0].sh.taskbar.colored,p||(v=listen(r,"change",$[11]),p=!0)},p(k,x){x&1&&(r.checked=k[0].sh.taskbar.colored)},d(k){k&&detach(r),p=!1,v()}}}function create_default_slot$5($){let r,p,v;return{c(){r=element("input"),attr(r,"type","checkbox"),attr(r,"class","switch")},m(k,x){insert(k,r,x),r.checked=$[0].sh.compactContext,p||(v=listen(r,"change",$[12]),p=!0)},p(k,x){x&1&&(r.checked=k[0].sh.compactContext)},d(k){k&&detach(r),p=!1,v()}}}function create_fragment$1z($){let r,p,v,k,x,S,L,I,O,F,U,R,N,j,q,H,Q,V,K,G,Y,J,Z;v=new OptionSection({props:{title:"Launcher Mode",context:"Use a GNOME-style launcher instead of the taskbar",$$slots:{default:[create_default_slot_9]},$$scope:{ctx:$}}});let X=!$[0].sh.taskbar.isLauncher&&create_if_block$F($);return I=new OptionSection({props:{title:"Small start menu",context:"Make the start menu smaller",$$slots:{default:[create_default_slot_5$1]},$$scope:{ctx:$}}}),F=new OptionSection({props:{title:"Show hidden apps",context:"Display hidden apps in the start menu",$$slots:{default:[create_default_slot_4$1]},$$scope:{ctx:$}}}),j=new OptionSection({props:{title:"Hide quick settings",context:"Hide quick settings in the action center",$$slots:{default:[create_default_slot_3$1]},$$scope:{ctx:$}}}),H=new OptionSection({props:{title:"Dock shell",context:"Dock the taskbar and action center",$$slots:{default:[create_default_slot_2$1]},$$scope:{ctx:$}}}),V=new OptionSection({props:{title:"Colored shell",context:"Apply the accent color to the shell",$$slots:{default:[create_default_slot_1$2]},$$scope:{ctx:$}}}),J=new OptionSection({props:{title:"Compact context menu",context:"Make the context menu more compact",$$slots:{default:[create_default_slot$5]},$$scope:{ctx:$}}}),{c(){r=element("h1"),r.textContent="Shell",p=space(),create_component(v.$$.fragment),k=space(),X&&X.c(),x=space(),S=element("hr"),L=space(),create_component(I.$$.fragment),O=space(),create_component(F.$$.fragment),U=space(),R=element("hr"),N=space(),create_component(j.$$.fragment),q=space(),create_component(H.$$.fragment),Q=space(),create_component(V.$$.fragment),K=space(),G=element("hr"),Y=space(),create_component(J.$$.fragment)},m(ee,te){insert(ee,r,te),insert(ee,p,te),mount_component(v,ee,te),insert(ee,k,te),X&&X.m(ee,te),insert(ee,x,te),insert(ee,S,te),insert(ee,L,te),mount_component(I,ee,te),insert(ee,O,te),mount_component(F,ee,te),insert(ee,U,te),insert(ee,R,te),insert(ee,N,te),mount_component(j,ee,te),insert(ee,q,te),mount_component(H,ee,te),insert(ee,Q,te),mount_component(V,ee,te),insert(ee,K,te),insert(ee,G,te),insert(ee,Y,te),mount_component(J,ee,te),Z=!0},p(ee,[te]){const le={};te&8193&&(le.$$scope={dirty:te,ctx:ee}),v.$set(le),ee[0].sh.taskbar.isLauncher?X&&(group_outros(),transition_out(X,1,1,()=>{X=null}),check_outros()):X?(X.p(ee,te),te&1&&transition_in(X,1)):(X=create_if_block$F(ee),X.c(),transition_in(X,1),X.m(x.parentNode,x));const ue={};te&8193&&(ue.$$scope={dirty:te,ctx:ee}),I.$set(ue);const ae={};te&8195&&(ae.$$scope={dirty:te,ctx:ee}),F.$set(ae);const oe={};te&8193&&(oe.$$scope={dirty:te,ctx:ee}),j.$set(oe);const se={};te&8193&&(se.$$scope={dirty:te,ctx:ee}),H.$set(se);const re={};te&8193&&(re.$$scope={dirty:te,ctx:ee}),V.$set(re);const ie={};te&8193&&(ie.$$scope={dirty:te,ctx:ee}),J.$set(ie)},i(ee){Z||(transition_in(v.$$.fragment,ee),transition_in(X),transition_in(I.$$.fragment,ee),transition_in(F.$$.fragment,ee),transition_in(j.$$.fragment,ee),transition_in(H.$$.fragment,ee),transition_in(V.$$.fragment,ee),transition_in(J.$$.fragment,ee),Z=!0)},o(ee){transition_out(v.$$.fragment,ee),transition_out(X),transition_out(I.$$.fragment,ee),transition_out(F.$$.fragment,ee),transition_out(j.$$.fragment,ee),transition_out(H.$$.fragment,ee),transition_out(V.$$.fragment,ee),transition_out(J.$$.fragment,ee),Z=!1},d(ee){ee&&detach(r),ee&&detach(p),destroy_component(v,ee),ee&&detach(k),X&&X.d(ee),ee&&detach(x),ee&&detach(S),ee&&detach(L),destroy_component(I,ee),ee&&detach(O),destroy_component(F,ee),ee&&detach(U),ee&&detach(R),ee&&detach(N),destroy_component(j,ee),ee&&detach(q),destroy_component(H,ee),ee&&detach(Q),destroy_component(V,ee),ee&&detach(K),ee&&detach(G),ee&&detach(Y),destroy_component(J,ee)}}}function instance$1q($,r,p){let v,k;component_subscribe($,UserData,H=>p(0,v=H)),component_subscribe($,WindowStore,H=>p(1,k=H));function x(){v.sh.taskbar.isLauncher=this.checked,UserData.set(v)}function S(){v.sh.taskbar.centered=this.checked,UserData.set(v)}function L(){v.sh.taskbar.labels=this.checked,UserData.set(v)}function I(){v.sh.taskbar.pos=select_value(this),UserData.set(v)}function O(){v.sh.start.small=this.checked,UserData.set(v)}function F(){v.sh.showHiddenApps=this.checked,UserData.set(v)}const U=()=>WindowStore.set(k);function R(){v.sh.noQuickSettings=this.checked,UserData.set(v)}function N(){v.sh.taskbar.docked=this.checked,UserData.set(v)}function j(){v.sh.taskbar.colored=this.checked,UserData.set(v)}function q(){v.sh.compactContext=this.checked,UserData.set(v)}return[v,k,x,S,L,I,O,F,U,R,N,j,q]}let Shell$1=class extends SvelteComponent{constructor(r){super(),init(this,r,instance$1q,create_fragment$1z,safe_not_equal,{})}};function create_default_slot_6($){let r,p,v;return{c(){r=element("input"),attr(r,"type","checkbox"),attr(r,"class","switch")},m(k,x){insert(k,r,x),r.checked=$[0].sh.window.bigtb,p||(v=listen(r,"change",$[1]),p=!0)},p(k,x){x&1&&(r.checked=k[0].sh.window.bigtb)},d(k){k&&detach(r),p=!1,v()}}}function create_default_slot_5($){let r,p,v;return{c(){r=element("input"),attr(r,"type","checkbox"),attr(r,"class","switch")},m(k,x){insert(k,r,x),r.checked=$[0].sh.window.lefttb,p||(v=listen(r,"change",$[2]),p=!0)},p(k,x){x&1&&(r.checked=k[0].sh.window.lefttb)},d(k){k&&detach(r),p=!1,v()}}}function create_default_slot_4($){let r,p,v;return{c(){r=element("input"),attr(r,"type","checkbox"),attr(r,"class","switch")},m(k,x){insert(k,r,x),r.checked=$[0].sh.window.centertb,p||(v=listen(r,"change",$[3]),p=!0)},p(k,x){x&1&&(r.checked=k[0].sh.window.centertb)},d(k){k&&detach(r),p=!1,v()}}}function create_default_slot_3($){let r,p,v;return{c(){r=element("button"),r.textContent="Change..."},m(k,x){insert(k,r,x),p||(v=listen(r,"click",$[4]),p=!0)},p:noop$1,d(k){k&&detach(r),p=!1,v()}}}function create_default_slot_2($){let r,p,v;return{c(){r=element("input"),attr(r,"type","checkbox"),attr(r,"class","switch")},m(k,x){insert(k,r,x),r.checked=$[0].sh.anim,p||(v=listen(r,"change",$[5]),p=!0)},p(k,x){x&1&&(r.checked=k[0].sh.anim)},d(k){k&&detach(r),p=!1,v()}}}function create_default_slot_1$1($){let r,p,v;return{c(){r=element("input"),attr(r,"type","checkbox"),attr(r,"class","switch")},m(k,x){insert(k,r,x),r.checked=$[0].sh.noGlass,p||(v=listen(r,"change",$[6]),p=!0)},p(k,x){x&1&&(r.checked=k[0].sh.noGlass)},d(k){k&&detach(r),p=!1,v()}}}function create_default_slot$4($){let r,p,v;return{c(){r=element("input"),attr(r,"type","checkbox"),attr(r,"class","switch")},m(k,x){insert(k,r,x),r.checked=$[0].sh.desktop.sharp,p||(v=listen(r,"change",$[7]),p=!0)},p(k,x){x&1&&(r.checked=k[0].sh.desktop.sharp)},d(k){k&&detach(r),p=!1,v()}}}function create_fragment$1y($){let r,p,v,k,x,S,L,I,O,F,U,R,N,j,q,H,Q,V;return v=new OptionSection({props:{title:"Large titlebar",context:"Make the titlebars larger",$$slots:{default:[create_default_slot_6]},$$scope:{ctx:$}}}),x=new OptionSection({props:{title:"Left titlebar buttons",context:"Swap the title and window controls",$$slots:{default:[create_default_slot_5]},$$scope:{ctx:$}}}),L=new OptionSection({props:{title:"Center window title",context:"Put the window title in the center of the titlebar.",$$slots:{default:[create_default_slot_4]},$$scope:{ctx:$}}}),O=new OptionSection({props:{title:"Titlebar Buttons",context:"Change the titlebar controls",$$slots:{default:[create_default_slot_3]},$$scope:{ctx:$}}}),N=new OptionSection({props:{title:"Animations",context:"Display animations in ArcOS",$$slots:{default:[create_default_slot_2]},$$scope:{ctx:$}}}),q=new OptionSection({props:{title:"No glass",context:"Disable glass effects in ArcOS",$$slots:{default:[create_default_slot_1$1]},$$scope:{ctx:$}}}),Q=new OptionSection({props:{title:"Sharp corners",context:"Disable rounding in all of ArcOS",$$slots:{default:[create_default_slot$4]},$$scope:{ctx:$}}}),{c(){r=element("h1"),r.textContent="Windows",p=space(),create_component(v.$$.fragment),k=space(),create_component(x.$$.fragment),S=space(),create_component(L.$$.fragment),I=space(),create_component(O.$$.fragment),F=space(),U=element("hr"),R=space(),create_component(N.$$.fragment),j=space(),create_component(q.$$.fragment),H=space(),create_component(Q.$$.fragment)},m(K,G){insert(K,r,G),insert(K,p,G),mount_component(v,K,G),insert(K,k,G),mount_component(x,K,G),insert(K,S,G),mount_component(L,K,G),insert(K,I,G),mount_component(O,K,G),insert(K,F,G),insert(K,U,G),insert(K,R,G),mount_component(N,K,G),insert(K,j,G),mount_component(q,K,G),insert(K,H,G),mount_component(Q,K,G),V=!0},p(K,[G]){const Y={};G&257&&(Y.$$scope={dirty:G,ctx:K}),v.$set(Y);const J={};G&257&&(J.$$scope={dirty:G,ctx:K}),x.$set(J);const Z={};G&257&&(Z.$$scope={dirty:G,ctx:K}),L.$set(Z);const X={};G&256&&(X.$$scope={dirty:G,ctx:K}),O.$set(X);const ee={};G&257&&(ee.$$scope={dirty:G,ctx:K}),N.$set(ee);const te={};G&257&&(te.$$scope={dirty:G,ctx:K}),q.$set(te);const le={};G&257&&(le.$$scope={dirty:G,ctx:K}),Q.$set(le)},i(K){V||(transition_in(v.$$.fragment,K),transition_in(x.$$.fragment,K),transition_in(L.$$.fragment,K),transition_in(O.$$.fragment,K),transition_in(N.$$.fragment,K),transition_in(q.$$.fragment,K),transition_in(Q.$$.fragment,K),V=!0)},o(K){transition_out(v.$$.fragment,K),transition_out(x.$$.fragment,K),transition_out(L.$$.fragment,K),transition_out(O.$$.fragment,K),transition_out(N.$$.fragment,K),transition_out(q.$$.fragment,K),transition_out(Q.$$.fragment,K),V=!1},d(K){K&&detach(r),K&&detach(p),destroy_component(v,K),K&&detach(k),destroy_component(x,K),K&&detach(S),destroy_component(L,K),K&&detach(I),destroy_component(O,K),K&&detach(F),K&&detach(U),K&&detach(R),destroy_component(N,K),K&&detach(j),destroy_component(q,K),K&&detach(H),destroy_component(Q,K)}}}function instance$1p($,r,p){let v;component_subscribe($,UserData,U=>p(0,v=U));function k(){v.sh.window.bigtb=this.checked,UserData.set(v)}function x(){v.sh.window.lefttb=this.checked,UserData.set(v)}function S(){v.sh.window.centertb=this.checked,UserData.set(v)}const L=()=>showOverlay("changeTitleButtons","SettingsApp");function I(){v.sh.anim=this.checked,UserData.set(v)}function O(){v.sh.noGlass=this.checked,UserData.set(v)}function F(){v.sh.desktop.sharp=this.checked,UserData.set(v)}return[v,k,x,S,L,I,O,F]}class Windows extends SvelteComponent{constructor(r){super(),init(this,r,instance$1p,create_fragment$1y,safe_not_equal,{})}}const SettingsPages=[{name:"Account",icon:usericon,content:Account,sep:!0},{name:"Appearance",icon:appearance,content:Personalization},{name:"Shell",icon:shellIcon,content:Shell$1},{name:"Windows",icon:windowsIcon,content:Windows},{name:"Wallpaper",icon:logo,content:Desktop$1,sep:!0},{name:"Apps",icon:appSettings,content:Apps,sep:!0},{name:"About",icon:logo$c,content:About}];function getSettingsPage($){for(let r=0;r<SettingsPages.length;r++)if(SettingsPages[r].name==$)return SettingsPages[r];return null}function openByKey($){const r=getSettingsPage($);r&&(openWindow("SettingsApp"),setTimeout(()=>{currentSettingsPage.set(r)}))}function create_if_block_1$d($){let r,p,v,k,x,S,L=$[0].name+"",I,O,F,U;return{c(){r=element("button"),p=element("img"),x=space(),S=element("span"),I=text(L),src_url_equal(p.src,v=$[0].icon)||attr(p,"src",v),attr(p,"alt",k=$[0].name),attr(p,"class","icon"),attr(S,"class","caption"),attr(r,"class","page"),r.disabled=O=$[0].disabled,toggle_class(r,"selected",$[1]&&$[0].name==$[1].name)},m(R,N){insert(R,r,N),append(r,p),append(r,x),append(r,S),append(S,I),F||(U=listen(r,"click",$[2]),F=!0)},p(R,N){N&1&&!src_url_equal(p.src,v=R[0].icon)&&attr(p,"src",v),N&1&&k!==(k=R[0].name)&&attr(p,"alt",k),N&1&&L!==(L=R[0].name+"")&&set_data(I,L),N&1&&O!==(O=R[0].disabled)&&(r.disabled=O),N&3&&toggle_class(r,"selected",R[1]&&R[0].name==R[1].name)},d(R){R&&detach(r),F=!1,U()}}}function create_if_block$E($){let r;return{c(){r=element("hr")},m(p,v){insert(p,r,v)},d(p){p&&detach(r)}}}function create_fragment$1x($){let r,p,v=!$[0].hidden&&create_if_block_1$d($),k=$[0].sep&&create_if_block$E();return{c(){v&&v.c(),r=space(),k&&k.c(),p=empty()},m(x,S){v&&v.m(x,S),insert(x,r,S),k&&k.m(x,S),insert(x,p,S)},p(x,[S]){x[0].hidden?v&&(v.d(1),v=null):v?v.p(x,S):(v=create_if_block_1$d(x),v.c(),v.m(r.parentNode,r)),x[0].sep?k||(k=create_if_block$E(),k.c(),k.m(p.parentNode,p)):k&&(k.d(1),k=null)},i:noop$1,o:noop$1,d(x){v&&v.d(x),x&&detach(r),k&&k.d(x),x&&detach(p)}}}function instance$1o($,r,p){let v;component_subscribe($,currentSettingsPage,S=>p(1,v=S));let{page:k}=r;const x=()=>setSettingsPage(k);return $.$$set=S=>{"page"in S&&p(0,k=S.page)},[k,v,x]}class Page extends SvelteComponent{constructor(r){super(),init(this,r,instance$1o,create_fragment$1x,safe_not_equal,{page:0})}}function create_if_block$D($){let r;return{c(){r=element("span"),r.textContent="bug_report",attr(r,"class","material-icons-round developer")},m(p,v){insert(p,r,v)},d(p){p&&detach(r)}}}function create_fragment$1w($){let r,p,v,k,x,S,L,I,O,F,U,R,N;v=new ProfilePicture$1({props:{src:$[0],height:36}});let j=$[2]&&create_if_block$D();return{c(){r=element("div"),p=element("span"),create_component(v.$$.fragment),k=space(),x=element("div"),S=element("p"),L=text($[1]),I=space(),j&&j.c(),O=space(),F=element("p"),F.textContent=`${getServer()||location.hostname}`,attr(S,"class","name"),attr(F,"class","hostname"),attr(x,"class","username"),attr(r,"class","userprofile")},m(q,H){insert(q,r,H),append(r,p),mount_component(v,p,null),append(r,k),append(r,x),append(x,S),append(S,L),append(S,I),j&&j.m(S,null),append(x,O),append(x,F),U=!0,R||(N=listen(p,"click",$[3]),R=!0)},p(q,[H]){const Q={};H&1&&(Q.src=q[0]),v.$set(Q),(!U||H&2)&&set_data(L,q[1]),q[2]?j||(j=create_if_block$D(),j.c(),j.m(S,null)):j&&(j.d(1),j=null)},i(q){U||(transition_in(v.$$.fragment,q),U=!0)},o(q){transition_out(v.$$.fragment,q),U=!1},d(q){q&&detach(r),destroy_component(v),j&&j.d(),R=!1,N()}}}function instance$1n($,r,p){let v,k,x;component_subscribe($,UserData,I=>p(4,v=I)),component_subscribe($,UserName,I=>p(1,k=I)),component_subscribe($,DevModeOverride,I=>p(2,x=I));let S="";UserData.subscribe(()=>{p(0,S=getProfilePicture(v.acc.profilePicture))});function L(){typeof v.acc.profilePicture=="string"&&showOverlay("largePfp","SettingsApp")}return[S,k,x,L]}class UserProfile extends SvelteComponent{constructor(r){super(),init(this,r,instance$1n,create_fragment$1w,safe_not_equal,{})}}function get_each_context$n($,r,p){const v=$.slice();return v[4]=r[p],v}function create_if_block$C($){let r,p,v;return{c(){r=element("button"),r.innerHTML='<span class="material-icons-round">menu</span>',attr(r,"class","page menu"),toggle_class(r,"active",$[0].collapsed)},m(k,x){insert(k,r,x),p||(v=listen(r,"click",$[1]),p=!0)},p(k,x){x&1&&toggle_class(r,"active",k[0].collapsed)},d(k){k&&detach(r),p=!1,v()}}}function create_each_block$n($){let r,p;return r=new Page({props:{page:$[4]}}),{c(){create_component(r.$$.fragment)},m(v,k){mount_component(r,v,k),p=!0},p:noop$1,i(v){p||(transition_in(r.$$.fragment,v),p=!0)},o(v){transition_out(r.$$.fragment,v),p=!1},d(v){destroy_component(r,v)}}}function create_fragment$1v($){let r,p,v,k,x,S,L=$[0]&&create_if_block$C($),I=SettingsPages,O=[];for(let U=0;U<I.length;U+=1)O[U]=create_each_block$n(get_each_context$n($,I,U));const F=U=>transition_out(O[U],1,1,()=>{O[U]=null});return x=new UserProfile({}),{c(){r=element("div"),p=element("div"),L&&L.c(),v=space();for(let U=0;U<O.length;U+=1)O[U].c();k=space(),create_component(x.$$.fragment),attr(p,"class","pages"),attr(r,"class","sidebar"),toggle_class(r,"collapsed",$[0].collapsed)},m(U,R){insert(U,r,R),append(r,p),L&&L.m(p,null),append(p,v);for(let N=0;N<O.length;N+=1)O[N]&&O[N].m(p,null);append(r,k),mount_component(x,r,null),S=!0},p(U,[R]){if(U[0]?L?L.p(U,R):(L=create_if_block$C(U),L.c(),L.m(p,v)):L&&(L.d(1),L=null),R&0){I=SettingsPages;let N;for(N=0;N<I.length;N+=1){const j=get_each_context$n(U,I,N);O[N]?(O[N].p(j,R),transition_in(O[N],1)):(O[N]=create_each_block$n(j),O[N].c(),transition_in(O[N],1),O[N].m(p,null))}for(group_outros(),N=I.length;N<O.length;N+=1)F(N);check_outros()}(!S||R&1)&&toggle_class(r,"collapsed",U[0].collapsed)},i(U){if(!S){for(let R=0;R<I.length;R+=1)transition_in(O[R]);transition_in(x.$$.fragment,U),S=!0}},o(U){O=O.filter(Boolean);for(let R=0;R<O.length;R+=1)transition_out(O[R]);transition_out(x.$$.fragment,U),S=!1},d(U){U&&detach(r),L&&L.d(),destroy_each(O,U),destroy_component(x)}}}function instance$1m($,r,p){let v;component_subscribe($,UserData,L=>p(3,v=L));let{appdata:k}=r,{app:x}=r;function S(){p(0,k.collapsed=!k.collapsed,k),set_store_value(UserData,v.appdata[x.id]=k,v)}return $.$$set=L=>{"appdata"in L&&p(0,k=L.appdata),"app"in L&&p(2,x=L.app)},[k,S,x]}class Sidebar extends SvelteComponent{constructor(r){super(),init(this,r,instance$1m,create_fragment$1v,safe_not_equal,{appdata:0,app:2})}}function create_fragment$1u($){let r,p,v,k,x;function S(I){$[2](I)}let L={app:$[1]};return $[0]!==void 0&&(L.appdata=$[0]),r=new Sidebar({props:L}),binding_callbacks.push(()=>bind$1(r,"appdata",S)),k=new Content$1({props:{appdata:$[0]}}),{c(){create_component(r.$$.fragment),v=space(),create_component(k.$$.fragment)},m(I,O){mount_component(r,I,O),insert(I,v,O),mount_component(k,I,O),x=!0},p(I,[O]){const F={};O&2&&(F.app=I[1]),!p&&O&1&&(p=!0,F.appdata=I[0],add_flush_callback(()=>p=!1)),r.$set(F);const U={};O&1&&(U.appdata=I[0]),k.$set(U)},i(I){x||(transition_in(r.$$.fragment,I),transition_in(k.$$.fragment,I),x=!0)},o(I){transition_out(r.$$.fragment,I),transition_out(k.$$.fragment,I),x=!1},d(I){destroy_component(r,I),I&&detach(v),destroy_component(k,I)}}}function instance$1l($,r,p){let{appdata:v}=r,{app:k}=r;function x(S){v=S,p(0,v)}return $.$$set=S=>{"appdata"in S&&p(0,v=S.appdata),"app"in S&&p(1,k=S.app)},[v,k,x]}let SettingsApp$1=class extends SvelteComponent{constructor(r){super(),init(this,r,instance$1l,create_fragment$1u,safe_not_equal,{appdata:0,app:1})}};const ProfilePicture_svelte_svelte_type_style_lang="";function get_each_context$m($,r,p){const v=$.slice();return v[8]=r[p],v[10]=p,v}function create_each_block$m($){let r,p,v,k,x,S;function L(){return $[7]($[10])}return{c(){r=element("button"),p=element("img"),k=space(),src_url_equal(p.src,v=$[8])||attr(p,"src",v),attr(p,"alt",`${$[10]+1}`),attr(p,"class","svelte-2jlx4b"),attr(r,"class","svelte-2jlx4b"),toggle_class(r,"selected",$[10]+1==$[1].acc.profilePicture)},m(I,O){insert(I,r,O),append(r,p),append(r,k),x||(S=listen(r,"click",L),x=!0)},p(I,O){$=I,O&1&&!src_url_equal(p.src,v=$[8])&&attr(p,"src",v),O&2&&toggle_class(r,"selected",$[10]+1==$[1].acc.profilePicture)},d(I){I&&detach(r),x=!1,S()}}}function create_fragment$1t($){let r,p,v,k,x,S,L,I,O,F,U=$[0],R=[];for(let N=0;N<U.length;N+=1)R[N]=create_each_block$m(get_each_context$m($,U,N));return{c(){r=element("div"),r.innerHTML=`<h2 class="header">Change Profile Picture</h2> 
  <p class="subheader">Choose one of the following profile pictures:</p>`,p=space(),v=element("div");for(let N=0;N<R.length;N+=1)R[N].c();k=space(),x=element("div"),S=element("button"),S.textContent="Custom...",L=space(),I=element("button"),I.textContent="Cancel",attr(r,"class","overlay-head"),attr(v,"class","wrapper svelte-2jlx4b"),attr(I,"class","cancel svelte-2jlx4b"),attr(x,"class","cancel-wrapper svelte-2jlx4b")},m(N,j){insert(N,r,j),insert(N,p,j),insert(N,v,j);for(let q=0;q<R.length;q+=1)R[q]&&R[q].m(v,null);insert(N,k,j),insert(N,x,j),append(x,S),append(x,L),append(x,I),O||(F=[listen(S,"click",$[4]),listen(I,"click",$[3])],O=!0)},p(N,[j]){if(j&7){U=N[0];let q;for(q=0;q<U.length;q+=1){const H=get_each_context$m(N,U,q);R[q]?R[q].p(H,j):(R[q]=create_each_block$m(H),R[q].c(),R[q].m(v,null))}for(;q<R.length;q+=1)R[q].d(1);R.length=U.length}},i:noop$1,o:noop$1,d(N){N&&detach(r),N&&detach(p),N&&detach(v),destroy_each(R,N),N&&detach(k),N&&detach(x),O=!1,run_all(F)}}}function instance$1k($,r,p){let v;component_subscribe($,UserData,U=>p(1,v=U));let k=[],{id:x}=r,{app:S}=r;onMount(()=>{p(0,k=Object.values(ProfilePictures))});function L(U){set_store_value(UserData,v.acc.profilePicture=U,v),I()}function I(){hideOverlay(x,S.id)}function O(){showOverlay("customPfp","SettingsApp")}const F=U=>L(U+1);return $.$$set=U=>{"id"in U&&p(5,x=U.id),"app"in U&&p(6,S=U.app)},[k,v,L,I,O,x,S,F]}class ProfilePicture extends SvelteComponent{constructor(r){super(),init(this,r,instance$1k,create_fragment$1t,safe_not_equal,{id:5,app:6})}}const customPfp="";function create_fragment$1s($){let r,p,v,k,x,S,L,I,O,F,U,R,N,j,q,H,Q,V,K;return v=new ProfilePicture$1({props:{src:$[1]?$[0]:def,height:50}}),{c(){r=element("div"),p=element("div"),create_component(v.$$.fragment),k=space(),x=element("div"),S=element("p"),S.textContent="Enter the URL to a custom profile picture:",L=space(),I=element("input"),O=space(),F=element("div"),U=element("div"),R=element("button"),R.textContent="Cancel",N=space(),j=element("button"),q=text("Apply"),attr(I,"type","url"),attr(I,"placeholder","https://example.com/image.png"),j.disabled=H=!$[0]||!$[1],attr(F,"class","apply"),attr(x,"class","field"),attr(r,"class","custompfp-wrapper")},m(G,Y){insert(G,r,Y),append(r,p),mount_component(v,p,null),append(r,k),append(r,x),append(x,S),append(x,L),append(x,I),set_input_value(I,$[0]),append(x,O),append(x,F),append(F,U),append(U,R),append(U,N),append(U,j),append(j,q),Q=!0,V||(K=[listen(I,"input",$[5]),listen(I,"input",$[2]),listen(R,"click",$[4]),listen(j,"click",$[3])],V=!0)},p(G,[Y]){const J={};Y&3&&(J.src=G[1]?G[0]:def),v.$set(J),Y&1&&I.value!==G[0]&&set_input_value(I,G[0]),(!Q||Y&3&&H!==(H=!G[0]||!G[1]))&&(j.disabled=H)},i(G){Q||(transition_in(v.$$.fragment,G),Q=!0)},o(G){transition_out(v.$$.fragment,G),Q=!1},d(G){G&&detach(r),destroy_component(v),V=!1,run_all(K)}}}async function checkImage$1($){const r=new Image;return r.src=$,new Promise(p=>{r.onload=()=>p(!0),r.onerror=()=>p(!1)})}function instance$1j($,r,p){let v="",k=!1;async function x(){const O=await checkImage$1(v);p(1,k=O)}function S(){applyCustomPfp(v),hideOverlay("customPfp","SettingsApp"),hideOverlay("pfpSel","SettingsApp")}function L(){hideOverlay("customPfp","SettingsApp")}UserData.subscribe(O=>{typeof O.acc.profilePicture=="string"&&p(0,v=O.acc.profilePicture),x()});function I(){v=this.value,p(0,v)}return[v,k,x,S,L,I]}class CustomProfilePicture extends SvelteComponent{constructor(r){super(),init(this,r,instance$1j,create_fragment$1s,safe_not_equal,{})}}const ProfilePictureView_svelte_svelte_type_style_lang="";function create_fragment$1r($){let r,p,v,k,x,S,L,I,O,F,U;return r=new CloseButton({props:{id:$[0],app:$[1]}}),x=new ProfilePicture$1({props:{src:$[2].acc.profilePicture.toString(),height:150}}),{c(){create_component(r.$$.fragment),p=space(),v=element("div"),k=element("div"),create_component(x.$$.fragment),S=space(),L=element("h1"),I=text($[3]),O=space(),F=element("p"),F.textContent=`${getServer()||location.hostname}`,attr(L,"class","svelte-1hdmb0y"),attr(F,"class","hostname svelte-1hdmb0y"),attr(k,"class","flex-stop"),attr(v,"class","center-flex text-center")},m(R,N){mount_component(r,R,N),insert(R,p,N),insert(R,v,N),append(v,k),mount_component(x,k,null),append(k,S),append(k,L),append(L,I),append(k,O),append(k,F),U=!0},p(R,[N]){const j={};N&1&&(j.id=R[0]),N&2&&(j.app=R[1]),r.$set(j);const q={};N&4&&(q.src=R[2].acc.profilePicture.toString()),x.$set(q),(!U||N&8)&&set_data(I,R[3])},i(R){U||(transition_in(r.$$.fragment,R),transition_in(x.$$.fragment,R),U=!0)},o(R){transition_out(r.$$.fragment,R),transition_out(x.$$.fragment,R),U=!1},d(R){destroy_component(r,R),R&&detach(p),R&&detach(v),destroy_component(x)}}}function instance$1i($,r,p){let v,k;component_subscribe($,UserData,L=>p(2,v=L)),component_subscribe($,UserName,L=>p(3,k=L));let{id:x}=r,{app:S}=r;return $.$$set=L=>{"id"in L&&p(0,x=L.id),"app"in L&&p(1,S=L.app)},[x,S,v,k]}class ProfilePictureView extends SvelteComponent{constructor(r){super(),init(this,r,instance$1i,create_fragment$1r,safe_not_equal,{id:0,app:1})}}const udataExplorer="";function create_if_block$B($){let r,p,v;return{c(){r=element("div"),p=text($[1]),attr(r,"class","value"),attr(r,"data-type",v=typeof $[1]),attr(r,"data-value",$[1])},m(k,x){insert(k,r,x),append(r,p)},p(k,x){x&2&&set_data(p,k[1]),x&2&&v!==(v=typeof k[1])&&attr(r,"data-type",v),x&2&&attr(r,"data-value",k[1])},d(k){k&&detach(r)}}}function create_fragment$1q($){let r,p,v,k,x=typeof $[1]!="object"&&create_if_block$B($);return{c(){r=element("div"),p=element("div"),v=text($[0]),k=space(),x&&x.c(),attr(p,"class","key"),attr(r,"class","nodeinstance")},m(S,L){insert(S,r,L),append(r,p),append(p,v),append(r,k),x&&x.m(r,null)},p(S,[L]){L&1&&set_data(v,S[0]),typeof S[1]!="object"?x?x.p(S,L):(x=create_if_block$B(S),x.c(),x.m(r,null)):x&&(x.d(1),x=null)},i:noop$1,o:noop$1,d(S){S&&detach(r),x&&x.d()}}}function instance$1h($,r,p){let{key:v}=r,{value:k}=r;return $.$$set=x=>{"key"in x&&p(0,v=x.key),"value"in x&&p(1,k=x.value)},[v,k]}class Node extends SvelteComponent{constructor(r){super(),init(this,r,instance$1h,create_fragment$1q,safe_not_equal,{key:0,value:1})}}function get_each_context$l($,r,p){const v=$.slice();return v[3]=r[p],v}function create_if_block$A($){let r,p,v=Object.entries($[1]),k=[];for(let S=0;S<v.length;S+=1)k[S]=create_each_block$l(get_each_context$l($,v,S));const x=S=>transition_out(k[S],1,1,()=>{k[S]=null});return{c(){for(let S=0;S<k.length;S+=1)k[S].c();r=empty()},m(S,L){for(let I=0;I<k.length;I+=1)k[I]&&k[I].m(S,L);insert(S,r,L),p=!0},p(S,L){if(L&2){v=Object.entries(S[1]);let I;for(I=0;I<v.length;I+=1){const O=get_each_context$l(S,v,I);k[I]?(k[I].p(O,L),transition_in(k[I],1)):(k[I]=create_each_block$l(O),k[I].c(),transition_in(k[I],1),k[I].m(r.parentNode,r))}for(group_outros(),I=v.length;I<k.length;I+=1)x(I);check_outros()}},i(S){if(!p){for(let L=0;L<v.length;L+=1)transition_in(k[L]);p=!0}},o(S){k=k.filter(Boolean);for(let L=0;L<k.length;L+=1)transition_out(k[L]);p=!1},d(S){destroy_each(k,S),S&&detach(r)}}}function create_each_block$l($){let r,p;return r=new Branch_1({props:{key:$[3][0],value:$[3][1]}}),{c(){create_component(r.$$.fragment)},m(v,k){mount_component(r,v,k),p=!0},p(v,k){const x={};k&2&&(x.key=v[3][0]),k&2&&(x.value=v[3][1]),r.$set(x)},i(v){p||(transition_in(r.$$.fragment,v),p=!0)},o(v){transition_out(r.$$.fragment,v),p=!1},d(v){destroy_component(r,v)}}}function create_fragment$1p($){let r,p,v,k;p=new Node({props:{key:$[0],value:$[1]}});let x=typeof $[1]=="object"&&$[1]&&create_if_block$A($);return{c(){r=element("div"),create_component(p.$$.fragment),v=space(),x&&x.c(),toggle_class(r,"indent",!$[2])},m(S,L){insert(S,r,L),mount_component(p,r,null),append(r,v),x&&x.m(r,null),k=!0},p(S,[L]){const I={};L&1&&(I.key=S[0]),L&2&&(I.value=S[1]),p.$set(I),typeof S[1]=="object"&&S[1]?x?(x.p(S,L),L&2&&transition_in(x,1)):(x=create_if_block$A(S),x.c(),transition_in(x,1),x.m(r,null)):x&&(group_outros(),transition_out(x,1,1,()=>{x=null}),check_outros()),(!k||L&4)&&toggle_class(r,"indent",!S[2])},i(S){k||(transition_in(p.$$.fragment,S),transition_in(x),k=!0)},o(S){transition_out(p.$$.fragment,S),transition_out(x),k=!1},d(S){S&&detach(r),destroy_component(p),x&&x.d()}}}function instance$1g($,r,p){let{key:v}=r,{value:k}=r,{top:x=!1}=r;return $.$$set=S=>{"key"in S&&p(0,v=S.key),"value"in S&&p(1,k=S.value),"top"in S&&p(2,x=S.top)},[v,k,x]}class Branch_1 extends SvelteComponent{constructor(r){super(),init(this,r,instance$1g,create_fragment$1p,safe_not_equal,{key:0,value:1,top:2})}}function get_each_context$k($,r,p){const v=$.slice();return v[4]=r[p],v}function create_if_block$z($){let r,p,v,k,x,S,L,I,O,F=Object.entries($[2]),U=[];for(let N=0;N<F.length;N+=1)U[N]=create_each_block$k(get_each_context$k($,F,N));const R=N=>transition_out(U[N],1,1,()=>{U[N]=null});return{c(){r=element("div"),p=element("h2"),v=text("User Data for "),k=text($[3]),x=space(),S=element("p"),S.textContent="Below is a tree view of your user data:",L=space();for(let N=0;N<U.length;N+=1)U[N].c();I=empty(),attr(p,"class","header"),attr(S,"class","subheader"),attr(r,"class","overlay-head")},m(N,j){insert(N,r,j),append(r,p),append(p,v),append(p,k),append(r,x),append(r,S),insert(N,L,j);for(let q=0;q<U.length;q+=1)U[q]&&U[q].m(N,j);insert(N,I,j),O=!0},p(N,j){if((!O||j&8)&&set_data(k,N[3]),j&4){F=Object.entries(N[2]);let q;for(q=0;q<F.length;q+=1){const H=get_each_context$k(N,F,q);U[q]?(U[q].p(H,j),transition_in(U[q],1)):(U[q]=create_each_block$k(H),U[q].c(),transition_in(U[q],1),U[q].m(I.parentNode,I))}for(group_outros(),q=F.length;q<U.length;q+=1)R(q);check_outros()}},i(N){if(!O){for(let j=0;j<F.length;j+=1)transition_in(U[j]);O=!0}},o(N){U=U.filter(Boolean);for(let j=0;j<U.length;j+=1)transition_out(U[j]);O=!1},d(N){N&&detach(r),N&&detach(L),destroy_each(U,N),N&&detach(I)}}}function create_else_block$d($){let r,p;return r=new Node({props:{key:$[4][0],value:$[4][1]}}),{c(){create_component(r.$$.fragment)},m(v,k){mount_component(r,v,k),p=!0},p(v,k){const x={};k&4&&(x.key=v[4][0]),k&4&&(x.value=v[4][1]),r.$set(x)},i(v){p||(transition_in(r.$$.fragment,v),p=!0)},o(v){transition_out(r.$$.fragment,v),p=!1},d(v){destroy_component(r,v)}}}function create_if_block_1$c($){let r,p;return r=new Branch_1({props:{key:$[4][0],value:$[4][1],top:!0}}),{c(){create_component(r.$$.fragment)},m(v,k){mount_component(r,v,k),p=!0},p(v,k){const x={};k&4&&(x.key=v[4][0]),k&4&&(x.value=v[4][1]),r.$set(x)},i(v){p||(transition_in(r.$$.fragment,v),p=!0)},o(v){transition_out(r.$$.fragment,v),p=!1},d(v){destroy_component(r,v)}}}function create_each_block$k($){let r,p,v,k,x;const S=[create_if_block_1$c,create_else_block$d],L=[];function I(O,F){return typeof O[4][1]=="object"?0:1}return p=I($),v=L[p]=S[p]($),{c(){r=element("div"),v.c(),k=space(),attr(r,"class","toplevel-item")},m(O,F){insert(O,r,F),L[p].m(r,null),append(r,k),x=!0},p(O,F){let U=p;p=I(O),p===U?L[p].p(O,F):(group_outros(),transition_out(L[U],1,1,()=>{L[U]=null}),check_outros(),v=L[p],v?v.p(O,F):(v=L[p]=S[p](O),v.c()),transition_in(v,1),v.m(r,k))},i(O){x||(transition_in(v),x=!0)},o(O){transition_out(v),x=!1},d(O){O&&detach(r),L[p].d()}}}function create_fragment$1o($){let r,p,v,k;r=new CloseButton({props:{app:$[0],id:$[1]}});let x=$[2]&&create_if_block$z($);return{c(){create_component(r.$$.fragment),p=space(),x&&x.c(),v=empty()},m(S,L){mount_component(r,S,L),insert(S,p,L),x&&x.m(S,L),insert(S,v,L),k=!0},p(S,[L]){const I={};L&1&&(I.app=S[0]),L&2&&(I.id=S[1]),r.$set(I),S[2]?x?(x.p(S,L),L&4&&transition_in(x,1)):(x=create_if_block$z(S),x.c(),transition_in(x,1),x.m(v.parentNode,v)):x&&(group_outros(),transition_out(x,1,1,()=>{x=null}),check_outros())},i(S){k||(transition_in(r.$$.fragment,S),transition_in(x),k=!0)},o(S){transition_out(r.$$.fragment,S),transition_out(x),k=!1},d(S){destroy_component(r,S),S&&detach(p),x&&x.d(S),S&&detach(v)}}}function instance$1f($,r,p){let v,k;component_subscribe($,UserData,L=>p(2,v=L)),component_subscribe($,UserName,L=>p(3,k=L));let{app:x}=r,{id:S}=r;return $.$$set=L=>{"app"in L&&p(0,x=L.app),"id"in L&&p(1,S=L.id)},[x,S,v,k]}class UserDataExplorer extends SvelteComponent{constructor(r){super(),init(this,r,instance$1f,create_fragment$1o,safe_not_equal,{app:0,id:1})}}const passwordIcon=""+new URL("password-d04179f1.svg",import.meta.url).href,changePswd="";function create_fragment$1n($){let r,p,v,k,x,S,L,I,O,F,U,R,N,j,q,H,Q,V,K,G,Y,J,Z;return v=new ProfilePicture$1({props:{src:$[0],height:50}}),{c(){r=element("div"),p=element("div"),create_component(v.$$.fragment),k=space(),x=element("div"),S=element("p"),S.textContent="Fill out this form to change your password:",L=space(),I=element("input"),O=space(),F=element("input"),U=space(),R=element("input"),N=space(),j=element("div"),q=element("div"),H=element("button"),H.textContent="Cancel",Q=space(),V=element("button"),K=text("Change"),attr(I,"type","password"),attr(I,"name","current"),attr(I,"placeholder","Current password"),attr(F,"type","password"),attr(F,"name","current"),attr(F,"placeholder","New password"),attr(R,"type","password"),attr(R,"name","current"),attr(R,"placeholder","Confirm new password"),V.disabled=G=$[2]!=$[3]||!$[2]||!$[3],attr(j,"class","apply"),attr(x,"class","field"),attr(r,"class","changepswd-wrapper")},m(X,ee){insert(X,r,ee),append(r,p),mount_component(v,p,null),append(r,k),append(r,x),append(x,S),append(x,L),append(x,I),set_input_value(I,$[1]),append(x,O),append(x,F),set_input_value(F,$[2]),append(x,U),append(x,R),set_input_value(R,$[3]),append(x,N),append(x,j),append(j,q),append(q,H),append(q,Q),append(q,V),append(V,K),Y=!0,J||(Z=[listen(I,"input",$[8]),listen(F,"input",$[9]),listen(R,"input",$[10]),listen(H,"click",$[4]),listen(V,"click",$[5])],J=!0)},p(X,[ee]){const te={};ee&1&&(te.src=X[0]),v.$set(te),ee&2&&I.value!==X[1]&&set_input_value(I,X[1]),ee&4&&F.value!==X[2]&&set_input_value(F,X[2]),ee&8&&R.value!==X[3]&&set_input_value(R,X[3]),(!Y||ee&12&&G!==(G=X[2]!=X[3]||!X[2]||!X[3]))&&(V.disabled=G)},i(X){Y||(transition_in(v.$$.fragment,X),Y=!0)},o(X){transition_out(v.$$.fragment,X),Y=!1},d(X){X&&detach(r),destroy_component(v),J=!1,run_all(Z)}}}function instance$1e($,r,p){let v;component_subscribe($,UserName,Q=>p(11,v=Q));let k="",{id:x}=r,{app:S}=r,L="",I="",O="";UserData.subscribe(Q=>{p(0,k=getProfilePicture(Q.acc.profilePicture))});function F(){hideOverlay(x,S.id)}function U(){N(),F()}async function R(){if(!await changePassword(v,L,I,O))return createOverlayableError({title:"Couldn't change password",message:"An error occured while changing your password. Please make sure the entered information is correct, and then try again.",buttons:[{caption:"OK",action:N}],image:passwordIcon},S.id);createOverlayableError({title:"Password changed.",message:"Your password has been updated successfully.",buttons:[{caption:"OK",action:U}],image:passwordIcon},S.id)}function N(){p(1,L=""),p(2,I=""),p(3,O="")}function j(){L=this.value,p(1,L)}function q(){I=this.value,p(2,I)}function H(){O=this.value,p(3,O)}return $.$$set=Q=>{"id"in Q&&p(6,x=Q.id),"app"in Q&&p(7,S=Q.app)},[k,L,I,O,F,R,x,S,j,q,H]}class ChangePassword extends SvelteComponent{constructor(r){super(),init(this,r,instance$1e,create_fragment$1n,safe_not_equal,{id:6,app:7})}}const changeUname="";function create_fragment$1m($){let r,p,v,k,x,S,L,I,O,F,U,R,N,j,q,H,Q,V,K,G,Y,J;return v=new ProfilePicture$1({props:{src:$[0],height:50}}),{c(){r=element("div"),p=element("div"),create_component(v.$$.fragment),k=space(),x=element("div"),S=element("p"),L=text($[2]),I=space(),O=element("p"),O.textContent="Enter a new username",F=space(),U=element("input"),R=space(),N=element("div"),j=element("div"),q=element("button"),q.textContent="Cancel",H=space(),Q=element("button"),V=text("Change"),attr(S,"class","username"),attr(U,"type","text"),attr(U,"name","current"),attr(U,"placeholder","New username"),Q.disabled=K=!$[1],attr(N,"class","apply"),attr(x,"class","field"),attr(r,"class","changename-wrapper")},m(Z,X){insert(Z,r,X),append(r,p),mount_component(v,p,null),append(r,k),append(r,x),append(x,S),append(S,L),append(x,I),append(x,O),append(x,F),append(x,U),set_input_value(U,$[1]),append(x,R),append(x,N),append(N,j),append(j,q),append(j,H),append(j,Q),append(Q,V),G=!0,Y||(J=[listen(U,"input",$[7]),listen(q,"click",$[4]),listen(Q,"click",$[3])],Y=!0)},p(Z,[X]){const ee={};X&1&&(ee.src=Z[0]),v.$set(ee),(!G||X&4)&&set_data(L,Z[2]),X&2&&U.value!==Z[1]&&set_input_value(U,Z[1]),(!G||X&2&&K!==(K=!Z[1]))&&(Q.disabled=K)},i(Z){G||(transition_in(v.$$.fragment,Z),G=!0)},o(Z){transition_out(v.$$.fragment,Z),G=!1},d(Z){Z&&detach(r),destroy_component(v),Y=!1,run_all(J)}}}function instance$1d($,r,p){let v;component_subscribe($,UserName,N=>p(2,v=N));let k="",{id:x}=r,{app:S}=r,L="";UserData.subscribe(N=>{p(0,k=getProfilePicture(N.acc.profilePicture))});async function I(){if(!await changeUsername(v,L))return createOverlayableError({title:"Can't rename user",message:"An error occured while trying to rename your account. Please make sure the information is correct, and then try again.",buttons:[{caption:"OK",action:F}],image:usericon},"SettingsApp");createOverlayableError({title:"Username changed.",message:"Your username has been updated successfully.",buttons:[{caption:"OK",action:U}],image:usericon},"SettingsApp")}function O(){hideOverlay(x,S.id)}function F(){p(1,L="")}function U(){F(),O()}function R(){L=this.value,p(1,L)}return $.$$set=N=>{"id"in N&&p(5,x=N.id),"app"in N&&p(6,S=N.app)},[k,L,v,I,O,x,S,R]}class ChangeUsername extends SvelteComponent{constructor(r){super(),init(this,r,instance$1d,create_fragment$1m,safe_not_equal,{id:5,app:6})}}const changetitlebuttons="",Default_svelte_svelte_type_style_lang="";function create_fragment$1l($){let r,p,v,k,x,S,L,I,O,F,U,R,N;return{c(){r=element("button"),p=text("minimize"),k=space(),x=element("button"),S=text("crop_square"),I=space(),O=element("button"),F=text("close"),attr(r,"class","material-icons-round reset svelte-63zn7"),r.disabled=v=!$[0].controls.min||$[1],attr(x,"class","material-icons-round reset svelte-63zn7"),x.disabled=L=!$[0].controls.max||$[1],attr(O,"class","material-icons-round reset svelte-63zn7"),O.disabled=U=!$[0].controls.cls||$[1]},m(j,q){insert(j,r,q),append(r,p),insert(j,k,q),insert(j,x,q),append(x,S),insert(j,I,q),insert(j,O,q),append(O,F),R||(N=[listen(r,"click",function(){is_function($[2])&&$[2].apply(this,arguments)}),listen(x,"click",function(){is_function($[3])&&$[3].apply(this,arguments)}),listen(O,"click",function(){is_function($[4])&&$[4].apply(this,arguments)})],R=!0)},p(j,[q]){$=j,q&3&&v!==(v=!$[0].controls.min||$[1])&&(r.disabled=v),q&3&&L!==(L=!$[0].controls.max||$[1])&&(x.disabled=L),q&3&&U!==(U=!$[0].controls.cls||$[1])&&(O.disabled=U)},i:noop$1,o:noop$1,d(j){j&&detach(r),j&&detach(k),j&&detach(x),j&&detach(I),j&&detach(O),R=!1,run_all(N)}}}function instance$1c($,r,p){let{app:v}=r,{isBoot:k}=r,{min:x}=r,{max:S}=r,{cls:L}=r;return $.$$set=I=>{"app"in I&&p(0,v=I.app),"isBoot"in I&&p(1,k=I.isBoot),"min"in I&&p(2,x=I.min),"max"in I&&p(3,S=I.max),"cls"in I&&p(4,L=I.cls)},[v,k,x,S,L]}class Default extends SvelteComponent{constructor(r){super(),init(this,r,instance$1c,create_fragment$1l,safe_not_equal,{app:0,isBoot:1,min:2,max:3,cls:4})}}const Traffic_svelte_svelte_type_style_lang="";function create_fragment$1k($){let r,p,v,k,x,S,L,I,O,F;return{c(){r=element("button"),v=space(),k=element("button"),S=space(),L=element("button"),attr(r,"class","traffic-cls reset svelte-1ti4j67"),r.disabled=p=!$[0].controls.cls||$[1],attr(k,"class","traffic-min reset svelte-1ti4j67"),k.disabled=x=!$[0].controls.min||$[1],attr(L,"class","traffic-max reset svelte-1ti4j67"),L.disabled=I=!$[0].controls.max||$[1]},m(U,R){insert(U,r,R),insert(U,v,R),insert(U,k,R),insert(U,S,R),insert(U,L,R),O||(F=[listen(r,"click",function(){is_function($[4])&&$[4].apply(this,arguments)}),listen(k,"click",function(){is_function($[2])&&$[2].apply(this,arguments)}),listen(L,"click",function(){is_function($[3])&&$[3].apply(this,arguments)})],O=!0)},p(U,[R]){$=U,R&3&&p!==(p=!$[0].controls.cls||$[1])&&(r.disabled=p),R&3&&x!==(x=!$[0].controls.min||$[1])&&(k.disabled=x),R&3&&I!==(I=!$[0].controls.max||$[1])&&(L.disabled=I)},i:noop$1,o:noop$1,d(U){U&&detach(r),U&&detach(v),U&&detach(k),U&&detach(S),U&&detach(L),O=!1,run_all(F)}}}function instance$1b($,r,p){let{app:v}=r,{isBoot:k}=r,{min:x}=r,{max:S}=r,{cls:L}=r;return $.$$set=I=>{"app"in I&&p(0,v=I.app),"isBoot"in I&&p(1,k=I.isBoot),"min"in I&&p(2,x=I.min),"max"in I&&p(3,S=I.max),"cls"in I&&p(4,L=I.cls)},[v,k,x,S,L]}class Traffic extends SvelteComponent{constructor(r){super(),init(this,r,instance$1b,create_fragment$1k,safe_not_equal,{app:0,isBoot:1,min:2,max:3,cls:4})}}const OG_svelte_svelte_type_style_lang="";function create_fragment$1j($){let r,p,v,k,x,S,L,I,O;return{c(){r=element("button"),p=text("🗕"),k=space(),x=element("button"),S=text("✖"),attr(r,"class","reset svelte-1f14mwt"),r.disabled=v=$[1]||!$[0].controls.min,attr(x,"class","reset close svelte-1f14mwt"),x.disabled=L=$[1]||!$[0].controls.cls},m(F,U){insert(F,r,U),append(r,p),insert(F,k,U),insert(F,x,U),append(x,S),I||(O=[listen(r,"click",function(){is_function($[2])&&$[2].apply(this,arguments)}),listen(x,"click",function(){is_function($[3])&&$[3].apply(this,arguments)})],I=!0)},p(F,[U]){$=F,U&3&&v!==(v=$[1]||!$[0].controls.min)&&(r.disabled=v),U&3&&L!==(L=$[1]||!$[0].controls.cls)&&(x.disabled=L)},i:noop$1,o:noop$1,d(F){F&&detach(r),F&&detach(k),F&&detach(x),I=!1,run_all(O)}}}function instance$1a($,r,p){let{app:v}=r,{isBoot:k}=r,{min:x}=r,{cls:S}=r;return $.$$set=L=>{"app"in L&&p(0,v=L.app),"isBoot"in L&&p(1,k=L.isBoot),"min"in L&&p(2,x=L.min),"cls"in L&&p(3,S=L.cls)},[v,k,x,S]}class OG extends SvelteComponent{constructor(r){super(),init(this,r,instance$1a,create_fragment$1j,safe_not_equal,{app:0,isBoot:1,min:2,cls:3})}}const titlebarButtons={default:{caption:"Default",author:"ArcOS Team",content:Default},traffic:{caption:"Traffic Lights",author:"Apple",content:Traffic},og:{caption:"O.G.",author:"WebOSv3 Team",content:OG}},DummyApp={info:{name:"Dummy",description:"I'm a dummy!",builtin:!0,version:"1.0.0",author:"Robots",icon:dummyIcon},pos:{x:0,y:0},minSize:{w:0,h:0},maxSize:{w:0,h:0},size:{w:0,h:0},controls:{min:!0,max:!0,cls:!0},state:{headless:!1,resizable:!0,windowState:{fll:!1,max:!1,min:!1}},glass:!1,content:null};function create_fragment$1i($){let r,p,v,k,x,S,L,I=$[0].caption+"",O,F,U,R,N=$[0].author+"",j,q,H,Q=$[2].sh.window.buttons==$[1]?"Applied":"Apply",V,K,G,Y,J;var Z=$[0].content;function X(ee){return{props:{app:DummyApp}}}return Z&&(k=construct_svelte_component(Z,X())),{c(){r=element("div"),p=element("div"),v=element("div"),k&&create_component(k.$$.fragment),x=space(),S=element("div"),L=element("p"),O=text(I),F=space(),U=element("p"),R=text("By: "),j=text(N),q=space(),H=element("button"),V=text(Q),attr(v,"class","tb"),attr(p,"class","preview"),attr(L,"class","title"),attr(U,"class","author"),attr(S,"class","details"),attr(H,"class","apply"),H.disabled=K=$[2].sh.window.buttons==$[1],attr(r,"class","item")},m(ee,te){insert(ee,r,te),append(r,p),append(p,v),k&&mount_component(k,v,null),append(r,x),append(r,S),append(S,L),append(L,O),append(S,F),append(S,U),append(U,R),append(U,j),append(r,q),append(r,H),append(H,V),G=!0,Y||(J=listen(H,"click",$[3]),Y=!0)},p(ee,[te]){if(te&1&&Z!==(Z=ee[0].content)){if(k){group_outros();const le=k;transition_out(le.$$.fragment,1,0,()=>{destroy_component(le,1)}),check_outros()}Z?(k=construct_svelte_component(Z,X()),create_component(k.$$.fragment),transition_in(k.$$.fragment,1),mount_component(k,v,null)):k=null}(!G||te&1)&&I!==(I=ee[0].caption+"")&&set_data(O,I),(!G||te&1)&&N!==(N=ee[0].author+"")&&set_data(j,N),(!G||te&6)&&Q!==(Q=ee[2].sh.window.buttons==ee[1]?"Applied":"Apply")&&set_data(V,Q),(!G||te&6&&K!==(K=ee[2].sh.window.buttons==ee[1]))&&(H.disabled=K)},i(ee){G||(k&&transition_in(k.$$.fragment,ee),G=!0)},o(ee){k&&transition_out(k.$$.fragment,ee),G=!1},d(ee){ee&&detach(r),k&&destroy_component(k),Y=!1,J()}}}function instance$19($,r,p){let v;component_subscribe($,UserData,L=>p(2,v=L));let{data:k}=r,{id:x}=r;function S(){set_store_value(UserData,v.sh.window.buttons=x,v)}return $.$$set=L=>{"data"in L&&p(0,k=L.data),"id"in L&&p(1,x=L.id)},[k,x,v,S]}let Item$1=class extends SvelteComponent{constructor(r){super(),init(this,r,instance$19,create_fragment$1i,safe_not_equal,{data:0,id:1})}};function get_each_context$j($,r,p){const v=$.slice();return v[2]=r[p],v}function create_each_block$j($){let r,p;return r=new Item$1({props:{id:$[2][0],data:$[2][1]}}),{c(){create_component(r.$$.fragment)},m(v,k){mount_component(r,v,k),p=!0},p:noop$1,i(v){p||(transition_in(r.$$.fragment,v),p=!0)},o(v){transition_out(r.$$.fragment,v),p=!1},d(v){destroy_component(r,v)}}}function create_fragment$1h($){let r,p,v,k,x,S,L,I;r=new CloseButton({props:{app:$[0],id:$[1]}});let O=Object.entries(titlebarButtons),F=[];for(let R=0;R<O.length;R+=1)F[R]=create_each_block$j(get_each_context$j($,O,R));const U=R=>transition_out(F[R],1,1,()=>{F[R]=null});return{c(){create_component(r.$$.fragment),p=space(),v=element("h3"),v.textContent="Titlebar buttons",k=space(),x=element("p"),x.textContent="Choose one of the titlebar button styles:",S=space();for(let R=0;R<F.length;R+=1)F[R].c();L=empty(),attr(v,"class","header"),attr(x,"class","subheader")},m(R,N){mount_component(r,R,N),insert(R,p,N),insert(R,v,N),insert(R,k,N),insert(R,x,N),insert(R,S,N);for(let j=0;j<F.length;j+=1)F[j]&&F[j].m(R,N);insert(R,L,N),I=!0},p(R,[N]){const j={};if(N&1&&(j.app=R[0]),N&2&&(j.id=R[1]),r.$set(j),N&0){O=Object.entries(titlebarButtons);let q;for(q=0;q<O.length;q+=1){const H=get_each_context$j(R,O,q);F[q]?(F[q].p(H,N),transition_in(F[q],1)):(F[q]=create_each_block$j(H),F[q].c(),transition_in(F[q],1),F[q].m(L.parentNode,L))}for(group_outros(),q=O.length;q<F.length;q+=1)U(q);check_outros()}},i(R){if(!I){transition_in(r.$$.fragment,R);for(let N=0;N<O.length;N+=1)transition_in(F[N]);I=!0}},o(R){transition_out(r.$$.fragment,R),F=F.filter(Boolean);for(let N=0;N<F.length;N+=1)transition_out(F[N]);I=!1},d(R){destroy_component(r,R),R&&detach(p),R&&detach(v),R&&detach(k),R&&detach(x),R&&detach(S),destroy_each(F,R),R&&detach(L)}}}function instance$18($,r,p){let{app:v}=r,{id:k}=r;return $.$$set=x=>{"app"in x&&p(0,v=x.app),"id"in x&&p(1,k=x.id)},[v,k]}class ChangeTitleButtons extends SvelteComponent{constructor(r){super(),init(this,r,instance$18,create_fragment$1h,safe_not_equal,{app:0,id:1})}}const customWallpaper="";function create_fragment$1g($){let r,p,v,k,x,S,L,I,O,F,U,R,N,j,q,H,Q,V,K;return{c(){r=element("div"),p=element("div"),v=element("img"),x=space(),S=element("div"),L=element("p"),L.textContent="Enter the URL to a custom wallpaper:",I=space(),O=element("input"),F=space(),U=element("div"),R=element("div"),N=element("button"),N.textContent="Cancel",j=space(),q=element("button"),H=text("Apply"),src_url_equal(v.src,k=logo)||attr(v,"src",k),attr(v,"alt",""),attr(O,"type","url"),attr(O,"placeholder","https://example.com/image.png"),q.disabled=Q=!$[1]||!$[0],attr(U,"class","apply"),attr(S,"class","field"),attr(r,"class","customwallpaper-wrapper")},m(G,Y){insert(G,r,Y),append(r,p),append(p,v),append(r,x),append(r,S),append(S,L),append(S,I),append(S,O),set_input_value(O,$[1]),append(S,F),append(S,U),append(U,R),append(R,N),append(R,j),append(R,q),append(q,H),V||(K=[listen(O,"input",$[5]),listen(O,"input",$[3]),listen(N,"click",$[4]),listen(q,"click",$[2])],V=!0)},p(G,[Y]){Y&2&&O.value!==G[1]&&set_input_value(O,G[1]),Y&3&&Q!==(Q=!G[1]||!G[0])&&(q.disabled=Q)},i:noop$1,o:noop$1,d(G){G&&detach(r),V=!1,run_all(K)}}}async function checkImage($){const r=new Image;return r.src=$,new Promise(p=>{r.onload=()=>p(!0),r.onerror=()=>p(!1)})}function instance$17($,r,p){let v;component_subscribe($,UserData,F=>p(6,v=F));let k=!1,x;function S(){set_store_value(UserData,v.sh.desktop.wallpaper=x,v),I()}onMount(()=>{v.sh.desktop.wallpaper.startsWith("http")&&p(1,x=v.sh.desktop.wallpaper)});async function L(){const F=await checkImage(x);p(0,k=F)}function I(){hideOverlay("customWallpaper","SettingsApp")}UserData.subscribe(F=>{typeof F.sh.desktop.wallpaper=="string"&&F.sh.desktop.wallpaper.startsWith("http")&&p(1,x=F.sh.desktop.wallpaper),L()});function O(){x=this.value,p(1,x)}return[k,x,S,L,I,O]}class CustomWallpaper extends SvelteComponent{constructor(r){super(),init(this,r,instance$17,create_fragment$1g,safe_not_equal,{})}}const savetheme="";function create_fragment$1f($){let r,p,v,k,x,S,L,I,O,F,U,R,N,j,q,H,Q,V,K;return H=new Current({}),{c(){r=element("div"),p=element("h3"),p.textContent="Save theme",v=space(),k=element("p"),k.textContent="Choose a name for your theme:",x=space(),S=element("input"),L=space(),I=element("div"),O=element("button"),F=text("Save"),R=space(),N=element("button"),N.textContent="Cancel",j=space(),q=element("div"),create_component(H.$$.fragment),attr(p,"class","header"),attr(S,"type","text"),O.disabled=U=!$[0],attr(I,"class","actions"),attr(r,"class","form"),attr(q,"class","desktop-page")},m(G,Y){insert(G,r,Y),append(r,p),append(r,v),append(r,k),append(r,x),append(r,S),set_input_value(S,$[0]),append(r,L),append(r,I),append(I,O),append(O,F),append(I,R),append(I,N),insert(G,j,Y),insert(G,q,Y),mount_component(H,q,null),Q=!0,V||(K=[listen(S,"input",$[3]),listen(O,"click",$[2]),listen(N,"click",$[1])],V=!0)},p(G,[Y]){Y&1&&S.value!==G[0]&&set_input_value(S,G[0]),(!Q||Y&1&&U!==(U=!G[0]))&&(O.disabled=U)},i(G){Q||(transition_in(H.$$.fragment,G),Q=!0)},o(G){transition_out(H.$$.fragment,G),Q=!1},d(G){G&&detach(r),G&&detach(j),G&&detach(q),destroy_component(H),V=!1,run_all(K)}}}function instance$16($,r,p){let v;function k(){hideOverlay("saveTheme","SettingsApp")}function x(){saveCurrentTheme(v),k()}function S(){v=this.value,p(0,v)}return[v,k,x,S]}class SaveTheme extends SvelteComponent{constructor(r){super(),init(this,r,instance$16,create_fragment$1f,safe_not_equal,{})}}const theme=""+new URL("themes-1332e1fc.svg",import.meta.url).href,saveToFS={caption:"Save to ArcFS",action:async($,r)=>{const p=new Blob([r.json],{type:"application/json"});await createDirectory("./Themes");const v=`${r.name}.arctheme`,k=`./Themes/${v}`;await writeFile(k,p),openWindow("FileManager"),await fbClass.goToDirectory("./Themes"),setTimeout(()=>{FileBrowserSelectedFilename.set(v)})},icon:"save"},SettingsAppContext={"themerenderer-user":[{caption:"Delete",action:($,r)=>{createOverlayableError({title:"Delete theme?",message:"Are you sure you want to delete this theme?",image:theme,buttons:[{caption:"Delete",action(){deleteCustomTheme(r.id)}},{caption:"Cancel",action(){}}]},"SettingsApp")},icon:"delete"},saveToFS],"themerenderer-system":[saveToFS],"accountpage-hostname":[{caption:"View user data",action:()=>{showOverlay("udataExplorer","SettingsApp")},icon:"account_tree"},{caption:"Copy server",action:()=>{navigator.clipboard.writeText(getServer()||"localhost")},icon:"copy"}],"appearance-accentselector":[{caption:"Copy color code",action:($,r)=>{navigator.clipboard.writeText(`#${r.hex}`)},icon:"copy"}]},ProfilePictureOverlays={pfpSel:{info:{name:"Profile Picture Selector",version:"1.0.0",author:"ArcOS Team"},content:ProfilePicture,size:{w:382,h:410},show:!1},customPfp:{info:{name:"Custom Profile Picture",version:"1.0.0",author:"ArcOS Team"},content:CustomProfilePicture,size:{w:350,h:125},show:!1},largePfp:{info:{name:"View Profile Picture",version:"1.0.0",author:"ArcOS Team"},content:ProfilePictureView,size:{w:320,h:360},show:!1},changeTitleButtons:{info:{name:"Change Titlebar Buttons",version:"1.0.0",author:"ArcOS Team"},content:ChangeTitleButtons,size:{w:400,h:300},show:!1}},AccountPageOverlays={udataExplorer:{info:{name:"User Data Explorer",version:"1.0.0",author:"ArcOS Team"},content:UserDataExplorer,size:{w:550,h:400},show:!1},changePswd:{info:{name:"Change Password",version:"1.0.0",author:"ArcOS Team"},content:ChangePassword,size:{w:370,h:195},show:!1},changeUsername:{info:{name:"Change Username",version:"1.0.0",author:"ArcOS Team"},content:ChangeUsername,size:{w:370,h:155},show:!1}},DesktopOverlays={customWallpaper:{info:{name:"Custom Wallpaper",version:"1.0.0",author:"ArcOS Team"},content:CustomWallpaper,size:{w:370,h:118},show:!1}},ThemeOverlays={saveTheme:{info:{name:"Save Theme",version:"1.0.0",author:"ArcOS Team"},content:SaveTheme,size:{w:450,h:170},show:!1}},SettingsApp={info:{name:"System Settings",description:"Change the way ArcOS works",builtin:!0,version:"4.0.0",author:"ArcOS Team",icon:logo$1},size:{w:730,h:500},pos:{x:30,y:40},minSize:{w:730,h:500},maxSize:{w:1100,h:600},controls:{min:!0,max:!0,cls:!0},state:{headless:!1,resizable:!0,windowState:{min:!1,max:!1,fll:!1}},content:SettingsApp$1,glass:!0,overlays:{...ProfilePictureOverlays,...AccountPageOverlays,...DesktopOverlays,...ThemeOverlays},events:{close(){currentSettingsPage.set(SettingsPages[0])},open(){currentSettingsPage.set(SettingsPages[0])}},contextMenu:SettingsAppContext},actioncenter="";function get_each_context$i($,r,p){const v=$.slice();return v[3]=r[p],v}function create_else_block$c($){let r,p=$[0][1].icon+"",v;return{c(){r=element("span"),v=text(p),attr(r,"class","material-icons-round")},m(k,x){insert(k,r,x),append(r,v)},p(k,x){x&1&&p!==(p=k[0][1].icon+"")&&set_data(v,p)},d(k){k&&detach(r)}}}function create_if_block$y($){let r,p,v;return{c(){r=element("img"),src_url_equal(r.src,p=$[0][1].image)||attr(r,"src",p),attr(r,"alt",v=$[0][1].title)},m(k,x){insert(k,r,x)},p(k,x){x&1&&!src_url_equal(r.src,p=k[0][1].image)&&attr(r,"src",p),x&1&&v!==(v=k[0][1].title)&&attr(r,"alt",v)},d(k){k&&detach(r)}}}function create_each_block$i($){let r,p=$[3].caption+"",v,k,x;return{c(){r=element("button"),v=text(p)},m(S,L){insert(S,r,L),append(r,v),k||(x=listen(r,"click",function(){is_function($[2]($[3].action))&&$[2]($[3].action).apply(this,arguments)}),k=!0)},p(S,L){$=S,L&1&&p!==(p=$[3].caption+"")&&set_data(v,p)},d(S){S&&detach(r),k=!1,x()}}}function create_fragment$1e($){let r,p,v,k=$[0][1].title+"",x,S,L,I,O,F=$[0][1].message+"",U,R,N,j,q;function H(Y,J){return Y[0][1].image?create_if_block$y:create_else_block$c}let Q=H($),V=Q($),K=$[0][1].buttons,G=[];for(let Y=0;Y<K.length;Y+=1)G[Y]=create_each_block$i(get_each_context$i($,K,Y));return{c(){r=element("div"),p=element("p"),V.c(),v=space(),x=text(k),S=space(),L=element("button"),L.textContent="close",I=space(),O=element("p"),U=space(),R=element("div"),N=element("div");for(let Y=0;Y<G.length;Y+=1)G[Y].c();attr(L,"class","close material-icons-round"),attr(p,"class","title"),attr(O,"class","content"),attr(N,"class","inner"),attr(R,"class","buttons"),attr(r,"class","notification ac")},m(Y,J){insert(Y,r,J),append(r,p),V.m(p,null),append(p,v),append(p,x),append(p,S),append(p,L),append(r,I),append(r,O),O.innerHTML=F,append(r,U),append(r,R),append(R,N);for(let Z=0;Z<G.length;Z+=1)G[Z]&&G[Z].m(N,null);j||(q=listen(L,"click",$[1]),j=!0)},p(Y,[J]){if(Q===(Q=H(Y))&&V?V.p(Y,J):(V.d(1),V=Q(Y),V&&(V.c(),V.m(p,v))),J&1&&k!==(k=Y[0][1].title+"")&&set_data(x,k),J&1&&F!==(F=Y[0][1].message+"")&&(O.innerHTML=F),J&5){K=Y[0][1].buttons;let Z;for(Z=0;Z<K.length;Z+=1){const X=get_each_context$i(Y,K,Z);G[Z]?G[Z].p(X,J):(G[Z]=create_each_block$i(X),G[Z].c(),G[Z].m(N,null))}for(;Z<G.length;Z+=1)G[Z].d(1);G.length=K.length}},i:noop$1,o:noop$1,d(Y){Y&&detach(r),V.d(),destroy_each(G,Y),j=!1,q()}}}function instance$15($,r,p){let{notification:v}=r;function k(){deleteNotification(v[0]),CurrentNotification.set(null)}function x(S){return()=>{S(),k(),ActionCenterOpened.set(!1)}}return $.$$set=S=>{"notification"in S&&p(0,v=S.notification)},[v,k,x]}class Notification extends SvelteComponent{constructor(r){super(),init(this,r,instance$15,create_fragment$1e,safe_not_equal,{notification:0})}}function get_each_context$h($,r,p){const v=$.slice();return v[1]=r[p],v}function create_each_block$h($){let r,p;return r=new Notification({props:{notification:$[1]}}),{c(){create_component(r.$$.fragment)},m(v,k){mount_component(r,v,k),p=!0},p(v,k){const x={};k&1&&(x.notification=v[1]),r.$set(x)},i(v){p||(transition_in(r.$$.fragment,v),p=!0)},o(v){transition_out(r.$$.fragment,v),p=!1},d(v){destroy_component(r,v)}}}function create_if_block$x($){let r;return{c(){r=element("p"),r.textContent="You have no notifications",attr(r,"class","none")},m(p,v){insert(p,r,v)},d(p){p&&detach(r)}}}function create_fragment$1d($){let r,p,v=Object.entries($[0]).length==0,k,x=Object.entries($[0]),S=[];for(let O=0;O<x.length;O+=1)S[O]=create_each_block$h(get_each_context$h($,x,O));const L=O=>transition_out(S[O],1,1,()=>{S[O]=null});let I=v&&create_if_block$x();return{c(){r=element("div");for(let O=0;O<S.length;O+=1)S[O].c();p=space(),I&&I.c(),attr(r,"class","notifications")},m(O,F){insert(O,r,F);for(let U=0;U<S.length;U+=1)S[U]&&S[U].m(r,null);append(r,p),I&&I.m(r,null),k=!0},p(O,[F]){if(F&1){x=Object.entries(O[0]);let U;for(U=0;U<x.length;U+=1){const R=get_each_context$h(O,x,U);S[U]?(S[U].p(R,F),transition_in(S[U],1)):(S[U]=create_each_block$h(R),S[U].c(),transition_in(S[U],1),S[U].m(r,p))}for(group_outros(),U=x.length;U<S.length;U+=1)L(U);check_outros()}F&1&&(v=Object.entries(O[0]).length==0),v?I||(I=create_if_block$x(),I.c(),I.m(r,null)):I&&(I.d(1),I=null)},i(O){if(!k){for(let F=0;F<x.length;F+=1)transition_in(S[F]);k=!0}},o(O){S=S.filter(Boolean);for(let F=0;F<S.length;F+=1)transition_out(S[F]);k=!1},d(O){O&&detach(r),destroy_each(S,O),I&&I.d()}}}function instance$14($,r,p){let v;return component_subscribe($,NotificationStore,k=>p(0,v=k)),[v]}class Notifications extends SvelteComponent{constructor(r){super(),init(this,r,instance$14,create_fragment$1d,safe_not_equal,{})}}function getWindowElement($){return document.querySelector(`window#${$.id}`)}function getWindowElementByEvent($){const r=$.composedPath();for(let p=0;p<r.length;p++){const v=r[p].tagName;if(v&&v.toLowerCase()=="window")return r[p]}}function generateCSS($,r){let p="";return p+=`min-width: ${$.minSize.w}px;`,p+=`min-height: ${$.minSize.h}px;`,p+=`max-width: ${$.maxSize.w}px;`,p+=`max-height: ${$.maxSize.h}px;`,r&&(p+=`left: ${$.pos.x}px;`,p+=`top: ${$.pos.y}px;`),p+=`width: ${$.size.w}px;`,p+=`height: ${$.size.h}px;`,p}function generateOverlayCSS($){let r="";return r+=`min-width: ${$.size.w}px;`,r+=`min-height: ${$.size.h}px;`,r+=`max-width: ${$.size.w}px;`,r+=`max-height: ${$.size.h}px;`,r+=`width: ${$.size.w}px;`,r+=`height: ${$.size.h}px;`,r}function centerWindow($){const r=get_store_value(WindowStore);for(let p=0;p<r.length;p++)r[p].id==$&&(r[p].pos=calculatePos(r[p]),WindowStore.set(r))}function calculatePos($){const r=getWindowElement($),p=r.offsetWidth,v=r.offsetHeight,k=document.body.offsetWidth,x=document.body.offsetHeight,S=(k-p)/2,L=(x-v)/2;return r.style.left=`${S}px`,r.style.top=`${L}px`,{x:S,y:L,centered:!0}}function loadWindow($,r){if(isLoaded($))return Log({level:LogLevel.error,msg:`Window ${$} already exists in WindowStore.`,source:"AppLogic: loadWindow"});const p=get_store_value(WindowStore),v={...r,id:$},k=[],x=Object.entries(v.children||{});for(let I=0;I<x.length;I++)k.push({...x[I][1],id:x[I][0],parentId:$,opened:!1,info:{...x[I][1].info,hidden:!0}});const S=get_store_value(UserData);S.disabledApps||(S.disabledApps=[],UserData.set(S)),S&&S.disabledApps.includes($)&&!SystemApps.includes($)&&(v.disabled=!0),p.push(v);for(let I=0;I<k.length;I++)p.push(k[I]);WindowStore.set(p),registerAppShortcuts($,r);const L=get_store_value(UserData).disabledApps;r.disabledWarning&&L.includes($)&&makeNotification({...r.disabledWarning,buttons:[],image:r.info.icon,timeout:6e3}),setTimeout(()=>{r.pos.centered&&centerWindow($)},300),Log({level:LogLevel.info,msg:`Loaded ${$} into WindowStore.`,source:"AppLogic: loadWindow"})}async function importDefault($=!1){Log({msg:"Importing default applications",source:"imports.ts: importDefault",level:LogLevel.info});const r=Object.entries(DefaultApps);for(let p=0;p<r.length;p++)Log({msg:`Importing default application "${r[p][0]}"...`,source:"imports.ts: importDefault",level:LogLevel.info}),await loadWindow(r[p][0],r[p][1]),$&&openWindow(r[p][0]);updateStores()}const QuickSettings=[{icon:"motion_photos_on",iconOff:"motion_photos_off",getter($){return $.sh.anim},setter($){return $.sh.anim=!$.sh.anim,UserData.set($),$.sh.anim},caption:"Animations"},{icon:"blur_on",iconOff:"blur_off",getter($){return!$.sh.noGlass},setter($){return $.sh.noGlass=!$.sh.noGlass,UserData.set($),!$.sh.noGlass},caption:"Transparency"},{icon:"call_to_action",iconOff:"call_to_action",getter($){return $.sh.taskbar.docked},setter($){return $.sh.taskbar.docked=!$.sh.taskbar.docked,UserData.set($),$.sh.taskbar.docked},caption:"Dock Taskbar"},{icon:"dark_mode",iconOff:"light_mode",getter($){return $.sh.desktop.theme=="dark"},setter($){const r=$.sh.desktop.theme;return $.sh.desktop.theme=r=="dark"?"light":"dark",UserData.set($),$.sh.desktop.theme=="dark"},caption:"Dark mode"},{icon:"",iconOff:"",getter(){return!1},setter(){return!1},caption:""},{icon:"",iconOff:"",getter(){return!1},setter(){return!1},caption:""},{icon:"",iconOff:"",getter(){return!1},setter(){return!1},caption:""},{icon:"search",iconOff:"search",getter(){return!1},setter(){return showArcFind.set(!0),!1},caption:"Search"},{icon:"logout",iconOff:"logout",getter(){return!1},setter(){return openWindow("Exit"),!1},caption:"Exit"}];function create_fragment$1c($){let r,p=($[1]?$[0].icon:$[0].iconOff)+"",v,k,x,S=$[0].caption+"",L,I,O;return{c(){r=element("button"),v=text(p),k=space(),x=element("p"),L=text(S),attr(x,"class","caption"),attr(r,"class","setting material-icons-round"),toggle_class(r,"active",$[1])},m(F,U){insert(F,r,U),append(r,v),append(r,k),append(r,x),append(x,L),I||(O=listen(r,"click",$[2]),I=!0)},p(F,[U]){U&3&&p!==(p=(F[1]?F[0].icon:F[0].iconOff)+"")&&set_data(v,p),U&1&&S!==(S=F[0].caption+"")&&set_data(L,S),U&2&&toggle_class(r,"active",F[1])},i:noop$1,o:noop$1,d(F){F&&detach(r),I=!1,O()}}}function instance$13($,r,p){let v;component_subscribe($,UserData,L=>p(3,v=L));let k=!1,{setting:x}=r;function S(){x.setter(v),p(1,k=x.getter(v))}return onMount(()=>{p(1,k=x.getter(v))}),UserData.subscribe(L=>{p(1,k=x.getter(L))}),$.$$set=L=>{"setting"in L&&p(0,x=L.setting)},[x,k,S]}class Setting extends SvelteComponent{constructor(r){super(),init(this,r,instance$13,create_fragment$1c,safe_not_equal,{setting:0})}}function get_each_context$g($,r,p){const v=$.slice();return v[0]=r[p],v}function create_each_block$g($){let r,p;return r=new Setting({props:{setting:$[0]}}),{c(){create_component(r.$$.fragment)},m(v,k){mount_component(r,v,k),p=!0},p:noop$1,i(v){p||(transition_in(r.$$.fragment,v),p=!0)},o(v){transition_out(r.$$.fragment,v),p=!1},d(v){destroy_component(r,v)}}}function create_fragment$1b($){let r,p,v=QuickSettings,k=[];for(let S=0;S<v.length;S+=1)k[S]=create_each_block$g(get_each_context$g($,v,S));const x=S=>transition_out(k[S],1,1,()=>{k[S]=null});return{c(){r=element("div");for(let S=0;S<k.length;S+=1)k[S].c();attr(r,"class","quicksettings")},m(S,L){insert(S,r,L);for(let I=0;I<k.length;I+=1)k[I]&&k[I].m(r,null);p=!0},p(S,[L]){if(L&0){v=QuickSettings;let I;for(I=0;I<v.length;I+=1){const O=get_each_context$g(S,v,I);k[I]?(k[I].p(O,L),transition_in(k[I],1)):(k[I]=create_each_block$g(O),k[I].c(),transition_in(k[I],1),k[I].m(r,null))}for(group_outros(),I=v.length;I<k.length;I+=1)x(I);check_outros()}},i(S){if(!p){for(let L=0;L<v.length;L+=1)transition_in(k[L]);p=!0}},o(S){k=k.filter(Boolean);for(let L=0;L<k.length;L+=1)transition_out(k[L]);p=!1},d(S){S&&detach(r),destroy_each(k,S)}}}class QuickSettings_1 extends SvelteComponent{constructor(r){super(),init(this,r,null,create_fragment$1b,safe_not_equal,{})}}function create_fragment$1a($){let r,p,v=$[0].sh.noQuickSettings?"Expand":"Collapse",k,x,S;return{c(){r=element("div"),p=element("button"),k=text(v),attr(p,"class","toggle"),attr(r,"class","quicksettings-toggle")},m(L,I){insert(L,r,I),append(r,p),append(p,k),x||(S=listen(p,"click",$[1]),x=!0)},p(L,[I]){I&1&&v!==(v=L[0].sh.noQuickSettings?"Expand":"Collapse")&&set_data(k,v)},i:noop$1,o:noop$1,d(L){L&&detach(r),x=!1,S()}}}function instance$12($,r,p){let v;component_subscribe($,UserData,x=>p(0,v=x));function k(){set_store_value(UserData,v.sh.noQuickSettings=!v.sh.noQuickSettings,v)}return[v,k]}class QuickSettingsToggle extends SvelteComponent{constructor(r){super(),init(this,r,instance$12,create_fragment$1a,safe_not_equal,{})}}function create_fragment$19($){let r,p,v,k,x,S,L,I,O,F,U,R,N,j,q;return I=new Notifications({}),F=new QuickSettingsToggle({}),R=new QuickSettings_1({}),{c(){r=element("div"),p=element("h3"),v=text("Notifications "),k=element("button"),x=text("Clear"),L=space(),create_component(I.$$.fragment),O=space(),create_component(F.$$.fragment),U=space(),create_component(R.$$.fragment),attr(k,"class","clear"),k.disabled=S=!Object.entries($[3]).length,attr(p,"class","title"),attr(r,"class","actioncenter"),set_style(r,"z-index",$[2]+4),toggle_class(r,"docked",$[1].sh.taskbar.docked),toggle_class(r,"launcher",$[1].sh.taskbar.isLauncher),toggle_class(r,"opened",$[0]),toggle_class(r,"noquick",$[1].sh.noQuickSettings),toggle_class(r,"colored",$[1].sh.taskbar.colored)},m(H,Q){insert(H,r,Q),append(r,p),append(p,v),append(p,k),append(k,x),append(r,L),mount_component(I,r,null),append(r,O),mount_component(F,r,null),append(r,U),mount_component(R,r,null),N=!0,j||(q=listen(k,"click",$[4]),j=!0)},p(H,[Q]){(!N||Q&8&&S!==(S=!Object.entries(H[3]).length))&&(k.disabled=S),(!N||Q&4)&&set_style(r,"z-index",H[2]+4),(!N||Q&2)&&toggle_class(r,"docked",H[1].sh.taskbar.docked),(!N||Q&2)&&toggle_class(r,"launcher",H[1].sh.taskbar.isLauncher),(!N||Q&1)&&toggle_class(r,"opened",H[0]),(!N||Q&2)&&toggle_class(r,"noquick",H[1].sh.noQuickSettings),(!N||Q&2)&&toggle_class(r,"colored",H[1].sh.taskbar.colored)},i(H){N||(transition_in(I.$$.fragment,H),transition_in(F.$$.fragment,H),transition_in(R.$$.fragment,H),N=!0)},o(H){transition_out(I.$$.fragment,H),transition_out(F.$$.fragment,H),transition_out(R.$$.fragment,H),N=!1},d(H){H&&detach(r),destroy_component(I),destroy_component(F),destroy_component(R),j=!1,q()}}}function instance$11($,r,p){let v,k,x;component_subscribe($,UserData,I=>p(1,v=I)),component_subscribe($,maxZIndex,I=>p(2,k=I)),component_subscribe($,NotificationStore,I=>p(3,x=I));let S=!1;ActionCenterOpened.subscribe(I=>p(0,S=I));function L(){NotificationStore.set({}),CurrentNotification.set(null)}return[S,v,k,x,L]}class ActionCenter extends SvelteComponent{constructor(r){super(),init(this,r,instance$11,create_fragment$19,safe_not_equal,{})}}function get_each_context$f($,r,p){const v=$.slice();return v[8]=r[p],v}function create_if_block$w($){let r,p,v=$[0].title+"",k,x,S,L,I,O=$[0].message+"",F,U,R,N;function j(K,G){return K[0].image?create_if_block_1$b:create_else_block$b}let q=j($),H=q($),Q=$[0].buttons,V=[];for(let K=0;K<Q.length;K+=1)V[K]=create_each_block$f(get_each_context$f($,Q,K));return{c(){r=element("p"),H.c(),p=space(),k=text(v),x=space(),S=element("button"),S.textContent="close",L=space(),I=element("p"),F=space(),U=element("div");for(let K=0;K<V.length;K+=1)V[K].c();attr(S,"class","close material-icons-round"),attr(r,"class","title"),attr(I,"class","message"),attr(U,"class","buttons")},m(K,G){insert(K,r,G),H.m(r,null),append(r,p),append(r,k),append(r,x),append(r,S),insert(K,L,G),insert(K,I,G),I.innerHTML=O,insert(K,F,G),insert(K,U,G);for(let Y=0;Y<V.length;Y+=1)V[Y]&&V[Y].m(U,null);R||(N=listen(S,"click",$[4]),R=!0)},p(K,G){if(q===(q=j(K))&&H?H.p(K,G):(H.d(1),H=q(K),H&&(H.c(),H.m(r,p))),G&1&&v!==(v=K[0].title+"")&&set_data(k,v),G&1&&O!==(O=K[0].message+"")&&(I.innerHTML=O),G&33){Q=K[0].buttons;let Y;for(Y=0;Y<Q.length;Y+=1){const J=get_each_context$f(K,Q,Y);V[Y]?V[Y].p(J,G):(V[Y]=create_each_block$f(J),V[Y].c(),V[Y].m(U,null))}for(;Y<V.length;Y+=1)V[Y].d(1);V.length=Q.length}},d(K){K&&detach(r),H.d(),K&&detach(L),K&&detach(I),K&&detach(F),K&&detach(U),destroy_each(V,K),R=!1,N()}}}function create_else_block$b($){let r,p=$[0].icon+"",v;return{c(){r=element("span"),v=text(p),attr(r,"class","material-icons-round")},m(k,x){insert(k,r,x),append(r,v)},p(k,x){x&1&&p!==(p=k[0].icon+"")&&set_data(v,p)},d(k){k&&detach(r)}}}function create_if_block_1$b($){let r,p,v;return{c(){r=element("img"),src_url_equal(r.src,p=$[0].image)||attr(r,"src",p),attr(r,"alt",v=$[0].title)},m(k,x){insert(k,r,x)},p(k,x){x&1&&!src_url_equal(r.src,p=k[0].image)&&attr(r,"src",p),x&1&&v!==(v=k[0].title)&&attr(r,"alt",v)},d(k){k&&detach(r)}}}function create_each_block$f($){let r,p=$[8].caption+"",v,k,x;return{c(){r=element("button"),v=text(p)},m(S,L){insert(S,r,L),append(r,v),k||(x=listen(r,"click",function(){is_function($[5]($[8].action))&&$[5]($[8].action).apply(this,arguments)}),k=!0)},p(S,L){$=S,L&1&&p!==(p=$[8].caption+"")&&set_data(v,p)},d(S){S&&detach(r),k=!1,x()}}}function create_fragment$18($){let r,p=$[0]&&create_if_block$w($);return{c(){r=element("div"),p&&p.c(),attr(r,"class","notification"),set_style(r,"z-index",$[3]+4),toggle_class(r,"hidden",!$[0]||$[1]),toggle_class(r,"colored",$[2].sh.taskbar.colored),toggle_class(r,"nobutt",$[0]&&!$[0].buttons.length),toggle_class(r,"launcher",$[2].sh.taskbar.isLauncher)},m(v,k){insert(v,r,k),p&&p.m(r,null)},p(v,[k]){v[0]?p?p.p(v,k):(p=create_if_block$w(v),p.c(),p.m(r,null)):p&&(p.d(1),p=null),k&8&&set_style(r,"z-index",v[3]+4),k&3&&toggle_class(r,"hidden",!v[0]||v[1]),k&4&&toggle_class(r,"colored",v[2].sh.taskbar.colored),k&1&&toggle_class(r,"nobutt",v[0]&&!v[0].buttons.length),k&4&&toggle_class(r,"launcher",v[2].sh.taskbar.isLauncher)},i:noop$1,o:noop$1,d(v){v&&detach(r),p&&p.d()}}}function instance$10($,r,p){let v,k,x;component_subscribe($,NotificationStore,U=>p(7,v=U)),component_subscribe($,UserData,U=>p(2,k=U)),component_subscribe($,maxZIndex,U=>p(3,x=U));let S=null,L=!1,I;CurrentNotification.subscribe(U=>{if(U){p(1,L=!0),p(0,S=null),I=U,setTimeout(()=>{p(1,L=!1),p(0,S=v[U])},250);return}p(1,L=!0),setTimeout(()=>{p(0,S=null)},300)});function O(){closeNotification()}function F(U){return()=>{U(),O(),deleteNotification(I)}}return[S,L,k,x,O,F]}class PushNotification extends SvelteComponent{constructor(r){super(),init(this,r,instance$10,create_fragment$18,safe_not_equal,{})}}function create_if_block$v($){let r,p=$[0].info.name+"",v;return{c(){r=element("span"),v=text(p)},m(k,x){insert(k,r,x),append(r,v)},p(k,x){x&1&&p!==(p=k[0].info.name+"")&&set_data(v,p)},d(k){k&&detach(r)}}}function create_fragment$17($){let r,p,v,k,x,S,L,I=$[1]&&create_if_block$v($);return{c(){r=element("button"),p=element("img"),x=space(),I&&I.c(),src_url_equal(p.src,v=getOriginalIcon($[0].id)||getAppIcon($[0]))||attr(p,"src",v),attr(p,"alt",k=$[0].info.name),attr(p,"class","icon"),attr(r,"class","appbutton"),toggle_class(r,"minimized",$[2]),toggle_class(r,"activated",$[0].id==$[3])},m(O,F){insert(O,r,F),append(r,p),append(r,x),I&&I.m(r,null),S||(L=listen(r,"click",$[4]),S=!0)},p(O,[F]){F&1&&!src_url_equal(p.src,v=getOriginalIcon(O[0].id)||getAppIcon(O[0]))&&attr(p,"src",v),F&1&&k!==(k=O[0].info.name)&&attr(p,"alt",k),O[1]?I?I.p(O,F):(I=create_if_block$v(O),I.c(),I.m(r,null)):I&&(I.d(1),I=null),F&4&&toggle_class(r,"minimized",O[2]),F&9&&toggle_class(r,"activated",O[0].id==O[3])},i:noop$1,o:noop$1,d(O){O&&detach(r),I&&I.d(),S=!1,L()}}}function instance$$($,r,p){let v,k;component_subscribe($,maxZIndex,O=>p(5,v=O)),component_subscribe($,focusedWindowId,O=>p(3,k=O));let{app:x}=r,S=!1,L=!1;UserData.subscribe(O=>{p(1,S=O.sh.taskbar.labels)}),WindowStore.subscribe(()=>{p(2,L=isMinimized(x.id))});function I(){k==x.id?p(0,x.state.windowState.min=!x.state.windowState.min,x):p(0,x.state.windowState.min=!1,x),updateStores(),set_store_value(maxZIndex,v++,v),set_store_value(focusedWindowId,k=x.id,k);const O=getWindowElement(x);O.style.zIndex=v.toString()}return $.$$set=O=>{"app"in O&&p(0,x=O.app)},[x,S,L,k,I]}class TaskbarButton extends SvelteComponent{constructor(r){super(),init(this,r,instance$$,create_fragment$17,safe_not_equal,{app:0})}}const upload=""+new URL("upload-54369c84.svg",import.meta.url).href;function get_each_context$e($,r,p){const v=$.slice();return v[8]=r[p],v}function create_else_block$a($){let r,p,v;return{c(){r=element("img"),src_url_equal(r.src,p=$[8].image)||attr(r,"src",p),attr(r,"alt",v=$[8].identifier)},m(k,x){insert(k,r,x)},p(k,x){x&4&&!src_url_equal(r.src,p=k[8].image)&&attr(r,"src",p),x&4&&v!==(v=k[8].identifier)&&attr(r,"alt",v)},d(k){k&&detach(r)}}}function create_if_block_1$a($){let r,p=$[8].icon+"",v;return{c(){r=element("span"),v=text(p),attr(r,"class","material-icons-round")},m(k,x){insert(k,r,x),append(r,v)},p(k,x){x&4&&p!==(p=k[8].icon+"")&&set_data(v,p)},d(k){k&&detach(r)}}}function create_each_block$e($){let r,p,v;function k(I,O){return I[8].icon?create_if_block_1$a:create_else_block$a}let x=k($),S=x($);function L(){return $[7]($[8])}return{c(){r=element("button"),S.c(),attr(r,"class","icon")},m(I,O){insert(I,r,O),S.m(r,null),p||(v=listen(r,"click",L),p=!0)},p(I,O){$=I,x===(x=k($))&&S?S.p($,O):(S.d(1),S=x($),S&&(S.c(),S.m(r,null)))},d(I){I&&detach(r),S.d(),p=!1,v()}}}function create_if_block$u($){let r,p;return{c(){r=element("div"),p=text($[1]),attr(r,"class","clock")},m(v,k){insert(v,r,k),append(r,p)},p(v,k){k&2&&set_data(p,v[1])},d(v){v&&detach(r)}}}function create_fragment$16($){let r,p,v,k,x,S,L,I,O,F,U,R,N=$[2],j=[];for(let V=0;V<N.length;V+=1)j[V]=create_each_block$e(get_each_context$e($,N,V));let q=$[0]&&create_if_block$u($);const H=$[6].default,Q=create_slot(H,$,$[5],null);return{c(){r=element("div");for(let V=0;V<j.length;V+=1)j[V].c();p=space(),v=element("button"),k=element("img"),S=space(),q&&q.c(),L=space(),I=element("button"),I.textContent="notifications",O=space(),Q&&Q.c(),src_url_equal(k.src,x=upload)||attr(k,"src",x),attr(k,"alt","Committing"),attr(v,"class","icon committer"),toggle_class(v,"inactive",!$[3]),attr(I,"class","material-icons-round ac-open"),toggle_class(I,"opened",$[4]),attr(r,"class","tray")},m(V,K){insert(V,r,K);for(let G=0;G<j.length;G+=1)j[G]&&j[G].m(r,null);append(r,p),append(r,v),append(v,k),append(r,S),q&&q.m(r,null),append(r,L),append(r,I),append(r,O),Q&&Q.m(r,null),F=!0,U||(R=listen(I,"click",toggleActionCenter),U=!0)},p(V,[K]){if(K&4){N=V[2];let G;for(G=0;G<N.length;G+=1){const Y=get_each_context$e(V,N,G);j[G]?j[G].p(Y,K):(j[G]=create_each_block$e(Y),j[G].c(),j[G].m(r,p))}for(;G<j.length;G+=1)j[G].d(1);j.length=N.length}(!F||K&8)&&toggle_class(v,"inactive",!V[3]),V[0]?q?q.p(V,K):(q=create_if_block$u(V),q.c(),q.m(r,L)):q&&(q.d(1),q=null),(!F||K&16)&&toggle_class(I,"opened",V[4]),Q&&Q.p&&(!F||K&32)&&update_slot_base(Q,H,V,V[5],F?get_slot_changes(H,V[5],K,null):get_all_dirty_from_scope(V[5]),null)},i(V){F||(transition_in(Q,V),F=!0)},o(V){transition_out(Q,V),F=!1},d(V){V&&detach(r),destroy_each(j,V),q&&q.d(),Q&&Q.d(V),U=!1,R()}}}function instance$_($,r,p){let v,k,x;component_subscribe($,trayIcons,U=>p(2,v=U)),component_subscribe($,committingUserData,U=>p(3,k=U)),component_subscribe($,ActionCenterOpened,U=>p(4,x=U));let{$$slots:S={},$$scope:L}=r,{hasClock:I=!0}=r,O="";onMount(()=>{setInterval(()=>{p(1,O=dayjs().format("HH:mm"))})});const F=U=>U.onOpen(U);return $.$$set=U=>{"hasClock"in U&&p(0,I=U.hasClock),"$$scope"in U&&p(5,L=U.$$scope)},[I,O,v,k,x,L,S,F]}class Tray extends SvelteComponent{constructor(r){super(),init(this,r,instance$_,create_fragment$16,safe_not_equal,{hasClock:0})}}const TaskbarContent_svelte_svelte_type_style_lang="";function get_each_context$d($,r,p){const v=$.slice();return v[2]=r[p],v}function create_if_block_1$9($){let r,p;return r=new TaskbarButton({props:{app:$[2]}}),{c(){create_component(r.$$.fragment)},m(v,k){mount_component(r,v,k),p=!0},p(v,k){const x={};k&2&&(x.app=v[2]),r.$set(x)},i(v){p||(transition_in(r.$$.fragment,v),p=!0)},o(v){transition_out(r.$$.fragment,v),p=!1},d(v){destroy_component(r,v)}}}function create_each_block$d($){let r,p,v=!$[2].disabled&&create_if_block_1$9($);return{c(){v&&v.c(),r=empty()},m(k,x){v&&v.m(k,x),insert(k,r,x),p=!0},p(k,x){k[2].disabled?v&&(group_outros(),transition_out(v,1,1,()=>{v=null}),check_outros()):v?(v.p(k,x),x&2&&transition_in(v,1)):(v=create_if_block_1$9(k),v.c(),transition_in(v,1),v.m(r.parentNode,r))},i(k){p||(transition_in(v),p=!0)},o(k){transition_out(v),p=!1},d(k){v&&v.d(k),k&&detach(r)}}}function create_else_block$9($){let r,p,v;return p=new Spinner({props:{height:24}}),{c(){r=element("div"),create_component(p.$$.fragment),attr(r,"class","tray svelte-1vsr6ui")},m(k,x){insert(k,r,x),mount_component(p,r,null),v=!0},i(k){v||(transition_in(p.$$.fragment,k),v=!0)},o(k){transition_out(p.$$.fragment,k),v=!1},d(k){k&&detach(r),destroy_component(p)}}}function create_if_block$t($){let r,p;return r=new Tray({}),{c(){create_component(r.$$.fragment)},m(v,k){mount_component(r,v,k),p=!0},i(v){p||(transition_in(r.$$.fragment,v),p=!0)},o(v){transition_out(r.$$.fragment,v),p=!1},d(v){destroy_component(r,v)}}}function create_fragment$15($){let r,p,v,k,x,S,L=$[1],I=[];for(let N=0;N<L.length;N+=1)I[N]=create_each_block$d(get_each_context$d($,L,N));const O=N=>transition_out(I[N],1,1,()=>{I[N]=null}),F=[create_if_block$t,create_else_block$9],U=[];function R(N,j){return N[0]?0:1}return v=R($),k=U[v]=F[v]($),{c(){r=element("div");for(let N=0;N<I.length;N+=1)I[N].c();p=space(),k.c(),x=empty(),attr(r,"class","buttons")},m(N,j){insert(N,r,j);for(let q=0;q<I.length;q+=1)I[q]&&I[q].m(r,null);insert(N,p,j),U[v].m(N,j),insert(N,x,j),S=!0},p(N,[j]){if(j&2){L=N[1];let H;for(H=0;H<L.length;H+=1){const Q=get_each_context$d(N,L,H);I[H]?(I[H].p(Q,j),transition_in(I[H],1)):(I[H]=create_each_block$d(Q),I[H].c(),transition_in(I[H],1),I[H].m(r,null))}for(group_outros(),H=L.length;H<I.length;H+=1)O(H);check_outros()}let q=v;v=R(N),v!==q&&(group_outros(),transition_out(U[q],1,1,()=>{U[q]=null}),check_outros(),k=U[v],k||(k=U[v]=F[v](N),k.c()),transition_in(k,1),k.m(x.parentNode,x))},i(N){if(!S){for(let j=0;j<L.length;j+=1)transition_in(I[j]);transition_in(k),S=!0}},o(N){I=I.filter(Boolean);for(let j=0;j<I.length;j+=1)transition_out(I[j]);transition_out(k),S=!1},d(N){N&&detach(r),destroy_each(I,N),N&&detach(p),U[v].d(N),N&&detach(x)}}}function instance$Z($,r,p){let v=!1,k=[];return WindowStore.subscribe(()=>{p(1,k=getOpenedStore())}),onMount(()=>{p(0,v=!1),setTimeout(()=>{p(0,v=!0)},3e3)}),[v,k]}class TaskbarContent extends SvelteComponent{constructor(r){super(),init(this,r,instance$Z,create_fragment$15,safe_not_equal,{})}}function create_fragment$14($){let r,p,v,k;const x=$[4].default,S=create_slot(x,$,$[3],null);return v=new TaskbarContent({}),{c(){r=element("div"),S&&S.c(),p=space(),create_component(v.$$.fragment),attr(r,"class","taskbar-h newtb"),set_style(r,"z-index",$[0]+5),attr(r,"data-caller","shell-taskbar"),toggle_class(r,"docked",$[1].sh.taskbar.docked),toggle_class(r,"centered",$[1].sh.taskbar.centered),toggle_class(r,"colored",$[1].sh.taskbar.colored),toggle_class(r,"visible",$[1].sh.taskbar.pos==""&&!$[2])},m(L,I){insert(L,r,I),S&&S.m(r,null),append(r,p),mount_component(v,r,null),k=!0},p(L,[I]){S&&S.p&&(!k||I&8)&&update_slot_base(S,x,L,L[3],k?get_slot_changes(x,L[3],I,null):get_all_dirty_from_scope(L[3]),null),(!k||I&1)&&set_style(r,"z-index",L[0]+5),(!k||I&2)&&toggle_class(r,"docked",L[1].sh.taskbar.docked),(!k||I&2)&&toggle_class(r,"centered",L[1].sh.taskbar.centered),(!k||I&2)&&toggle_class(r,"colored",L[1].sh.taskbar.colored),(!k||I&6)&&toggle_class(r,"visible",L[1].sh.taskbar.pos==""&&!L[2])},i(L){k||(transition_in(S,L),transition_in(v.$$.fragment,L),k=!0)},o(L){transition_out(S,L),transition_out(v.$$.fragment,L),k=!1},d(L){L&&detach(r),S&&S.d(L),destroy_component(v)}}}function instance$Y($,r,p){let v,k,x;component_subscribe($,maxZIndex,I=>p(0,v=I)),component_subscribe($,UserData,I=>p(1,k=I)),component_subscribe($,isFullscreenWindow,I=>p(2,x=I));let{$$slots:S={},$$scope:L}=r;return $.$$set=I=>{"$$scope"in I&&p(3,L=I.$$scope)},[v,k,x,L,S]}class HorizontalTaskbar extends SvelteComponent{constructor(r){super(),init(this,r,instance$Y,create_fragment$14,safe_not_equal,{})}}function create_fragment$13($){let r,p,v,k,x,S,L;return{c(){r=element("button"),p=element("img"),src_url_equal(p.src,v=getOriginalIcon($[0].id)||$[0].info.icon)||attr(p,"src",v),attr(p,"alt",k=$[0].info.name),attr(r,"title",x=$[0].info.name),toggle_class(r,"minimized",$[1]),toggle_class(r,"activated",$[0].id==$[2])},m(I,O){insert(I,r,O),append(r,p),S||(L=listen(r,"click",$[3]),S=!0)},p(I,[O]){O&1&&!src_url_equal(p.src,v=getOriginalIcon(I[0].id)||I[0].info.icon)&&attr(p,"src",v),O&1&&k!==(k=I[0].info.name)&&attr(p,"alt",k),O&1&&x!==(x=I[0].info.name)&&attr(r,"title",x),O&2&&toggle_class(r,"minimized",I[1]),O&5&&toggle_class(r,"activated",I[0].id==I[2])},i:noop$1,o:noop$1,d(I){I&&detach(r),S=!1,L()}}}function instance$X($,r,p){let v,k;component_subscribe($,maxZIndex,I=>p(4,v=I)),component_subscribe($,focusedWindowId,I=>p(2,k=I));let{app:x}=r,S=!1;WindowStore.subscribe(()=>{p(1,S=isMinimized(x.id))});function L(){k==x.id?p(0,x.state.windowState.min=!x.state.windowState.min,x):p(0,x.state.windowState.min=!1,x),updateStores(),set_store_value(maxZIndex,v++,v),set_store_value(focusedWindowId,k=x.id,k);const I=getWindowElement(x);I.style.zIndex=v.toString(),showArcFind.set(!1)}return $.$$set=I=>{"app"in I&&p(0,x=I.app)},[x,S,k,L]}class AppButton extends SvelteComponent{constructor(r){super(),init(this,r,instance$X,create_fragment$13,safe_not_equal,{app:0})}}function create_fragment$12($){let r,p,v;return{c(){r=element("div"),attr(r,"class","launcher-bar-trigger"),set_style(r,"z-index",$[0]+32)},m(k,x){insert(k,r,x),p||(v=[listen(r,"mouseenter",$[1]),listen(r,"mouseleave",$[2])],p=!0)},p(k,[x]){x&1&&set_style(r,"z-index",k[0]+32)},i:noop$1,o:noop$1,d(k){k&&detach(r),p=!1,run_all(v)}}}function instance$W($,r,p){let v;component_subscribe($,maxZIndex,O=>p(0,v=O));let{visible:k=!1}=r,{dockfocused:x}=r,{interval:S}=r;function L(){p(3,k=!0)}function I(){clearTimeout(S),!x&&p(4,S=setTimeout(()=>{p(3,k=!1)},1e3))}return $.$$set=O=>{"visible"in O&&p(3,k=O.visible),"dockfocused"in O&&p(5,x=O.dockfocused),"interval"in O&&p(4,S=O.interval)},[v,L,I,k,S,x]}class Trigger extends SvelteComponent{constructor(r){super(),init(this,r,instance$W,create_fragment$12,safe_not_equal,{visible:3,dockfocused:5,interval:4})}}function get_each_context$c($,r,p){const v=$.slice();return v[12]=r[p],v}function create_if_block$s($){let r,p;return r=new AppButton({props:{app:$[12]}}),{c(){create_component(r.$$.fragment)},m(v,k){mount_component(r,v,k),p=!0},p(v,k){const x={};k&1&&(x.app=v[12]),r.$set(x)},i(v){p||(transition_in(r.$$.fragment,v),p=!0)},o(v){transition_out(r.$$.fragment,v),p=!1},d(v){destroy_component(r,v)}}}function create_each_block$c($){let r,p,v=!$[12].info.hidden&&create_if_block$s($);return{c(){v&&v.c(),r=empty()},m(k,x){v&&v.m(k,x),insert(k,r,x),p=!0},p(k,x){k[12].info.hidden?v&&(group_outros(),transition_out(v,1,1,()=>{v=null}),check_outros()):v?(v.p(k,x),x&1&&transition_in(v,1)):(v=create_if_block$s(k),v.c(),transition_in(v,1),v.m(r.parentNode,r))},i(k){p||(transition_in(v),p=!0)},o(k){transition_out(v),p=!1},d(k){v&&v.d(k),k&&detach(r)}}}function create_fragment$11($){let r,p,v,k,x,S,L,I,O,F,U,R,N,j=$[0],q=[];for(let G=0;G<j.length;G+=1)q[G]=create_each_block$c(get_each_context$c($,j,G));const H=G=>transition_out(q[G],1,1,()=>{q[G]=null});function Q(G){$[9](G)}function V(G){$[10](G)}let K={dockfocused:$[2]};return $[1]!==void 0&&(K.visible=$[1]),$[3]!==void 0&&(K.interval=$[3]),I=new Trigger({props:K}),binding_callbacks.push(()=>bind$1(I,"visible",Q)),binding_callbacks.push(()=>bind$1(I,"interval",V)),{c(){r=element("div"),p=element("button"),v=element("img"),x=space(),S=element("div");for(let G=0;G<q.length;G+=1)q[G].c();L=space(),create_component(I.$$.fragment),src_url_equal(v.src,k=logo$c)||attr(v,"src",k),attr(v,"alt","ArcOS"),attr(p,"class","apps"),attr(S,"class","opened-apps"),attr(r,"class","launcher-bar"),set_style(r,"z-index",$[5]+31),toggle_class(r,"colored",$[4].sh.taskbar.colored),toggle_class(r,"visible",$[1])},m(G,Y){insert(G,r,Y),append(r,p),append(p,v),append(r,x),append(r,S);for(let J=0;J<q.length;J+=1)q[J]&&q[J].m(S,null);insert(G,L,Y),mount_component(I,G,Y),U=!0,R||(N=[listen(p,"click",$[8]),listen(r,"mouseenter",$[6]),listen(r,"mouseleave",$[7])],R=!0)},p(G,[Y]){if(Y&1){j=G[0];let Z;for(Z=0;Z<j.length;Z+=1){const X=get_each_context$c(G,j,Z);q[Z]?(q[Z].p(X,Y),transition_in(q[Z],1)):(q[Z]=create_each_block$c(X),q[Z].c(),transition_in(q[Z],1),q[Z].m(S,null))}for(group_outros(),Z=j.length;Z<q.length;Z+=1)H(Z);check_outros()}(!U||Y&32)&&set_style(r,"z-index",G[5]+31),(!U||Y&16)&&toggle_class(r,"colored",G[4].sh.taskbar.colored),(!U||Y&2)&&toggle_class(r,"visible",G[1]);const J={};Y&4&&(J.dockfocused=G[2]),!O&&Y&2&&(O=!0,J.visible=G[1],add_flush_callback(()=>O=!1)),!F&&Y&8&&(F=!0,J.interval=G[3],add_flush_callback(()=>F=!1)),I.$set(J)},i(G){if(!U){for(let Y=0;Y<j.length;Y+=1)transition_in(q[Y]);transition_in(I.$$.fragment,G),U=!0}},o(G){q=q.filter(Boolean);for(let Y=0;Y<q.length;Y+=1)transition_out(q[Y]);transition_out(I.$$.fragment,G),U=!1},d(G){G&&detach(r),destroy_each(q,G),G&&detach(L),destroy_component(I,G),R=!1,run_all(N)}}}function instance$V($,r,p){let v,k,x;component_subscribe($,showArcFind,q=>p(11,v=q)),component_subscribe($,UserData,q=>p(4,k=q)),component_subscribe($,maxZIndex,q=>p(5,x=q));let S=[],L=!1,I=!1,O;WindowStore.subscribe(()=>{p(0,S=getOpenedStore())});function F(){p(2,I=!0),clearTimeout(O)}function U(){p(2,I=!1),p(3,O=setTimeout(()=>{p(1,L=!1)},1e3))}function R(){set_store_value(showArcFind,v=!v,v)}function N(q){L=q,p(1,L)}function j(q){O=q,p(3,O)}return[S,L,I,O,k,x,F,U,R,N,j]}class Bar extends SvelteComponent{constructor(r){super(),init(this,r,instance$V,create_fragment$11,safe_not_equal,{})}}function create_default_slot$3($){let r=Object.entries($[3]).length+"",p,v;return{c(){p=text(r),v=text(" Notifications")},m(k,x){insert(k,p,x),insert(k,v,x)},p(k,x){x&8&&r!==(r=Object.entries(k[3]).length+"")&&set_data(p,r)},d(k){k&&detach(p),k&&detach(v)}}}function create_fragment$10($){let r,p,v;return p=new Tray({props:{hasClock:!1,$$slots:{default:[create_default_slot$3]},$$scope:{ctx:$}}}),{c(){r=element("div"),create_component(p.$$.fragment),attr(r,"class","launcher-topbar"),set_style(r,"z-index",$[2]+22),toggle_class(r,"docked",$[0].sh.taskbar.docked),toggle_class(r,"colored",$[0].sh.taskbar.colored),toggle_class(r,"visible",!$[1])},m(k,x){insert(k,r,x),mount_component(p,r,null),v=!0},p(k,[x]){const S={};x&24&&(S.$$scope={dirty:x,ctx:k}),p.$set(S),(!v||x&4)&&set_style(r,"z-index",k[2]+22),(!v||x&1)&&toggle_class(r,"docked",k[0].sh.taskbar.docked),(!v||x&1)&&toggle_class(r,"colored",k[0].sh.taskbar.colored),(!v||x&2)&&toggle_class(r,"visible",!k[1])},i(k){v||(transition_in(p.$$.fragment,k),v=!0)},o(k){transition_out(p.$$.fragment,k),v=!1},d(k){k&&detach(r),destroy_component(p)}}}function instance$U($,r,p){let v,k,x,S;return component_subscribe($,UserData,L=>p(0,v=L)),component_subscribe($,isFullscreenWindow,L=>p(1,k=L)),component_subscribe($,maxZIndex,L=>p(2,x=L)),component_subscribe($,NotificationStore,L=>p(3,S=L)),[v,k,x,S]}class TopBar extends SvelteComponent{constructor(r){super(),init(this,r,instance$U,create_fragment$10,safe_not_equal,{})}}function create_fragment$$($){let r,p,v,k;return r=new Bar({}),v=new TopBar({}),{c(){create_component(r.$$.fragment),p=space(),create_component(v.$$.fragment)},m(x,S){mount_component(r,x,S),insert(x,p,S),mount_component(v,x,S),k=!0},p:noop$1,i(x){k||(transition_in(r.$$.fragment,x),transition_in(v.$$.fragment,x),k=!0)},o(x){transition_out(r.$$.fragment,x),transition_out(v.$$.fragment,x),k=!1},d(x){destroy_component(r,x),x&&detach(p),destroy_component(v,x)}}}class Launcher extends SvelteComponent{constructor(r){super(),init(this,r,null,create_fragment$$,safe_not_equal,{})}}const shade="";function create_fragment$_($){let r,p,v;return{c(){r=element("div"),attr(r,"class","shellshade"),set_style(r,"z-index",$[1]+3),toggle_class(r,"visible",$[0])},m(k,x){insert(k,r,x),p||(v=listen(r,"click",$[2]),p=!0)},p(k,[x]){x&2&&set_style(r,"z-index",k[1]+3),x&1&&toggle_class(r,"visible",k[0])},i:noop$1,o:noop$1,d(k){k&&detach(r),p=!1,v()}}}function instance$T($,r,p){let v,k,x,S;component_subscribe($,ActionCenterOpened,O=>p(3,v=O)),component_subscribe($,startOpened,O=>p(4,k=O)),component_subscribe($,showShellShade,O=>p(0,x=O)),component_subscribe($,maxZIndex,O=>p(1,S=O)),ActionCenterOpened.subscribe(L),startOpened.subscribe(L);function L(){set_store_value(showShellShade,x=k||v,x)}function I(){startOpened.set(!1),ActionCenterOpened.set(!1)}return[x,S,I]}class Shade extends SvelteComponent{constructor(r){super(),init(this,r,instance$T,create_fragment$_,safe_not_equal,{})}}function create_fragment$Z($){let r,p,v,k;const x=$[4].default,S=create_slot(x,$,$[3],null);return v=new TaskbarContent({}),{c(){r=element("div"),S&&S.c(),p=space(),create_component(v.$$.fragment),attr(r,"class","taskbar-v newtb"),set_style(r,"z-index",$[0]+5),attr(r,"data-caller","shell-taskbar"),toggle_class(r,"docked",$[1].sh.taskbar.docked),toggle_class(r,"centered",$[1].sh.taskbar.centered),toggle_class(r,"colored",$[1].sh.taskbar.colored),toggle_class(r,"visible",$[1].sh.taskbar.pos!=""&&!$[2]),toggle_class(r,"right",$[1].sh.taskbar.pos=="vertical-right")},m(L,I){insert(L,r,I),S&&S.m(r,null),append(r,p),mount_component(v,r,null),k=!0},p(L,[I]){S&&S.p&&(!k||I&8)&&update_slot_base(S,x,L,L[3],k?get_slot_changes(x,L[3],I,null):get_all_dirty_from_scope(L[3]),null),(!k||I&1)&&set_style(r,"z-index",L[0]+5),(!k||I&2)&&toggle_class(r,"docked",L[1].sh.taskbar.docked),(!k||I&2)&&toggle_class(r,"centered",L[1].sh.taskbar.centered),(!k||I&2)&&toggle_class(r,"colored",L[1].sh.taskbar.colored),(!k||I&6)&&toggle_class(r,"visible",L[1].sh.taskbar.pos!=""&&!L[2]),(!k||I&2)&&toggle_class(r,"right",L[1].sh.taskbar.pos=="vertical-right")},i(L){k||(transition_in(S,L),transition_in(v.$$.fragment,L),k=!0)},o(L){transition_out(S,L),transition_out(v.$$.fragment,L),k=!1},d(L){L&&detach(r),S&&S.d(L),destroy_component(v)}}}function instance$S($,r,p){let v,k,x;component_subscribe($,maxZIndex,I=>p(0,v=I)),component_subscribe($,UserData,I=>p(1,k=I)),component_subscribe($,isFullscreenWindow,I=>p(2,x=I));let{$$slots:S={},$$scope:L}=r;return $.$$set=I=>{"$$scope"in I&&p(3,L=I.$$scope)},[v,k,x,L,S]}class VerticalTaskbar extends SvelteComponent{constructor(r){super(),init(this,r,instance$S,create_fragment$Z,safe_not_equal,{})}}function create_fragment$Y($){let r,p,v,k,x,S,L,I,O,F,U,R,N,j,q,H,Q;return v=new ProfilePicture$1({props:{src:$[0],height:21}}),{c(){r=element("div"),p=element("h1"),create_component(v.$$.fragment),k=space(),x=text($[1]),S=space(),L=element("div"),I=element("button"),I.textContent="search",O=space(),F=element("button"),F.textContent="settings",U=space(),R=element("div"),N=space(),j=element("button"),j.textContent="power_settings_new",attr(p,"class","username"),attr(I,"class","material-icons-round"),attr(I,"title","Search (Alt+Shift+S)"),attr(F,"class","material-icons-round"),attr(R,"class","sep"),attr(j,"class","material-icons-round"),attr(L,"class","options"),attr(r,"class","bottom")},m(V,K){insert(V,r,K),append(r,p),mount_component(v,p,null),append(p,k),append(p,x),append(r,S),append(r,L),append(L,I),append(L,O),append(L,F),append(L,U),append(L,R),append(L,N),append(L,j),q=!0,H||(Q=[listen(I,"click",$[4]),listen(F,"click",$[3]),listen(j,"click",$[2])],H=!0)},p(V,[K]){const G={};K&1&&(G.src=V[0]),v.$set(G),(!q||K&2)&&set_data(x,V[1])},i(V){q||(transition_in(v.$$.fragment,V),q=!0)},o(V){transition_out(v.$$.fragment,V),q=!1},d(V){V&&detach(r),destroy_component(v),H=!1,run_all(Q)}}}function instance$R($,r,p){let v,k;component_subscribe($,UserData,O=>p(5,v=O)),component_subscribe($,UserName,O=>p(1,k=O));let x;function S(){openWindow("Exit"),startOpened.set(!1)}function L(){openWindow("SettingsApp"),startOpened.set(!1)}function I(){showArcFind.set(!0),startOpened.set(!1)}return UserData.subscribe(()=>{p(0,x=getProfilePicture(v.acc.profilePicture))}),[x,k,S,L,I]}class BottomPane extends SvelteComponent{constructor(r){super(),init(this,r,instance$R,create_fragment$Y,safe_not_equal,{})}}function create_fragment$X($){let r,p,v,k,x,S=$[0].info.name+"",L,I,O,F;return{c(){r=element("button"),p=element("img"),x=space(),L=text(S),src_url_equal(p.src,v=getOriginalIcon($[0].id)||getAppIcon($[0]))||attr(p,"src",v),attr(p,"class","icon"),attr(p,"alt",k=$[0].info.name),attr(r,"class","item"),r.disabled=I=$[0].opened},m(U,R){insert(U,r,R),append(r,p),append(r,x),append(r,L),O||(F=listen(r,"click",$[1]),O=!0)},p(U,[R]){R&1&&!src_url_equal(p.src,v=getOriginalIcon(U[0].id)||getAppIcon(U[0]))&&attr(p,"src",v),R&1&&k!==(k=U[0].info.name)&&attr(p,"alt",k),R&1&&S!==(S=U[0].info.name+"")&&set_data(L,S),R&1&&I!==(I=U[0].opened)&&(r.disabled=I)},i:noop$1,o:noop$1,d(U){U&&detach(r),O=!1,F()}}}function instance$Q($,r,p){let{app:v}=r,{onopen:k=()=>{}}=r;function x(){openWindow(v.id),updateStores(),startOpened.set(!1),k()}return $.$$set=S=>{"app"in S&&p(0,v=S.app),"onopen"in S&&p(2,k=S.onopen)},[v,x,k]}class AppListItem extends SvelteComponent{constructor(r){super(),init(this,r,instance$Q,create_fragment$X,safe_not_equal,{app:0,onopen:2})}}function get_each_context$b($,r,p){const v=$.slice();return v[1]=r[p],v}function create_if_block$r($){let r,p;return r=new AppListItem({props:{app:$[1]}}),{c(){create_component(r.$$.fragment)},m(v,k){mount_component(r,v,k),p=!0},p(v,k){const x={};k&1&&(x.app=v[1]),r.$set(x)},i(v){p||(transition_in(r.$$.fragment,v),p=!0)},o(v){transition_out(r.$$.fragment,v),p=!1},d(v){destroy_component(r,v)}}}function create_each_block$b($){let r=isPopulatable($[1]),p,v,k=r&&create_if_block$r($);return{c(){k&&k.c(),p=empty()},m(x,S){k&&k.m(x,S),insert(x,p,S),v=!0},p(x,S){S&1&&(r=isPopulatable(x[1])),r?k?(k.p(x,S),S&1&&transition_in(k,1)):(k=create_if_block$r(x),k.c(),transition_in(k,1),k.m(p.parentNode,p)):k&&(group_outros(),transition_out(k,1,1,()=>{k=null}),check_outros())},i(x){v||(transition_in(k),v=!0)},o(x){transition_out(k),v=!1},d(x){k&&k.d(x),x&&detach(p)}}}function create_fragment$W($){let r,p,v=$[0],k=[];for(let S=0;S<v.length;S+=1)k[S]=create_each_block$b(get_each_context$b($,v,S));const x=S=>transition_out(k[S],1,1,()=>{k[S]=null});return{c(){r=element("div");for(let S=0;S<k.length;S+=1)k[S].c();attr(r,"class","left")},m(S,L){insert(S,r,L);for(let I=0;I<k.length;I+=1)k[I]&&k[I].m(r,null);p=!0},p(S,[L]){if(L&1){v=S[0];let I;for(I=0;I<v.length;I+=1){const O=get_each_context$b(S,v,I);k[I]?(k[I].p(O,L),transition_in(k[I],1)):(k[I]=create_each_block$b(O),k[I].c(),transition_in(k[I],1),k[I].m(r,null))}for(group_outros(),I=v.length;I<k.length;I+=1)x(I);check_outros()}},i(S){if(!p){for(let L=0;L<v.length;L+=1)transition_in(k[L]);p=!0}},o(S){k=k.filter(Boolean);for(let L=0;L<k.length;L+=1)transition_out(k[L]);p=!1},d(S){S&&detach(r),destroy_each(k,S)}}}function instance$P($,r,p){let v;return component_subscribe($,WindowStore,k=>p(0,v=k)),[v]}class LeftPane extends SvelteComponent{constructor(r){super(),init(this,r,instance$P,create_fragment$W,safe_not_equal,{})}}function create_fragment$V($){let r,p,v,k,x,S,L,I=$[0].name+"",O,F,U;return{c(){r=element("button"),p=element("div"),v=element("img"),S=space(),L=element("div"),O=text(I),src_url_equal(v.src,k=folder)||attr(v,"src",k),attr(v,"alt",x=$[0].name),attr(p,"class","image"),attr(L,"class","caption"),attr(r,"class","link dir")},m(R,N){insert(R,r,N),append(r,p),append(p,v),append(r,S),append(r,L),append(L,O),F||(U=listen(r,"click",$[1]),F=!0)},p(R,[N]){N&1&&x!==(x=R[0].name)&&attr(v,"alt",x),N&1&&I!==(I=R[0].name+"")&&set_data(O,I)},i:noop$1,o:noop$1,d(R){R&&detach(r),F=!1,U()}}}function instance$O($,r,p){let{dir:v}=r;function k(){startOpened.set(!1),openWindow("FileManager"),setTimeout(()=>{fbClass.goToDirectory(v.scopedPath)})}return $.$$set=x=>{"dir"in x&&p(0,v=x.dir)},[v,k]}class DirLink extends SvelteComponent{constructor(r){super(),init(this,r,instance$O,create_fragment$V,safe_not_equal,{dir:0})}}function get_each_context$a($,r,p){const v=$.slice();return v[1]=r[p],v}function create_each_block$a($){let r,p;return r=new DirLink({props:{dir:$[1]}}),{c(){create_component(r.$$.fragment)},m(v,k){mount_component(r,v,k),p=!0},p(v,k){const x={};k&1&&(x.dir=v[1]),r.$set(x)},i(v){p||(transition_in(r.$$.fragment,v),p=!0)},o(v){transition_out(r.$$.fragment,v),p=!1},d(v){destroy_component(r,v)}}}function create_fragment$U($){let r,p,v=$[0],k=[];for(let S=0;S<v.length;S+=1)k[S]=create_each_block$a(get_each_context$a($,v,S));const x=S=>transition_out(k[S],1,1,()=>{k[S]=null});return{c(){r=element("div");for(let S=0;S<k.length;S+=1)k[S].c();attr(r,"class","right")},m(S,L){insert(S,r,L);for(let I=0;I<k.length;I+=1)k[I]&&k[I].m(r,null);p=!0},p(S,[L]){if(L&1){v=S[0];let I;for(I=0;I<v.length;I+=1){const O=get_each_context$a(S,v,I);k[I]?(k[I].p(O,L),transition_in(k[I],1)):(k[I]=create_each_block$a(O),k[I].c(),transition_in(k[I],1),k[I].m(r,null))}for(group_outros(),I=v.length;I<k.length;I+=1)x(I);check_outros()}},i(S){if(!p){for(let L=0;L<v.length;L+=1)transition_in(k[L]);p=!0}},o(S){k=k.filter(Boolean);for(let L=0;L<k.length;L+=1)transition_out(k[L]);p=!1},d(S){S&&detach(r),destroy_each(k,S)}}}function instance$N($,r,p){let v=[];return FileBrowserDirContents.subscribe(async()=>{p(0,v=(await getDirectory("./")).directories)}),[v]}class RightPane extends SvelteComponent{constructor(r){super(),init(this,r,instance$N,create_fragment$U,safe_not_equal,{})}}function create_if_block$q($){let r,p,v,k,x,S,L;return p=new LeftPane({}),k=new RightPane({}),S=new BottomPane({}),{c(){r=element("div"),create_component(p.$$.fragment),v=space(),create_component(k.$$.fragment),x=space(),create_component(S.$$.fragment),attr(r,"class","startmenu"),set_style(r,"z-index",$[1]+4),toggle_class(r,"open",$[2]),toggle_class(r,"small",$[0].sh.start.small),toggle_class(r,"colored",$[0].sh.taskbar.colored)},m(I,O){insert(I,r,O),mount_component(p,r,null),append(r,v),mount_component(k,r,null),append(r,x),mount_component(S,r,null),L=!0},p(I,O){(!L||O&2)&&set_style(r,"z-index",I[1]+4),(!L||O&4)&&toggle_class(r,"open",I[2]),(!L||O&1)&&toggle_class(r,"small",I[0].sh.start.small),(!L||O&1)&&toggle_class(r,"colored",I[0].sh.taskbar.colored)},i(I){L||(transition_in(p.$$.fragment,I),transition_in(k.$$.fragment,I),transition_in(S.$$.fragment,I),L=!0)},o(I){transition_out(p.$$.fragment,I),transition_out(k.$$.fragment,I),transition_out(S.$$.fragment,I),L=!1},d(I){I&&detach(r),destroy_component(p),destroy_component(k),destroy_component(S)}}}function create_fragment$T($){let r,p,v=$[0]&&create_if_block$q($);return{c(){v&&v.c(),r=empty()},m(k,x){v&&v.m(k,x),insert(k,r,x),p=!0},p(k,[x]){k[0]?v?(v.p(k,x),x&1&&transition_in(v,1)):(v=create_if_block$q(k),v.c(),transition_in(v,1),v.m(r.parentNode,r)):v&&(group_outros(),transition_out(v,1,1,()=>{v=null}),check_outros())},i(k){p||(transition_in(v),p=!0)},o(k){transition_out(v),p=!1},d(k){v&&v.d(k),k&&detach(r)}}}function instance$M($,r,p){let v,k,x;return component_subscribe($,UserData,S=>p(0,v=S)),component_subscribe($,maxZIndex,S=>p(1,k=S)),component_subscribe($,startOpened,S=>p(2,x=S)),[v,k,x]}class StartMenu extends SvelteComponent{constructor(r){super(),init(this,r,instance$M,create_fragment$T,safe_not_equal,{})}}function create_fragment$S($){let r,p,v,k,x;return{c(){r=element("button"),p=element("img"),src_url_equal(p.src,v=logo$c)||attr(p,"src",v),attr(p,"alt","ArcOS Logo"),attr(r,"class","start"),toggle_class(r,"open",$[0])},m(S,L){insert(S,r,L),append(r,p),k||(x=listen(r,"click",$[1]),k=!0)},p(S,[L]){L&1&&toggle_class(r,"open",S[0])},i:noop$1,o:noop$1,d(S){S&&detach(r),k=!1,x()}}}function instance$L($,r,p){let v;component_subscribe($,startOpened,x=>p(0,v=x));function k(){set_store_value(startOpened,v=!v,v)}return[v,k]}class StartButton extends SvelteComponent{constructor(r){super(),init(this,r,instance$L,create_fragment$S,safe_not_equal,{})}}function create_else_block$8($){let r,p;return r=new Launcher({}),{c(){create_component(r.$$.fragment)},m(v,k){mount_component(r,v,k),p=!0},i(v){p||(transition_in(r.$$.fragment,v),p=!0)},o(v){transition_out(r.$$.fragment,v),p=!1},d(v){destroy_component(r,v)}}}function create_if_block$p($){let r,p,v,k;return r=new HorizontalTaskbar({props:{$$slots:{default:[create_default_slot_1]},$$scope:{ctx:$}}}),v=new VerticalTaskbar({props:{$$slots:{default:[create_default_slot$2]},$$scope:{ctx:$}}}),{c(){create_component(r.$$.fragment),p=space(),create_component(v.$$.fragment)},m(x,S){mount_component(r,x,S),insert(x,p,S),mount_component(v,x,S),k=!0},i(x){k||(transition_in(r.$$.fragment,x),transition_in(v.$$.fragment,x),k=!0)},o(x){transition_out(r.$$.fragment,x),transition_out(v.$$.fragment,x),k=!1},d(x){destroy_component(r,x),x&&detach(p),destroy_component(v,x)}}}function create_default_slot_1($){let r,p;return r=new StartButton({}),{c(){create_component(r.$$.fragment)},m(v,k){mount_component(r,v,k),p=!0},i(v){p||(transition_in(r.$$.fragment,v),p=!0)},o(v){transition_out(r.$$.fragment,v),p=!1},d(v){destroy_component(r,v)}}}function create_default_slot$2($){let r,p;return r=new StartButton({}),{c(){create_component(r.$$.fragment)},m(v,k){mount_component(r,v,k),p=!0},i(v){p||(transition_in(r.$$.fragment,v),p=!0)},o(v){transition_out(r.$$.fragment,v),p=!1},d(v){destroy_component(r,v)}}}function create_fragment$R($){let r,p,v,k,x,S,L,I,O,F,U;r=new Shade({}),v=new StartMenu({});const R=[create_if_block$p,create_else_block$8],N=[];function j(q,H){return q[0].sh.taskbar.isLauncher?1:0}return x=j($),S=N[x]=R[x]($),I=new ActionCenter({}),F=new PushNotification({}),{c(){create_component(r.$$.fragment),p=space(),create_component(v.$$.fragment),k=space(),S.c(),L=space(),create_component(I.$$.fragment),O=space(),create_component(F.$$.fragment)},m(q,H){mount_component(r,q,H),insert(q,p,H),mount_component(v,q,H),insert(q,k,H),N[x].m(q,H),insert(q,L,H),mount_component(I,q,H),insert(q,O,H),mount_component(F,q,H),U=!0},p(q,[H]){let Q=x;x=j(q),x!==Q&&(group_outros(),transition_out(N[Q],1,1,()=>{N[Q]=null}),check_outros(),S=N[x],S||(S=N[x]=R[x](q),S.c()),transition_in(S,1),S.m(L.parentNode,L))},i(q){U||(transition_in(r.$$.fragment,q),transition_in(v.$$.fragment,q),transition_in(S),transition_in(I.$$.fragment,q),transition_in(F.$$.fragment,q),U=!0)},o(q){transition_out(r.$$.fragment,q),transition_out(v.$$.fragment,q),transition_out(S),transition_out(I.$$.fragment,q),transition_out(F.$$.fragment,q),U=!1},d(q){destroy_component(r,q),q&&detach(p),destroy_component(v,q),q&&detach(k),N[x].d(q),q&&detach(L),destroy_component(I,q),q&&detach(O),destroy_component(F,q)}}}function instance$K($,r,p){let v;return component_subscribe($,UserData,k=>p(0,v=k)),[v]}class Shell extends SvelteComponent{constructor(r){super(),init(this,r,instance$K,create_fragment$R,safe_not_equal,{})}}const ArcShell={info:{name:"ArcShell",description:"The ArcOS Shell",builtin:!0,version:ArcOSVersion,author:"ArcOS Team",icon:logo$c,custom:!0},size:{w:NaN,h:NaN},pos:{x:0,y:0},minSize:{w:NaN,h:NaN},maxSize:{w:NaN,h:NaN},controls:{min:!1,max:!1,cls:!1},state:{headless:!0,resizable:!1,windowState:{min:!1,max:!1,fll:!0}},content:Shell,glass:!1,events:{},contextMenu:{"shell-taskbar":[{caption:"Application Manager",action:()=>{openWindow("AppMan")}},SEP_ITEM,{icon:"settings",caption:"Shell settings",action:()=>{openWindow("SettingsApp"),setTimeout(()=>{openByKey("Shell")})}}]},core:!0},showShellShade=writable(!1),desktopicons="";function create_fragment$Q($){let r,p,v,k,x,S,L=$[0].info.name+"",I,O,F;return{c(){r=element("button"),p=element("img"),x=space(),S=element("p"),I=text(L),src_url_equal(p.src,v=getOriginalIcon($[0].id)||$[0].info.icon)||attr(p,"src",v),attr(p,"alt",k=$[0].info.name),attr(S,"class","name"),attr(r,"class","desktopIcon")},m(U,R){insert(U,r,R),append(r,p),append(r,x),append(r,S),append(S,I),O||(F=listen(r,"dblclick",$[1]),O=!0)},p(U,[R]){R&1&&!src_url_equal(p.src,v=getOriginalIcon(U[0].id)||U[0].info.icon)&&attr(p,"src",v),R&1&&k!==(k=U[0].info.name)&&attr(p,"alt",k),R&1&&L!==(L=U[0].info.name+"")&&set_data(I,L)},i:noop$1,o:noop$1,d(U){U&&detach(r),O=!1,F()}}}function instance$J($,r,p){let{app:v}=r;function k(){openWindow(v.id)}return $.$$set=x=>{"app"in x&&p(0,v=x.app)},[v,k]}class DesktopIcon extends SvelteComponent{constructor(r){super(),init(this,r,instance$J,create_fragment$Q,safe_not_equal,{app:0})}}function get_each_context$9($,r,p){const v=$.slice();return v[2]=r[p],v}function create_if_block$o($){let r,p,v=$[1],k=[];for(let S=0;S<v.length;S+=1)k[S]=create_each_block$9(get_each_context$9($,v,S));const x=S=>transition_out(k[S],1,1,()=>{k[S]=null});return{c(){r=element("div");for(let S=0;S<k.length;S+=1)k[S].c();attr(r,"class","desktopIcons"),toggle_class(r,"launcher",$[0].sh.taskbar.isLauncher),toggle_class(r,"undocked-launcher",$[0].sh.taskbar.isLauncher&&!$[0].sh.taskbar.docked)},m(S,L){insert(S,r,L);for(let I=0;I<k.length;I+=1)k[I]&&k[I].m(r,null);p=!0},p(S,L){if(L&2){v=S[1];let I;for(I=0;I<v.length;I+=1){const O=get_each_context$9(S,v,I);k[I]?(k[I].p(O,L),transition_in(k[I],1)):(k[I]=create_each_block$9(O),k[I].c(),transition_in(k[I],1),k[I].m(r,null))}for(group_outros(),I=v.length;I<k.length;I+=1)x(I);check_outros()}(!p||L&1)&&toggle_class(r,"launcher",S[0].sh.taskbar.isLauncher),(!p||L&1)&&toggle_class(r,"undocked-launcher",S[0].sh.taskbar.isLauncher&&!S[0].sh.taskbar.docked)},i(S){if(!p){for(let L=0;L<v.length;L+=1)transition_in(k[L]);p=!0}},o(S){k=k.filter(Boolean);for(let L=0;L<k.length;L+=1)transition_out(k[L]);p=!1},d(S){S&&detach(r),destroy_each(k,S)}}}function create_if_block_1$8($){let r,p;return r=new DesktopIcon({props:{app:$[2]}}),{c(){create_component(r.$$.fragment)},m(v,k){mount_component(r,v,k),p=!0},p(v,k){const x={};k&2&&(x.app=v[2]),r.$set(x)},i(v){p||(transition_in(r.$$.fragment,v),p=!0)},o(v){transition_out(r.$$.fragment,v),p=!1},d(v){destroy_component(r,v)}}}function create_each_block$9($){let r=isPopulatable($[2]),p,v,k=r&&create_if_block_1$8($);return{c(){k&&k.c(),p=empty()},m(x,S){k&&k.m(x,S),insert(x,p,S),v=!0},p(x,S){S&2&&(r=isPopulatable(x[2])),r?k?(k.p(x,S),S&2&&transition_in(k,1)):(k=create_if_block_1$8(x),k.c(),transition_in(k,1),k.m(p.parentNode,p)):k&&(group_outros(),transition_out(k,1,1,()=>{k=null}),check_outros())},i(x){v||(transition_in(k),v=!0)},o(x){transition_out(k),v=!1},d(x){k&&k.d(x),x&&detach(p)}}}function create_fragment$P($){let r,p,v=$[0].sh.desktop.icons&&create_if_block$o($);return{c(){v&&v.c(),r=empty()},m(k,x){v&&v.m(k,x),insert(k,r,x),p=!0},p(k,[x]){k[0].sh.desktop.icons?v?(v.p(k,x),x&1&&transition_in(v,1)):(v=create_if_block$o(k),v.c(),transition_in(v,1),v.m(r.parentNode,r)):v&&(group_outros(),transition_out(v,1,1,()=>{v=null}),check_outros())},i(k){p||(transition_in(v),p=!0)},o(k){transition_out(v),p=!1},d(k){v&&v.d(k),k&&detach(r)}}}function instance$I($,r,p){let v,k;return component_subscribe($,UserData,x=>p(0,v=x)),component_subscribe($,WindowStore,x=>p(1,k=x)),[v,k]}class DesktopIcons extends SvelteComponent{constructor(r){super(),init(this,r,instance$I,create_fragment$P,safe_not_equal,{})}}const snapzones="",draggingId=writable(),leftZoneTriggered=writable(!1),rightZoneTriggered=writable(!1);function create_fragment$O($){let r,p,v,k;return{c(){r=element("div"),p=element("div"),v=space(),k=element("div"),attr(p,"class","visualizer"),attr(p,"id","snapZoneLeft"),toggle_class(p,"triggered",$[0]),attr(k,"class","trigger"),attr(k,"id","snapTriggerLeft"),attr(r,"class","leftzone")},m(x,S){insert(x,r,S),append(r,p),append(r,v),append(r,k)},p(x,[S]){S&1&&toggle_class(p,"triggered",x[0])},i:noop$1,o:noop$1,d(x){x&&detach(r)}}}function instance$H($,r,p){let v;return component_subscribe($,leftZoneTriggered,k=>p(0,v=k)),[v]}class LeftZone extends SvelteComponent{constructor(r){super(),init(this,r,instance$H,create_fragment$O,safe_not_equal,{})}}function create_fragment$N($){let r,p,v,k;return{c(){r=element("div"),p=element("div"),v=space(),k=element("div"),attr(p,"class","visualizer"),attr(p,"id","snapZoneRight"),toggle_class(p,"triggered",$[0]),attr(k,"class","trigger"),attr(k,"id","snapTriggerRight"),attr(r,"class","rightzone")},m(x,S){insert(x,r,S),append(r,p),append(r,v),append(r,k)},p(x,[S]){S&1&&toggle_class(p,"triggered",x[0])},i:noop$1,o:noop$1,d(x){x&&detach(r)}}}function instance$G($,r,p){let v;return component_subscribe($,rightZoneTriggered,k=>p(0,v=k)),[v]}class RightZone extends SvelteComponent{constructor(r){super(),init(this,r,instance$G,create_fragment$N,safe_not_equal,{})}}function create_fragment$M($){let r,p,v,k,x;return p=new LeftZone({}),k=new RightZone({}),{c(){r=element("div"),create_component(p.$$.fragment),v=space(),create_component(k.$$.fragment),attr(r,"class","snapzones"),set_style(r,"z-index",$[1]+5),toggle_class(r,"docked",$[0].sh.taskbar.docked),toggle_class(r,"launcher",$[0].sh.taskbar.isLauncher)},m(S,L){insert(S,r,L),mount_component(p,r,null),append(r,v),mount_component(k,r,null),x=!0},p(S,[L]){(!x||L&2)&&set_style(r,"z-index",S[1]+5),(!x||L&1)&&toggle_class(r,"docked",S[0].sh.taskbar.docked),(!x||L&1)&&toggle_class(r,"launcher",S[0].sh.taskbar.isLauncher)},i(S){x||(transition_in(p.$$.fragment,S),transition_in(k.$$.fragment,S),x=!0)},o(S){transition_out(p.$$.fragment,S),transition_out(k.$$.fragment,S),x=!1},d(S){S&&detach(r),destroy_component(p),destroy_component(k)}}}function instance$F($,r,p){let v,k;return component_subscribe($,UserData,x=>p(0,v=x)),component_subscribe($,maxZIndex,x=>p(1,k=x)),[v,k]}class SnapZones extends SvelteComponent{constructor(r){super(),init(this,r,instance$F,create_fragment$M,safe_not_equal,{})}}function create_fragment$L($){let r,p,v,k,x;return p=new DesktopIcons({}),k=new SnapZones({}),{c(){r=element("div"),create_component(p.$$.fragment),v=space(),create_component(k.$$.fragment),attr(r,"class","wallpaper fullscreen"),set_style(r,"background-image","url("+$[0]+")"),attr(r,"data-caller","shell-wallpaper")},m(S,L){insert(S,r,L),mount_component(p,r,null),insert(S,v,L),mount_component(k,S,L),x=!0},p(S,[L]){(!x||L&1)&&set_style(r,"background-image","url("+S[0]+")")},i(S){x||(transition_in(p.$$.fragment,S),transition_in(k.$$.fragment,S),x=!0)},o(S){transition_out(p.$$.fragment,S),transition_out(k.$$.fragment,S),x=!1},d(S){S&&detach(r),destroy_component(p),S&&detach(v),destroy_component(k,S)}}}function instance$E($,r,p){let v;component_subscribe($,UserData,x=>p(1,v=x));let k="";return UserData.subscribe(async()=>{const x=(await getWallpaper(v.sh.desktop.wallpaper)).url;x!=k&&p(0,k=x)}),[k]}class Wallpaper extends SvelteComponent{constructor(r){super(),init(this,r,instance$E,create_fragment$L,safe_not_equal,{})}}const DesktopWallpaper={info:{name:"Wallpaper",description:"The ArcOS wallpaper",builtin:!0,version:ArcOSVersion,author:"ArcOS Team",icon:logo,custom:!0},size:{w:NaN,h:NaN},pos:{x:0,y:0},minSize:{w:NaN,h:NaN},maxSize:{w:NaN,h:NaN},controls:{min:!1,max:!1,cls:!1},state:{headless:!0,resizable:!1,windowState:{min:!1,max:!1,fll:!0}},content:Wallpaper,glass:!1,events:{},contextMenu:{"shell-wallpaper":[{caption:"Show desktop icons",action:()=>{const $=get_store_value(UserData);$.sh.desktop.icons=!$.sh.desktop.icons,UserData.set($)},icon:"apps",isActive:()=>get_store_value(UserData).sh.desktop.icons},SEP_ITEM,{caption:"File Manager",action:()=>{openWindow("FileManager")},image:fileManager},{caption:"Application Manager",action:()=>{openWindow("AppMan")},image:appMan},{caption:"App settings",action:()=>{openByKey("Apps")},image:appSettings},SEP_ITEM,{caption:"Shut down",action:shutdown,icon:"power_settings_new"},{caption:"Restart",action:()=>restart$1(!1),icon:"refresh"},SEP_ITEM,{caption:"Personalize",action:()=>{openByKey("Appearance")},image:appearance}]},core:!0},DefaultApps={ErrCre:ErrorCreator,FileManager:FileBrowserApp,TextEditor,CalculatorApp,MessagingApp,SettingsApp,AppMan:AppManager,LoggerApp,AppPoker,Exit,AppInfo:AppInfo$1,ImageViewer,OpenWithApp,MarkDownViewer,MediaPlayerApp,ArcShell,DesktopWallpaper,DonutApp,ArcTerm,HelpCenter,LightsOff},SystemApps=["AppMan","Exit","SettingsApp","PfpSelector","AppInfo","LoggerApp","FileManager","ArcShell","DesktopWallpaper"];function disableApp($){if(Log({msg:`Disabling app ${$}`,source:"enabling.ts: disableApp",level:LogLevel.info}),SystemApps.includes($))return errorMessage("Can't disable application",`App "${$}" is a system application. System applications are core to ArcOS and cannot be disabled without breaking certain functionality.`,null,"AppLogic",{caption:"OK",action:()=>{}});const r=get_store_value(UserData);closeWindow($),r.disabledApps.includes($)||r.disabledApps.push($);const p=get_store_value(WindowStore);for(let v=0;v<p.length;v++)p[v].id==$&&(p[v].disabled=!0);UserData.set(r),WindowStore.set(p),updateStores()}function enableApp($){Log({msg:`Enabling app ${$}`,source:"enabling.ts: enableApp",level:LogLevel.info});const r=get_store_value(UserData);for(let v=0;v<r.disabledApps.length;v++)r.disabledApps[v]==$&&r.disabledApps.splice(v,1);const p=get_store_value(WindowStore);for(let v=0;v<p.length;v++)p[v].id==$&&(p[v].disabled=!1);WindowStore.set(p),UserData.set(r),updateStores()}function findAppToOpen($){Log({source:"fs/open.ts: findAppToOpen",msg:`Compiling a list of file handlers that can open mimtype "${$}"...`,level:LogLevel.info});const r=[],p=get_store_value(WindowStore);for(let v=0;v<p.length;v++)p[v].fileMimes&&p[v].fileMimes.includes($)&&r.push(p[v].id);return r}function findLoaderToOpen($){let r=[];const p=Object.entries(FileLoaders);for(let v=0;v<p.length;v++){const x=p[v][1];for(let S=0;S<x.extensions.length;S++)$.endsWith(x.extensions[S])&&r.push(x);x.extensions.length||r.push(x)}return r}function getAllFileHandlers(){Log({source:"fs/open.ts: getAllFileHandlers",msg:"Compiling a list of file handler IDs...",level:LogLevel.info});const $=[],r=get_store_value(WindowStore);for(let p=0;p<r.length;p++)r[p].fileMimes&&$.push(r[p].id);return $}function openWithDialog($){if(isDisabled("OpenWithApp"))return errorMessage("Can't open file",`The OpenWithApp application is disabled, so you can't choose an app to open ${$.name}.`,null,null,{caption:"OK",action(){}},{caption:"Enable OpenWithApp",action(){enableApp("OpenWithApp"),OpenWithFile.set($),openWindow("OpenWithApp")}});Log({source:"fs/open.ts: openWithDialog",msg:`Opening ArcOS.OpenWith for "${$.name}"`,level:LogLevel.info}),OpenWithFile.set($),openWindow("OpenWithApp")}function openWith($,r,p){Log({source:"fs/open.ts: openWith",msg:`Opening ${r.name} with ArcOS.${$}`,level:LogLevel.info});const v=get_store_value(WindowStore);for(let k=0;k<v.length;k++){const x=v[k];if(!(!x.fileMimes||!x.fileMimes.includes(r.mime)&&!p||$!=x.id))return x.openedFile=r,openWindow($),focusedWindowId.set($),x.events&&x.events.openFile&&x.events.openFile(x),!0}return!1}async function openUserFile($){Log({source:"fs/open.ts: openUserFile",msg:`Converting "${$.filename}": UserFile -> ArcFile: to make openable`,level:LogLevel.info});let r={data:await readFile($.scopedPath),name:$.filename,path:$.scopedPath,mime:$.mime};const p=findAppToOpen($.mime),v=findLoaderToOpen($.filename);return!(p.length>0)&&!(v.length>1)?r:p.length>0?openWith(p[0],r)||r:(v.length==2&&v[0].loader(r),!0)}async function compileSearchableFiles(){const $=get_store_value(ConnectedServer);if(!$)return[];const r=[],v=(await apiCall($,"fs/tree",{},get_store_value(UserToken))).data;for(let k=0;k<v.length;k++)r.push({caption:v[k].filename,action:async()=>{const x=makeNotification({title:"Loading file",message:`Loading file ${v[k].scopedPath} from the ArcAPI. This can take a while, depending on your internet connection and the size of the file.`,buttons:[],image:searchIcon}),S=v[k].scopedPath;S.startsWith("./")&&(v[k].scopedPath=S.replace("./",""));const L=await openUserFile(v[k]);deleteNotification(x),closeNotification(),WindowStore.set(get_store_value(WindowStore)),L!=!0&&openWithDialog({...L,anymime:!0})},description:v[k].scopedPath.replace(`/${v[k].filename}`,""),image:fileIcon});return r}FileBrowserCurrentDir.subscribe(()=>{});function compileSearchableSettingsPages(){const $=[],r=SettingsPages;for(let p=0;p<r.length;p++){const v=r[p];$.push({image:v.icon,caption:v.name,action:()=>{openWindow("SettingsApp"),setTimeout(()=>{currentSettingsPage.set(v)})}})}return $}const searchProviders=[compileSearchableApps,compileSearchableSettingsPages,compileSearchableFiles],powerOptions=[{caption:"Shutdown",description:"Leave the desktop and turn off ArcOS",action:shutdown,image:shutdownIcon},{caption:"Restart",description:"Leave the desktop and reload ArcOS",action:()=>restart$1(!1),image:shutdownIcon}];async function getSearchItems(){let $=[...powerOptions];for(let r=0;r<searchProviders.length;r++)$.push(...await searchProviders[r]());return $}const showArcFind=writable(!1);async function Search($){const r=await getSearchItems(),p={includeScore:!0,keys:["caption","description"]};return new Fuse(r,p).search($)}function registerDesktopShortcuts(){registerShortcuts([{key:"q",alt:!0,action(){getOpenedStore().length?(getWindow(get_store_value(focusedWindowId)).state.windowState.fll&&isFullscreenWindow.set(!1),closeWindow(get_store_value(focusedWindowId))):openWindow("Exit"),startOpened.set(!1),ActionCenterOpened.set(!1),CurrentNotification.set(null),focusedWindowId.set(null)},global:!0},{key:"s",shift:!0,alt:!0,global:!0,action:()=>{showArcFind.set(!get_store_value(showArcFind))}},{key:"n",alt:!0,global:!0,action:()=>{ActionCenterOpened.set(!get_store_value(ActionCenterOpened))}},{key:"z",alt:!0,shift:!0,global:!0,action:()=>{openWindow("AppMan")}}])}const previouslyLoaded=writable(!1),startOpened=writable(!1),shuttingDown=writable(!1),restarting=writable(!1),showDesktop=writable(!1),desktopClassNames=writable("");function assignDesktopListeners(){setDesktopClassNameListener(),AppPokerData.subscribe($=>{$?openWindow("AppPoker"):closeWindow("AppPoker")}),setPowerListeners(),registerDesktopShortcuts()}function openWindow($,r=!1){Log({msg:`Opening ${$}`,source:"events.ts: openWindow",level:LogLevel.info});const p=getWindow($);if(p&&p.core)return;if(!isLoaded($)||isOpened($)){const k=getWindowElement(p);if(!k)return;maxZIndex.set(get_store_value(maxZIndex)+1),k.style.zIndex=`${get_store_value(maxZIndex)}`,unminimizeWindow(p);return}if(p.parentId&&!isOpened(p.parentId)){if(!r)return Log({source:"events.ts: openWindow",msg:`The parent "${p.parentId}" of child window "${p.id}" must be opened before the child can be opened.`,level:LogLevel.error}),!1;openWindow(p.parentId)}const v=get_store_value(WindowStore);for(let k=0;k<v.length;k++)v[k].id==$&&(v[k].opened=!0);return WindowStore.set(v),setTimeout(()=>{const k=getWindowElement(p);k&&(maxZIndex.set(get_store_value(maxZIndex)+1),k.style.zIndex=`${get_store_value(maxZIndex)}`,focusedWindowId.set($))},10),startOpened.set(!1),ActionCenterOpened.set(!1),updateStores(),focusedWindowId.set($),p.events&&p.events.open&&p.events.open(p),!0}function closeChildWindow($,r){const p=get_store_value(WindowStore);for(let v=0;v<p.length;v++)if(p[v].parentId==$.id&&p[v].id==r)return closeWindow(r),!0;return!1}function closeWindow($){if(Log({msg:`Closing ${$}`,source:"events.ts: closeWindow",level:LogLevel.info}),!isOpened($))return!1;const r=get_store_value(WindowStore),p=getWindow($);if(!(p&&p.core)){for(let v=0;v<r.length;v++)if(r[v]&&r[v].id==$){r[v].opened=!1,r[v].openedFile=null;break}if(p.children){const v=Object.entries(p.children);for(let k=0;k<v.length;k++)closeChildWindow(p,v[k][0])}if(p.errorOverlays)for(let v=0;v<p.errorOverlays.length;v++)destroyOverlayableError(p.errorOverlays[v].id,p.id);if(p.overlays){const v=Object.entries(p.overlays);for(let k=0;k<v.length;k++)hideOverlay(v[k][0],$)}return p.snapped=!1,WindowStore.set(r),p.events&&p.events.close&&p.events.close(p),!0}}function maximizeWindow($){Log({msg:`Switching maximized state of ${$.id}`,source:"events.ts: maximizeWindow",level:LogLevel.info}),!$.core&&($.state.windowState.max=!$.state.windowState.max,focusedWindowId.set($.id),$.events&&$.events.maximize&&$.events.maximize($),updateStores())}function minimizeWindow($){if(Log({msg:`Switching minimized state of ${$.id}`,source:"events.ts: minimizeWindow",level:LogLevel.info}),!$.core){if($.state.windowState.min=!$.state.windowState.min,focusedWindowId.set(null),$.state.windowState.min){const r=getWindowElement($);r.style.zIndex="0"}$.events&&$.events.minimize&&$.events.minimize($),updateStores()}}function unminimizeWindow($){if(Log({msg:`Disabling minimized state of ${$.id}`,source:"events.ts: unminimizeWindow",level:LogLevel.info}),$.core)return;const r=get_store_value(WindowStore);for(let p=0;p<r.length;p++)r[p].id==$.id&&(r[p].state.windowState.min=!1);focusedWindowId.set($.id),WindowStore.set(r)}function fullscreenToggle($){Log({msg:`Switching fullscreen state of ${$}`,source:"events.ts: fullscreenToggle",level:LogLevel.info});const r=get_store_value(WindowStore);for(let p=0;p<r.length;p++)r[p].id==$&&(r[p].core||(r[p].state.windowState.fll=!r[p].state.windowState.fll));WindowStore.set(r)}function shutdown(){let $=0;const r=get_store_value(WindowStore);for(let p=0;p<r.length;p++)$+=50,setTimeout(()=>{closeWindow(r[p].id)},$);logoffToken(),shuttingDown.set(!0)}function restart$1($=!1){let r=0;const p=get_store_value(WindowStore);for(let v=0;v<p.length;v++)r+=50,setTimeout(()=>{closeWindow(p[v].id)},r);$&&(localStorage.removeItem("arcos-remembered-token"),logoffToken()),restarting.set(!0)}const source="UserLogic: UserData watch";let commitTimeout;function commitUserdata($){if($){if(clearTimeout(commitTimeout),committingUserData.set(!0),get_store_value(UserName)){Log({level:LogLevel.info,msg:"Change Detected, committing",source}),DevModeOverride.set($.devmode);const r=setUserdata($);unsetStatus(),r||(Log({level:LogLevel.error,msg:"Commit failed, setter returned false",source}),get_store_value(BugReportData)||commitFailed());return}unsetStatus(),Log({level:LogLevel.warn,msg:"Not committing, no username",source})}}function unsetStatus(){commitTimeout=setTimeout(()=>{committingUserData.set(!1)},1500)}function commitFailed(){BugReportData.set([!0,{icon:"person_off",title:"User data commit failed",message:"The user data could not be saved. This happens if the<br>user data is altered while ArcOS is running.",details:"UserLogic: UserData watch: setter returned false",button:{action:()=>{applyState("fts")},caption:"Reset"}}])}const committingUserData=writable(!1);async function getUsers(){Log({msg:"Getting users",source:"userlogic/main.ts: getUsers",level:LogLevel.info});const $=get_store_value(ConnectedServer);if(!$)return[];const r=await apiCall($,"users/get",{},null,null);let p={};const v=r.data;for(let k=0;k<v.length;k++)p[v[k].username]=v[k];return p}async function deleteUser(){Log({msg:"Delete users",source:"userlogic/main.ts: deleteUsers",level:LogLevel.info});const $=get_store_value(ConnectedServer),r=get_store_value(UserToken);$&&(apiCall($,"user/delete",{},r),get_store_value(CurrentState).name=="Desktop"&&restart$1())}async function setUserdata($){Log({msg:"Setting userdata",source:"userlogic/main.ts: setUserdata",level:LogLevel.info});const r=get_store_value(ConnectedServer);if(!r)return!1;(await apiCall(r,"user/properties/update",{},get_store_value(UserToken),null,JSON.stringify($))).valid&&Log({msg:"Userdata committed to API",source:"userlogic/main.ts: setUserdata",level:LogLevel.info})}UserData.subscribe(commitUserdata);function create_if_block$n($){let r,p,v,k,x,S,L,I,O,F,U,R;return p=new ProfilePicture$1({props:{src:$[2],height:151}}),I=new Spinner({props:{height:23}}),{c(){r=element("div"),create_component(p.$$.fragment),v=space(),k=element("h1"),x=text($[1]),S=space(),L=element("h3"),create_component(I.$$.fragment),O=text(" "),F=element("span"),U=text($[0]),attr(r,"class","userlogin show")},m(N,j){insert(N,r,j),mount_component(p,r,null),append(r,v),append(r,k),append(k,x),append(r,S),append(r,L),mount_component(I,L,null),append(L,O),append(L,F),append(F,U),R=!0},p(N,j){const q={};j&4&&(q.src=N[2]),p.$set(q),(!R||j&2)&&set_data(x,N[1]),(!R||j&1)&&set_data(U,N[0])},i(N){R||(transition_in(p.$$.fragment,N),transition_in(I.$$.fragment,N),R=!0)},o(N){transition_out(p.$$.fragment,N),transition_out(I.$$.fragment,N),R=!1},d(N){N&&detach(r),destroy_component(p),destroy_component(I)}}}function create_fragment$K($){let r,p,v=$[2]&&create_if_block$n($);return{c(){v&&v.c(),r=empty()},m(k,x){v&&v.m(k,x),insert(k,r,x),p=!0},p(k,[x]){k[2]?v?(v.p(k,x),x&4&&transition_in(v,1)):(v=create_if_block$n(k),v.c(),transition_in(v,1),v.m(r.parentNode,r)):v&&(group_outros(),transition_out(v,1,1,()=>{v=null}),check_outros())},i(k){p||(transition_in(v),p=!0)},o(k){transition_out(v),p=!1},d(k){v&&v.d(k),k&&detach(r)}}}function instance$D($,r,p){let v,k;component_subscribe($,UserName,O=>p(4,v=O)),component_subscribe($,loginUsername,O=>p(5,k=O));let{caption:x}=r,{username:S=""}=r,L="",I="";return onMount(async()=>{p(1,L=k||v||S),p(2,I=await getUserPfp(L)),I==def&&p(2,I=logo$c)}),$.$$set=O=>{"caption"in O&&p(0,x=O.caption),"username"in O&&p(3,S=O.username)},[x,L,I,S]}let Loading$1=class extends SvelteComponent{constructor(r){super(),init(this,r,instance$D,create_fragment$K,safe_not_equal,{caption:0,username:3})}};function create_fragment$J($){let r,p;return r=new Loading$1({props:{caption:"Welcome"}}),{c(){create_component(r.$$.fragment)},m(v,k){mount_component(r,v,k),p=!0},p:noop$1,i(v){p||(transition_in(r.$$.fragment,v),p=!0)},o(v){transition_out(r.$$.fragment,v),p=!1},d(v){destroy_component(r,v)}}}class AutoLogin extends SvelteComponent{constructor(r){super(),init(this,r,null,create_fragment$J,safe_not_equal,{})}}const userlogin="";function flush(){UserName.set(void 0),loginUsername.set(void 0),NotificationStore.set({}),ErrorMessages.set([]),DevModeOverride.set(!1)}function create_fragment$I($){let r,p;return r=new Loading$1({props:{caption:"Goodbye",username:$[0]}}),{c(){create_component(r.$$.fragment)},m(v,k){mount_component(r,v,k),p=!0},p(v,[k]){const x={};k&1&&(x.username=v[0]),r.$set(x)},i(v){p||(transition_in(r.$$.fragment,v),p=!0)},o(v){transition_out(r.$$.fragment,v),p=!1},d(v){destroy_component(r,v)}}}function instance$C($,r,p){let v;return component_subscribe($,UserName,k=>p(0,v=k)),onMount(()=>{setTimeout(()=>{flush(),applyLoginState("selector")},2e3)}),[v]}class Logoff extends SvelteComponent{constructor(r){super(),init(this,r,instance$C,create_fragment$I,safe_not_equal,{})}}function create_fragment$H($){let r,p;return r=new Loading$1({props:{caption:"Restarting"}}),{c(){create_component(r.$$.fragment)},m(v,k){mount_component(r,v,k),p=!0},p:noop$1,i(v){p||(transition_in(r.$$.fragment,v),p=!0)},o(v){transition_out(r.$$.fragment,v),p=!1},d(v){destroy_component(r,v)}}}function instance$B($){return setTimeout(()=>{location.reload()},2e3),[]}class Restart extends SvelteComponent{constructor(r){super(),init(this,r,instance$B,create_fragment$H,safe_not_equal,{})}}function create_if_block$m($){let r,p,v,k,x,S,L,I;return p=new ProfilePicture$1({props:{src:$[2],height:76}}),{c(){r=element("button"),create_component(p.$$.fragment),v=space(),k=element("p"),x=text($[1]),attr(k,"class","username"),attr(r,"class","user")},m(O,F){insert(O,r,F),mount_component(p,r,null),append(r,v),append(r,k),append(k,x),S=!0,L||(I=listen(r,"click",$[3]),L=!0)},p(O,F){const U={};F&4&&(U.src=O[2]),p.$set(U),(!S||F&2)&&set_data(x,O[1])},i(O){S||(transition_in(p.$$.fragment,O),S=!0)},o(O){transition_out(p.$$.fragment,O),S=!1},d(O){O&&detach(r),destroy_component(p),L=!1,I()}}}function create_fragment$G($){let r,p,v=$[0].acc.enabled&&create_if_block$m($);return{c(){v&&v.c(),r=empty()},m(k,x){v&&v.m(k,x),insert(k,r,x),p=!0},p(k,[x]){k[0].acc.enabled?v?(v.p(k,x),x&1&&transition_in(v,1)):(v=create_if_block$m(k),v.c(),transition_in(v,1),v.m(r.parentNode,r)):v&&(group_outros(),transition_out(v,1,1,()=>{v=null}),check_outros())},i(k){p||(transition_in(v),p=!0)},o(k){transition_out(v),p=!1},d(k){v&&v.d(k),k&&detach(r)}}}function instance$A($,r,p){let v="",{data:k}=r,{name:x}=r;function S(){loginUsername.set(x),applyLoginState("todesktop")}return onMount(()=>{p(2,v=getProfilePicture(k.acc.profilePicture))}),$.$$set=L=>{"data"in L&&p(0,k=L.data),"name"in L&&p(1,x=L.name)},[k,x,v,S]}class User extends SvelteComponent{constructor(r){super(),init(this,r,instance$A,create_fragment$G,safe_not_equal,{data:0,name:1})}}function get_each_context$8($,r,p){const v=$.slice();return v[1]=r[p],v}function create_if_block$l($){let r,p,v=Object.keys($[0]),k=[];for(let S=0;S<v.length;S+=1)k[S]=create_each_block$8(get_each_context$8($,v,S));const x=S=>transition_out(k[S],1,1,()=>{k[S]=null});return{c(){for(let S=0;S<k.length;S+=1)k[S].c();r=empty()},m(S,L){for(let I=0;I<k.length;I+=1)k[I]&&k[I].m(S,L);insert(S,r,L),p=!0},p(S,L){if(L&1){v=Object.keys(S[0]);let I;for(I=0;I<v.length;I+=1){const O=get_each_context$8(S,v,I);k[I]?(k[I].p(O,L),transition_in(k[I],1)):(k[I]=create_each_block$8(O),k[I].c(),transition_in(k[I],1),k[I].m(r.parentNode,r))}for(group_outros(),I=v.length;I<k.length;I+=1)x(I);check_outros()}},i(S){if(!p){for(let L=0;L<v.length;L+=1)transition_in(k[L]);p=!0}},o(S){k=k.filter(Boolean);for(let L=0;L<k.length;L+=1)transition_out(k[L]);p=!1},d(S){destroy_each(k,S),S&&detach(r)}}}function create_each_block$8($){let r,p;return r=new User({props:{data:$[0][$[1]],name:$[1]}}),{c(){create_component(r.$$.fragment)},m(v,k){mount_component(r,v,k),p=!0},p(v,k){const x={};k&1&&(x.data=v[0][v[1]]),k&1&&(x.name=v[1]),r.$set(x)},i(v){p||(transition_in(r.$$.fragment,v),p=!0)},o(v){transition_out(r.$$.fragment,v),p=!1},d(v){destroy_component(r,v)}}}function create_fragment$F($){let r,p,v=$[0]&&create_if_block$l($);return{c(){v&&v.c(),r=empty()},m(k,x){v&&v.m(k,x),insert(k,r,x),p=!0},p(k,[x]){k[0]?v?(v.p(k,x),x&1&&transition_in(v,1)):(v=create_if_block$l(k),v.c(),transition_in(v,1),v.m(r.parentNode,r)):v&&(group_outros(),transition_out(v,1,1,()=>{v=null}),check_outros())},i(k){p||(transition_in(v),p=!0)},o(k){transition_out(v),p=!1},d(k){v&&v.d(k),k&&detach(r)}}}function instance$z($,r,p){let v;return onMount(async()=>{p(0,v=await getUsers())}),[v]}class Populator extends SvelteComponent{constructor(r){super(),init(this,r,instance$z,create_fragment$F,safe_not_equal,{})}}function create_fragment$E($){let r,p,v;return p=new Populator({}),{c(){r=element("div"),create_component(p.$$.fragment),attr(r,"class","user-selector")},m(k,x){insert(k,r,x),mount_component(p,r,null),v=!0},p:noop$1,i(k){v||(transition_in(p.$$.fragment,k),v=!0)},o(k){transition_out(p.$$.fragment,k),v=!1},d(k){k&&detach(r),destroy_component(p)}}}class Selector extends SvelteComponent{constructor(r){super(),init(this,r,null,create_fragment$E,safe_not_equal,{})}}function create_fragment$D($){let r,p;return r=new Loading$1({props:{caption:"Shutting down"}}),{c(){create_component(r.$$.fragment)},m(v,k){mount_component(r,v,k),p=!0},p:noop$1,i(v){p||(transition_in(r.$$.fragment,v),p=!0)},o(v){transition_out(r.$$.fragment,v),p=!1},d(v){destroy_component(r,v)}}}function instance$y($){return onMount(()=>{setTimeout(()=>{flush(),applyState("turnedoff")},2e3)}),[]}class Shutdown extends SvelteComponent{constructor(r){super(),init(this,r,instance$y,create_fragment$D,safe_not_equal,{})}}function create_fragment$C($){let r,p,v,k,x,S,L,I;return{c(){r=element("form"),p=element("input"),v=space(),k=element("button"),x=text("arrow_forward_ios"),p.autofocus=!0,attr(p,"type","password"),attr(p,"placeholder","Password"),toggle_class(p,"wrongpswd",$[1]),attr(k,"class","material-icons-round"),k.disabled=S=!$[0]},m(O,F){insert(O,r,F),append(r,p),set_input_value(p,$[0]),insert(O,v,F),insert(O,k,F),append(k,x),p.focus(),L||(I=[listen(p,"input",$[6]),listen(p,"input",$[7]),listen(r,"submit",$[2]),listen(k,"click",$[3])],L=!0)},p(O,[F]){F&1&&p.value!==O[0]&&set_input_value(p,O[0]),F&2&&toggle_class(p,"wrongpswd",O[1]),F&1&&S!==(S=!O[0])&&(k.disabled=S)},i:noop$1,o:noop$1,d(O){O&&detach(r),O&&detach(v),O&&detach(k),L=!1,run_all(I)}}}function instance$x($,r,p){let v;component_subscribe($,loginUsername,R=>p(8,v=R));let{authenticating:k}=r,x,S=!1,{pfp:L=""}=r;onMount(async()=>{v||applyLoginState("selector"),p(5,L=await getUserPfp(v))});function I(R){return R.preventDefault(),O(),!1}async function O(){p(4,k=!0);const R=await loginUsingCreds(generateCredToken({username:v,password:x}));if(!R){p(4,k=!1),p(1,S=!0);return}localStorage.setItem("arcos-remembered-token",btoa(`${v}:${x}`)),UserData.set(R),UserName.set(v),applyState("desktop")}function F(){x=this.value,p(0,x)}const U=()=>p(1,S=!1);return $.$$set=R=>{"authenticating"in R&&p(4,k=R.authenticating),"pfp"in R&&p(5,L=R.pfp)},[x,S,I,O,k,L,F,U]}class Input extends SvelteComponent{constructor(r){super(),init(this,r,instance$x,create_fragment$C,safe_not_equal,{authenticating:4,pfp:5})}}function create_if_block_1$7($){let r,p,v,k,x;return r=new ProfilePicture$1({props:{src:$[1],height:151}}),{c(){create_component(r.$$.fragment),p=space(),v=element("h1"),k=text($[2])},m(S,L){mount_component(r,S,L),insert(S,p,L),insert(S,v,L),append(v,k),x=!0},p(S,L){const I={};L&2&&(I.src=S[1]),r.$set(I),(!x||L&4)&&set_data(k,S[2])},i(S){x||(transition_in(r.$$.fragment,S),x=!0)},o(S){transition_out(r.$$.fragment,S),x=!1},d(S){destroy_component(r,S),S&&detach(p),S&&detach(v)}}}function create_else_block$7($){let r,p;return r=new Loading$1({props:{caption:"Welcome"}}),{c(){create_component(r.$$.fragment)},m(v,k){mount_component(r,v,k),p=!0},p:noop$1,i(v){p||(transition_in(r.$$.fragment,v),p=!0)},o(v){transition_out(r.$$.fragment,v),p=!1},d(v){destroy_component(r,v)}}}function create_if_block$k($){let r,p,v;return{c(){r=element("button"),r.textContent="Cancel",attr(r,"class","switchuser")},m(k,x){insert(k,r,x),p||(v=listen(r,"click",$[3]),p=!0)},p:noop$1,i:noop$1,o:noop$1,d(k){k&&detach(r),p=!1,v()}}}function create_fragment$B($){let r,p,v,k,x,S,L,I,O,F,U=!$[0]&&create_if_block_1$7($);function R(V){$[4](V)}function N(V){$[5](V)}let j={};$[0]!==void 0&&(j.authenticating=$[0]),$[1]!==void 0&&(j.pfp=$[1]),k=new Input({props:j}),binding_callbacks.push(()=>bind$1(k,"authenticating",R)),binding_callbacks.push(()=>bind$1(k,"pfp",N));const q=[create_if_block$k,create_else_block$7],H=[];function Q(V,K){return V[0]?1:0}return I=Q($),O=H[I]=q[I]($),{c(){U&&U.c(),r=space(),p=element("div"),v=element("div"),create_component(k.$$.fragment),L=space(),O.c(),attr(v,"class","field"),toggle_class(v,"hidden",$[0]),attr(p,"class","cloudlogin")},m(V,K){U&&U.m(V,K),insert(V,r,K),insert(V,p,K),append(p,v),mount_component(k,v,null),append(p,L),H[I].m(p,null),F=!0},p(V,[K]){V[0]?U&&(group_outros(),transition_out(U,1,1,()=>{U=null}),check_outros()):U?(U.p(V,K),K&1&&transition_in(U,1)):(U=create_if_block_1$7(V),U.c(),transition_in(U,1),U.m(r.parentNode,r));const G={};!x&&K&1&&(x=!0,G.authenticating=V[0],add_flush_callback(()=>x=!1)),!S&&K&2&&(S=!0,G.pfp=V[1],add_flush_callback(()=>S=!1)),k.$set(G),(!F||K&1)&&toggle_class(v,"hidden",V[0]);let Y=I;I=Q(V),I===Y?H[I].p(V,K):(group_outros(),transition_out(H[Y],1,1,()=>{H[Y]=null}),check_outros(),O=H[I],O?O.p(V,K):(O=H[I]=q[I](V),O.c()),transition_in(O,1),O.m(p,null))},i(V){F||(transition_in(U),transition_in(k.$$.fragment,V),transition_in(O),F=!0)},o(V){transition_out(U),transition_out(k.$$.fragment,V),transition_out(O),F=!1},d(V){U&&U.d(V),V&&detach(r),V&&detach(p),destroy_component(k),H[I].d()}}}function instance$w($,r,p){let v;component_subscribe($,loginUsername,O=>p(2,v=O));let{authenticating:k=!1}=r,x;async function S(){loginUsername.set(void 0),applyLoginState("selector")}function L(O){k=O,p(0,k)}function I(O){x=O,p(1,x)}return $.$$set=O=>{"authenticating"in O&&p(0,k=O.authenticating)},[k,x,v,S,L,I]}class AuthForm extends SvelteComponent{constructor(r){super(),init(this,r,instance$w,create_fragment$B,safe_not_equal,{authenticating:0})}}function create_fragment$A($){let r,p,v,k;function x(L){$[2](L)}let S={};return $[0]!==void 0&&(S.authenticating=$[0]),p=new AuthForm({props:S}),binding_callbacks.push(()=>bind$1(p,"authenticating",x)),{c(){r=element("div"),create_component(p.$$.fragment),attr(r,"class","userlogin"),toggle_class(r,"show",$[1])},m(L,I){insert(L,r,I),mount_component(p,r,null),k=!0},p(L,[I]){const O={};!v&&I&1&&(v=!0,O.authenticating=L[0],add_flush_callback(()=>v=!1)),p.$set(O),(!k||I&2)&&toggle_class(r,"show",L[1])},i(L){k||(transition_in(p.$$.fragment,L),k=!0)},o(L){transition_out(p.$$.fragment,L),k=!1},d(L){L&&detach(r),destroy_component(p)}}}function instance$v($,r,p){let v=!1,k=!1;onMount(async()=>{setTimeout(()=>{p(1,k=!0)},10)});function x(S){v=S,p(0,v)}return[v,k,x]}class UserLogin extends SvelteComponent{constructor(r){super(),init(this,r,instance$v,create_fragment$A,safe_not_equal,{})}}const LoginStates=new Map([["selector",{name:"User Selector",content:Selector,attribs:{topbar:!0,darken:!1},key:"selector"}],["todesktop",{name:"Login Redirector -> Desktop",content:UserLogin,attribs:{topbar:!1,darken:!0},key:"todesktop"}],["logoff",{name:"Desktop -> Logoff -> User Selector",content:Logoff,attribs:{topbar:!1,darken:!0},key:"logoff"}],["shutdown",{name:"Desktop -> Logoff -> End",content:Shutdown,attribs:{topbar:!1,darken:!0},key:"shutdown"}],["restart",{name:"Desktop -> Logoff -> Boot",content:Restart,attribs:{topbar:!1,darken:!0},key:"restart"}],["autologin",{name:"Auto Login",content:AutoLogin,attribs:{topbar:!1,darken:!0},key:"autologin"}]]),CurrentLoginState=writable(),loginUsername=writable();function applyLoginState($){if(LoginStates.has($)){Log({level:LogLevel.info,source:"login/main.ts: applyLoginState",msg:`Applying state ${$}`});const r=LoginStates.get($);CurrentLoginState.set(r);return}InvalidStateBugrep("Login",$)}async function loginOnMount(){const $=await getUsers(),r=localStorage.getItem("arcos-remembered-token"),p=get_store_value(CurrentLoginState),v=get_store_value(ConnectedServer);if(setTimeout(()=>{if(p||applyLoginState(r?"autologin":"selector"),!Object.keys($).length&&!r){v?applyLoginState("newapiuser"):applyState("fts");return}},100),r&&(!p||p.key!="shutdown"&&p.key!="restart")){const k=await loginUsingCreds(r),x=atob(r).split(":")[0];if(!k){applyLoginState("selector"),localStorage.removeItem("arcos-remembered-token");return}loginUsername.set(x),UserData.set(k),UserName.set(x),setTimeout(()=>{applyState("desktop")},2e3)}}async function loginUsingCreds($){let[r,p]=atob($).split(":");const v=get_store_value(ConnectedServer);loginUsername.set(r);let k=await apiCall(get_store_value(ConnectedServer),"auth",{},null,{username:r,password:p});return!k.valid||(UserToken.set(k.data.token),UserName.set(r),k=await apiCall(v,"user/properties",{},get_store_value(UserToken),null),!k.valid)?!1:k}async function rememberedLogin(){const $=localStorage.getItem("arcos-remembered-token");if(!$)return!1;const[r,p]=atob($).split(":"),v=await loginUsingCreds(generateCredToken({username:r,password:p}));return v?(UserData.set(v),UserName.set(r),!0):!1}function ttlFetch($,r,p=3e3){return new Promise((v,k)=>{const x=setTimeout(()=>{k(new Error("TIMEOUT"))},p);fetch($,r).then(S=>{clearTimeout(x),v(S)}).catch(S=>{clearTimeout(x),k(S)})})}const TEST_MODES=[[!0,443],[!1,3333],[!0,80],[!1,80],[!0,3333]];async function testConnection($){for(let r=0;r<TEST_MODES.length;r++){const p=`http${TEST_MODES[r][0]?"s":""}`,v=TEST_MODES[r][1],k=`${p}://${$}:${v}/connect`;Log({msg:`Testing ${$} on port ${v} and protocol ${p}...`,source:"api/test.ts: testConnection",level:LogLevel.info});try{const x=await(await ttlFetch(k,{})).json();return Log({msg:`Got a response from URL ${k}`,source:"api/test.ts: testConnection",level:LogLevel.warn}),(x.revision||0)<minArcAPI?!1:(ConnectedServer.set(`${p}://${$}:${v}`),x&&!!x.valid)}catch{Log({msg:`Did not get a valid response from ${k}`,source:"api/test.ts: testConnection",level:LogLevel.error});continue}}return Log({msg:`Can't connect to server ${$}: none of the modes match`,source:"api/test.ts: testConnection",level:LogLevel.critical}),!1}async function authPrompt($,r=""){if(get_store_value(UserName))return!0;let v=getServer();if(v||(v=await serverConnect($)),await rememberedLogin(),await sleep(250),get_store_value(UserName))return await $.env.config.loadConfigFile(),!0;$.std.clear(),$.std.writeLine(`ArcTerm ${ArcOSVersion} - ${v}

`);const k=await $.std.read(`${v} login: `,"",100,!1,r),x=await $.std.read("Password: ","",100,!0),S=generateCredToken({username:k,password:x});return localStorage.setItem("arcos-remembered-token",S),await rememberedLogin(),get_store_value(UserName)?(await $.env.config.loadConfigFile(),!0):await authPrompt($,k)}async function serverConnect($){$.std.clear(),$.std.writeLine(`ArcTerm ${ArcOSVersion} - Connect to server

`);const r=await $.std.read("Server: ","",50);return $.std.writeLine(`Connecting to ${r}...`),await testConnection(r)?(addServer(r),r):($.std.writeLine("Connection failed! Restarting..."),await sleep(1e3),location.reload(),await sleep(2e3),"")}async function arcTermModeIntro($){if(!await authPrompt($))return;const r=getServer(),p=get_store_value(UserName),v=await getFSQuota(),k=formatBytes(v.used),x=formatBytes(v.max),S=(100/v.max*v.used).toFixed(2),I=(await apiCall(get_store_value(ConnectedServer),"connect",{})).platform;disclaimer($),auth($,p,I),api($,r),usage($,k,x,S)}function disclaimer($){$.std.clear(),$.std.writeColor(`[█] You are currently in [ArcTerm mode].
[█] Commands that require the ArcOS desktop have been disabled.

`,"orange"),$.std.writeColor(`ArcTerm reference ID: [${$.referenceId}]`,"blue")}function auth($,r,p){$.std.writeColor(`
Authenticated as [${r}] at [${p}]`,"aqua","white",!0)}function api($,r){$.std.writeColor(` [(${r})]`,"gray","white",!0)}function usage($,r,p,v){$.std.writeColor(`
[ArcFS]: You are using [${r}] of [${p}] total (${v}%)
`,"yellow")}function create_fragment$z($){let r,p,v;return{c(){r=element("div"),r.textContent="authenticating with ArcAPI...",attr(r,"id","target"),attr(r,"class","terminal-renderer")},m(k,x){insert(k,r,x),$[2](r),p||(v=listen(r,"click",$[1]),p=!0)},p:noop$1,i:noop$1,o:noop$1,d(k){k&&detach(r),$[2](null),p=!1,v()}}}function instance$u($,r,p){let v,k;onMount(async()=>{v=new ArcTerm$1(k,arcCommands,null,arcTermModeIntro)});function x(){!v||!v.input||!v.input.current||(v.input.current.focus(),k&&k.scrollTo(0,k.scrollHeight))}setInterval(x,10);function S(L){binding_callbacks[L?"unshift":"push"](()=>{k=L,p(0,k)})}return[k,x,S]}class ArcTerm_1 extends SvelteComponent{constructor(r){super(),init(this,r,instance$u,create_fragment$z,safe_not_equal,{})}}const Blank_svelte_svelte_type_style_lang="";function create_fragment$y($){let r;return{c(){r=element("div"),attr(r,"class","fullscreen svelte-1b10uke")},m(p,v){insert(p,r,v)},p:noop$1,i:noop$1,o:noop$1,d(p){p&&detach(r)}}}class Blank extends SvelteComponent{constructor(r){super(),init(this,r,null,create_fragment$y,safe_not_equal,{})}}const boot="";function checkZones($,r,p){const v=getBounds(),k=getWindow(p);if(p.startsWith("error_"))return;const x=k.state.resizable||k.controls.max;if(!k||!v)return;const S=v.lTrig,L=v.rTrig,I=x&&$>S.xStart&&$<S.xEnd&&r>S.yStart&&r<S.yEnd,O=x&&$>L.xStart&&$<L.xEnd&&r>L.yStart&&r<L.yEnd;leftZoneTriggered.set(I),rightZoneTriggered.set(O),draggingId.set(I||O?p:null)}function getBounds(){const[$,r,p,v]=getZoneElements();if(!$||!r||!p||!v)return!1;const k=document.body.offsetWidth;return{lTrig:{xStart:$.offsetLeft,xEnd:$.offsetLeft+$.offsetWidth,yStart:$.offsetTop,yEnd:$.offsetTop+$.offsetHeight},rTrig:{xStart:k-r.offsetWidth,xEnd:k,yStart:r.offsetTop,yEnd:r.offsetTop+r.offsetHeight},lZone:{xStart:p.offsetLeft,xEnd:p.offsetLeft+p.offsetWidth,yStart:p.offsetTop,yEnd:p.offsetTop+p.offsetHeight},rZone:{xStart:k-v.offsetWidth,xEnd:k,yStart:v.offsetTop,yEnd:v.offsetTop+v.offsetHeight}}}function getZoneElements(){const $=document.querySelector("div.snapzones #snapTriggerLeft"),r=document.querySelector("div.snapzones #snapTriggerRight"),p=document.querySelector("div.snapzones #snapZoneLeft"),v=document.querySelector("div.snapzones #snapZoneRight"),k=[$,r,p,v];for(let x=0;x<k.length;x++)if(!k[x])return[null,null,null,null];return k}function snapWindow($){const r=get_store_value(leftZoneTriggered),p=get_store_value(rightZoneTriggered);(r||p)&&draggingId.set($),r&&snapLeft(),p&&snapRight()}function snapLeft(){const[$,r,p]=getData();if(!p||!$)return;let[v,k,x,S]=[0,0,0,0];const L=get_store_value(WindowStore);for(let I=0;I<L.length;I++){const O=L[I];O.id==r&&(O.pos.x=v=$.lZone.xStart,O.pos.y=k=$.lZone.yStart,O.size.w=x=$.lZone.xEnd,O.size.h=S=$.lZone.yEnd,O.snapped=!0)}WindowStore.set(L),commitWindow(p,v,k,x,S)}function getData(){const $=getBounds(),r=get_store_value(draggingId),p=getWindowElement(getWindow(r));return[$,r,p]}function snapRight(){const[$,r,p]=getData();if(!p||!$)return;let[v,k,x,S]=[0,0,0,0];const L=get_store_value(WindowStore);for(let I=0;I<L.length;I++){const O=L[I];O.id==r&&(O.pos.x=v=$.rZone.xStart,O.pos.y=k=$.rZone.yStart,O.size.w=x=$.rZone.xEnd-$.rZone.xStart,O.size.h=S=$.rZone.yEnd-$.rZone.yStart,O.snapped=!0)}WindowStore.set(L),commitWindow(p,v,k,x,S)}function commitWindow($,r,p,v,k){setTimeout(()=>{$.style.left=r+"px",$.style.top=p+"px",$.style.width=v+"px",$.style.height=k+"px",openWindow(get_store_value(draggingId))},5)}function dragWindow($,r,p){if(!$||!r||!p)return Log({msg:`Can't drag ${$.id}: one or more required elements are missing!`,source:"drag.ts: dragWindow",level:LogLevel.error});["mousedown","touchstart"].forEach(v=>r.addEventListener(v,k=>{let x,S;if(!$.info.custom&&(focusedWindowId.set($.id),k.composedPath().includes(p))){let L=function(R,N){I=F-R,O=U-N,F=R,U=N;let j=r.offsetTop-O;const q=r.offsetLeft-I;j<0&&(j=0),r.style.top=j+"px",r.style.left=q+"px",$.pos.x=q,$.pos.y=j,checkZones(F,U,$.id),[R,N]=[F,U]},I,O,F,U;k.preventDefault(),document.onmousemove=R=>{$.snapped=!1,WindowStore.set(get_store_value(WindowStore)),L(R.clientX,R.clientY)},document.ontouchmove=R=>{$.snapped=!1,WindowStore.set(get_store_value(WindowStore)),!(!R.touches.length||v=="mousedown")&&L(R.touches[0].clientX,R.touches[0].clientY)},document.onmouseup=document.ontouchend=()=>{checkZones(x,S,$.id),snapWindow($.id),leftZoneTriggered.set(!1),rightZoneTriggered.set(!1),document.onmouseup=null,document.onmousemove=null,document.ontouchend=null,document.ontouchmove=null}}}))}function maxSizeExceedsLiteral($){}function minSizeExceedsLiteral($){}const error="";function get_each_context$7($,r,p){const v=$.slice();return v[6]=r[p],v}function create_if_block$j($){let r,p,v,k;return{c(){r=element("div"),p=element("img"),src_url_equal(p.src,v=$[0].image)||attr(p,"src",v),attr(p,"alt",k=$[0].title),attr(r,"class","errimg")},m(x,S){insert(x,r,S),append(r,p)},p(x,S){S&1&&!src_url_equal(p.src,v=x[0].image)&&attr(p,"src",v),S&1&&k!==(k=x[0].title)&&attr(p,"alt",k)},d(x){x&&detach(r)}}}function create_each_block$7($){let r,p=$[6].caption+"",v,k,x;function S(){return $[4]($[6])}return{c(){r=element("button"),v=text(p)},m(L,I){insert(L,r,I),append(r,v),k||(x=listen(r,"click",S),k=!0)},p(L,I){$=L,I&1&&p!==(p=$[6].caption+"")&&set_data(v,p)},d(L){L&&detach(r),k=!1,x()}}}function create_fragment$x($){let r,p,v,k,x,S,L,I=$[0].title+"",O,F,U,R=$[0].message+"",N,j,q,H,Q=$[0].image&&create_if_block$j($),V=$[0].buttons,K=[];for(let G=0;G<V.length;G+=1)K[G]=create_each_block$7(get_each_context$7($,V,G));return{c(){r=element("div"),p=element("window"),v=element("div"),k=element("div"),Q&&Q.c(),x=space(),S=element("div"),L=element("h3"),O=text(I),F=space(),U=element("p"),N=text(R),j=space(),q=element("div"),H=element("div");for(let G=0;G<K.length;G+=1)K[G].c();attr(L,"class","error-title"),attr(U,"class","error-message"),attr(S,"class","error-content"),attr(k,"class","error-overlay"),attr(H,"class","inner"),attr(q,"class","error-overlay-buttons"),attr(v,"class","body overlay"),attr(p,"class","window headless overlay overlayable-error"),toggle_class(p,"visible",$[1]),attr(r,"class","overlay-wrapper"),toggle_class(r,"show",$[1])},m(G,Y){insert(G,r,Y),append(r,p),append(p,v),append(v,k),Q&&Q.m(k,null),append(k,x),append(k,S),append(S,L),append(L,O),append(S,F),append(S,U),append(U,N),append(v,j),append(v,q),append(q,H);for(let J=0;J<K.length;J+=1)K[J]&&K[J].m(H,null)},p(G,[Y]){if(G[0].image?Q?Q.p(G,Y):(Q=create_if_block$j(G),Q.c(),Q.m(k,x)):Q&&(Q.d(1),Q=null),Y&1&&I!==(I=G[0].title+"")&&set_data(O,I),Y&1&&R!==(R=G[0].message+"")&&set_data(N,R),Y&5){V=G[0].buttons;let J;for(J=0;J<V.length;J+=1){const Z=get_each_context$7(G,V,J);K[J]?K[J].p(Z,Y):(K[J]=create_each_block$7(Z),K[J].c(),K[J].m(H,null))}for(;J<K.length;J+=1)K[J].d(1);K.length=V.length}Y&2&&toggle_class(p,"visible",G[1]),Y&2&&toggle_class(r,"show",G[1])},i:noop$1,o:noop$1,d(G){G&&detach(r),Q&&Q.d(),destroy_each(K,G)}}}function instance$t($,r,p){let{app:v}=r,{error:k}=r,x=!1;function S(){p(1,x=!1),setTimeout(()=>{destroyOverlayableError(k.id,v.id)},100)}onMount(()=>{setTimeout(()=>{p(1,x=!0)},100)});function L(O){O(),S()}const I=O=>L(O.action);return $.$$set=O=>{"app"in O&&p(3,v=O.app),"error"in O&&p(0,k=O.error)},[k,x,L,v,I]}class OverlayableErrorWindow extends SvelteComponent{constructor(r){super(),init(this,r,instance$t,create_fragment$x,safe_not_equal,{app:3,error:0})}}function create_if_block$i($){let r,p,v,k,x;var S=$[0].content;function L(I){return{props:{overlay:I[0],app:I[1],id:I[2]}}}return S&&(k=construct_svelte_component(S,L($))),{c(){r=element("div"),p=element("window"),v=element("div"),k&&create_component(k.$$.fragment),attr(v,"class","body overlay"),attr(p,"class","window headless overlay"),attr(p,"style",$[4]),attr(p,"id",$[2]),toggle_class(p,"visible",$[3]),attr(r,"class","overlay-wrapper"),toggle_class(r,"show",$[3])},m(I,O){insert(I,r,O),append(r,p),append(p,v),k&&mount_component(k,v,null),x=!0},p(I,O){const F={};if(O&1&&(F.overlay=I[0]),O&2&&(F.app=I[1]),O&4&&(F.id=I[2]),O&1&&S!==(S=I[0].content)){if(k){group_outros();const U=k;transition_out(U.$$.fragment,1,0,()=>{destroy_component(U,1)}),check_outros()}S?(k=construct_svelte_component(S,L(I)),create_component(k.$$.fragment),transition_in(k.$$.fragment,1),mount_component(k,v,null)):k=null}else S&&k.$set(F);(!x||O&16)&&attr(p,"style",I[4]),(!x||O&4)&&attr(p,"id",I[2]),(!x||O&8)&&toggle_class(p,"visible",I[3]),(!x||O&8)&&toggle_class(r,"show",I[3])},i(I){x||(k&&transition_in(k.$$.fragment,I),x=!0)},o(I){k&&transition_out(k.$$.fragment,I),x=!1},d(I){I&&detach(r),k&&destroy_component(k)}}}function create_fragment$w($){let r,p,v=$[0]&&$[1]&&create_if_block$i($);return{c(){v&&v.c(),r=empty()},m(k,x){v&&v.m(k,x),insert(k,r,x),p=!0},p(k,[x]){k[0]&&k[1]?v?(v.p(k,x),x&3&&transition_in(v,1)):(v=create_if_block$i(k),v.c(),transition_in(v,1),v.m(r.parentNode,r)):v&&(group_outros(),transition_out(v,1,1,()=>{v=null}),check_outros())},i(k){p||(transition_in(v),p=!0)},o(k){transition_out(v),p=!1},d(k){v&&v.d(k),k&&detach(r)}}}function instance$s($,r,p){let{overlay:v}=r,{app:k}=r,{id:x}=r,S=!1,L="";return onMount(()=>{p(4,L=generateOverlayCSS(v))}),WindowStore.subscribe(()=>{p(4,L=generateOverlayCSS(v)),p(3,S=k.overlays[x]?k.overlays[x].show:!1)}),$.$$set=I=>{"overlay"in I&&p(0,v=I.overlay),"app"in I&&p(1,k=I.app),"id"in I&&p(2,x=I.id)},[v,k,x,S,L]}class OverlayableWindow extends SvelteComponent{constructor(r){super(),init(this,r,instance$s,create_fragment$w,safe_not_equal,{overlay:0,app:1,id:2})}}function create_fragment$v($){let r,p,v,k;var x=$[0].content;function S(O){return{props:{app:O[0],appdata:O[1].appdata[O[0].id]||{}}}}x&&(p=construct_svelte_component(x,S($)));const L=$[3].default,I=create_slot(L,$,$[2],null);return{c(){r=element("div"),p&&create_component(p.$$.fragment),v=space(),I&&I.c(),attr(r,"class","body")},m(O,F){insert(O,r,F),p&&mount_component(p,r,null),append(r,v),I&&I.m(r,null),k=!0},p(O,[F]){const U={};if(F&1&&(U.app=O[0]),F&3&&(U.appdata=O[1].appdata[O[0].id]||{}),F&1&&x!==(x=O[0].content)){if(p){group_outros();const R=p;transition_out(R.$$.fragment,1,0,()=>{destroy_component(R,1)}),check_outros()}x?(p=construct_svelte_component(x,S(O)),create_component(p.$$.fragment),transition_in(p.$$.fragment,1),mount_component(p,r,v)):p=null}else x&&p.$set(U);I&&I.p&&(!k||F&4)&&update_slot_base(I,L,O,O[2],k?get_slot_changes(L,O[2],F,null):get_all_dirty_from_scope(O[2]),null)},i(O){k||(p&&transition_in(p.$$.fragment,O),transition_in(I,O),k=!0)},o(O){p&&transition_out(p.$$.fragment,O),transition_out(I,O),k=!1},d(O){O&&detach(r),p&&destroy_component(p),I&&I.d(O)}}}function instance$r($,r,p){let v;component_subscribe($,UserData,L=>p(1,v=L));let{$$slots:k={},$$scope:x}=r,{app:S}=r;return $.$$set=L=>{"app"in L&&p(0,S=L.app),"$$scope"in L&&p(2,x=L.$$scope)},[S,v,x,k]}class Content extends SvelteComponent{constructor(r){super(),init(this,r,instance$r,create_fragment$v,safe_not_equal,{app:0})}}function create_else_block$6($){let r,p;return r=new Default({props:{app:$[1],cls:$[6],min:$[4],max:$[5],isBoot:$[2]}}),{c(){create_component(r.$$.fragment)},m(v,k){mount_component(r,v,k),p=!0},p(v,k){const x={};k&2&&(x.app=v[1]),k&4&&(x.isBoot=v[2]),r.$set(x)},i(v){p||(transition_in(r.$$.fragment,v),p=!0)},o(v){transition_out(r.$$.fragment,v),p=!1},d(v){destroy_component(r,v)}}}function create_if_block$h($){let r,p,v;var k=titlebarButtons[$[3].sh.window.buttons].content;function x(S){return{props:{cls:S[6],min:S[4],max:S[5],app:S[1],isBoot:S[2]}}}return k&&(r=construct_svelte_component(k,x($))),{c(){r&&create_component(r.$$.fragment),p=empty()},m(S,L){r&&mount_component(r,S,L),insert(S,p,L),v=!0},p(S,L){const I={};if(L&2&&(I.app=S[1]),L&4&&(I.isBoot=S[2]),L&8&&k!==(k=titlebarButtons[S[3].sh.window.buttons].content)){if(r){group_outros();const O=r;transition_out(O.$$.fragment,1,0,()=>{destroy_component(O,1)}),check_outros()}k?(r=construct_svelte_component(k,x(S)),create_component(r.$$.fragment),transition_in(r.$$.fragment,1),mount_component(r,p.parentNode,p)):r=null}else k&&r.$set(I)},i(S){v||(r&&transition_in(r.$$.fragment,S),v=!0)},o(S){r&&transition_out(r.$$.fragment,S),v=!1},d(S){S&&detach(p),r&&destroy_component(r,S)}}}function create_fragment$u($){let r,p,v=$[1].info.name+"",k,x=($[1].info.titleSuffix||"")+"",S,L,I,O,F,U,R,N,j=$[1].info.name+"",q,H=($[1].info.titleSuffix||"")+"",Q,V,K,G,Y,J,Z,X;const ee=[create_if_block$h,create_else_block$6],te=[];function le(ue,ae){return ue[3].sh.window.buttons?0:1}return G=le($),Y=te[G]=ee[G]($),{c(){r=element("div"),p=element("div"),k=text(v),S=text(x),L=space(),I=element("p"),O=element("img"),R=space(),N=element("span"),q=text(j),Q=text(H),V=space(),K=element("div"),Y.c(),attr(p,"class","centeredtitle"),attr(O,"class","icon"),src_url_equal(O.src,F=getAppIcon($[1]))||attr(O,"src",F),attr(O,"alt",U=$[1].info.name),attr(I,"class","title"),attr(K,"class","controls"),attr(r,"class","titlebar"),toggle_class(r,"centered",$[3].sh.window.centertb)},m(ue,ae){insert(ue,r,ae),append(r,p),append(p,k),append(p,S),append(r,L),append(r,I),append(I,O),append(I,R),append(I,N),append(N,q),append(N,Q),append(r,V),append(r,K),te[G].m(K,null),$[8](r),J=!0,Z||(X=listen(r,"dblclick",$[5]),Z=!0)},p(ue,[ae]){(!J||ae&2)&&v!==(v=ue[1].info.name+"")&&set_data(k,v),(!J||ae&2)&&x!==(x=(ue[1].info.titleSuffix||"")+"")&&set_data(S,x),(!J||ae&2&&!src_url_equal(O.src,F=getAppIcon(ue[1])))&&attr(O,"src",F),(!J||ae&2&&U!==(U=ue[1].info.name))&&attr(O,"alt",U),(!J||ae&2)&&j!==(j=ue[1].info.name+"")&&set_data(q,j),(!J||ae&2)&&H!==(H=(ue[1].info.titleSuffix||"")+"")&&set_data(Q,H);let oe=G;G=le(ue),G===oe?te[G].p(ue,ae):(group_outros(),transition_out(te[oe],1,1,()=>{te[oe]=null}),check_outros(),Y=te[G],Y?Y.p(ue,ae):(Y=te[G]=ee[G](ue),Y.c()),transition_in(Y,1),Y.m(K,null)),(!J||ae&8)&&toggle_class(r,"centered",ue[3].sh.window.centertb)},i(ue){J||(transition_in(Y),J=!0)},o(ue){transition_out(Y),J=!1},d(ue){ue&&detach(r),te[G].d(),$[8](null),Z=!1,X()}}}function instance$q($,r,p){let v;component_subscribe($,UserData,R=>p(3,v=R));let{exttransition:k=!1}=r,{titlebar:x}=r,{app:S}=r,{isBoot:L=!1}=r;function I(){p(1,S.state.windowState.min=!S.state.windowState.min,S),updateStores()}function O(){S.controls.max&&(p(1,S.state.windowState.max=!S.state.windowState.max,S),S.state.windowState.max?p(7,k=!0):setTimeout(()=>{p(7,k=!1)},200),updateStores())}function F(){const R=S.id,N=R.startsWith("error_")?parseInt(R.replace("error_","")):-1;N>0?closeError(N):closeWindow(S.id),L&&p(1,S.opened=!1,S)}function U(R){binding_callbacks[R?"unshift":"push"](()=>{x=R,p(0,x)})}return $.$$set=R=>{"exttransition"in R&&p(7,k=R.exttransition),"titlebar"in R&&p(0,x=R.titlebar),"app"in R&&p(1,S=R.app),"isBoot"in R&&p(2,L=R.isBoot)},[x,S,L,v,I,O,F,k,U]}class Titlebar extends SvelteComponent{constructor(r){super(),init(this,r,instance$q,create_fragment$u,safe_not_equal,{exttransition:7,titlebar:0,app:1,isBoot:2})}}function get_each_context$6($,r,p){const v=$.slice();return v[22]=r[p],v}function get_each_context_1$2($,r,p){const v=$.slice();return v[25]=r[p],v}function create_default_slot$1($){let r;const p=$[14].default,v=create_slot(p,$,$[18],null);return{c(){v&&v.c()},m(k,x){v&&v.m(k,x),r=!0},p(k,x){v&&v.p&&(!r||x&262144)&&update_slot_base(v,p,k,k[18],r?get_slot_changes(p,k[18],x,null):get_all_dirty_from_scope(k[18]),null)},i(k){r||(transition_in(v,k),r=!0)},o(k){transition_out(v,k),r=!1},d(k){v&&v.d(k)}}}function create_if_block_1$6($){let r,p,v=Object.entries($[1].overlays),k=[];for(let S=0;S<v.length;S+=1)k[S]=create_each_block_1$2(get_each_context_1$2($,v,S));const x=S=>transition_out(k[S],1,1,()=>{k[S]=null});return{c(){for(let S=0;S<k.length;S+=1)k[S].c();r=empty()},m(S,L){for(let I=0;I<k.length;I+=1)k[I]&&k[I].m(S,L);insert(S,r,L),p=!0},p(S,L){if(L&2){v=Object.entries(S[1].overlays);let I;for(I=0;I<v.length;I+=1){const O=get_each_context_1$2(S,v,I);k[I]?(k[I].p(O,L),transition_in(k[I],1)):(k[I]=create_each_block_1$2(O),k[I].c(),transition_in(k[I],1),k[I].m(r.parentNode,r))}for(group_outros(),I=v.length;I<k.length;I+=1)x(I);check_outros()}},i(S){if(!p){for(let L=0;L<v.length;L+=1)transition_in(k[L]);p=!0}},o(S){k=k.filter(Boolean);for(let L=0;L<k.length;L+=1)transition_out(k[L]);p=!1},d(S){destroy_each(k,S),S&&detach(r)}}}function create_each_block_1$2($){let r,p;return r=new OverlayableWindow({props:{app:$[1],overlay:$[25][1],id:$[25][0]}}),{c(){create_component(r.$$.fragment)},m(v,k){mount_component(r,v,k),p=!0},p(v,k){const x={};k&2&&(x.app=v[1]),k&2&&(x.overlay=v[25][1]),k&2&&(x.id=v[25][0]),r.$set(x)},i(v){p||(transition_in(r.$$.fragment,v),p=!0)},o(v){transition_out(r.$$.fragment,v),p=!1},d(v){destroy_component(r,v)}}}function create_if_block$g($){let r,p,v=$[1].errorOverlays,k=[];for(let S=0;S<v.length;S+=1)k[S]=create_each_block$6(get_each_context$6($,v,S));const x=S=>transition_out(k[S],1,1,()=>{k[S]=null});return{c(){for(let S=0;S<k.length;S+=1)k[S].c();r=empty()},m(S,L){for(let I=0;I<k.length;I+=1)k[I]&&k[I].m(S,L);insert(S,r,L),p=!0},p(S,L){if(L&2){v=S[1].errorOverlays;let I;for(I=0;I<v.length;I+=1){const O=get_each_context$6(S,v,I);k[I]?(k[I].p(O,L),transition_in(k[I],1)):(k[I]=create_each_block$6(O),k[I].c(),transition_in(k[I],1),k[I].m(r.parentNode,r))}for(group_outros(),I=v.length;I<k.length;I+=1)x(I);check_outros()}},i(S){if(!p){for(let L=0;L<v.length;L+=1)transition_in(k[L]);p=!0}},o(S){k=k.filter(Boolean);for(let L=0;L<k.length;L+=1)transition_out(k[L]);p=!1},d(S){destroy_each(k,S),S&&detach(r)}}}function create_each_block$6($){let r,p;return r=new OverlayableErrorWindow({props:{error:$[22],app:$[1]}}),{c(){create_component(r.$$.fragment)},m(v,k){mount_component(r,v,k),p=!0},p(v,k){const x={};k&2&&(x.error=v[22]),k&2&&(x.app=v[1]),r.$set(x)},i(v){p||(transition_in(r.$$.fragment,v),p=!0)},o(v){transition_out(r.$$.fragment,v),p=!1},d(v){destroy_component(r,v)}}}function create_fragment$t($){let r,p,v,k,x,S,L,I,O,F,U,R;function N(V){$[15](V)}function j(V){$[16](V)}let q={app:$[1],isBoot:$[4]};$[0]!==void 0&&(q.exttransition=$[0]),$[7]!==void 0&&(q.titlebar=$[7]),p=new Titlebar({props:q}),binding_callbacks.push(()=>bind$1(p,"exttransition",N)),binding_callbacks.push(()=>bind$1(p,"titlebar",j)),S=new Content({props:{app:$[1],$$slots:{default:[create_default_slot$1]},$$scope:{ctx:$}}});let H=$[1]&&$[1].overlays&&create_if_block_1$6($),Q=$[1]&&$[1].errorOverlays&&create_if_block$g($);return{c(){r=element("window"),create_component(p.$$.fragment),x=space(),create_component(S.$$.fragment),L=space(),H&&H.c(),I=space(),Q&&Q.c(),attr(r,"style",$[5]),attr(r,"id",O=$[1].id),toggle_class(r,"window",!$[1].info.custom),toggle_class(r,"focused",$[1].id==$[8]),toggle_class(r,"headless",$[1].state.headless||$[1].state.windowState.fll),toggle_class(r,"resizable",$[1].state.resizable),toggle_class(r,"min",$[1].state.windowState.min),toggle_class(r,"max",$[1].state.windowState.max||$[3]),toggle_class(r,"visible",$[1].opened||$[2]),toggle_class(r,"exttransition",$[0]),toggle_class(r,"fullscreen",$[1].state.windowState.fll||$[1].info.custom),toggle_class(r,"glass",$[1].glass),toggle_class(r,"lefttb",$[9].sh.window.lefttb),toggle_class(r,"custom",$[1].info.custom),toggle_class(r,"child",!!$[1].parentId),toggle_class(r,"snapped",$[1].snapped),toggle_class(r,"snapping",$[1].id==$[10]&&($[11]||$[12]))},m(V,K){insert(V,r,K),mount_component(p,r,null),append(r,x),mount_component(S,r,null),append(r,L),H&&H.m(r,null),append(r,I),Q&&Q.m(r,null),$[17](r),F=!0,U||(R=listen(r,"mousedown",$[13]),U=!0)},p(V,[K]){const G={};K&2&&(G.app=V[1]),K&16&&(G.isBoot=V[4]),!v&&K&1&&(v=!0,G.exttransition=V[0],add_flush_callback(()=>v=!1)),!k&&K&128&&(k=!0,G.titlebar=V[7],add_flush_callback(()=>k=!1)),p.$set(G);const Y={};K&2&&(Y.app=V[1]),K&262144&&(Y.$$scope={dirty:K,ctx:V}),S.$set(Y),V[1]&&V[1].overlays?H?(H.p(V,K),K&2&&transition_in(H,1)):(H=create_if_block_1$6(V),H.c(),transition_in(H,1),H.m(r,I)):H&&(group_outros(),transition_out(H,1,1,()=>{H=null}),check_outros()),V[1]&&V[1].errorOverlays?Q?(Q.p(V,K),K&2&&transition_in(Q,1)):(Q=create_if_block$g(V),Q.c(),transition_in(Q,1),Q.m(r,null)):Q&&(group_outros(),transition_out(Q,1,1,()=>{Q=null}),check_outros()),(!F||K&32)&&attr(r,"style",V[5]),(!F||K&2&&O!==(O=V[1].id))&&attr(r,"id",O),(!F||K&2)&&toggle_class(r,"window",!V[1].info.custom),(!F||K&258)&&toggle_class(r,"focused",V[1].id==V[8]),(!F||K&2)&&toggle_class(r,"headless",V[1].state.headless||V[1].state.windowState.fll),(!F||K&2)&&toggle_class(r,"resizable",V[1].state.resizable),(!F||K&2)&&toggle_class(r,"min",V[1].state.windowState.min),(!F||K&10)&&toggle_class(r,"max",V[1].state.windowState.max||V[3]),(!F||K&6)&&toggle_class(r,"visible",V[1].opened||V[2]),(!F||K&1)&&toggle_class(r,"exttransition",V[0]),(!F||K&2)&&toggle_class(r,"fullscreen",V[1].state.windowState.fll||V[1].info.custom),(!F||K&2)&&toggle_class(r,"glass",V[1].glass),(!F||K&512)&&toggle_class(r,"lefttb",V[9].sh.window.lefttb),(!F||K&2)&&toggle_class(r,"custom",V[1].info.custom),(!F||K&2)&&toggle_class(r,"child",!!V[1].parentId),(!F||K&2)&&toggle_class(r,"snapped",V[1].snapped),(!F||K&7170)&&toggle_class(r,"snapping",V[1].id==V[10]&&(V[11]||V[12]))},i(V){F||(transition_in(p.$$.fragment,V),transition_in(S.$$.fragment,V),transition_in(H),transition_in(Q),F=!0)},o(V){transition_out(p.$$.fragment,V),transition_out(S.$$.fragment,V),transition_out(H),transition_out(Q),F=!1},d(V){V&&detach(r),destroy_component(p),destroy_component(S),H&&H.d(),Q&&Q.d(),$[17](null),U=!1,R()}}}function instance$p($,r,p){let v,k,x,S,L;component_subscribe($,focusedWindowId,X=>p(8,v=X)),component_subscribe($,UserData,X=>p(9,k=X)),component_subscribe($,draggingId,X=>p(10,x=X)),component_subscribe($,leftZoneTriggered,X=>p(11,S=X)),component_subscribe($,rightZoneTriggered,X=>p(12,L=X));let{$$slots:I={},$$scope:O}=r,{app:F=null}=r,{visible:U=!1}=r,{max:R=!1}=r,{isBoot:N=!1}=r,j="",q,H=!1,Q,{exttransition:V=!1}=r;onMount(()=>{focusedWindowId.set(F.id),K()});function K(){if(F.minSize.w>F.size.w||F.minSize.h>F.size.h)return void 0;if(F.maxSize.w<F.minSize.w||F.maxSize.h<F.minSize.h)return void 0;p(5,j=generateCSS(F,!H)),H||(H=!0),F.info.custom||dragWindow(F,q,Q)}WindowStore.subscribe(()=>{F.opened&&!F.info.custom&&dragWindow(F,q,Q),K()});function G(){set_store_value(focusedWindowId,v=F.id,v)}focusedWindowId.subscribe(X=>{!F||!F.events||(X==F.id&&F.events.focus&&F.events.focus(F),X!=F.id&&F.events.blur&&F.events.blur(F))}),onMount(()=>{F.runtime&&new F.runtime(F,F.events)});function Y(X){V=X,p(0,V)}function J(X){Q=X,p(7,Q)}function Z(X){binding_callbacks[X?"unshift":"push"](()=>{q=X,p(6,q)})}return $.$$set=X=>{"app"in X&&p(1,F=X.app),"visible"in X&&p(2,U=X.visible),"max"in X&&p(3,R=X.max),"isBoot"in X&&p(4,N=X.isBoot),"exttransition"in X&&p(0,V=X.exttransition),"$$scope"in X&&p(18,O=X.$$scope)},[V,F,U,R,N,j,q,Q,v,k,x,S,L,G,I,Y,J,Z,O]}class Window extends SvelteComponent{constructor(r){super(),init(this,r,instance$p,create_fragment$t,safe_not_equal,{app:1,visible:2,max:3,isBoot:4,exttransition:0})}}function create_fragment$s($){let r,p,v,k,x,S,L,I,O,F,U,R,N,j,q=errored;return{c(){r=element("div"),p=element("div"),p.textContent=`v${ArcOSVersion}`,v=space(),k=element("div"),x=element("img"),L=space(),I=element("div"),I.innerHTML=`<div class="line dark"></div> 
      <div class="subline dark inc"></div> 
      <div class="subline dark dec"></div>`,O=space(),F=element("p"),R=space(),N=empty(),attr(p,"class","arcterm-load visible"),attr(x,"alt","Logo"),attr(x,"class","logo"),src_url_equal(x.src,S=logo$c)||attr(x,"src",S),attr(I,"class","slider userdefined"),attr(F,"class","status"),attr(k,"class","center-absolute"),attr(r,"class",U=$[1]+" boot fullscreen")},m(H,Q){insert(H,r,Q),append(r,p),append(r,v),append(r,k),append(k,x),append(k,L),append(k,I),append(k,O),append(k,F),F.innerHTML=$[0],insert(H,R,Q),insert(H,N,Q),j=!0},p(H,[Q]){(!j||Q&1)&&(F.innerHTML=H[0]),(!j||Q&2&&U!==(U=H[1]+" boot fullscreen"))&&attr(r,"class",U)},i(H){j||(transition_in(q),j=!0)},o(H){transition_out(q),j=!1},d(H){H&&detach(r),H&&detach(R),H&&detach(N)}}}let targetState="login",errored=!1;function instance$o($,r,p){let v="",k="",x=null,S=null,L=null,I=!1;onMount(async()=>{p(0,v="&nbsp;"),x=setTimeout(R,500),S=setTimeout(U,4e3),L=setTimeout(N,4750),await F()||p(0,v="Preparing ArcOS"),document.addEventListener("keydown",O)});function O(j){!j.altKey||j.key.toLowerCase()!="a"||(I=!0,p(0,v="Loading ArcTerm"))}async function F(){const j=getServer();let q=!1;if(j)return clearTimeout(x),clearTimeout(S),clearTimeout(L),setTimeout(R,120),q=await testConnection(j),q?(setTimeout(U,2e3),setTimeout(N,2750),q):(U(),BugReportData.set([!0,{title:"Boot failed",icon:"warning",message:"ArcOS can't connect to the remote server. Please ensure<br>the server is online, or try again at a later date.",button:{caption:"Retry",action:()=>location.reload()},source:"Boot",details:`Can't connect to server ${j}: none of the modes match`}]))}function U(){Log({level:LogLevel.info,source:"Boot.svelte",msg:"Fade-out"}),p(1,k="fadeout")}function R(){Log({level:LogLevel.info,source:"Boot.svelte",msg:"Fade-in"}),p(1,k="fadein")}async function N(){Log({level:LogLevel.info,source:"Boot.svelte",msg:"Redirecting"}),removeEventListener("keydown",O),applyState(I?"arcterm":targetState)}return[v,k]}class Boot extends SvelteComponent{constructor(r){super(),init(this,r,instance$o,create_fragment$s,safe_not_equal,{})}}const desktop="";async function importAutoLoaders(){const $=get_store_value(UserData);if(!$.autoLoads)return!1;for(let r=0;r<$.autoLoads.length;r++){const p=$.autoLoads[r],v={name:p,path:p,mime:"text/plain",data:await readFile(p)};(!loadAppFile(v)||!v.data)&&errorMessage("Can't import app",`ArcOS failed to load app file "${p}". Please verify that this file exists and then try again.`,null,null,{caption:"Close",action(){}},{caption:"Don't load again",action(){const x=get_store_value(UserData);for(let S=0;S<x.autoLoads.length;S++)x.autoLoads[S]==p&&x.autoLoads.splice(S,1);UserData.set(x)}})}}const banned=["tab","pagedown","pageup"];function startKeyListener(){Log({source:"keyboard/listener.ts: startKeyListener",msg:"Starting key listener",level:LogLevel.info}),document.addEventListener("keydown",processEvent)}function processEvent($){if($.key){if(banned.includes($.key.toLowerCase()))return $.preventDefault(),!1;if(unfocusActiveElement(),get_store_value(CurrentState).key=="desktop")for(let r=0;r<appShortcuts.length;r++){const p=appShortcuts[r],v=p[1];for(let k=0;k<v.length;k++){const x=v[k].alt?$.altKey:!0,S=v[k].ctrl?$.ctrlKey:!0,L=v[k].shift?$.shiftKey:!0,I=x&&S&&L,O=$.key.toLowerCase().trim(),F=v[k].key.trim().toLowerCase(),U=get_store_value(focusedWindowId)==p[0]||v[k].global;if(!I||F!=O&&F||!U)continue;const R=v[k].global?null:getWindow(p[0]);v[k].action(R)}}}}function unfocusActiveElement(){const $=document.activeElement;!$||$ instanceof HTMLInputElement||$ instanceof HTMLTextAreaElement||$.blur()}let interval;const pollBlockList=[];function startMessageCheckInterval(){interval=setInterval(tick,1e3*60),tick()}async function tick(){if(!get_store_value(UserName))return stopMessageCheckInterval();messageUpdateTrigger();const $=(await getUnreadMessages()).sort((p,v)=>v.timestamp-p.timestamp);if(!$.length)return;const r=$[0];!r||isOpened("MessagingApp")||pollBlockList.includes(r.id)||(pollBlockList.push(r.id),makeNotification({title:`New message from ${r.sender}`,message:`${r.partialBody}`,image:await getUserPfp(r.sender),buttons:[{caption:"Open Messages",action:()=>{messageUpdateTrigger(),openWindow("MessagingApp")}}]}))}function stopMessageCheckInterval(){clearInterval(interval)}async function checkLinux(){Log({source:"tauri/linux.ts",level:LogLevel.info,msg:"Checking if we're in Tauri and if we're on linux..."});const $=navigator.userAgent.toLowerCase();if(!(await inTauri()&&$.includes("linux")))return Log({source:"tauri/linux.ts",level:LogLevel.warn,msg:"The answer is no, aborting."});createOverlayableError({title:"Important!",message:"You are running the ArcOS Desktop App on Linux. There will be inconsistencies and problems with doing this, such as poor performance and incorrect font rendering. It is recommended to run the Desktop App only on Windows until a solution to this problem has been found.",buttons:[{caption:"OK",action(){}}]},"ArcShell")}const arcfind="";function create_fragment$r($){let r,p,v,k;return p=new Spinner({props:{height:30}}),{c(){r=element("div"),create_component(p.$$.fragment),v=element("span"),v.textContent="Searching...",attr(v,"class","caption"),attr(r,"class","loading")},m(x,S){insert(x,r,S),mount_component(p,r,null),append(r,v),k=!0},p:noop$1,i(x){k||(transition_in(p.$$.fragment,x),k=!0)},o(x){transition_out(p.$$.fragment,x),k=!1},d(x){x&&detach(r),destroy_component(p)}}}class Loading extends SvelteComponent{constructor(r){super(),init(this,r,null,create_fragment$r,safe_not_equal,{})}}function create_fragment$q($){let r;return{c(){r=element("div"),r.textContent="No items matched your search.",attr(r,"class","no-results")},m(p,v){insert(p,r,v)},p:noop$1,i:noop$1,o:noop$1,d(p){p&&detach(r)}}}class NoResults extends SvelteComponent{constructor(r){super(),init(this,r,null,create_fragment$q,safe_not_equal,{})}}function create_if_block$f($){let r,p=$[0].description+"",v;return{c(){r=element("p"),v=text(p),attr(r,"class","description")},m(k,x){insert(k,r,x),append(r,v)},p(k,x){x&1&&p!==(p=k[0].description+"")&&set_data(v,p)},d(k){k&&detach(r)}}}function create_fragment$p($){let r,p,v,k,x,S,L,I,O=$[0].caption+"",F,U,R,N,j=$[0].description&&create_if_block$f($);return{c(){r=element("button"),p=element("div"),v=element("img"),S=space(),L=element("div"),I=element("p"),F=text(O),U=space(),j&&j.c(),src_url_equal(v.src,k=$[0].image||searchIcon)||attr(v,"src",k),attr(v,"alt",x=$[0].caption),attr(p,"class","image"),attr(I,"class","title"),attr(L,"class","context"),attr(r,"class","result"),toggle_class(r,"selected",$[1]==$[2])},m(q,H){insert(q,r,H),append(r,p),append(p,v),append(r,S),append(r,L),append(L,I),append(I,F),append(L,U),j&&j.m(L,null),R||(N=listen(r,"click",$[3]),R=!0)},p(q,[H]){H&1&&!src_url_equal(v.src,k=q[0].image||searchIcon)&&attr(v,"src",k),H&1&&x!==(x=q[0].caption)&&attr(v,"alt",x),H&1&&O!==(O=q[0].caption+"")&&set_data(F,O),q[0].description?j?j.p(q,H):(j=create_if_block$f(q),j.c(),j.m(L,null)):j&&(j.d(1),j=null),H&6&&toggle_class(r,"selected",q[1]==q[2])},i:noop$1,o:noop$1,d(q){q&&detach(r),j&&j.d(),R=!1,N()}}}function instance$n($,r,p){let{result:v}=r,{index:k}=r,{resultIndex:x}=r;function S(){v.action(v),showArcFind.set(!1)}return $.$$set=L=>{"result"in L&&p(0,v=L.result),"index"in L&&p(1,k=L.index),"resultIndex"in L&&p(2,x=L.resultIndex)},[v,k,x,S]}class Result extends SvelteComponent{constructor(r){super(),init(this,r,instance$n,create_fragment$p,safe_not_equal,{result:0,index:1,resultIndex:2})}}function get_each_context$5($,r,p){const v=$.slice();return v[18]=r[p],v}function get_each_context_1$1($,r,p){const v=$.slice();return v[21]=r[p],v[23]=p,v}function create_if_block_5($){let r,p,v;return{c(){r=element("input"),attr(r,"type","text"),attr(r,"placeholder","Search ArcOS")},m(k,x){insert(k,r,x),set_input_value(r,$[1]),$[15](r),p||(v=[listen(r,"input",$[14]),listen(r,"input",$[10]),listen(r,"keydown",$[13])],p=!0)},p(k,x){x&2&&r.value!==k[1]&&set_input_value(r,k[1])},d(k){k&&detach(r),$[15](null),p=!1,run_all(v)}}}function create_if_block_2$2($){let r,p,v,k;const x=[create_if_block_3,create_if_block_4,create_else_block$5],S=[];function L(I,O){return I[6].length?0:I[3]?1:2}return p=L($),v=S[p]=x[p]($),{c(){r=element("div"),v.c(),attr(r,"class","results")},m(I,O){insert(I,r,O),S[p].m(r,null),k=!0},p(I,O){let F=p;p=L(I),p===F?S[p].p(I,O):(group_outros(),transition_out(S[F],1,1,()=>{S[F]=null}),check_outros(),v=S[p],v?v.p(I,O):(v=S[p]=x[p](I),v.c()),transition_in(v,1),v.m(r,null))},i(I){k||(transition_in(v),k=!0)},o(I){transition_out(v),k=!1},d(I){I&&detach(r),S[p].d()}}}function create_else_block$5($){let r,p;return r=new NoResults({}),{c(){create_component(r.$$.fragment)},m(v,k){mount_component(r,v,k),p=!0},p:noop$1,i(v){p||(transition_in(r.$$.fragment,v),p=!0)},o(v){transition_out(r.$$.fragment,v),p=!1},d(v){destroy_component(r,v)}}}function create_if_block_4($){let r,p;return r=new Loading({}),{c(){create_component(r.$$.fragment)},m(v,k){mount_component(r,v,k),p=!0},p:noop$1,i(v){p||(transition_in(r.$$.fragment,v),p=!0)},o(v){transition_out(r.$$.fragment,v),p=!1},d(v){destroy_component(r,v)}}}function create_if_block_3($){let r,p,v=$[6],k=[];for(let S=0;S<v.length;S+=1)k[S]=create_each_block_1$1(get_each_context_1$1($,v,S));const x=S=>transition_out(k[S],1,1,()=>{k[S]=null});return{c(){for(let S=0;S<k.length;S+=1)k[S].c();r=empty()},m(S,L){for(let I=0;I<k.length;I+=1)k[I]&&k[I].m(S,L);insert(S,r,L),p=!0},p(S,L){if(L&68){v=S[6];let I;for(I=0;I<v.length;I+=1){const O=get_each_context_1$1(S,v,I);k[I]?(k[I].p(O,L),transition_in(k[I],1)):(k[I]=create_each_block_1$1(O),k[I].c(),transition_in(k[I],1),k[I].m(r.parentNode,r))}for(group_outros(),I=v.length;I<k.length;I+=1)x(I);check_outros()}},i(S){if(!p){for(let L=0;L<v.length;L+=1)transition_in(k[L]);p=!0}},o(S){k=k.filter(Boolean);for(let L=0;L<k.length;L+=1)transition_out(k[L]);p=!1},d(S){destroy_each(k,S),S&&detach(r)}}}function create_each_block_1$1($){let r,p;return r=new Result({props:{index:$[2],result:$[21],resultIndex:$[23]}}),{c(){create_component(r.$$.fragment)},m(v,k){mount_component(r,v,k),p=!0},p(v,k){const x={};k&4&&(x.index=v[2]),k&64&&(x.result=v[21]),r.$set(x)},i(v){p||(transition_in(r.$$.fragment,v),p=!0)},o(v){transition_out(r.$$.fragment,v),p=!1},d(v){destroy_component(r,v)}}}function create_if_block_1$5($){let r,p;return r=new AppListItem({props:{app:$[18],onopen:$[16]}}),{c(){create_component(r.$$.fragment)},m(v,k){mount_component(r,v,k),p=!0},p(v,k){const x={};k&512&&(x.app=v[18]),k&256&&(x.onopen=v[16]),r.$set(x)},i(v){p||(transition_in(r.$$.fragment,v),p=!0)},o(v){transition_out(r.$$.fragment,v),p=!1},d(v){destroy_component(r,v)}}}function create_each_block$5($){let r=isPopulatable($[18]),p,v,k=r&&create_if_block_1$5($);return{c(){k&&k.c(),p=empty()},m(x,S){k&&k.m(x,S),insert(x,p,S),v=!0},p(x,S){S&512&&(r=isPopulatable(x[18])),r?k?(k.p(x,S),S&512&&transition_in(k,1)):(k=create_if_block_1$5(x),k.c(),transition_in(k,1),k.m(p.parentNode,p)):k&&(group_outros(),transition_out(k,1,1,()=>{k=null}),check_outros())},i(x){v||(transition_in(k),v=!0)},o(x){transition_out(k),v=!1},d(x){k&&k.d(x),x&&detach(p)}}}function create_if_block$e($){let r,p,v;return{c(){r=element("button"),r.textContent="close",attr(r,"class","material-icons-round close")},m(k,x){insert(k,r,x),p||(v=listen(r,"click",$[12]),p=!0)},p:noop$1,d(k){k&&detach(r),p=!1,v()}}}function create_fragment$o($){let r,p,v,k,x,S,L,I,O,F,U,R,N=$[8]&&create_if_block_5($),j=$[4]&&create_if_block_2$2($),q=$[9],H=[];for(let K=0;K<q.length;K+=1)H[K]=create_each_block$5(get_each_context$5($,q,K));const Q=K=>transition_out(H[K],1,1,()=>{H[K]=null});let V=!$[0]&&create_if_block$e($);return{c(){r=element("div"),p=element("div"),v=element("form"),N&&N.c(),k=space(),x=element("button"),x.textContent="search",S=space(),j&&j.c(),L=space(),I=element("div");for(let K=0;K<H.length;K+=1)H[K].c();O=space(),V&&V.c(),attr(x,"class","material-icons-round"),attr(p,"class","arcfind"),attr(I,"class","apps"),toggle_class(I,"hide",!!$[1]),attr(r,"class","arcfind-wrapper"),set_style(r,"z-index",$[7]+30),toggle_class(r,"inlined",$[0]),toggle_class(r,"show",$[8]||$[0])},m(K,G){insert(K,r,G),append(r,p),append(p,v),N&&N.m(v,null),append(p,k),append(p,x),append(r,S),j&&j.m(r,null),append(r,L),append(r,I);for(let Y=0;Y<H.length;Y+=1)H[Y]&&H[Y].m(I,null);append(r,O),V&&V.m(r,null),F=!0,U||(R=listen(v,"submit",$[11]),U=!0)},p(K,[G]){if(K[8]?N?N.p(K,G):(N=create_if_block_5(K),N.c(),N.m(v,null)):N&&(N.d(1),N=null),K[4]?j?(j.p(K,G),G&16&&transition_in(j,1)):(j=create_if_block_2$2(K),j.c(),transition_in(j,1),j.m(r,L)):j&&(group_outros(),transition_out(j,1,1,()=>{j=null}),check_outros()),G&768){q=K[9];let Y;for(Y=0;Y<q.length;Y+=1){const J=get_each_context$5(K,q,Y);H[Y]?(H[Y].p(J,G),transition_in(H[Y],1)):(H[Y]=create_each_block$5(J),H[Y].c(),transition_in(H[Y],1),H[Y].m(I,null))}for(group_outros(),Y=q.length;Y<H.length;Y+=1)Q(Y);check_outros()}(!F||G&2)&&toggle_class(I,"hide",!!K[1]),K[0]?V&&(V.d(1),V=null):V?V.p(K,G):(V=create_if_block$e(K),V.c(),V.m(r,null)),(!F||G&128)&&set_style(r,"z-index",K[7]+30),(!F||G&1)&&toggle_class(r,"inlined",K[0]),(!F||G&257)&&toggle_class(r,"show",K[8]||K[0])},i(K){if(!F){transition_in(j);for(let G=0;G<q.length;G+=1)transition_in(H[G]);F=!0}},o(K){transition_out(j),H=H.filter(Boolean);for(let G=0;G<H.length;G+=1)transition_out(H[G]);F=!1},d(K){K&&detach(r),N&&N.d(),j&&j.d(),destroy_each(H,K),V&&V.d(),U=!1,R()}}}function instance$m($,r,p){let v,k,x;component_subscribe($,maxZIndex,Y=>p(7,v=Y)),component_subscribe($,showArcFind,Y=>p(8,k=Y)),component_subscribe($,WindowStore,Y=>p(9,x=Y));let{inlined:S=!1}=r,L="",I=0,O=!1,F=!1,U,R=[];async function N(){if(!L)return p(4,F=!1);p(4,F=!0),p(3,O=!0);const Y=[],J=await Search(L);for(let Z=0;Z<J.length;Z++)Y.push(J[Z].item);p(2,I=-1),p(6,R=Y.slice(0,6)),p(3,O=!1)}function j(Y){if(Y.preventDefault(),!!R.length){if(p(1,L=""),I!=-1){R[I].action(R[I]),q(),showArcFind.set(!1);return}R[0].action(R[0]),q(),showArcFind.set(!1)}}function q(){p(6,R=[]),p(1,L=""),p(2,I=-1),p(4,F=!1)}function H(){q(),showArcFind.set(!1)}showArcFind.subscribe(async Y=>{q(),Y&&(await sleep(500),U.focus(),await sleep(200),U.focus())});function Q(Y){const J=Y.key.toLowerCase();if(J=="escape"){q(),showArcFind.set(!1);return}if(!R.length)return p(2,I=-1);let Z=R.length-1;switch(J){case"arrowup":p(2,I--,I),I<0&&p(2,I=Z);break;case"arrowdown":p(2,I++,I),I>Z&&p(2,I=0);break}}function V(){L=this.value,p(1,L)}function K(Y){binding_callbacks[Y?"unshift":"push"](()=>{U=Y,p(5,U)})}const G=()=>set_store_value(showArcFind,k=!1,k);return $.$$set=Y=>{"inlined"in Y&&p(0,S=Y.inlined)},[S,L,I,O,F,U,R,v,k,x,N,j,H,Q,V,K,G]}class ArcFind extends SvelteComponent{constructor(r){super(),init(this,r,instance$m,create_fragment$o,safe_not_equal,{inlined:0})}}const contextmenu="";function create_else_block$4($){let r,p,v,k=$[0].caption+"",x,S,L;function I(U,R){if(U[0].icon)return create_if_block_1$4;if(U[0].image)return create_if_block_2$1}let O=I($),F=O&&O($);return{c(){r=element("button"),p=element("div"),F&&F.c(),v=space(),x=text(k),attr(p,"class","icon"),attr(r,"class","contextmenu-item"),toggle_class(r,"active",$[1])},m(U,R){insert(U,r,R),append(r,p),F&&F.m(p,null),append(r,v),append(r,x),S||(L=listen(r,"click",$[2]),S=!0)},p(U,R){O===(O=I(U))&&F?F.p(U,R):(F&&F.d(1),F=O&&O(U),F&&(F.c(),F.m(p,null))),R&1&&k!==(k=U[0].caption+"")&&set_data(x,k),R&2&&toggle_class(r,"active",U[1])},d(U){U&&detach(r),F&&F.d(),S=!1,L()}}}function create_if_block$d($){let r;return{c(){r=element("hr")},m(p,v){insert(p,r,v)},p:noop$1,d(p){p&&detach(r)}}}function create_if_block_2$1($){let r,p,v;return{c(){r=element("img"),src_url_equal(r.src,p=$[0].image)||attr(r,"src",p),attr(r,"alt",v=$[0].caption)},m(k,x){insert(k,r,x)},p(k,x){x&1&&!src_url_equal(r.src,p=k[0].image)&&attr(r,"src",p),x&1&&v!==(v=k[0].caption)&&attr(r,"alt",v)},d(k){k&&detach(r)}}}function create_if_block_1$4($){let r,p=$[0].icon+"",v;return{c(){r=element("span"),v=text(p),attr(r,"class","material-icons-round")},m(k,x){insert(k,r,x),append(r,v)},p(k,x){x&1&&p!==(p=k[0].icon+"")&&set_data(v,p)},d(k){k&&detach(r)}}}function create_fragment$n($){let r;function p(x,S){return x[0].sep?create_if_block$d:create_else_block$4}let v=p($),k=v($);return{c(){k.c(),r=empty()},m(x,S){k.m(x,S),insert(x,r,S)},p(x,[S]){v===(v=p(x))&&k?k.p(x,S):(k.d(1),k=v(x),k&&(k.c(),k.m(r.parentNode,r)))},i:noop$1,o:noop$1,d(x){k.d(x),x&&detach(r)}}}function instance$l($,r,p){let{data:v}=r,{scope:k}=r,{scopeMap:x}=r,{window:S}=r,{show:L}=r,I=!1;function O(){v.action&&v.action(S,x,k),p(3,L=!1),F()}onMount(F);async function F(){if(!v.isActive)return p(1,I=!1);p(1,I=await v.isActive())}return $.$$set=U=>{"data"in U&&p(0,v=U.data),"scope"in U&&p(4,k=U.scope),"scopeMap"in U&&p(5,x=U.scopeMap),"window"in U&&p(6,S=U.window),"show"in U&&p(3,L=U.show)},[v,I,O,L,k,x,S]}class Item extends SvelteComponent{constructor(r){super(),init(this,r,instance$l,create_fragment$n,safe_not_equal,{data:0,scope:4,scopeMap:5,window:6,show:3})}}function get_each_context$4($,r,p){const v=$.slice();return v[13]=r[p],v}function create_each_block$4($){let r,p,v;function k(S){$[10](S)}let x={window:$[4],scope:$[5],scopeMap:$[6],data:$[13]};return $[2]!==void 0&&(x.show=$[2]),r=new Item({props:x}),binding_callbacks.push(()=>bind$1(r,"show",k)),{c(){create_component(r.$$.fragment)},m(S,L){mount_component(r,S,L),v=!0},p(S,L){const I={};L&16&&(I.window=S[4]),L&32&&(I.scope=S[5]),L&64&&(I.scopeMap=S[6]),L&8&&(I.data=S[13]),!p&&L&4&&(p=!0,I.show=S[2],add_flush_callback(()=>p=!1)),r.$set(I)},i(S){v||(transition_in(r.$$.fragment,S),v=!0)},o(S){transition_out(r.$$.fragment,S),v=!1},d(S){destroy_component(r,S)}}}function create_fragment$m($){let r,p,v=$[3],k=[];for(let S=0;S<v.length;S+=1)k[S]=create_each_block$4(get_each_context$4($,v,S));const x=S=>transition_out(k[S],1,1,()=>{k[S]=null});return{c(){r=element("div");for(let S=0;S<k.length;S+=1)k[S].c();attr(r,"class","contextmenu"),set_style(r,"top",$[1]+"px"),set_style(r,"left",$[0]+"px"),set_style(r,"z-index",$[9]+10),toggle_class(r,"show",$[2]),toggle_class(r,"compact",$[8].sh.compactContext),toggle_class(r,"colored",$[8].sh.taskbar.colored)},m(S,L){insert(S,r,L);for(let I=0;I<k.length;I+=1)k[I]&&k[I].m(r,null);$[11](r),p=!0},p(S,[L]){if(L&124){v=S[3];let I;for(I=0;I<v.length;I+=1){const O=get_each_context$4(S,v,I);k[I]?(k[I].p(O,L),transition_in(k[I],1)):(k[I]=create_each_block$4(O),k[I].c(),transition_in(k[I],1),k[I].m(r,null))}for(group_outros(),I=v.length;I<k.length;I+=1)x(I);check_outros()}(!p||L&2)&&set_style(r,"top",S[1]+"px"),(!p||L&1)&&set_style(r,"left",S[0]+"px"),(!p||L&512)&&set_style(r,"z-index",S[9]+10),(!p||L&4)&&toggle_class(r,"show",S[2]),(!p||L&256)&&toggle_class(r,"compact",S[8].sh.compactContext),(!p||L&256)&&toggle_class(r,"colored",S[8].sh.taskbar.colored)},i(S){if(!p){for(let L=0;L<v.length;L+=1)transition_in(k[L]);p=!0}},o(S){k=k.filter(Boolean);for(let L=0;L<k.length;L+=1)transition_out(k[L]);p=!1},d(S){S&&detach(r),destroy_each(k,S),$[11](null)}}}function instance$k($,r,p){let v,k;component_subscribe($,UserData,H=>p(8,v=H)),component_subscribe($,maxZIndex,H=>p(9,k=H));let x=0,S=0,L=!1,I=[],O,F,U,R;onMount(()=>{document.addEventListener("contextmenu",N),document.addEventListener("mousedown",H=>{H.button!=0||H.composedPath().includes(R)||p(2,L=!1)})});function N(H){p(2,L=!1),p(3,I=[]),H.preventDefault();const Q=getWindowElementByEvent(H);if(!Q)return;const V=getWindow(Q.id),K=getCallerScope(H);if(!K)return;const G=K==null?void 0:K.dataset.caller;setTimeout(()=>{p(3,I=getContextEntry(Q.id,G)||[]),I.length&&(p(5,F=G),p(4,O=V),p(6,U=K.dataset),p(2,L=!0),setTimeout(()=>{const Y=R.offsetWidth,J=R.offsetHeight;p(0,[x,S]=composePosition(H,Y,J),x,p(1,S))}))})}function j(H){L=H,p(2,L)}function q(H){binding_callbacks[H?"unshift":"push"](()=>{R=H,p(7,R)})}return[x,S,L,I,O,F,U,R,v,k,j,q]}class ContextMenu extends SvelteComponent{constructor(r){super(),init(this,r,instance$k,create_fragment$m,safe_not_equal,{})}}function create_fragment$l($){let r,p=$[0].caption+"",v,k,x;return{c(){r=element("button"),v=text(p)},m(S,L){insert(S,r,L),append(r,v),k||(x=listen(r,"click",$[1]),k=!0)},p(S,[L]){L&1&&p!==(p=S[0].caption+"")&&set_data(v,p)},i:noop$1,o:noop$1,d(S){S&&detach(r),k=!1,x()}}}function instance$j($,r,p){let{button:v}=r,{msg:k}=r;function x(){v.action(),S()}function S(){closeError(k.id)}return $.$$set=L=>{"button"in L&&p(0,v=L.button),"msg"in L&&p(2,k=L.msg)},[v,x,k]}class Button extends SvelteComponent{constructor(r){super(),init(this,r,instance$j,create_fragment$l,safe_not_equal,{button:0,msg:2})}}function get_each_context$3($,r,p){const v=$.slice();return v[2]=r[p],v}function get_each_context_1($,r,p){const v=$.slice();return v[5]=r[p],v}function get_each_context_2($,r,p){const v=$.slice();return v[8]=r[p],v}function create_if_block$c($){let r,p=$[5].message+"",v,k,x,S,L,I,O,F=$[5].buttons,U=[];for(let N=0;N<F.length;N+=1)U[N]=create_each_block_2(get_each_context_2($,F,N));const R=N=>transition_out(U[N],1,1,()=>{U[N]=null});return{c(){r=element("p"),v=space(),k=element("center"),x=element("br"),S=space();for(let N=0;N<U.length;N+=1)U[N].c();L=space(),I=element("br")},m(N,j){insert(N,r,j),r.innerHTML=p,insert(N,v,j),insert(N,k,j),append(k,x),append(k,S);for(let q=0;q<U.length;q+=1)U[q]&&U[q].m(k,null);append(k,L),append(k,I),O=!0},p(N,j){if((!O||j&2)&&p!==(p=N[5].message+"")&&(r.innerHTML=p),j&2){F=N[5].buttons;let q;for(q=0;q<F.length;q+=1){const H=get_each_context_2(N,F,q);U[q]?(U[q].p(H,j),transition_in(U[q],1)):(U[q]=create_each_block_2(H),U[q].c(),transition_in(U[q],1),U[q].m(k,L))}for(group_outros(),q=F.length;q<U.length;q+=1)R(q);check_outros()}},i(N){if(!O){for(let j=0;j<F.length;j+=1)transition_in(U[j]);O=!0}},o(N){U=U.filter(Boolean);for(let j=0;j<U.length;j+=1)transition_out(U[j]);O=!1},d(N){N&&detach(r),N&&detach(v),N&&detach(k),destroy_each(U,N)}}}function create_each_block_2($){let r,p;return r=new Button({props:{button:$[8],msg:$[5]}}),{c(){create_component(r.$$.fragment)},m(v,k){mount_component(r,v,k),p=!0},p(v,k){const x={};k&2&&(x.button=v[8]),k&2&&(x.msg=v[5]),r.$set(x)},i(v){p||(transition_in(r.$$.fragment,v),p=!0)},o(v){transition_out(r.$$.fragment,v),p=!1},d(v){destroy_component(r,v)}}}function create_each_block_1($){let r,p,v=`error_${$[5].id}`==$[2].id&&create_if_block$c($);return{c(){v&&v.c(),r=empty()},m(k,x){v&&v.m(k,x),insert(k,r,x),p=!0},p(k,x){`error_${k[5].id}`==k[2].id?v?(v.p(k,x),x&3&&transition_in(v,1)):(v=create_if_block$c(k),v.c(),transition_in(v,1),v.m(r.parentNode,r)):v&&(group_outros(),transition_out(v,1,1,()=>{v=null}),check_outros())},i(k){p||(transition_in(v),p=!0)},o(k){transition_out(v),p=!1},d(k){v&&v.d(k),k&&detach(r)}}}function create_default_slot($){let r,p,v=$[1],k=[];for(let S=0;S<v.length;S+=1)k[S]=create_each_block_1(get_each_context_1($,v,S));const x=S=>transition_out(k[S],1,1,()=>{k[S]=null});return{c(){for(let S=0;S<k.length;S+=1)k[S].c();r=space()},m(S,L){for(let I=0;I<k.length;I+=1)k[I]&&k[I].m(S,L);insert(S,r,L),p=!0},p(S,L){if(L&3){v=S[1];let I;for(I=0;I<v.length;I+=1){const O=get_each_context_1(S,v,I);k[I]?(k[I].p(O,L),transition_in(k[I],1)):(k[I]=create_each_block_1(O),k[I].c(),transition_in(k[I],1),k[I].m(r.parentNode,r))}for(group_outros(),I=v.length;I<k.length;I+=1)x(I);check_outros()}},i(S){if(!p){for(let L=0;L<v.length;L+=1)transition_in(k[L]);p=!0}},o(S){k=k.filter(Boolean);for(let L=0;L<k.length;L+=1)transition_out(k[L]);p=!1},d(S){destroy_each(k,S),S&&detach(r)}}}function create_each_block$3($){let r,p;return r=new Window({props:{app:$[2],$$slots:{default:[create_default_slot]},$$scope:{ctx:$}}}),{c(){create_component(r.$$.fragment)},m(v,k){mount_component(r,v,k),p=!0},p(v,k){const x={};k&1&&(x.app=v[2]),k&2051&&(x.$$scope={dirty:k,ctx:v}),r.$set(x)},i(v){p||(transition_in(r.$$.fragment,v),p=!0)},o(v){transition_out(r.$$.fragment,v),p=!1},d(v){destroy_component(r,v)}}}function create_fragment$k($){let r,p,v=$[0],k=[];for(let S=0;S<v.length;S+=1)k[S]=create_each_block$3(get_each_context$3($,v,S));const x=S=>transition_out(k[S],1,1,()=>{k[S]=null});return{c(){r=element("div");for(let S=0;S<k.length;S+=1)k[S].c();attr(r,"class","winstore")},m(S,L){insert(S,r,L);for(let I=0;I<k.length;I+=1)k[I]&&k[I].m(r,null);p=!0},p(S,[L]){if(L&3){v=S[0];let I;for(I=0;I<v.length;I+=1){const O=get_each_context$3(S,v,I);k[I]?(k[I].p(O,L),transition_in(k[I],1)):(k[I]=create_each_block$3(O),k[I].c(),transition_in(k[I],1),k[I].m(r,null))}for(group_outros(),I=v.length;I<k.length;I+=1)x(I);check_outros()}},i(S){if(!p){for(let L=0;L<v.length;L+=1)transition_in(k[L]);p=!0}},o(S){k=k.filter(Boolean);for(let L=0;L<k.length;L+=1)transition_out(k[L]);p=!1},d(S){S&&detach(r),destroy_each(k,S)}}}function instance$i($,r,p){let v,k;return component_subscribe($,ErrorWindowStore,x=>p(0,v=x)),component_subscribe($,ErrorMessages,x=>p(1,k=x)),[v,k]}class ErrorDialogStore extends SvelteComponent{constructor(r){super(),init(this,r,instance$i,create_fragment$k,safe_not_equal,{})}}function get_each_context$2($,r,p){const v=$.slice();return v[2]=r[p],v}function create_if_block$b($){let r,p;return r=new Window({props:{app:$[2]}}),{c(){create_component(r.$$.fragment)},m(v,k){mount_component(r,v,k),p=!0},p(v,k){const x={};k&1&&(x.app=v[2]),r.$set(x)},i(v){p||(transition_in(r.$$.fragment,v),p=!0)},o(v){transition_out(r.$$.fragment,v),p=!1},d(v){destroy_component(r,v)}}}function create_each_block$2($){let r,p,v=$[2]&&!$[2].disabled&&create_if_block$b($);return{c(){v&&v.c(),r=empty()},m(k,x){v&&v.m(k,x),insert(k,r,x),p=!0},p(k,x){k[2]&&!k[2].disabled?v?(v.p(k,x),x&1&&transition_in(v,1)):(v=create_if_block$b(k),v.c(),transition_in(v,1),v.m(r.parentNode,r)):v&&(group_outros(),transition_out(v,1,1,()=>{v=null}),check_outros())},i(k){p||(transition_in(v),p=!0)},o(k){transition_out(v),p=!1},d(k){v&&v.d(k),k&&detach(r)}}}function create_fragment$j($){let r,p,v=$[0],k=[];for(let S=0;S<v.length;S+=1)k[S]=create_each_block$2(get_each_context$2($,v,S));const x=S=>transition_out(k[S],1,1,()=>{k[S]=null});return{c(){r=element("div");for(let S=0;S<k.length;S+=1)k[S].c();attr(r,"class","winstore")},m(S,L){insert(S,r,L);for(let I=0;I<k.length;I+=1)k[I]&&k[I].m(r,null);p=!0},p(S,[L]){if(L&1){v=S[0];let I;for(I=0;I<v.length;I+=1){const O=get_each_context$2(S,v,I);k[I]?(k[I].p(O,L),transition_in(k[I],1)):(k[I]=create_each_block$2(O),k[I].c(),transition_in(k[I],1),k[I].m(r,null))}for(group_outros(),I=v.length;I<k.length;I+=1)x(I);check_outros()}},i(S){if(!p){for(let L=0;L<v.length;L+=1)transition_in(k[L]);p=!0}},o(S){k=k.filter(Boolean);for(let L=0;L<k.length;L+=1)transition_out(k[L]);p=!1},d(S){S&&detach(r),destroy_each(k,S)}}}function instance$h($,r,p){let v;component_subscribe($,maxZIndex,x=>p(1,v=x));let k=[];return WindowStore.subscribe(x=>{p(0,k=[]),x&&p(0,k=x);const S=getOpenedStore();for(let L=0;L<S.length;L++)if(S[L].state.windowState.fll)return isFullscreenWindow.set(!0);isFullscreenWindow.set(!1)}),focusedWindowId.subscribe(x=>{var I;if((I=getWindow(x))!=null&&I.info.custom)return;if(set_store_value(maxZIndex,v++,v),!x||x.startsWith("error_")){if(!x)return;const O=document.querySelector(`#${x}`);if(!O)return;O.style.zIndex=`${v}`;return}const S=getWindow(x);if(!S)return;const L=getWindowElement(S);L&&(L.style.zIndex=`${v}`)}),[k]}class WindowStore_1 extends SvelteComponent{constructor(r){super(),init(this,r,instance$h,create_fragment$j,safe_not_equal,{})}}function create_if_block$a($){let r,p,v,k,x,S,L,I,O,F;return p=new WindowStore_1({}),k=new ErrorDialogStore({}),S=new ContextMenu({}),I=new ArcFind({}),{c(){r=element("div"),create_component(p.$$.fragment),v=space(),create_component(k.$$.fragment),x=space(),create_component(S.$$.fragment),L=space(),create_component(I.$$.fragment),attr(r,"class",O="desktop theme-"+$[2].sh.desktop.theme+" tb-"+$[2].sh.taskbar.pos+" fullscreen "+$[1]),set_style(r,"--accent","#"+($[2].sh.desktop.accent||"70D6FF"),1),toggle_class(r,"show",$[0])},m(U,R){insert(U,r,R),mount_component(p,r,null),append(r,v),mount_component(k,r,null),append(r,x),mount_component(S,r,null),append(r,L),mount_component(I,r,null),F=!0},p(U,R){(!F||R&6&&O!==(O="desktop theme-"+U[2].sh.desktop.theme+" tb-"+U[2].sh.taskbar.pos+" fullscreen "+U[1]))&&attr(r,"class",O),(!F||R&4)&&set_style(r,"--accent","#"+(U[2].sh.desktop.accent||"70D6FF"),1),(!F||R&7)&&toggle_class(r,"show",U[0])},i(U){F||(transition_in(p.$$.fragment,U),transition_in(k.$$.fragment,U),transition_in(S.$$.fragment,U),transition_in(I.$$.fragment,U),F=!0)},o(U){transition_out(p.$$.fragment,U),transition_out(k.$$.fragment,U),transition_out(S.$$.fragment,U),transition_out(I.$$.fragment,U),F=!1},d(U){U&&detach(r),destroy_component(p),destroy_component(k),destroy_component(S),destroy_component(I)}}}function create_fragment$i($){let r,p,v=$[2]&&$[3]&&create_if_block$a($);return{c(){v&&v.c(),r=empty()},m(k,x){v&&v.m(k,x),insert(k,r,x),p=!0},p(k,[x]){k[2]&&k[3]?v?(v.p(k,x),x&12&&transition_in(v,1)):(v=create_if_block$a(k),v.c(),transition_in(v,1),v.m(r.parentNode,r)):v&&(group_outros(),transition_out(v,1,1,()=>{v=null}),check_outros())},i(k){p||(transition_in(v),p=!0)},o(k){transition_out(v),p=!1},d(k){v&&v.d(k),k&&detach(r)}}}function instance$g($,r,p){let v,k,x;component_subscribe($,UserData,O=>p(2,v=O)),component_subscribe($,previouslyLoaded,O=>p(4,k=O)),component_subscribe($,UserName,O=>p(3,x=O));let S=!1,L="";desktopClassNames.subscribe(O=>p(1,L=O)),showDesktop.subscribe(O=>p(0,S=O)),onMount(async()=>{if(k){restart$1(!1);return}set_store_value(previouslyLoaded,k=!0,k),assignDesktopListeners(),importDefault(),I(),startKeyListener(),importAutoLoaders(),setTimeout(()=>p(0,S=!0),250),startMessageCheckInterval(),checkForUpdates(),checkLinux()});function I(){WindowStore.set([]),isFullscreenWindow.set(!1),updateStores(),startOpened.set(!1),ErrorMessages.set([]),DevModeOverride.set(v.devmode)}return[S,L,v,x]}class Desktop extends SvelteComponent{constructor(r){super(),init(this,r,instance$g,create_fragment$i,safe_not_equal,{})}}const fts="",account=""+new URL("account-a7a14557.svg",import.meta.url).href,connect=""+new URL("connect-7fe4df73.svg",import.meta.url).href,finish=""+new URL("finish-b74612a1.svg",import.meta.url).href,license=""+new URL("license-c775bee3.svg",import.meta.url).href,mode=""+new URL("mode-b35b0f1d.svg",import.meta.url).href,wave=""+new URL("wave-1b0d0ba8.svg",import.meta.url).href;function create_fragment$h($){let r,p,v,k,x,S,L,I,O,F,U,R,N;return{c(){r=element("div"),p=element("img"),k=space(),x=element("h1"),x.textContent="How do you want to log in?",S=space(),L=element("p"),L.textContent="Are you a stranger?",I=space(),O=element("button"),O.textContent="As an existing user",F=space(),U=element("button"),U.textContent="As a new user",src_url_equal(p.src,v=mode)||attr(p,"src",v),attr(p,"alt","Login"),attr(L,"class","subtitle"),attr(r,"class","header centered"),attr(O,"class","fullwidth option centered"),attr(U,"class","fullwidth option centered")},m(j,q){insert(j,r,q),append(r,p),append(r,k),append(r,x),append(r,S),append(r,L),insert(j,I,q),insert(j,O,q),insert(j,F,q),insert(j,U,q),R||(N=[listen(O,"click",$[0]),listen(U,"click",$[1])],R=!0)},p:noop$1,i:noop$1,o:noop$1,d(j){j&&detach(r),j&&detach(I),j&&detach(O),j&&detach(F),j&&detach(U),R=!1,run_all(N)}}}function instance$f($){return[()=>applyFTSState("auth-existing"),()=>applyFTSState("auth-new")]}class AuthMode extends SvelteComponent{constructor(r){super(),init(this,r,instance$f,create_fragment$h,safe_not_equal,{})}}const connecttocloud="";function create_fragment$g($){let r,p,v,k,x,S,L,I,O,F,U,R;return{c(){r=element("div"),p=element("div"),v=element("button"),k=element("span"),k.textContent="arrow_back_ios_new",S=space(),L=element("div"),I=element("button"),O=element("span"),O.textContent="arrow_forward_ios",attr(k,"class","material-icons-round"),attr(v,"class","nopad"),v.disabled=x=$[0].back.disabled,attr(O,"class","material-icons-round"),attr(I,"class","nopad"),I.disabled=F=$[0].forw.disabled,attr(L,"class","alnr"),attr(r,"class","nav")},m(N,j){insert(N,r,j),append(r,p),append(p,v),append(v,k),append(r,S),append(r,L),append(L,I),append(I,O),U||(R=[listen(v,"click",$[1]),listen(I,"click",$[2])],U=!0)},p(N,[j]){j&1&&x!==(x=N[0].back.disabled)&&(v.disabled=x),j&1&&F!==(F=N[0].forw.disabled)&&(I.disabled=F)},i:noop$1,o:noop$1,d(N){N&&detach(r),U=!1,run_all(R)}}}function instance$e($,r,p){let{data:v}=r;function k(){applyFTSState(v.back.redir)}function x(){applyFTSState(v.forw.redir)}return $.$$set=S=>{"data"in S&&p(0,v=S.data)},[v,k,x]}class Nav extends SvelteComponent{constructor(r){super(),init(this,r,instance$e,create_fragment$g,safe_not_equal,{data:0})}}function create_else_block$3($){let r;return{c(){r=text("Connecting...")},m(p,v){insert(p,r,v)},d(p){p&&detach(r)}}}function create_if_block_1$3($){let r;return{c(){r=text("Connect to server")},m(p,v){insert(p,r,v)},d(p){p&&detach(r)}}}function create_if_block$9($){let r;return{c(){r=element("p"),r.innerHTML='<span class="material-icons-round">error</span>Connection to ArcAPI failed!',attr(r,"class","fullwidth centered connect-error")},m(p,v){insert(p,r,v)},d(p){p&&detach(r)}}}function create_fragment$f($){let r,p,v,k,x,S,L,I,O,F,U,R,N,j,q,H,Q,V;function K(Z,X){return Z[1]?create_else_block$3:create_if_block_1$3}let G=K($),Y=G($),J=$[2]&&create_if_block$9();return q=new Nav({props:{data:{back:{disabled:!1,redir:"license"},forw:{disabled:!0,redir:"authform"},prog:{max:4,val:3}}}}),{c(){r=element("div"),p=element("img"),k=space(),x=element("h1"),x.textContent="Time to get connected",S=space(),L=element("p"),L.textContent="Enter the hostname of your ArcAPI:",I=space(),O=element("input"),F=space(),U=element("button"),Y.c(),N=space(),J&&J.c(),j=space(),create_component(q.$$.fragment),src_url_equal(p.src,v=connect)||attr(p,"src",v),attr(p,"alt","Mode"),attr(L,"class","subtitle"),attr(r,"class","header centered"),attr(O,"class","fullwidth centered"),attr(O,"placeholder","Server name"),attr(U,"class","fullwidth option centered"),U.disabled=R=!$[0]||$[1]},m(Z,X){insert(Z,r,X),append(r,p),append(r,k),append(r,x),append(r,S),append(r,L),insert(Z,I,X),insert(Z,O,X),set_input_value(O,$[0]),insert(Z,F,X),insert(Z,U,X),Y.m(U,null),insert(Z,N,X),J&&J.m(Z,X),insert(Z,j,X),mount_component(q,Z,X),H=!0,Q||(V=[listen(O,"input",$[4]),listen(U,"click",$[3])],Q=!0)},p(Z,[X]){X&1&&O.value!==Z[0]&&set_input_value(O,Z[0]),G!==(G=K(Z))&&(Y.d(1),Y=G(Z),Y&&(Y.c(),Y.m(U,null))),(!H||X&3&&R!==(R=!Z[0]||Z[1]))&&(U.disabled=R),Z[2]?J||(J=create_if_block$9(),J.c(),J.m(j.parentNode,j)):J&&(J.d(1),J=null)},i(Z){H||(transition_in(q.$$.fragment,Z),H=!0)},o(Z){transition_out(q.$$.fragment,Z),H=!1},d(Z){Z&&detach(r),Z&&detach(I),Z&&detach(O),Z&&detach(F),Z&&detach(U),Y.d(),Z&&detach(N),J&&J.d(Z),Z&&detach(j),destroy_component(q,Z),Q=!1,run_all(V)}}}function instance$d($,r,p){let v="",k=!1,x=!1;async function S(){p(1,k=!0),p(2,x=!1),await testConnection(v)?(addServer(v),applyFTSState("authmode")):p(2,x=!0),p(1,k=!1)}function L(){v=this.value,p(0,v)}return[v,k,x,S,L]}class ConnectToCloud extends SvelteComponent{constructor(r){super(),init(this,r,instance$d,create_fragment$f,safe_not_equal,{})}}const ExistingAuth_svelte_svelte_type_style_lang="";function create_if_block$8($){let r,p,v,k,x,S,L,I,O,F,U,R,N,j,q,H,Q,V,K,G;const Y=[create_if_block_1$2,create_else_block$2],J=[];function Z(X,ee){return X[3]?0:1}return q=Z($),H=J[q]=Y[q]($),{c(){r=element("div"),p=element("img"),k=space(),x=element("h1"),x.textContent="Who are you?",S=space(),L=element("p"),L.textContent="Let's get you logged in",I=space(),O=element("input"),F=space(),U=element("div"),R=element("input"),N=space(),j=element("button"),H.c(),src_url_equal(p.src,v=account)||attr(p,"src",v),attr(p,"alt","Login"),attr(L,"class","subtitle"),attr(r,"class","header centered"),attr(O,"type","text"),attr(O,"class","fullwidth centered svelte-hmg2k4"),attr(O,"placeholder","Username"),toggle_class(O,"error",$[2]),attr(R,"type","password"),attr(R,"class","fullwidth centered svelte-hmg2k4"),attr(R,"placeholder","Password"),toggle_class(R,"error",$[2]),attr(j,"class","login material-icons-round svelte-hmg2k4"),j.disabled=Q=!$[0]||!$[1]||$[3],attr(U,"class","input-wrap svelte-hmg2k4")},m(X,ee){insert(X,r,ee),append(r,p),append(r,k),append(r,x),append(r,S),append(r,L),insert(X,I,ee),insert(X,O,ee),set_input_value(O,$[0]),insert(X,F,ee),insert(X,U,ee),append(U,R),set_input_value(R,$[1]),append(U,N),append(U,j),J[q].m(j,null),V=!0,K||(G=[listen(O,"input",$[6]),listen(R,"input",$[7]),listen(j,"click",$[5])],K=!0)},p(X,ee){ee&1&&O.value!==X[0]&&set_input_value(O,X[0]),(!V||ee&4)&&toggle_class(O,"error",X[2]),ee&2&&R.value!==X[1]&&set_input_value(R,X[1]),(!V||ee&4)&&toggle_class(R,"error",X[2]);let te=q;q=Z(X),q!==te&&(group_outros(),transition_out(J[te],1,1,()=>{J[te]=null}),check_outros(),H=J[q],H||(H=J[q]=Y[q](X),H.c()),transition_in(H,1),H.m(j,null)),(!V||ee&11&&Q!==(Q=!X[0]||!X[1]||X[3]))&&(j.disabled=Q)},i(X){V||(transition_in(H),V=!0)},o(X){transition_out(H),V=!1},d(X){X&&detach(r),X&&detach(I),X&&detach(O),X&&detach(F),X&&detach(U),J[q].d(),K=!1,run_all(G)}}}function create_else_block$2($){let r;return{c(){r=text("arrow_forward_ios")},m(p,v){insert(p,r,v)},i:noop$1,o:noop$1,d(p){p&&detach(r)}}}function create_if_block_1$2($){let r,p;return r=new Spinner({props:{height:16}}),{c(){create_component(r.$$.fragment)},m(v,k){mount_component(r,v,k),p=!0},i(v){p||(transition_in(r.$$.fragment,v),p=!0)},o(v){transition_out(r.$$.fragment,v),p=!1},d(v){destroy_component(r,v)}}}function create_fragment$e($){let r,p,v=!$[4]&&create_if_block$8($);return{c(){v&&v.c(),r=empty()},m(k,x){v&&v.m(k,x),insert(k,r,x),p=!0},p(k,[x]){k[4]?v&&(group_outros(),transition_out(v,1,1,()=>{v=null}),check_outros()):v?(v.p(k,x),x&16&&transition_in(v,1)):(v=create_if_block$8(k),v.c(),transition_in(v,1),v.m(r.parentNode,r))},i(k){p||(transition_in(v),p=!0)},o(k){transition_out(v),p=!1},d(k){v&&v.d(k),k&&detach(r)}}}function instance$c($,r,p){let v="",k="",x=!1,S=!1,L=!0;onMount(async()=>{p(4,L=!0);const U=await getUsers();Object.entries(U).length||applyFTSState("finish"),p(4,L=!1)});async function I(){p(3,S=!0);const U=generateCredToken({username:v,password:k});if(!await loginUsingCreds(U)){p(2,x=!0),p(3,S=!1),setTimeout(()=>{p(2,x=!1)},1e3);return}localStorage.setItem("arcos-remembered-token",U),applyFTSState("finish"),p(3,S=!1)}function O(){v=this.value,p(0,v)}function F(){k=this.value,p(1,k)}return[v,k,x,S,L,I,O,F]}class ExistingAuth extends SvelteComponent{constructor(r){super(),init(this,r,instance$c,create_fragment$e,safe_not_equal,{})}}function create_fragment$d($){let r,p,v,k,x,S,L,I,O,F,U,R,N,j,q;return{c(){r=element("div"),p=element("img"),k=space(),x=element("h1"),x.textContent="Thank you!",S=space(),L=element("p"),L.textContent="We greatly appreciate it.",I=space(),O=element("p"),O.textContent=`Thank you for checking out ArcOS! We hope you'll enjoy it as much as we love
  making it. Please restart ArcOS to use your ArcOS instance.`,F=space(),U=element("br"),R=space(),N=element("button"),N.textContent="Restart",src_url_equal(p.src,v=finish)||attr(p,"src",v),attr(p,"alt","Mode"),attr(L,"class","subtitle"),attr(r,"class","header centered"),attr(O,"class","fullwidth centered justified"),attr(N,"class","fullwidth option centered")},m(H,Q){insert(H,r,Q),append(r,p),append(r,k),append(r,x),append(r,S),append(r,L),insert(H,I,Q),insert(H,O,Q),insert(H,F,Q),insert(H,U,Q),insert(H,R,Q),insert(H,N,Q),j||(q=listen(N,"click",restart),j=!0)},p:noop$1,i:noop$1,o:noop$1,d(H){H&&detach(r),H&&detach(I),H&&detach(O),H&&detach(F),H&&detach(U),H&&detach(R),H&&detach(N),j=!1,q()}}}function restart(){location.reload()}class Finish extends SvelteComponent{constructor(r){super(),init(this,r,null,create_fragment$d,safe_not_equal,{})}}function create_fragment$c($){let r,p,v,k,x,S,L,I,O,F,U,R,N;return{c(){r=element("div"),p=element("img"),k=space(),x=element("h1"),x.textContent="License agreement",S=space(),L=element("p"),L.textContent="By using ArcOS, you agree to the GPLv3 License.",I=space(),O=element("button"),O.textContent="Open license",F=space(),U=element("button"),U.textContent="I Agree",src_url_equal(p.src,v=license)||attr(p,"src",v),attr(p,"alt","Mode"),attr(L,"class","subtitle"),attr(r,"class","header centered"),attr(O,"class","fullwidth option centered"),attr(U,"class","fullwidth option centered")},m(j,q){insert(j,r,q),append(r,p),append(r,k),append(r,x),append(r,S),append(r,L),insert(j,I,q),insert(j,O,q),insert(j,F,q),insert(j,U,q),R||(N=[listen(O,"click",openIt),listen(U,"click",$[0])],R=!0)},p:noop$1,i:noop$1,o:noop$1,d(j){j&&detach(r),j&&detach(I),j&&detach(O),j&&detach(F),j&&detach(U),R=!1,run_all(N)}}}function openIt(){window.open("https://www.gnu.org/licenses/gpl-3.0-standalone.html","_blank")}function instance$b($){return[()=>applyFTSState("connecttocloud")]}class License extends SvelteComponent{constructor(r){super(),init(this,r,instance$b,create_fragment$c,safe_not_equal,{})}}const NewAuth_svelte_svelte_type_style_lang="";function create_if_block$7($){let r,p,v,k,x,S,L,I,O,F,U,R,N,j,q,H,Q,V,K,G;const Y=[create_if_block_1$1,create_else_block$1],J=[];function Z(X,ee){return X[3]?0:1}return q=Z($),H=J[q]=Y[q]($),{c(){r=element("div"),p=element("img"),k=space(),x=element("h1"),x.textContent="Hello, stranger!",S=space(),L=element("p"),L.textContent="Let's get you an account",I=space(),O=element("input"),F=space(),U=element("div"),R=element("input"),N=space(),j=element("button"),H.c(),src_url_equal(p.src,v=account)||attr(p,"src",v),attr(p,"alt","Login"),attr(L,"class","subtitle"),attr(r,"class","header centered"),attr(O,"type","text"),attr(O,"class","fullwidth centered svelte-hmg2k4"),attr(O,"placeholder","Username"),toggle_class(O,"error",$[2]),attr(R,"type","password"),attr(R,"class","fullwidth centered svelte-hmg2k4"),attr(R,"placeholder","Password"),toggle_class(R,"error",$[2]),attr(j,"class","login material-icons-round svelte-hmg2k4"),j.disabled=Q=!$[0]||!$[1]||$[3],attr(U,"class","input-wrap svelte-hmg2k4")},m(X,ee){insert(X,r,ee),append(r,p),append(r,k),append(r,x),append(r,S),append(r,L),insert(X,I,ee),insert(X,O,ee),set_input_value(O,$[0]),insert(X,F,ee),insert(X,U,ee),append(U,R),set_input_value(R,$[1]),append(U,N),append(U,j),J[q].m(j,null),V=!0,K||(G=[listen(O,"input",$[6]),listen(R,"input",$[7]),listen(j,"click",$[5])],K=!0)},p(X,ee){ee&1&&O.value!==X[0]&&set_input_value(O,X[0]),(!V||ee&4)&&toggle_class(O,"error",X[2]),ee&2&&R.value!==X[1]&&set_input_value(R,X[1]),(!V||ee&4)&&toggle_class(R,"error",X[2]);let te=q;q=Z(X),q!==te&&(group_outros(),transition_out(J[te],1,1,()=>{J[te]=null}),check_outros(),H=J[q],H||(H=J[q]=Y[q](X),H.c()),transition_in(H,1),H.m(j,null)),(!V||ee&11&&Q!==(Q=!X[0]||!X[1]||X[3]))&&(j.disabled=Q)},i(X){V||(transition_in(H),V=!0)},o(X){transition_out(H),V=!1},d(X){X&&detach(r),X&&detach(I),X&&detach(O),X&&detach(F),X&&detach(U),J[q].d(),K=!1,run_all(G)}}}function create_else_block$1($){let r;return{c(){r=text("arrow_forward_ios")},m(p,v){insert(p,r,v)},i:noop$1,o:noop$1,d(p){p&&detach(r)}}}function create_if_block_1$1($){let r,p;return r=new Spinner({props:{height:16}}),{c(){create_component(r.$$.fragment)},m(v,k){mount_component(r,v,k),p=!0},i(v){p||(transition_in(r.$$.fragment,v),p=!0)},o(v){transition_out(r.$$.fragment,v),p=!1},d(v){destroy_component(r,v)}}}function create_fragment$b($){let r,p,v=!$[4]&&create_if_block$7($);return{c(){v&&v.c(),r=empty()},m(k,x){v&&v.m(k,x),insert(k,r,x),p=!0},p(k,[x]){k[4]?v&&(group_outros(),transition_out(v,1,1,()=>{v=null}),check_outros()):v?(v.p(k,x),x&16&&transition_in(v,1)):(v=create_if_block$7(k),v.c(),transition_in(v,1),v.m(r.parentNode,r))},i(k){p||(transition_in(v),p=!0)},o(k){transition_out(v),p=!1},d(k){v&&v.d(k),k&&detach(r)}}}function instance$a($,r,p){let v;component_subscribe($,ConnectedServer,R=>p(8,v=R));let k="",x="",S=!1,L=!1,I=!0;onMount(async()=>{p(4,I=!0);const R=await getUsers();Object.entries(R).length||applyFTSState("finish"),p(4,I=!1)});async function O(R){if(R&&R.preventDefault(),!k||!x||L)return!1;if(p(3,L=!0),!(await apiCall(v,"user/create",{},null,{username:k,password:x})).valid){p(2,S=!0),p(3,L=!1),setTimeout(()=>{p(2,S=!1)},1e3);return}const j=await loginUsingCreds(generateCredToken({username:k,password:x}));return j?(UserData.set(j),UserName.set(k),applyFTSState("finish"),!1):p(4,I=!1)}function F(){k=this.value,p(0,k)}function U(){x=this.value,p(1,x)}return[k,x,S,L,I,O,F,U]}class NewAuth extends SvelteComponent{constructor(r){super(),init(this,r,instance$a,create_fragment$b,safe_not_equal,{})}}const welcome="";function create_fragment$a($){let r,p,v,k,x,S,L,I,O,F,U,R;return{c(){r=element("div"),p=element("div"),v=element("img"),x=space(),S=element("h1"),S.textContent="Welcome",L=space(),I=element("p"),I.textContent="Time to set-up ArcOS.",O=space(),F=element("button"),F.textContent="Let's begin",src_url_equal(v.src,k=logo$c)||attr(v,"src",k),attr(v,"alt","ArcOS"),attr(v,"class","logo"),attr(S,"class","center-header"),attr(I,"class","center"),attr(r,"class","center-flex")},m(N,j){insert(N,r,j),append(r,p),append(p,v),append(p,x),append(p,S),append(p,L),append(p,I),append(p,O),append(p,F),U||(R=listen(F,"click",$[0]),U=!0)},p:noop$1,i:noop$1,o:noop$1,d(N){N&&detach(r),U=!1,R()}}}function instance$9($){return[()=>applyFTSState("license")]}class Welcome extends SvelteComponent{constructor(r){super(),init(this,r,instance$9,create_fragment$a,safe_not_equal,{})}}const FTSStates=new Map([["welcome",{name:"Welcome",content:Welcome,attribs:{},key:"welcome",image:wave}],["license",{name:"License",content:License,attribs:{},key:"license",image:license}],["connecttocloud",{name:"Connect to ArcOS",content:ConnectToCloud,attribs:{},key:"connecttocloud",image:connect}],["authmode",{name:"User Mode",content:AuthMode,attribs:{},key:"authmode",image:mode}],["auth-existing",{name:"Existing User",content:ExistingAuth,attribs:{},key:"auth-existing",image:account}],["auth-new",{name:"Create Account",content:NewAuth,attribs:{},key:"auth-new",image:account}],["finish",{name:"Finish",content:Finish,attribs:{},key:"finish",image:finish}]]),CurrentFTSState=writable();function applyFTSState($){if(FTSStates.has($)){Log({level:LogLevel.info,source:"applyFTSState",msg:`Applying state ${$}`});const r=FTSStates.get($);CurrentFTSState.set(r);return}InvalidStateBugrep("FirstTimeSetup",$)}function create_else_block($){let r,p,v;return p=new Spinner({props:{height:60}}),{c(){r=element("div"),create_component(p.$$.fragment),attr(r,"class","center-absolute centertext")},m(k,x){insert(k,r,x),mount_component(p,r,null),v=!0},p:noop$1,i(k){v||(transition_in(p.$$.fragment,k),v=!0)},o(k){transition_out(p.$$.fragment,k),v=!1},d(k){k&&detach(r),destroy_component(p)}}}function create_if_block$6($){let r,p,v,k;var x=$[1].content;function S(L){return{}}return x&&(p=construct_svelte_component(x,S())),{c(){r=element("div"),p&&create_component(p.$$.fragment),attr(r,"class",v="page "+$[0])},m(L,I){insert(L,r,I),p&&mount_component(p,r,null),k=!0},p(L,I){if(I&2&&x!==(x=L[1].content)){if(p){group_outros();const O=p;transition_out(O.$$.fragment,1,0,()=>{destroy_component(O,1)}),check_outros()}x?(p=construct_svelte_component(x,S()),create_component(p.$$.fragment),transition_in(p.$$.fragment,1),mount_component(p,r,null)):p=null}(!k||I&1&&v!==(v="page "+L[0]))&&attr(r,"class",v)},i(L){k||(p&&transition_in(p.$$.fragment,L),k=!0)},o(L){p&&transition_out(p.$$.fragment,L),k=!1},d(L){L&&detach(r),p&&destroy_component(p)}}}function create_fragment$9($){let r,p,v,k,x;const S=[create_if_block$6,create_else_block],L=[];function I(O,F){return O[1]?0:1}return p=I($),v=L[p]=S[p]($),{c(){r=element("div"),v.c(),attr(r,"class",k="right "+($[1]?$[1].key:""))},m(O,F){insert(O,r,F),L[p].m(r,null),x=!0},p(O,[F]){let U=p;p=I(O),p===U?L[p].p(O,F):(group_outros(),transition_out(L[U],1,1,()=>{L[U]=null}),check_outros(),v=L[p],v?v.p(O,F):(v=L[p]=S[p](O),v.c()),transition_in(v,1),v.m(r,null)),(!x||F&2&&k!==(k="right "+(O[1]?O[1].key:"")))&&attr(r,"class",k)},i(O){x||(transition_in(v),x=!0)},o(O){transition_out(v),x=!1},d(O){O&&detach(r),L[p].d()}}}function instance$8($,r,p){let v;component_subscribe($,CurrentFTSState,S=>p(1,v=S));let k="",x=[];return CurrentFTSState.subscribe(S=>{S&&p(0,k=S.name.split(" ")[0].toLowerCase())}),onMount(()=>{x=[];for(const S of FTSStates)x.push(S[0])}),[k,v]}class Right extends SvelteComponent{constructor(r){super(),init(this,r,instance$8,create_fragment$9,safe_not_equal,{})}}function get_each_context$1($,r,p){const v=$.slice();return v[2]=r[p][0],v[3]=r[p][1],v}function create_each_block$1($){let r,p,v,k,x=$[3].name+"",S,L;return{c(){r=element("div"),p=element("img"),k=space(),S=text(x),L=space(),src_url_equal(p.src,v=$[3].image)||attr(p,"src",v),attr(p,"alt",$[3].name),attr(r,"class","state"),toggle_class(r,"activated",$[1]&&$[1].key==$[2])},m(I,O){insert(I,r,O),append(r,p),append(r,k),append(r,S),append(r,L)},p(I,O){O&2&&toggle_class(r,"activated",I[1]&&I[1].key==I[2])},d(I){I&&detach(r)}}}function create_fragment$8($){let r,p,v,k,x,S,L=[...FTSStates],I=[];for(let O=0;O<L.length;O+=1)I[O]=create_each_block$1(get_each_context$1($,L,O));return x=new Right({}),{c(){r=element("div"),p=element("div"),v=element("div");for(let O=0;O<I.length;O+=1)I[O].c();k=space(),create_component(x.$$.fragment),attr(v,"class","left"),attr(p,"class","center-absolute"),attr(r,"class","fts fullscreen"),toggle_class(r,"show",$[0])},m(O,F){insert(O,r,F),append(r,p),append(p,v);for(let U=0;U<I.length;U+=1)I[U]&&I[U].m(v,null);append(p,k),mount_component(x,p,null),S=!0},p(O,[F]){if(F&2){L=[...FTSStates];let U;for(U=0;U<L.length;U+=1){const R=get_each_context$1(O,L,U);I[U]?I[U].p(R,F):(I[U]=create_each_block$1(R),I[U].c(),I[U].m(v,null))}for(;U<I.length;U+=1)I[U].d(1);I.length=L.length}(!S||F&1)&&toggle_class(r,"show",O[0])},i(O){S||(transition_in(x.$$.fragment,O),S=!0)},o(O){transition_out(x.$$.fragment,O),S=!1},d(O){O&&detach(r),destroy_each(I,O),destroy_component(x)}}}function instance$7($,r,p){let v;component_subscribe($,CurrentFTSState,x=>p(1,v=x));let k=!1;return onMount(()=>{setTimeout(()=>p(0,k=!0),500),setTimeout(()=>applyFTSState("welcome"),1e3)}),[k,v]}class FirstTimeSetup extends SvelteComponent{constructor(r){super(),init(this,r,instance$7,create_fragment$8,safe_not_equal,{})}}const login="";function create_if_block$5($){let r;return{c(){r=element("div"),attr(r,"class","background fullscreen"),toggle_class(r,"zoom",$[0].attribs.darken)},m(p,v){insert(p,r,v)},p(p,v){v&1&&toggle_class(r,"zoom",p[0].attribs.darken)},d(p){p&&detach(r)}}}function create_fragment$7($){let r,p=$[0]&&create_if_block$5($);return{c(){p&&p.c(),r=empty()},m(v,k){p&&p.m(v,k),insert(v,r,k)},p(v,[k]){v[0]?p?p.p(v,k):(p=create_if_block$5(v),p.c(),p.m(r.parentNode,r)):p&&(p.d(1),p=null)},i:noop$1,o:noop$1,d(v){p&&p.d(v),v&&detach(r)}}}function instance$6($,r,p){let v;return component_subscribe($,CurrentLoginState,k=>p(0,v=k)),[v]}class Background extends SvelteComponent{constructor(r){super(),init(this,r,instance$6,create_fragment$7,safe_not_equal,{})}}function create_if_block$4($){let r,p,v;var k=$[0].content;function x(S){return{}}return k&&(p=construct_svelte_component(k,x())),{c(){r=element("div"),p&&create_component(p.$$.fragment),attr(r,"class","center-absolute")},m(S,L){insert(S,r,L),p&&mount_component(p,r,null),v=!0},p(S,L){if(L&1&&k!==(k=S[0].content)){if(p){group_outros();const I=p;transition_out(I.$$.fragment,1,0,()=>{destroy_component(I,1)}),check_outros()}k?(p=construct_svelte_component(k,x()),create_component(p.$$.fragment),transition_in(p.$$.fragment,1),mount_component(p,r,null)):p=null}},i(S){v||(p&&transition_in(p.$$.fragment,S),v=!0)},o(S){p&&transition_out(p.$$.fragment,S),v=!1},d(S){S&&detach(r),p&&destroy_component(p)}}}function create_fragment$6($){let r,p,v=$[0]&&create_if_block$4($);return{c(){v&&v.c(),r=empty()},m(k,x){v&&v.m(k,x),insert(k,r,x),p=!0},p(k,[x]){k[0]?v?(v.p(k,x),x&1&&transition_in(v,1)):(v=create_if_block$4(k),v.c(),transition_in(v,1),v.m(r.parentNode,r)):v&&(group_outros(),transition_out(v,1,1,()=>{v=null}),check_outros())},i(k){p||(transition_in(v),p=!0)},o(k){transition_out(v),p=!1},d(k){v&&v.d(k),k&&detach(r)}}}function instance$5($,r,p){let v;return component_subscribe($,CurrentLoginState,k=>p(0,v=k)),[v]}class Center extends SvelteComponent{constructor(r){super(),init(this,r,instance$5,create_fragment$6,safe_not_equal,{})}}function create_if_block$3($){let r;return{c(){r=element("div"),attr(r,"class","fullscreen darken"),toggle_class(r,"show",$[0].attribs.darken)},m(p,v){insert(p,r,v)},p(p,v){v&1&&toggle_class(r,"show",p[0].attribs.darken)},d(p){p&&detach(r)}}}function create_fragment$5($){let r,p=$[0]&&create_if_block$3($);return{c(){p&&p.c(),r=empty()},m(v,k){p&&p.m(v,k),insert(v,r,k)},p(v,[k]){v[0]?p?p.p(v,k):(p=create_if_block$3(v),p.c(),p.m(r.parentNode,r)):p&&(p.d(1),p=null)},i:noop$1,o:noop$1,d(v){p&&p.d(v),v&&detach(r)}}}function instance$4($,r,p){let v;return component_subscribe($,CurrentLoginState,k=>p(0,v=k)),[v]}class Darken extends SvelteComponent{constructor(r){super(),init(this,r,instance$4,create_fragment$5,safe_not_equal,{})}}function get_each_context($,r,p){const v=$.slice();return v[9]=r[p],v}function create_if_block$2($){let r,p,v,k,x,S,L,I,O,F,U,R,N,j=$[3],q=[];for(let H=0;H<j.length;H+=1)q[H]=create_each_block(get_each_context($,j,H));return{c(){r=element("div"),p=element("select");for(let H=0;H<q.length;H+=1)q[H].c();v=element("option"),v.textContent="Add Server...",k=space(),x=element("div"),S=text($[0]),L=space(),I=element("div"),O=element("button"),O.innerHTML='<span class="material-icons-round">power_settings_new</span>',F=space(),U=element("button"),U.innerHTML='<span class="material-icons-round">restart_alt</span>',v.__value="$new",v.value=v.__value,attr(p,"class","host"),$[1]===void 0&&add_render_callback(()=>$[8].call(p)),attr(x,"class","clock"),attr(O,"class","nopad"),attr(U,"class","nopad"),attr(I,"class","right"),attr(r,"class","topbar"),toggle_class(r,"show",($[4].attribs.topbar||!1)&&$[2])},m(H,Q){insert(H,r,Q),append(r,p);for(let V=0;V<q.length;V+=1)q[V]&&q[V].m(p,null);append(p,v),select_option(p,$[1],!0),append(r,k),append(r,x),append(x,S),append(r,L),append(r,I),append(I,O),append(I,F),append(I,U),R||(N=[listen(p,"change",$[7]),listen(p,"change",$[8]),listen(O,"click",$[5]),listen(U,"click",$[6])],R=!0)},p(H,Q){if(Q&8){j=H[3];let V;for(V=0;V<j.length;V+=1){const K=get_each_context(H,j,V);q[V]?q[V].p(K,Q):(q[V]=create_each_block(K),q[V].c(),q[V].m(p,v))}for(;V<q.length;V+=1)q[V].d(1);q.length=j.length}Q&10&&select_option(p,H[1]),Q&1&&set_data(S,H[0]),Q&20&&toggle_class(r,"show",(H[4].attribs.topbar||!1)&&H[2])},d(H){H&&detach(r),destroy_each(q,H),R=!1,run_all(N)}}}function create_each_block($){let r,p=$[9]+"",v,k;return{c(){r=element("option"),v=text(p),r.__value=k=$[9],r.value=r.__value},m(x,S){insert(x,r,S),append(r,v)},p(x,S){S&8&&p!==(p=x[9]+"")&&set_data(v,p),S&8&&k!==(k=x[9])&&(r.__value=k,r.value=r.__value)},d(x){x&&detach(r)}}}function create_fragment$4($){let r,p=$[4]&&create_if_block$2($);return{c(){p&&p.c(),r=empty()},m(v,k){p&&p.m(v,k),insert(v,r,k)},p(v,[k]){v[4]?p?p.p(v,k):(p=create_if_block$2(v),p.c(),p.m(r.parentNode,r)):p&&(p.d(1),p=null)},i:noop$1,o:noop$1,d(v){p&&p.d(v),v&&detach(r)}}}function instance$3($,r,p){let v;component_subscribe($,CurrentLoginState,R=>p(4,v=R));let k="",x=getServer(),S=!1,L=[];onMount(()=>{setInterval(()=>p(0,k=dayjs().format("HH:mm")),500),setTimeout(()=>p(2,S=!0),750),p(3,L=getAllServers())});function I(){loginUsername.set("ArcOS"),applyLoginState("shutdown")}function O(){loginUsername.set("ArcOS"),applyLoginState("restart")}function F(){setTimeout(()=>{if(x=="$new")return applyState("fts");localStorage.setItem("arcos-current-server",x),O()})}function U(){x=select_value(this),p(1,x),p(3,L)}return[k,x,S,L,v,I,O,F,U]}class Topbar extends SvelteComponent{constructor(r){super(),init(this,r,instance$3,create_fragment$4,safe_not_equal,{})}}function create_fragment$3($){let r,p,v,k,x,S,L,I,O;return p=new Background({}),k=new Darken({}),S=new Topbar({}),I=new Center({}),{c(){r=element("div"),create_component(p.$$.fragment),v=space(),create_component(k.$$.fragment),x=space(),create_component(S.$$.fragment),L=space(),create_component(I.$$.fragment),attr(r,"class","login fullscreen"),toggle_class(r,"show",$[0])},m(F,U){insert(F,r,U),mount_component(p,r,null),append(r,v),mount_component(k,r,null),append(r,x),mount_component(S,r,null),append(r,L),mount_component(I,r,null),O=!0},p(F,[U]){(!O||U&1)&&toggle_class(r,"show",F[0])},i(F){O||(transition_in(p.$$.fragment,F),transition_in(k.$$.fragment,F),transition_in(S.$$.fragment,F),transition_in(I.$$.fragment,F),O=!0)},o(F){transition_out(p.$$.fragment,F),transition_out(k.$$.fragment,F),transition_out(S.$$.fragment,F),transition_out(I.$$.fragment,F),O=!1},d(F){F&&detach(r),destroy_component(p),destroy_component(k),destroy_component(S),destroy_component(I)}}}function instance$2($,r,p){let v=!1;return onMount(async()=>{p(0,v=!1),await loginOnMount(),p(0,v=!0)}),[v]}class Login extends SvelteComponent{constructor(r){super(),init(this,r,instance$2,create_fragment$3,safe_not_equal,{})}}const safetoturnoff=""+new URL("safetoturnoff-95895ce6.png",import.meta.url).href,TurnedOff_svelte_svelte_type_style_lang="";function create_fragment$2($){let r,p,v;return{c(){r=element("div"),p=element("img"),src_url_equal(p.src,v=safetoturnoff)||attr(p,"src",v),attr(p,"alt","It's now safe to turn off your computer."),attr(p,"class","svelte-1kzg8gn"),attr(r,"class","svelte-1kzg8gn")},m(k,x){insert(k,r,x),append(r,p)},p:noop$1,i:noop$1,o:noop$1,d(k){k&&detach(r)}}}class TurnedOff extends SvelteComponent{constructor(r){super(),init(this,r,null,create_fragment$2,safe_not_equal,{})}}const States=new Map([["boot",{name:"Booting...",content:Boot,attribs:{},key:"boot"}],["login",{name:"Login",content:Login,attribs:{},key:"login"}],["fts",{name:"First Time Setup",content:FirstTimeSetup,attribs:{},key:"fts"}],["desktop",{name:"Desktop",content:Desktop,attribs:{},key:"desktop"}],["logoff",{name:"Logoff",content:Login,attribs:{},onload:()=>{applyLoginState("logoff"),loginUsername.set(null)},key:"logoff"}],["restart",{name:"Restart",content:Login,attribs:{},onload:()=>{applyLoginState("restart"),loginUsername.set(null)},key:"restart"}],["shutdown",{name:"Shutdown",content:Login,attribs:{},onload:()=>{applyLoginState("shutdown"),loginUsername.set(null)},key:"shutdown"}],["arcterm",{name:"ArcTerm",content:ArcTerm_1,attribs:{},key:"arcterm"}],["blank",{name:"",content:Blank,attribs:{},key:"blank"}],["turnedoff",{name:"Turned off",content:TurnedOff,attribs:{},key:"turnedoff",async onload(){await b.close()}}]]),CurrentState=writable(States[0]);function applyState($){if(States.has($)){Log({level:LogLevel.info,source:"state/main.ts: applyState",msg:`Applying state ${$}`});const r=States.get($);r.onload&&r.onload(),CurrentState.set(r);const p=`ArcOS | ${r.name}`;document.title=p;try{b.setTitle(r.name)}catch{}$!="desktop"&&logoffToken();return}InvalidStateBugrep("ArcOS State Switcher",$)}const BugReportData=writable();function InvalidStateBugrep($,r){BugReportData.set([!0,{icon:"broken_image",title:"Broken page",message:"ArcOS tried to open a page or location that doesn't exist.<br>This session can't continue. You can choose to restart.",button:{action:()=>applyState("boot"),caption:"Restart"},source:$,details:`applyState for ${$}: Can't apply a non-existent state '${r}'.`}]),Log({level:LogLevel.warn,source:`applyState for ${$}`,msg:`Can't apply a non-existent state '${r}'.`})}function create_if_block$1($){let r,p,v,k,x,S,L,I,O=$[2].icon+"",F,U=$[2].title+"",R,N,j,q=$[2].message+"",H,Q,V,K,G=$[2].button&&create_if_block_2($),Y=$[2].details&&create_if_block_1($);return{c(){r=element("div"),p=element("div"),v=element("div"),k=element("img"),S=space(),L=element("h3"),I=element("span"),F=text(O),R=text(U),N=space(),j=element("p"),H=space(),G&&G.c(),Q=space(),V=element("div"),Y&&Y.c(),attr(k,"class","logo"),src_url_equal(k.src,x=logo$c)||attr(k,"src",x),attr(k,"alt","ArcOS"),attr(I,"class","material-icons-round"),attr(p,"class","content"),attr(V,"class","details"),attr(r,"class",K="bugrep fullscreen "+$[1]),set_style(r,"z-index",$[3]*10)},m(J,Z){insert(J,r,Z),append(r,p),append(p,v),append(v,k),append(v,S),append(v,L),append(L,I),append(I,F),append(L,R),append(v,N),append(v,j),j.innerHTML=q,append(r,H),G&&G.m(r,null),append(r,Q),append(r,V),Y&&Y.m(V,null)},p(J,Z){Z&4&&O!==(O=J[2].icon+"")&&set_data(F,O),Z&4&&U!==(U=J[2].title+"")&&set_data(R,U),Z&4&&q!==(q=J[2].message+"")&&(j.innerHTML=q),J[2].button?G?G.p(J,Z):(G=create_if_block_2(J),G.c(),G.m(r,Q)):G&&(G.d(1),G=null),J[2].details?Y?Y.p(J,Z):(Y=create_if_block_1(J),Y.c(),Y.m(V,null)):Y&&(Y.d(1),Y=null),Z&2&&K!==(K="bugrep fullscreen "+J[1])&&attr(r,"class",K),Z&8&&set_style(r,"z-index",J[3]*10)},d(J){J&&detach(r),G&&G.d(),Y&&Y.d()}}}function create_if_block_2($){let r,p=$[2].button.caption+"",v,k,x;return{c(){r=element("button"),v=text(p)},m(S,L){insert(S,r,L),append(r,v),k||(x=listen(r,"click",$[4]),k=!0)},p(S,L){L&4&&p!==(p=S[2].button.caption+"")&&set_data(v,p)},d(S){S&&detach(r),k=!1,x()}}}function create_if_block_1($){let r,p,v,k=($[2].source||"<anonymous>")+"",x,S,L,I,O,F,U=($[2].details||"<anonymous>")+"",R;return{c(){r=element("p"),p=element("span"),p.textContent="Source :",v=space(),x=text(k),S=space(),L=element("p"),I=element("span"),I.textContent="Details:",O=space(),F=element("code"),R=text(U),attr(p,"class","title"),attr(I,"class","title")},m(N,j){insert(N,r,j),append(r,p),append(r,v),append(r,x),insert(N,S,j),insert(N,L,j),append(L,I),append(L,O),append(L,F),append(F,R)},p(N,j){j&4&&k!==(k=(N[2].source||"<anonymous>")+"")&&set_data(x,k),j&4&&U!==(U=(N[2].details||"<anonymous>")+"")&&set_data(R,U)},d(N){N&&detach(r),N&&detach(S),N&&detach(L)}}}function create_fragment$1($){let r,p=$[0]&&create_if_block$1($);return{c(){p&&p.c(),r=empty()},m(v,k){p&&p.m(v,k),insert(v,r,k)},p(v,[k]){v[0]?p?p.p(v,k):(p=create_if_block$1(v),p.c(),p.m(r.parentNode,r)):p&&(p.d(1),p=null)},i:noop$1,o:noop$1,d(v){p&&p.d(v),v&&detach(r)}}}function instance$1($,r,p){let v;component_subscribe($,maxZIndex,I=>p(3,v=I));let k=!1,x="",S;function L(){S.button.action(),BugReportData.set([!1,null])}return BugReportData.subscribe(I=>{I&&(p(0,k=I[0]),p(2,S=I[1]),p(1,x=k?"show":""))}),[k,x,S,v,L]}class BugReport extends SvelteComponent{constructor(r){super(),init(this,r,instance$1,create_fragment$1,safe_not_equal,{})}}const dmTriggers=[WindowStore,UserName,loginUsername,UserData,ConnectedServer,CurrentFTSState,CurrentLoginState,NotificationStore,currentSettingsPage,ErrorWindowStore,FileBrowserSelectedFilename,FileBrowserCurrentDir];function assignDevMutators(){for(let $=0;$<dmTriggers.length;$++)dmTriggers[$].subscribe(updateDevModeProps)}function create_if_block($){let r,p,v;var k=$[1].content;function x(S){return{}}return k&&(r=construct_svelte_component(k,x())),{c(){r&&create_component(r.$$.fragment),p=empty()},m(S,L){r&&mount_component(r,S,L),insert(S,p,L),v=!0},p(S,L){if(L&2&&k!==(k=S[1].content)){if(r){group_outros();const I=r;transition_out(I.$$.fragment,1,0,()=>{destroy_component(I,1)}),check_outros()}k?(r=construct_svelte_component(k,x()),create_component(r.$$.fragment),transition_in(r.$$.fragment,1),mount_component(r,p.parentNode,p)):r=null}},i(S){v||(r&&transition_in(r.$$.fragment,S),v=!0)},o(S){r&&transition_out(r.$$.fragment,S),v=!1},d(S){S&&detach(p),r&&destroy_component(r,S)}}}function create_fragment($){let r,p,v,k,x=$[1]&&create_if_block($);return v=new BugReport({}),{c(){r=element("div"),x&&x.c(),p=space(),create_component(v.$$.fragment),attr(r,"class","app fullscreen"),toggle_class(r,"floating",$[0])},m(S,L){insert(S,r,L),x&&x.m(r,null),append(r,p),mount_component(v,r,null),k=!0},p(S,[L]){S[1]?x?(x.p(S,L),L&2&&transition_in(x,1)):(x=create_if_block(S),x.c(),transition_in(x,1),x.m(r,p)):x&&(group_outros(),transition_out(x,1,1,()=>{x=null}),check_outros()),(!k||L&1)&&toggle_class(r,"floating",S[0])},i(S){k||(transition_in(x),transition_in(v.$$.fragment,S),k=!0)},o(S){transition_out(x),transition_out(v.$$.fragment,S),k=!1},d(S){S&&detach(r),x&&x.d(),destroy_component(v)}}}function instance($,r,p){let v;component_subscribe($,CurrentState,x=>p(1,v=x));let k=!1;return DevModeOverride.subscribe(x=>{x||p(0,k=!1)}),applyState("boot"),onMount(()=>{dmMutators.unshift({caption:"CurrentState",store:CurrentState,value:"key",fallback:"unknown"}),dmTriggers.unshift(CurrentState),updateDevModeProps(),assignDevMutators()}),console.warn=(x,...S)=>Log({source:"Console",msg:x+S.join(" "),level:LogLevel.warn}),console.error=(x,...S)=>Log({source:"Console",msg:x+S.join(" "),level:LogLevel.error}),window.addEventListener("beforeunload",logoffToken),[k,v]}class App extends SvelteComponent{constructor(r){super(),init(this,r,instance,create_fragment,safe_not_equal,{})}}const observer=new MutationObserver(mutationCallback);function attachDisableAnchorRedirection(){const $=document.querySelectorAll("a");for(let r=0;r<$.length;r++)$[r].addEventListener("click",p=>p.preventDefault())}function mutationCallback($){for(let r=0;r<$.length;r++)$[r].type==="childList"&&attachDisableAnchorRedirection()}function preventAnchorRedirects(){observer.observe(document.body,{childList:!0,subtree:!0})}migrateToMulti();preventAnchorRedirects();new App({target:document.getElementById("app")});document.addEventListener("contextmenu",$=>$.preventDefault());define();
